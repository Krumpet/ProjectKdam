webpackJsonp([1],{"+3/4":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("TToO"),r=function(t){function e(e){t.call(this),this.scheduler=e}return Object(i.b)(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(n("YaPU").a)},"+CnV":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){var e,i=n("AMGY").a.Symbol;return"function"==typeof i?i.observable?e=i.observable:(e=i("observable"),i.observable=e):e="@@observable",e}()},"/iUD":function(t,e,n){"use strict";e.a=function(t){return"function"==typeof t}},"/nXB":function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,a=null,l=t[t.length-1];return Object(o.a)(l)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof l&&(n=t.pop()),null===a&&1===t.length&&t[0]instanceof i.a?t[0]:Object(s.a)(n)(new r.a(t,a))};var i=n("YaPU"),r=n("Veqx"),o=n("1Q68"),s=n("8D5t")},0:function(t,e,n){t.exports=n("x35b")},"0P3J":function(t,e,n){"use strict";e.a=function(){return function(t){return t.lift(new o(t))}};var i=n("TToO"),r=n("OVmG"),o=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new s(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r},t}(),s=function(t){function e(e,n){t.call(this,e),this.connectable=n}return Object(i.b)(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null},e}(r.a)},"1Bqh":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("TToO"),r=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return Object(i.b)(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n("VwZZ").a)},"1Q68":function(t,e,n){"use strict";e.a=function(t){return t&&"function"==typeof t.schedule}},"3a3m":function(t,e,n){"use strict";e.a=function(){return function(t){return Object(r.a)()(Object(i.a)(s)(t))}};var i=n("Jwyl"),r=n("0P3J"),o=n("g5jc");function s(){return new o.a}},"8D5t":function(t,e,n){"use strict";e.a=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(i.a)(r.a,null,t)};var i=n("Qnch"),r=n("lAP5")},AMGY:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});var i="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=i||"undefined"!=typeof t&&t||r}).call(e,n("DuR2"))},BX3T:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=Array.isArray||function(t){return t&&"number"==typeof t.length}},DuR2:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},GK6M:function(t,e,n){"use strict";e.a=function(t){return i=t,o};var i,r=n("fKB6");function o(){try{return i.apply(this,arguments)}catch(t){return r.a.e=t,r.a}}},Jnfr:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="Jnfr"},Jwyl:function(t,e,n){"use strict";var i=n("TToO"),r=n("g5jc"),o=n("YaPU"),s=(n("OVmG"),n("VwZZ")),a=n("0P3J"),l=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return Object(i.b)(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.a).add(this.source.subscribe(new u(this.getSubject(),this))),t.closed?(this._connection=null,t=s.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return Object(a.a)()(this)},e}(o.a).prototype,h={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}},u=function(t){function e(e,n){t.call(this,e),this.connectable=n}return Object(i.b)(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(r.b);e.a=function(t,e){return function(n){var i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new c(i,e));var r=Object.create(n,h);return r.source=n,r.subjectFactory=i,r}};var c=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,i=this.subjectFactory(),r=n(i).subscribe(t);return r.add(e.subscribe(i)),r},t}()},N4j0:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t&&"number"==typeof t.length}},OVmG:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("TToO"),r=n("/iUD"),o=n("VwZZ"),s=n("t7NR"),a=n("tLDX"),l=function(t){function e(n,i,r){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.a;break;case 1:if(!n){this.destination=s.a;break}if("object"==typeof n){n instanceof e?(this.syncErrorThrowable=n.syncErrorThrowable,this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new h(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new h(this,n,i,r)}}return Object(i.b)(e,t),e.prototype[a.a]=function(){return this},e.create=function(t,n,i){var r=new e(t,n,i);return r.syncErrorThrowable=!1,r},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(o.a),h=function(t){function e(e,n,i,o){var a;t.call(this),this._parentSubscriber=e;var l=this;Object(r.a)(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==s.a&&(l=Object.create(n),Object(r.a)(l.unsubscribe)&&this.add(l.unsubscribe.bind(l)),l.unsubscribe=this.unsubscribe.bind(this))),this._context=l,this._next=a,this._error=i,this._complete=o}return Object(i.b)(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},PIsA:function(t,e,n){"use strict";var i=n("AMGY"),r=n("N4j0"),o=n("cQXm"),s=n("dgOU"),a=n("YaPU"),l=n("etqZ"),h=n("TToO"),u=function(t){function e(e,n,i){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=i,this.index=0}return Object(h.b)(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("OVmG").a),c=n("+CnV");e.a=function(t,e,n,h){var f=new u(t,n,h);if(f.closed)return null;if(e instanceof a.a)return e._isScalar?(f.next(e.value),f.complete(),null):(f.syncErrorThrowable=!0,e.subscribe(f));if(Object(r.a)(e)){for(var p=0,d=e.length;p<d&&!f.closed;p++)f.next(e[p]);f.closed||f.complete()}else{if(Object(o.a)(e))return e.then(function(t){f.closed||(f.next(t),f.complete())},function(t){return f.error(t)}).then(null,function(t){i.a.setTimeout(function(){throw t})}),f;if(e&&"function"==typeof e[l.a])for(var y=e[l.a]();;){var v=y.next();if(v.done){f.complete();break}if(f.next(v.value),f.closed)break}else if(e&&"function"==typeof e[c.a]){var g=e[c.a]();if("function"==typeof g.subscribe)return g.subscribe(new u(t,n,h));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var m=Object(s.a)(e)?"an invalid object":"'"+e+"'";f.error(new TypeError("You provided "+m+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}}return null}},Qnch:function(t,e,n){"use strict";e.a=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(i){return"number"==typeof e&&(n=e,e=null),i.lift(new s(t,e,n))}};var i=n("TToO"),r=n("PIsA"),o=n("tZ2B"),s=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.resultSelector,this.concurrent))},t}(),a=function(t){function e(e,n,i,r){void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=i,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return Object(i.b)(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(Object(r.a)(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,r){this.resultSelector?this._notifyResultSelector(t,e,n,i):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,i){var r;try{r=this.resultSelector(t,e,n,i)}catch(t){return void this.destination.error(t)}this.destination.next(r)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},Rf9G:function(t,e,n){"use strict";e.a=function(){return Object(i.a)()(this)};var i=n("3a3m")},SrXe:function(t,e){!function(e){var n,i={};if(!e.document||void 0===e.document.createElement("canvas").getContext)throw e.console&&e.console.log("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode."),Error("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.");if(!Object.defineProperty)throw Error("GoJS requires a newer version of JavaScript");Function.prototype.bind||(Function.prototype.bind=function(t){function e(){return o.apply(t,r.concat(i.call(arguments)))}function n(){}var i=Array.prototype.slice,r=i.call(arguments,1),o=this;return n.prototype=this.prototype,e.prototype=new n,e}),function(){for(var t=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!e.requestAnimationFrame;++i)e.requestAnimationFrame=e[n[i]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n[i]+"CancelAnimationFrame"]||e[n[i]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(n){var i=(new Date).getTime(),r=Math.max(8,16-(i-t)),o=e.setTimeout(function(){n(i+r)},r);return t=i+r,o}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(t){e.clearTimeout(t)})}();var r={Dj:!1,WA:!1,AF:!1,JI:!1,lM:!1,$F:!1,lu:null,enableBoundsInfo:function(t){r.Dj=!0,t&&t.ro()},disableBoundsInfo:function(t){r.Dj=!1,t&&(t.dd.De(!0),t.ro())},xF:function(t,e){void 0===t&&(t=r.lu),void 0===e&&(e=t.pm("").rb);var n=e.length,i=t.dd;i.fillStyle="rgba(255,255,0,.3)";for(var o=0;o<n;o++){var s=e.fa(o),a=s.aa;if(s instanceof tl)r.xF(t,s.xa);else{var l=s.Ni.copy();l.GB(s.Nc),i.save(),i.transform(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),i.fillRect(a.x,a.y,a.width,a.height),i.restore()}}},yF:function(t,e){t||(t=r.lu),e||(e=t.pm("").rb);var n=t.dd,i=e.length;n.fillStyle="rgba(0,0,255,.3)";for(var o=0;o<i;o++){var s=e.fa(o),a=s.Ga,l=s.Ni;s instanceof tl?r.yF(t,s.xa):(n.save(),n.transform(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),n.fillRect(a.x,a.y,a.width,a.height),n.restore())}},EI:function(t,e){t||(t=r.lu),e||(e=t.pm("").rb);var n=t.dd,i=e.length;n.fillStyle="rgba(0,0,255,.3)";for(var o=0;o<i;o++){var s=e.fa(o),a=s.Fa,l=s.Ni;s instanceof tl?r.EI(t,s.xa):(n.save(),n.transform(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),n.fillRect(a.x||0,a.y||0,a.width,a.height),n.restore())}},LL:function(){r.yF(),r.xF()},ML:function(t){t||(t=r.lu);var e=t.kd;(t=t.dd).strokeStyle="rgba(0,255,0,.9)",t.rect(e.x,e.y,e.width,e.height),t.stroke()},zF:function(t,e){e.fillStyle="red",e.fillRect(0,0,8,8),e.lineWidth=8,e.strokeStyle="rgba(255,255,0,.6)";var n=t.wb;e.rect(n.x,n.y,n.width,n.height),e.stroke(),e.fillStyle="rgba(0,255,0,.2)",e.fillRect(t.kd.x,t.kd.y,t.kd.width,t.kd.height)},FI:function(t,e){e instanceof Lc||(t.lineWidth=2,t.strokeStyle="rgba(255,0,0,.5)",t.rect(e.bc.x,e.bc.y,e.bc.width,e.bc.height),t.stroke(),e instanceof Nl&&(t.strokeStyle=e.stroke,t.lineWidth=e.mb),null!==e.R&&e.R.type===Ka&&(t.lineWidth=1,t.strokeStyle="rgba(10,200,10,.6)",e instanceof Nl&&(t.strokeStyle=e.stroke,t.lineWidth=e.mb)))},GI:function(t,e){t.lineWidth=1,t.strokeStyle="rgba(0,0,255,.5)",t.rect(e.Ga.x,e.Ga.y,e.Ga.width,e.Ga.height),t.stroke(),void 0!==e.stroke&&(t.strokeStyle=e.stroke),void 0!==e.Rg&&(t.lineWidth=e.Rg)},VA:function(t,e,n){t.setTransform(1,0,0,1,0,0),t.scale(e.ud,e.ud),t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),n=e.dc.length;for(var i=0;i<n;i++)for(var r=e.dc.fa(i),o=r.rb.length,s=0;s<o;s++){var a=r.rb.fa(s);if(void 0!==a.location&&null!==a.location){if(a.location.H()){var l=a.location.x,h=a.location.y;t.beginPath(),t.strokeStyle="limegreen",t.lineWidth=2,t.moveTo(l,h+6),t.lineTo(l,h),t.lineTo(l+6,h),t.moveTo(l,h),t.lineTo(l+10,h+20),t.stroke()}l=a.position.x,h=a.position.y,t.beginPath(),t.strokeStyle="red",t.lineWidth=2,t.moveTo(l,h+6),t.lineTo(l,h),t.lineTo(l+6,h),t.moveTo(l,h),t.lineTo(l+20,h+10),t.stroke()}}t.setTransform(1,0,0,1,0,0)},NL:function(t,e,n){var i=t.length;e.fillStyle="rgba(255,0,0,.1)";for(var r=0;r<i;r++){var o,s=(v=(p=t[r]).x)+p.width,a=(d=p.y)+p.height,l=(o=n.Nc).m21,h=o.m22,u=o.dx,c=o.dy,f=v*(g=o.m11)+d*l+u,p=v*(m=o.m12)+d*h+c;o=s*g+d*l+u;var d=s*m+d*h+c,y=v*g+a*l+u,v=v*m+a*h+c,g=s*g+a*l+u,m=(s=s*m+a*h+c,a=f,p);a=Math.min(a,o),f=Math.max(f,o),m=Math.min(m,d),p=Math.max(p,d),a=Math.min(a,y),f=Math.max(f,y),m=Math.min(m,v),p=Math.max(p,v),a=Math.min(a,g),f=Math.max(f,g),o=new vt(a,m=Math.min(m,s),f-a,(p=Math.max(p,s))-m),e.fillRect(o.x,o.y,o.width,o.height)}},HI:function(t,e,n,i,r){t.fillStyle="rgba(0,255,0,.2)",t.fillRect(e,n,i,r)},II:function(t,e,n){t.save();var i=e.Nc;for(i.reset(),1!==e.scale&&i.scale(e.scale),0===(e=e.position).x&&0===e.y||i.translate(-e.x,-e.y),t.setTransform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),i=(n=n.gd.o).length,e=0;e<i;e++){var r=n[e];t.beginPath(),t.moveTo(r.x-4,r.y),t.lineTo(r.x+4,r.y),t.moveTo(r.x,r.y-4),t.lineTo(r.x,r.y+4),t.lineWidth=2,t.strokeStyle="rgba(255,0,0,.9)",t.stroke()}t.restore()},JL:function(t){for(t||(t=r.lu),t=t.ao;t.next();)s.trace(t.value.toString())},zM:function(t,e){var n=e.dp(t),i=e.cc;return i.te=e.pC(n),i.ha=n,bo(e,i,t)},uM:function(t,e){e.Je(t.ha)&&(e.dd.fillStyle="lime",e.dd.fillRect(t.te.x,t.te.y,1*e.scale,1*e.scale))},vM:function(t){var e=gs(t,!1,null,null);if(!e.vq){var n=t.wb,i=t.scale;t=t.dd;for(var r=0;r<=e.zn;r++)for(var o=0;o<=e.An;o++){var s=e.sd[r][o];if(0!==s){var a=(r*e.he+e.$f-n.x)*i,l=(o*e.Rd+e.ag-n.y)*i;0!==s&&(t.fillStyle="rgba(255, 0, 0, .2)",t.fillRect(a,l,e.he*i,e.Rd*i)),999999<=s||(s%=10,t.fillStyle="blue",t.fillText(s.toString(),a,l+e.Rd))}}}},dumpReferences:function(t){if(t instanceof eo)for(t=t.ao;t.next();)for(s.trace((e=t.value).toString()),e=e.Hi;e.next();)r.dumpReferences(e.value);else if(t instanceof Dh){if(s.trace("References for "+t),null!==t.layer&&s.trace("  "+t.layer.toString()+' LayerName: "'+t.Nf+'"'),t.to!==t&&s.trace("  SelectionObject: "+t.to.toString()+' SelectionObjectName: "'+t.Py+'"'),t.Cf!==t&&s.trace("  LocationObject: "+t.Cf.toString()+' LocationObjectName: "'+t.uy+'"'),t.lh){for(var e="",n=t.lh.j;n.next();)e+=n.key+" ";s.trace("  Adornments: "+e)}if(null!==t.Ka&&s.trace("  ContainingGroup: "+t.Ka.toString()),t instanceof Fc){if(0<t.Od.count){for(e="",n=t.Od;n.next();)e+=n.value.toString()+", ";s.trace("  Links: "+e)}if(null!==t.Xb&&s.trace("  LabeledLink: "+t.Xb.toString()),t instanceof Tf){for(s.trace("  Placeholder: "+t.placeholder),e="",n=t.uc;n.next();)e+=n.value.toString()+", ";for(s.trace("  Members: "+e),e="",n=t.gn.j;n.next();)e+=n.value.toString()+", ";s.trace("  NestedGroups: "+e),s.trace("  Layout: "+t.Yb)}}else if(t instanceof Kc){for(s.trace("  Path: "+t.path),s.trace("  From: "+t.$+" "+t.oc+' "'+t.hg+'"'),s.trace("  To: "+t.ba+" "+t.Gc+' "'+t.jh+'"'),e="",t=t.Bf;t.next();)e+=t.value.toString()+", ";s.trace("  LabelNodes: "+e)}}},dumpVisualTree:function(t){if(t instanceof eo)for(t=t.ao;t.next();){var e=t.value;for(s.trace(e.toString()),e=e.Hi;e.next();)r.dumpVisualTree(e.value)}else t instanceof Dh&&(e=" ",t.nF&&(e+="c"),t.rF&&(e+="d"),t.YF&&(e+="g"),t.zG&&(e+="m"),t.OG&&(e+="h"),t.PG&&(e+="z"),t.UG&&(e+="o"),t.il&&(e+="s"),t.kH&&(e+="t"),t.$G&&(e+="A"),t.hy&&(e+="B"),t.tB&&(e+="L"),t.jb&&(e+="S"),t.dl&&(e+="H"),r.sD(t,1,e))},sD:function(t,e,n){for(var i="",o=0;o<e;o++)i+="  ";if(i+=t.toString(),n&&(i+=n),n=t.name?' "'+t.name+'" ':" ",n=t.visible?n+"v":n+"!v",n=t.tg?n+"p":n+"!p",t.Ue&&(n+="m"),t.Hu&&(n+="a"),i+=n,0===t.Sb&&0===t.column||(i+=" ["+t.Sb+","+t.column+"]"),i+=" "+t.aa.toString(),t.Ea.H()&&(i+=" d:"+t.Ea.toString()),t.Ga.H()&&(i+=" n:"+t.Ga.toString()),1!==t.scale&&(i+=" s:"+t.scale),0!==t.angle&&(i+=" a:"+t.angle),null!==t.background&&(i+=" b:"+t.background.toString()),null!==t.gm&&(i+=" a:"+t.background.toString()),t instanceof tl&&(i+=" elts:"+t.xa.count,t.isEnabled||(i+=" !ENABLED"),t.yq&&(i+=" CLIPPING"),0!==t.qH&&(i+=" top:"+t.qH),0!==t.sG&&(i+=" left:"+t.sG),null!==t.el&&(i+=" itemArray#:"+s.cb(t.el)),t.oG&&(i+=" cat:"+t.oG),null!==t.data&&(i+=" data:"+t.data)),null!==t.yd&&(i+=' portId: "'+t.yd+'"'),s.trace(i),t instanceof tl)for(t=t.elements;t.next();)r.sD(t.value,e+1,"")},PL:function(t){for(s.trace("DelayedReferences ("+t.zg.count+")"),t=t.zg.j;t.next();){for(var e="",n=t.value.j;n.next();)e+=_n(n.value)+", ";s.trace("  "+t.key+": "+e)}},fF:function(t,e){if(!s.Qa(e)||e instanceof Element||e instanceof CanvasRenderingContext2D||e instanceof Rt||e instanceof h)return"";var n,i="";for(n in e)if("string"!=typeof n)""===i&&(i=e+"\n"),i+="  "+n+" is not a string property\n";else if("_"!==n.charAt(0)&&!(2>=n.length)){var r=s.xb(e,n);if(null!==r&&"function"!=typeof r){if(e.hasOwnProperty(n)){var o=Object.getPrototypeOf(e);if(o&&o.Rw&&o.Rw[n])continue}else if(s.by(e,n))continue;""===i&&(i=e+"\n"),i+='  unknown property "'+n+'" has value: '+r+" at "+t+"\n"}}return i},Hx:function(t,e){if(null!==e&&void 0!==e&&"number"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"function"!=typeof e)if(void 0!==s.Nd(e)){if(!r.gx.contains(e))if(r.gx.add(e),r.Fw.add(r.fF(t,e)),e instanceof nt||e instanceof rt||e instanceof ut)for(var n=e.j;n.next();)r.Hx(t+"["+n.key+"]",n.value);else for(n in e){var i=s.xb(e,n);if(void 0!==i&&null!==i&&s.Qa(i)&&i!==e.Rw){if(e instanceof Il){if(i===e.tf)continue}else if(e instanceof tl){if("data"===n||i===e.Sd)continue;if("itemArray"===n||i===e.ej)continue;if(e instanceof Dh&&i===e.Sl)continue}else if(!(e instanceof eo))if(e instanceof Gn){if("archetypeGroupData"===n||i===e.nz)continue}else if(e instanceof Qi){if("archetypeLinkData"===n||i===e.pz)continue;if("archetypeLabelNodeData"===n||i===e.oz)continue}else if(e instanceof ar){if("archetypeNodeData"===n||i===e.yl)continue}else if(e instanceof un){if("nodeDataArray"===n||i===e.ze)continue;if("linkDataArray"===n||i===e.df||i===e.ki)continue;if(i===e.Kc)continue;if(i===e.zg)continue}else if(e instanceof Ef||e instanceof If||e instanceof Rf)continue;r.Hx(t+"."+n,i)}}}else if(Array.isArray(e))for(n=0;n<e.length;n++)r.Hx(t+"["+n+"]",e[n]);else r.Fw.add(r.fF(t,e))},checkProperties:function(t){return void 0===r.gx?r.gx=new rt(Object):r.gx.clear(),r.Fw=new l,r.Hx("",t),t=r.Fw.toString(),r.Fw=null,t}};i.Debug=r;var o,s={Ad:1,bd:2,rd:4,qd:8,Xn:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("534.30")&&0<e.navigator.userAgent.indexOf("Android"),Mu:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("MSIE 9.0"),zq:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("MSIE 10.0"),Aq:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("Trident/7"),rB:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("Edge/"),Qh:void 0!==e.navigator&&void 0!==e.navigator.platform&&0<=e.navigator.platform.toUpperCase().indexOf("MAC"),iG:void 0!==e.navigator&&void 0!==e.navigator.platform&&null!==e.navigator.platform.match(/(iPhone|iPod|iPad)/i),oF:function(t,e,n){var i=-1;return function(){var r=this,o=arguments;-1!==i&&s.clearTimeout(i),i=s.setTimeout(function(){i=-1,n||t.apply(r,o)},e),n&&!i&&t.apply(r,o)}},setTimeout:function(t,n){return e.setTimeout(t,n)},clearTimeout:function(t){e.clearTimeout(t)},createElement:function(t){return e.document.createElement(t)},k:function(t){throw Error(t)},qa:function(t,e){var n="The object is frozen, so its properties cannot be set: "+t.toString();void 0!==e&&(n+="  to value: "+e),s.k(n)},l:function(t,e,n,i){t instanceof e||(n=s.getTypeName(n),void 0!==i&&(n+="."+i),s.kc(t,e,n))},h:function(t,e,n,i){typeof t!==e&&(n=s.getTypeName(n),void 0!==i&&(n+="."+i),s.kc(t,e,n))},p:function(t,e,n){"number"==typeof t&&isFinite(t)||(e=s.getTypeName(e),void 0!==n&&(e+="."+n),s.k(e+" must be a real number type, and not NaN or Infinity: "+t))},Da:function(t,e,n,i){t instanceof a&&t.Qe===e||(n=s.getTypeName(n),void 0!==i&&(n+="."+i),s.kc(t,"a constant of class "+s.xf(e),n))},hu:function(t,e){"string"==typeof t?Rs(t)||s.k('Color "'+t+'" is not a valid color string for '+e):t instanceof Is||s.k("Value for "+e+" must be a color string or a Brush, not "+t)},kc:function(t,e,n,i){e=s.getTypeName(e),n=s.getTypeName(n),void 0!==i&&(n+="."+i),s.k("string"==typeof t?n+" value is not an instance of "+e+': "'+t+'"':n+" value is not an instance of "+e+": "+t)},ua:function(t,e,n,i){n=s.getTypeName(n),void 0!==i&&(n+="."+i),s.k(n+" is not in the range "+e+": "+t)},zd:function(t){s.k(s.xf(t)+" constructor cannot take any arguments.")},Va:function(t){s.k("Collection was modified during iteration: "+t.toString()+"\n  Perhaps you should iterate over a copy of the collection,\n  or you could collect items to be removed from the collection after the iteration.")},ak:function(t,e){s.k("No property to set for this enum value: "+e+" on "+t.toString())},trace:function(t){e.console&&e.console.log(t)},Qx:{},On:function(t,n){!0!==s.Qx[t]&&(s.Qx[t]=!0,e.console&&e.console.log(t+" is deprecated in "+n+", see the GoJS change log for more information."))},Qa:function(t){return"object"==typeof t&&null!==t},isArray:function(t){return Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection},qJ:function(t){return Array.isArray(t)},gu:function(t,e,n){s.isArray(t)||s.kc(t,"Array or NodeList or HTMLCollection",e,n)},cb:function(t){return t.length},km:function(t){return Array.prototype.slice.call(t)},La:function(t,e){return Array.isArray(t),t[e]},cF:function(t,e,n){Array.isArray(t)?t[e]=n:s.k("Cannot replace an object in an HTMLCollection or NodeList at "+e)},hm:function(t,e){if(Array.isArray(t))return t.indexOf(e);for(var n=t.length,i=0;i<n;i++)if(t[i]===e)return i;return-1},Ih:function(t,e,n){Array.isArray(t)?e>=t.length?t.push(n):t.splice(e,0,n):s.k("Cannot insert an object into an HTMLCollection or NodeList: "+n+" at "+e)},Vg:function(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):s.k("Cannot remove an object from an HTMLCollection or NodeList at "+e)},ez:[],P:function(){var t=s.ez.pop();return void 0===t?new ft:t},Fb:function(t,e){var n=s.ez.pop();return void 0===n?new ft(t,e):(n.x=t,n.y=e,n)},A:function(t){s.ez.push(t)},DC:[],Gm:function(){var t=s.DC.pop();return void 0===t?new yt:t},Zk:function(t){s.DC.push(t)},fz:[],Sf:function(){var t=s.fz.pop();return void 0===t?new vt:t},vg:function(t,e,n,i){var r=s.fz.pop();return void 0===r?new vt(t,e,n,i):(r.x=t,r.y=e,r.width=n,r.height=i,r)},Lb:function(t){s.fz.push(t)},EC:[],hh:function(){var t=s.EC.pop();return void 0===t?new St:t},mf:function(t){s.EC.push(t)},gz:null,v:function(){var t=s.gz;return null!==t?(s.gz=null,t):new vh},u:function(t){t.reset(),s.gz=t},CC:[],nb:function(){var t=s.CC.pop();return void 0===t?[]:t},ya:function(t){t.length=0,s.CC.push(t)},Do:Object.freeze([]),Km:1,xc:function(t){t.__gohashid=s.Km++},sq:function(t){var e=t.__gohashid;return void 0===e&&(e=s.Km++,t.__gohashid=e),e},Nd:function(t){return t.__gohashid},ka:function(t,e){e.vz=t,i[t]=e},Ta:function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},Di:function(t){t.PH=!0},defineProperty:function(t,e,n,i,r){for(var o in s.h(t,"function","Util.defineProperty:classfunc"),s.h(e,"object","Util.defineProperty:propobj"),s.h(n,"function","Util.defineProperty:getter"),s.h(i,"function","Util.defineProperty:setter"),e){if(e=e[o],n={get:n,set:i,enumerable:!0},void 0!==r)for(var a in r)n[a]=r[a];Object.defineProperty(t.prototype,o,n),r=Object.getOwnPropertyDescriptor(t.prototype,o),e&&r&&Object.defineProperty(t.prototype,e,r);break}},NK:!1,w:function(t,e,n,i){for(var r in s.h(t,"function","Util.defineReadOnlyProperty:classfunc"),s.h(e,"object","Util.defineReadOnlyProperty:propobj"),s.h(n,"function","Util.defineReadOnlyProperty:getter"),e){var o=e[r];if(e={get:n,set:function(t){s.k('The property "'+o+'" is read-only and cannot be set to '+t)},enumerable:!0},void 0!==i)for(var a in i)e[a]=i[a];Object.defineProperty(t.prototype,r,e),i=Object.getOwnPropertyDescriptor(t.prototype,r),o&&i&&Object.defineProperty(t.prototype,o,i);break}},me:function(t,e){for(var n in e)e[n]=!0;t.prototype.Rw=e},getTypeName:function(t){return void 0===t?"":"string"==typeof t?t:"function"==typeof t?s.xf(t):null===t?"*":""},xf:function(t){if("function"==typeof t){if(t.vz)return t.vz;if(t.name)return t.name;var e,n=(e=t.toString()).indexOf("(");if(""!==(e=e.substring(9,n).trim()))return t.vz=e}else if(s.Qa(t)&&t.constructor)return s.xf(t.constructor);return typeof t},s:function(t,e,n){s.h(t,"function","Util.defineEnumValue:classfunc"),s.h(e,"string","Util.defineEnumValue:name"),s.h(n,"number","Util.defineEnumValue:num"),n=new a(t,e,n),Object.freeze(n),t[e]=n;var i=t.zv;return i instanceof ut||(i=new ut("string",a),t.zv=i),i.add(e,n),n},xb:function(t,e){if(!t||!e)return null;var n=void 0;try{"function"==typeof e?n=e(t):"function"==typeof t.getAttribute?null===(n=t.getAttribute(e))&&(n=void 0):n=t[e]}catch(t){r&&s.trace("property get error: "+t.toString())}return n},Ua:function(t,e,n){if(t&&e)try{"function"==typeof e?e(t,n):"function"==typeof t.setAttribute?t.setAttribute(e,n):t[e]=n}catch(t){r&&s.trace("property set error: "+t.toString())}},nv:function(t,e){s.h(t,"object","Setting properties requires Objects as arguments"),s.h(e,"object","Setting properties requires Objects as arguments");var n,i=t instanceof tl,r=t instanceof eo;for(n in e){""===n&&s.k("Setting properties requires non-empty property names");var o=t,a=n;if(i||r){var l=n.indexOf(".");if(0<l){var h=n.substring(0,l);i?o=t.Md(h):(void 0===(o=t[h])||null===o)&&(o=t.ob[h]),s.Qa(o)?a=n.substr(l+1):s.k("Unable to find object named: "+h+" in "+t.toString()+" when trying to set property: "+n)}}if("_"!==a[0]&&!s.by(o,a)){if(r&&"ModelChanged"===a){t.ZH(e[a]);continue}if(r&&"Changed"===a){t.Bn(e[a]);continue}if(r&&s.by(t.ob,a))o=t.ob;else{if(r&&ys(t,a)){t.xx(a,e[a]);continue}if(t instanceof un&&"Changed"===a){t.Bn(e[a]);continue}s.k('Trying to set undefined property "'+a+'" on object: '+o.toString())}}o[a]=e[n],"_"===a[0]&&o instanceof fa&&o.WH(a)}},by:function(t,e){if(t.hasOwnProperty(e))return!0;for(var n=Object.getPrototypeOf(t);n&&n!==Function;){if(n.hasOwnProperty(e))return!0;var i=n.Rw;if(i&&i[e])return!0;n=Object.getPrototypeOf(n)}return!1},bK:function(t){for(var e=[],n=0;256>n;n++)e[n]=n;var i=0,r=0;for(n=0;256>n;n++)r=e[n],e[n]=e[i=(i+e[n]+119)%256],e[i]=r;i=n=0;for(var o="",s=0;s<t.length;s++)r=e[n=(n+1)%256],e[n]=e[i=(i+e[n])%256],e[i]=r,o+=String.fromCharCode(t.charCodeAt(s)^e[(e[n]+e[i])%256]);return o},dJ:function(t){for(var e={},n=0;256>n;n++)e["0123456789abcdef".charAt(n>>4)+"0123456789abcdef".charAt(15&n)]=String.fromCharCode(n);t.length%2&&(t="0"+t);var i=[],r=0;for(n=0;n<t.length;n+=2)i[r++]=e[t.substr(n,2)];return""===(t=i.join(""))?"0":t},Wg:function(t){return s.bK(s.dJ(t))},Im:null,adym:"7da71ca0ad381e90",vfo:"2be64efdb262",qL:"@COLOR1",rL:"@COLOR2",pF:!1,ju:null,ku:null};function a(t,e,n){s.xc(this),this.OC=t,this.$b=e,this.TH=n}function l(){this.NC=[]}function h(){}function u(t){void 0===t&&(t=42),this.seed=t,this.az=48271,this.yv=2147483647,this.BC=this.yv/this.az,this.BH=this.yv%this.az,this.AH=1/this.yv,this.random()}function c(){}s.Im=function(){var t=e.document.createElement("canvas"),n=t.getContext("2d");n[s.Wg("7ca11abfd022028846")]=s.Wg("398c3597c01238");for(var i=["5da73c80a36755dc038e4972187c3cae51fd22","32ab5ff3b26f42dc0ed90f22432913b54ae6247590da4bb21c324ba3a84e385776","54a702f3e53909c447824c6706603faf4cfb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387","74bf19bce72555874c86"],r=1;5>r;r++)n[s.Wg("7ca11abfd7330390")](s.Wg(i[r-1]),10,15*r+0);for(n[s.Wg("7ca11abfd022028846")]=s.Wg("39f046ebb36e4b"),r=1;5>r;r++)n[s.Wg("7ca11abfd7330390")](s.Wg(i[r-1]),10,15*r+0);return 4===i.length&&"5"===i[0][0]&&"7"===i[3][0]||(s.s=function(t,e){var n=new a(t,e,2);Object.freeze(n),t[e]=n;var i=t.zv;return i instanceof ut||(i=new ut("string",a),t.zv=i),i.add(e,n),n}),t}(),s.ka("EnumValue",a),a.prototype.toString=function(){return s.xf(this.OC)+"."+this.$b},s.w(a,{Qe:"classType"},function(){return this.OC}),s.w(a,{name:"name"},function(){return this.$b}),s.w(a,{value:"value"},function(){return this.TH}),a.findName=o=function(t,e){if(void 0===e||null===e||""===e)return null;s.h(t,"function","findName:classfunc"),s.h(e,"string","EnumValue.findName:name");var n=t.zv;return n instanceof ut?n.oa(e):null},l.prototype.toString=function(){return this.NC.join("")},l.prototype.add=function(t){""!==t&&this.NC.push(t)},u.prototype.random=function(){var t=this.seed%this.BC*this.az-this.seed/this.BC*this.BH;return this.seed=0<t?t:t+this.yv,this.seed*this.AH},s.w(c,{j:"iterator"},function(){return this}),c.prototype.reset=c.prototype.reset=function(){},c.prototype.next=c.prototype.next=function(){return!1},c.prototype.hasNext=function(){return!1},c.prototype.first=c.prototype.first=function(){return null},c.prototype.any=function(){return!1},c.prototype.all=function(){return!0},c.prototype.each=function(){return this},c.prototype.map=function(){return this},c.prototype.filter=function(){return this},c.prototype.concat=function(t){return t.j},s.w(c,{count:"count"},function(){return 0}),c.prototype.Vf=function(){},c.prototype.toString=function(){return"EmptyIterator"};var f,p,d,y,v,g,m,b,x,w,k,P,S,C,T,M,N,j,A,_,O,E,D,L,F,I,R,V,B,z,q,G,H,U,K,J,W,Y,Z,X=new c;function Q(t){this.key=-1,this.value=t}function $(t,e){this.Ll=t,this.Ml=e,this.Av=!1}function tt(t){this.Jc=t,this.pi=null,t.Zb=null,this.$a=t.I,this.Ic=-1}function et(t){this.Jc=t,t.fj=null,this.$a=t.I,this.Ic=t.o.length}function nt(t){s.xc(this),this.J=!1,this.o=[],this.I=0,this.fj=this.Zb=null,void 0===t||null===t?this.da=null:"string"==typeof t?"object"===t||"string"===t||"number"===t||"boolean"===t||"function"===t?this.da=t:s.ua(t,"the string 'object', 'number', 'string', 'boolean', or 'function'","List constructor: type"):"function"==typeof t?this.da=t===Object?"object":t===String?"string":t===Number?"number":t===Boolean?"boolean":t===Function?"function":t:s.ua(t,"null, a primitive type name, or a class type","List constructor: type")}function it(t){this.ri=t,t.Zb=null,this.$a=t.I,this.bb=null}function rt(t){s.xc(this),this.J=!1,void 0===t||null===t?this.da=null:"string"==typeof t?"object"===t||"string"===t||"number"===t?this.da=t:s.ua(t,"the string 'object', 'number' or 'string'","Set constructor: type"):"function"==typeof t?this.da=t===Object?"object":t===String?"string":t===Number?"number":t:s.ua(t,"null, a primitive type name, or a class type","Set constructor: type"),this.Dd={},this.Cd=0,this.Zb=null,this.I=0,this.ii=this.Ma=null}function ot(t){this.Na=t,this.$a=t.I,this.bb=null}function st(t){s.xc(this),this.J=!0,this.Na=t}function at(t){this.Na=t,t.gj=null,this.$a=t.I,this.bb=null}function lt(t,e){this.key=t,this.value=e,this.Ep=this.gb=null}function ht(t){this.Na=t,t.Zb=null,this.$a=t.I,this.bb=null}function ut(t,e){s.xc(this),this.J=!1,void 0===t||null===t?this.cf=null:"string"==typeof t?"object"===t||"string"===t||"number"===t?this.cf=t:s.ua(t,"the string 'object', 'number' or 'string'","Map constructor: keytype"):"function"==typeof t?this.cf=t===Object?"object":t===String?"string":t===Number?"number":t:s.ua(t,"null, a primitive type name, or a class type","Map constructor: keytype"),void 0===e||null===e?this.Bi=null:"string"==typeof e?"object"===e||"string"===e||"boolean"===e||"number"===e||"function"===e?this.Bi=e:s.ua(e,"the string 'object', 'number', 'string', 'boolean', or 'function'","Map constructor: valtype"):"function"==typeof e?this.Bi=e===Object?"object":e===String?"string":e===Number?"number":e===Boolean?"boolean":e===Function?"function":e:s.ua(e,"null, a primitive type name, or a class type","Map constructor: valtype"),this.Dd={},this.Cd=0,this.gj=this.Zb=null,this.I=0,this.ii=this.Ma=null}function ct(t,e){null!==t.cf&&("string"==typeof t.cf?typeof e===t.cf&&null!==e||s.kc(e,t.cf):e instanceof t.cf||s.kc(e,t.cf))}function ft(t,e){void 0===t?this.N=this.M=0:"number"==typeof t&&"number"==typeof e?(this.M=t,this.N=e):s.k("Invalid arguments to Point constructor: "+t+", "+e),this.J=!1}function pt(t,e){if(0===t)return 0<e?90:0>e?270:0;if(0===e)return 0<t?0:180;if(isNaN(t)||isNaN(e))return 0;var n=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?n=0>e?n+180:180-n:0>e&&(n=360-n),n}function dt(t,e){return r&&s.l(e,St,ft,"transformInverted:t"),e.Oh(t),t}function yt(t,e){void 0===t?this.Ha=this.Ia=0:"number"==typeof t&&(0<=t||isNaN(t))&&"number"==typeof e&&(0<=e||isNaN(e))?(this.Ia=t,this.Ha=e):s.k("Invalid arguments to Size constructor: "+t+", "+e),this.J=!1}function vt(t,e,n,i){void 0===t?this.Ha=this.Ia=this.N=this.M=0:t instanceof ft?e instanceof ft?(this.M=Math.min(t.M,e.M),this.N=Math.min(t.N,e.N),this.Ia=Math.abs(t.M-e.M),this.Ha=Math.abs(t.N-e.N)):e instanceof yt?(this.M=t.M,this.N=t.N,this.Ia=e.Ia,this.Ha=e.Ha):s.k("Incorrect arguments supplied to Rect constructor"):"number"==typeof t&&"number"==typeof e&&"number"==typeof n&&(0<=n||isNaN(n))&&"number"==typeof i&&(0<=i||isNaN(i))?(this.M=t,this.N=e,this.Ia=n,this.Ha=i):s.k("Invalid arguments to Rect constructor: "+t+", "+e+", "+n+", "+i),this.J=!1}function gt(t,e,n){t.Ia=e,t.Ha=n}function mt(t,e){return Te(t.M,e.x)&&Te(t.N,e.y)&&Te(t.Ia,e.width)&&Te(t.Ha,e.height)}function bt(t,e,n,i,r){t.Sa();var o=t.Ia;return n+r<=-o?(t.M+=o/2,t.Ia=0):(t.M-=r,t.Ia+=n+r),e+i<=-(n=t.Ha)?(t.N+=n/2,t.Ha=0):(t.N-=e,t.Ha+=e+i),t}function xt(t,e,n,i,r){t.Sa();var o=Math.max(t.M,e),s=Math.max(t.N,n);return e=Math.min(t.M+t.Ia,e+i),n=Math.min(t.N+t.Ha,n+r),t.M=o,t.N=s,t.Ia=Math.max(0,e-o),t.Ha=Math.max(0,n-s),t}function wt(t,e){var n=t.Ia,i=e.width+10+10,r=t.M,o=e.x-10;return!(r>i+o||o>n+r||(n=t.Ha,(r=t.N)>(i=e.height+10+10)+(o=e.y-10)||o>n+r))}function kt(t,e,n,i,r){var o=Math.min(t.M,e),s=Math.min(t.N,n);return e=Math.max(t.M+t.Ia,e+i),n=Math.max(t.N+t.Ha,n+r),t.M=o,t.N=s,t.Ia=e-o,t.Ha=n-s,t}function Pt(t,e,n,i){void 0===t?this.vh=this.mh=this.Dh=this.Eh=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===n?(i=e,this.top=t,this.right=e,this.bottom=t,this.left=i):void 0!==i?(this.top=t,this.right=e,this.bottom=n,this.left=i):s.k("Invalid arguments to Margin constructor: "+t+", "+e+", "+n+", "+i),this.J=!1}function St(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}function Ct(t,e,n,i){void 0===t?this.Ng=this.Mg=this.N=this.M=0:(void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=t,this.y=e,this.offsetX=n,this.offsetY=i),this.J=!1}function Tt(t,e){return t.M=NaN,t.N=NaN,t.Mg=e,t}function Mt(t,e){(isNaN(t)||1<t||0>t)&&s.ua(t,"0 <= "+e+" <= 1",Ct,e)}function Nt(t,e){(isNaN(t)||1/0===t||-1/0===t)&&s.ua(t,"real number, not NaN or Infinity",Ct,e)}function jt(){this.ac=[1,0,0,1,0,0]}function At(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.hF=[],this.pattern=null}function _t(t,e,n){this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.bo=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.eq=!1,this.Pg=this.Gt=this.Ft=0,this.document=e||document,this.BF=n,this.ny=null,this.path=[],this.Mh=new jt,this.stack=[],this.yf=[],this.Rx=t,this.XJ="http://www.w3.org/2000/svg",this.width=this.Rx.width,this.height=this.Rx.height,this.Em=Ot(this,"svg",{width:this.width+"px",height:this.height+"px",viewBox:"0 0 "+this.Rx.width+" "+this.Rx.height}),this.Em.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.Em.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),It(this,1,0,0,1,0,0),(e=Ot(this,"clipPath",{id:"mainClip"+(t=s.Km++)})).appendChild(Ot(this,"rect",{x:0,y:0,width:this.width,height:this.height})),this.Em.appendChild(e),this.yf[0].setAttributeNS(null,"clip-path","url(#mainClip"+t+")")}function Ot(t,e,n,i){if(t=t.document.createElementNS(t.XJ,e),s.Qa(n))for(var r in n)t.setAttributeNS("href"===r?"http://www.w3.org/1999/xlink":"",r,n[r]);return void 0!==i&&(t.textContent=i),t}function Et(t,e,n,i,r){1!==t.globalAlpha&&(n.opacity=t.globalAlpha),"fill"===e?(t.fillStyle instanceof At?n.fill=Dt(t,t.fillStyle):(/^rgba\(/.test(t.fillStyle)&&(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),n.fill="rgb("+e[1]+","+e[2]+","+e[3]+")",n["fill-opacity"]=e[4]),n.fill=t.fillStyle),n.stroke="none"):"stroke"===e&&(n.fill="none",t.strokeStyle instanceof At?n.stroke=Dt(t,t.strokeStyle):(/^rgba\(/.test(t.strokeStyle)&&(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle),n.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",n["stroke-opacity"]=e[4]),n.stroke=t.strokeStyle),n["stroke-width"]=t.lineWidth,n["stroke-linecap"]=t.lineCap,n["stroke-linejoin"]=t.lineJoin,n["stroke-miterlimit"]=t.miterLimit),t="matrix("+(t=i.ac)[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")",void 0!==r&&(t+=r),n.transform=t}function Dt(t,e){var n,i="GRAD"+s.Km++;if("linear"===e.type)n=Ot(t,"linearGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:i,gradientUnits:"userSpaceOnUse"});else if("radial"===e.type)n=Ot(t,"radialGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:i});else{if("pattern"!==e.type)throw Error("invalid gradient");n={width:(o=e.pattern).width,height:o.height,id:i,patternUnits:"userSpaceOnUse"};var r="";o instanceof HTMLCanvasElement&&(r=o.toDataURL()),o instanceof HTMLImageElement&&(r=o.src),o={x:0,y:0,width:o.width,height:o.height,href:r},(n=Ot(t,"pattern",n)).appendChild(Ot(t,"image",o))}r=(o=e.hF).length;for(var o,a=[],l=0;l<r;l++){var h=(u=o[l]).color,u={offset:u.offset,"stop-color":h};/^rgba\(/.test(h)&&(h=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(h),u["stop-color"]="rgb("+h[1]+","+h[2]+","+h[3]+")",u["stop-opacity"]=h[4]),a.push(u)}for(a.sort(function(t,e){return t.offset>e.offset?1:-1}),l=0;l<r;l++)n.appendChild(Ot(t,"stop",a[l]));return t.Em.appendChild(n),"url(#"+i+")"}function Lt(t,e,n,i){Et(t,e,n={x:n[0],y:n[1],width:n[2],height:n[3]},i),t.addElement("rect",n)}function Ft(t,e,n,i){for(var r=[],o=0;o<n.length;o++){var a=s.km(n[o]),l=[a.shift()];if("A"===l[0])l.push(a.shift()+","+a.shift(),a.shift(),a.shift()+","+a.shift(),a.shift()+","+a.shift());else for(;a.length;)l.push(a.shift()+","+a.shift());r.push(l.join(" "))}Et(t,e,n={d:r.join(" ")},i),"clipPath"===e?((i=Ot(t,"clipPath",{id:e="CLIP"+s.Km++})).appendChild(Ot(t,"path",n)),t.Em.appendChild(i),0<t.yf.length&&t.yf[t.yf.length-1].setAttributeNS(null,"clip-path","url(#"+e+")")):t.addElement("path",n)}function It(t,e,n,i,r,o,s){var a=new jt;a.ac=[e,n,i,r,o,s],Et(t,"g",e={},a),a=t.addElement("g",e),t.yf.push(a)}function Rt(t,e){this.ownerDocument=void 0===e?document:e;var n=this.ownerDocument.createElement("canvas");n.tabIndex=0,this.$d=n,this.Tk=new Vt(n),n.ca=t,Object.seal(this)}function Vt(t){t.getContext&&t.getContext("2d")||s.k("Browser does not support HTML Canvas Element"),this.za=t.getContext("2d"),this.qz=this.sz=this.rz="",this.vr=!1,this.Pg=this.Gt=this.Ft=0,Object.seal(this)}s.me(Q,{key:!0,value:!0}),s.w(Q,{j:"iterator"},function(){return this}),Q.prototype.reset=Q.prototype.reset=function(){this.key=-1},Q.prototype.next=Q.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},Q.prototype.hasNext=function(){return this.next()},Q.prototype.first=Q.prototype.first=function(){return this.key=0,this.value},Q.prototype.any=function(t){return this.key=-1,t(this.value)},Q.prototype.all=function(t){return this.key=-1,t(this.value)},Q.prototype.each=function(t){return this.key=-1,t(this.value),this},Q.prototype.map=function(t){return new Q(t(this.value))},Q.prototype.filter=function(t){return t(this.value)?new Q(this.value):X},Q.prototype.concat=function(t){return new $(this,t.j)},s.w(Q,{count:"count"},function(){return 1}),Q.prototype.Vf=function(){this.value=null},Q.prototype.toString=function(){return"SingletonIterator("+this.value+")"},s.me($,{key:!0,value:!0}),s.w($,{j:"iterator"},function(){return this}),$.prototype.reset=$.prototype.reset=function(){this.Ll.reset(),this.Ml.reset(),this.Av=!1},$.prototype.next=$.prototype.next=function(){if(!this.Av){var t=this.Ll;if(t.next())return this.key=t.key,this.value=t.value,!0;this.Av=!0}return!(!this.Av||(t=this.Ml,!t.next())||(this.key=t.key,this.value=t.value,0))},$.prototype.hasNext=function(){return this.next()},$.prototype.first=$.prototype.first=function(){return this.reset(),this.next()?this.value:null},$.prototype.any=function(t){return!(!this.Ll.any(t)&&!this.Ml.any(t))},$.prototype.all=function(t){return!(!this.Ll.all(t)||!this.Ml.all(t))},$.prototype.each=function(t){return this.Ll.each(t),this.Ml.each(t),this},$.prototype.map=function(t){return new $(this.Ll.map(t),this.Ml.map(t))},$.prototype.filter=function(t){return new $(this.Ll.filter(t),this.Ml.filter(t))},$.prototype.concat=function(t){return new $(this,t.j)},s.w($,{count:"count"},function(){return this.Ll.count+this.Ml.count}),$.prototype.Vf=function(){this.value=this.key=null},$.prototype.toString=function(){return"ConcatIterator()"},s.me(tt,{key:!0,value:!0}),s.w(tt,{j:"iterator"},function(){return this}),s.defineProperty(tt,{Nq:"predicate"},function(){return this.pi},function(t){this.pi=t}),tt.prototype.reset=tt.prototype.reset=function(){var t=this.Jc;t.Zb=null,this.$a=t.I,this.Ic=-1},tt.prototype.next=tt.prototype.next=function(){if((t=this.Jc).I!==this.$a){if(0>this.key)return!1;s.Va(t)}var t,e=(t=t.o).length,n=++this.Ic,i=this.pi;if(null!==i)for(;n<e;){var r=t[n];if(i(r))return this.key=this.Ic=n,this.value=r,!0;n++}else{if(n<e)return this.key=n,this.value=t[n],!0;this.Vf()}return!1},tt.prototype.hasNext=function(){return this.next()},tt.prototype.first=tt.prototype.first=function(){this.$a=(t=this.Jc).I,this.Ic=0;var t,e=(t=t.o).length,n=this.pi;if(null!==n){for(var i=0;i<e;){var r=t[i];if(n(r))return this.key=this.Ic=i,this.value=r;i++}return null}return 0<e?(r=t[0],this.key=0,this.value=r):null},tt.prototype.any=function(t){var e=this.Jc;e.Zb=null;var n=e.I;this.Ic=-1;for(var i=e.o,r=i.length,o=this.pi,a=0;a<r;a++){var l=i[a];if(null===o||o(l)){if(t(l))return!0;e.I!==n&&s.Va(e)}}return!1},tt.prototype.all=function(t){var e=this.Jc;e.Zb=null;var n=e.I;this.Ic=-1;for(var i=e.o,r=i.length,o=this.pi,a=0;a<r;a++){var l=i[a];if(null===o||o(l)){if(!t(l))return!1;e.I!==n&&s.Va(e)}}return!0},tt.prototype.each=function(t){var e=this.Jc;e.Zb=null;var n=e.I;this.Ic=-1;for(var i=e.o,r=i.length,o=this.pi,a=0;a<r;a++){var l=i[a];(null===o||o(l))&&(t(l),e.I!==n&&s.Va(e))}return this},tt.prototype.map=function(t){var e=this.Jc;e.Zb=null;var n=e.I;this.Ic=-1;for(var i=[],r=e.o,o=r.length,a=this.pi,l=0;l<o;l++){var h=r[l];(null===a||a(h))&&(i.push(t(h)),e.I!==n&&s.Va(e))}return(t=new nt).o=i,t.Uc(),t.j},tt.prototype.filter=function(t){var e=this.Jc;e.Zb=null;var n=e.I;this.Ic=-1;for(var i=[],r=e.o,o=r.length,a=this.pi,l=0;l<o;l++){var h=r[l];(null===a||a(h))&&(t(h)&&i.push(h),e.I!==n&&s.Va(e))}return(t=new nt(e.da)).o=i,t.Uc(),t.j},tt.prototype.concat=function(t){return this.Jc.Zb=null,new $(this,t.j)},s.w(tt,{count:"count"},function(){var t=this.pi;if(null!==t){for(var e=0,n=this.Jc.o,i=n.length,r=0;r<i;r++)t(n[r])&&e++;return e}return this.Jc.o.length}),tt.prototype.Vf=function(){this.key=-1,this.value=null,this.$a=-1,this.pi=null,this.Jc.Zb=this},tt.prototype.toString=function(){return"ListIterator@"+this.Ic+"/"+this.Jc.count},s.me(et,{key:!0,value:!0}),s.w(et,{j:"iterator"},function(){return this}),et.prototype.reset=et.prototype.reset=function(){var t=this.Jc;t.fj=null,this.$a=t.I,this.Ic=t.o.length},et.prototype.next=et.prototype.next=function(){var t=this.Jc;if(t.I!==this.$a){if(0>this.key)return!1;s.Va(t)}var e=--this.Ic;return 0<=e?(this.key=e,this.value=t.o[e],!0):(this.Vf(),!1)},et.prototype.hasNext=function(){return this.next()},et.prototype.first=et.prototype.first=function(){var t=this.Jc;this.$a=t.I;var e=t.o;return this.Ic=t=e.length-1,0<=t?(e=e[t],this.key=t,this.value=e):null},et.prototype.any=function(t){var e=this.Jc;e.fj=null;var n=e.I,i=e.o,r=i.length;for(this.Ic=r,r-=1;0<=r;r--){if(t(i[r]))return!0;e.I!==n&&s.Va(e)}return!1},et.prototype.all=function(t){var e=this.Jc;e.fj=null;var n=e.I,i=e.o,r=i.length;for(this.Ic=r,r-=1;0<=r;r--){if(!t(i[r]))return!1;e.I!==n&&s.Va(e)}return!0},et.prototype.each=function(t){var e=this.Jc;e.fj=null;var n=e.I,i=e.o,r=i.length;for(this.Ic=r,r-=1;0<=r;r--)t(i[r]),e.I!==n&&s.Va(e);return this},et.prototype.map=function(t){var e=this.Jc;e.fj=null;var n=e.I,i=[],r=e.o,o=r.length;for(this.Ic=o,o-=1;0<=o;o--)i.push(t(r[o])),e.I!==n&&s.Va(e);return(t=new nt).o=i,t.Uc(),t.j},et.prototype.filter=function(t){var e=this.Jc;e.fj=null;var n=e.I,i=[],r=e.o,o=r.length;for(this.Ic=o,o-=1;0<=o;o--){var a=r[o];t(a)&&i.push(a),e.I!==n&&s.Va(e)}return(t=new nt(e.da)).o=i,t.Uc(),t.j},et.prototype.concat=function(t){return this.Jc.fj=null,new $(this,t.j)},s.w(et,{count:"count"},function(){return this.Jc.o.length}),et.prototype.Vf=function(){this.key=-1,this.value=null,this.$a=-1,this.Jc.fj=this},et.prototype.toString=function(){return"ListIteratorBackwards("+this.Ic+"/"+this.Jc.count+")"},s.ka("List",nt),nt.prototype.nh=function(t){null!==this.da&&("string"==typeof this.da?typeof t===this.da&&null!==t||s.kc(t,this.da):t instanceof this.da||s.kc(t,this.da))},nt.prototype.Uc=function(){var t=this.I;999999999<++t&&(t=0),this.I=t},nt.prototype.freeze=nt.prototype.freeze=function(){return this.J=!0,this},nt.prototype.thaw=nt.prototype.Xa=function(){return this.J=!1,this},nt.prototype.toString=function(){return"List("+s.getTypeName(this.da)+")#"+s.Nd(this)},nt.prototype.add=nt.prototype.add=function(t){null!==t&&(r&&this.nh(t),this.J&&s.qa(this,t),this.o.push(t),this.Uc())},nt.prototype.push=nt.prototype.push=function(t){this.add(t)},nt.prototype.addAll=nt.prototype.Vc=function(t){if(null===t)return this;this.J&&s.qa(this);var e=this.o;if(s.isArray(t))for(var n=s.cb(t),i=0;i<n;i++){var o=s.La(t,i);r&&this.nh(o),e.push(o)}else for(t=t.j;t.next();)o=t.value,r&&this.nh(o),e.push(o);return this.Uc(),this},nt.prototype.clear=nt.prototype.clear=function(){this.J&&s.qa(this),this.o.length=0,this.Uc()},nt.prototype.contains=nt.prototype.contains=function(t){return null!==t&&(r&&this.nh(t),-1!==this.o.indexOf(t))},nt.prototype.has=nt.prototype.has=function(t){return this.contains(t)},nt.prototype.indexOf=nt.prototype.indexOf=function(t){return null===t?-1:(r&&this.nh(t),this.o.indexOf(t))},nt.prototype.elt=nt.prototype.fa=function(t){r&&s.p(t,nt,"elt:i");var e=this.o;return(0>t||t>=e.length)&&s.ua(t,"0 <= i < length",nt,"elt:i"),e[t]},nt.prototype.get=nt.prototype.get=function(t){return this.fa(t)},nt.prototype.setElt=nt.prototype.ug=function(t,e){r&&(this.nh(e),s.p(t,nt,"setElt:i"));var n=this.o;(0>t||t>=n.length)&&s.ua(t,"0 <= i < length",nt,"setElt:i"),this.J&&s.qa(this,t),n[t]=e},nt.prototype.set=nt.prototype.set=function(t,e){this.ug(t,e)},nt.prototype.first=nt.prototype.first=function(){var t=this.o;return 0===t.length?null:t[0]},nt.prototype.last=nt.prototype.re=function(){var t=this.o,e=t.length;return 0<e?t[e-1]:null},nt.prototype.pop=nt.prototype.pop=function(){this.J&&s.qa(this);var t=this.o;return 0<t.length?t.pop():null},nt.prototype.any=function(t){for(var e=this.o,n=this.I,i=e.length,r=0;r<i;r++){if(t(e[r]))return!0;this.I!==n&&s.Va(this)}return!1},nt.prototype.all=function(t){for(var e=this.o,n=this.I,i=e.length,r=0;r<i;r++){if(!t(e[r]))return!1;this.I!==n&&s.Va(this)}return!0},nt.prototype.each=function(t){for(var e=this.o,n=this.I,i=e.length,r=0;r<i;r++)t(e[r]),this.I!==n&&s.Va(this);return this},nt.prototype.map=function(t){for(var e=new nt,n=[],i=this.o,r=this.I,o=i.length,a=0;a<o;a++)n.push(t(i[a])),this.I!==r&&s.Va(this);return e.o=n,e.Uc(),e},nt.prototype.filter=function(t){for(var e=new nt(this.da),n=[],i=this.o,r=this.I,o=i.length,a=0;a<o;a++){var l=i[a];t(l)&&n.push(l),this.I!==r&&s.Va(this)}return e.o=n,e.Uc(),e},nt.prototype.concat=function(t){return this.copy().Vc(t)},nt.prototype.insertAt=nt.prototype.be=function(t,e){r&&(this.nh(e),s.p(t,nt,"insertAt:i")),0>t&&s.ua(t,">= 0",nt,"insertAt:i"),this.J&&s.qa(this,t);var n=this.o;return t>=n.length?n.push(e):n.splice(t,0,e),this.Uc(),!0},nt.prototype.remove=nt.prototype.delete=nt.prototype.remove=function(t){if(null===t)return!1;r&&this.nh(t),this.J&&s.qa(this,t);var e=this.o;return-1!==(t=e.indexOf(t))&&(t===e.length-1?e.pop():e.splice(t,1),this.Uc(),!0)},nt.prototype.removeAt=nt.prototype.pd=function(t){r&&s.p(t,nt,"removeAt:i");var e=this.o;(0>t||t>=e.length)&&s.ua(t,"0 <= i < length",nt,"removeAt:i"),this.J&&s.qa(this,t),t===e.length-1?e.pop():e.splice(t,1),this.Uc()},nt.prototype.removeRange=nt.prototype.removeRange=function(t,e){r&&(s.p(t,nt,"removeRange:from"),s.p(e,nt,"removeRange:to"));var n=this.o,i=n.length;if(0>t)t=0;else if(t>=i)return this;if(0>e)return this;if(e>=i&&(e=i-1),t>e)return this;this.J&&s.qa(this);for(var o=t,a=e+1;a<i;)n[o++]=n[a++];return n.length=i-(e-t+1),this.Uc(),this},nt.prototype.copy=function(){var t=new nt(this.da),e=this.o;return 0<e.length&&(t.o=Array.prototype.slice.call(e)),t},nt.prototype.toArray=nt.prototype.Fc=function(){for(var t=this.o,e=this.count,n=Array(e),i=0;i<e;i++)n[i]=t[i];return n},nt.prototype.toSet=nt.prototype.pH=function(){for(var t=new rt(this.da),e=this.o,n=this.count,i=0;i<n;i++)t.add(e[i]);return t},nt.prototype.sort=nt.prototype.sort=function(t){return r&&s.h(t,"function",nt,"sort:sortfunc"),this.J&&s.qa(this),this.o.sort(t),this.Uc(),this},nt.prototype.sortRange=nt.prototype.Zq=function(t,e,n){var i=this.o,o=i.length;void 0===e&&(e=0),void 0===n&&(n=o),r&&(s.h(t,"function",nt,"sortRange:sortfunc"),s.p(e,nt,"sortRange:from"),s.p(n,nt,"sortRange:to")),this.J&&s.qa(this);var a=n-e;if(1>=a)return this;if((0>e||e>=o-1)&&s.ua(e,"0 <= from < length",nt,"sortRange:from"),2===a)return 0<t(n=i[e],o=i[e+1])&&(i[e]=o,i[e+1]=n,this.Uc()),this;if(0===e)if(n>=o)i.sort(t);else for((a=i.slice(0,n)).sort(t),t=0;t<n;t++)i[t]=a[t];else if(n>=o)for((a=i.slice(e)).sort(t),t=e;t<o;t++)i[t]=a[t-e];else for((a=i.slice(e,n)).sort(t),t=e;t<n;t++)i[t]=a[t-e];return this.Uc(),this},nt.prototype.reverse=nt.prototype.reverse=function(){return this.J&&s.qa(this),this.o.reverse(),this.Uc(),this},s.w(nt,{count:"count"},function(){return this.o.length}),s.w(nt,{size:"size"},function(){return this.o.length}),s.w(nt,{length:"length"},function(){return this.o.length}),s.w(nt,{j:"iterator"},function(){if(0>=this.o.length)return X;var t=this.Zb;return null!==t?(t.reset(),t):new tt(this)}),s.w(nt,{$n:"iteratorBackwards"},function(){if(0>=this.o.length)return X;var t=this.fj;return null!==t?(t.reset(),t):new et(this)}),s.me(it,{key:!0,value:!0}),s.w(it,{j:"iterator"},function(){return this}),it.prototype.reset=it.prototype.reset=function(){var t=this.ri;t.Zb=null,this.$a=t.I,this.bb=null},it.prototype.next=it.prototype.next=function(){var t,e=this.ri;if(e.I!==this.$a){if(null===this.key)return!1;s.Va(e)}return null!==(t=null===(t=this.bb)?e.Ma:t.gb)?(this.bb=t,this.value=t.value,this.key=t.key,!0):(this.Vf(),!1)},it.prototype.hasNext=function(){return this.next()},it.prototype.first=it.prototype.first=function(){var t=this.ri;if(this.$a=t.I,null!==(t=t.Ma)){this.bb=t;var e=t.value;return this.key=t.key,this.value=e}return null},it.prototype.any=function(t){var e=this.ri;e.Zb=null;var n=e.I;this.bb=null;for(var i=e.Ma;null!==i;){if(t(i.value))return!0;e.I!==n&&s.Va(e),i=i.gb}return!1},it.prototype.all=function(t){var e=this.ri;e.Zb=null;var n=e.I;this.bb=null;for(var i=e.Ma;null!==i;){if(!t(i.value))return!1;e.I!==n&&s.Va(e),i=i.gb}return!0},it.prototype.each=function(t){var e=this.ri;e.Zb=null;var n=e.I;this.bb=null;for(var i=e.Ma;null!==i;)t(i.value),e.I!==n&&s.Va(e),i=i.gb;return this},it.prototype.map=function(t){var e=this.ri;e.Zb=null;for(var n=new nt,i=e.I,r=e.Ma;null!==r;)n.add(t(r.value)),e.I!==i&&s.Va(e),r=r.gb;return n.j},it.prototype.filter=function(t){var e=this.ri;e.Zb=null;for(var n=new nt(e.da),i=e.I,r=e.Ma;null!==r;){var o=r.value;t(o)&&n.add(o),e.I!==i&&s.Va(e),r=r.gb}return n.j},it.prototype.concat=function(t){return this.ri.Zb=null,new $(this,t.j)},s.w(it,{count:"count"},function(){return this.ri.Cd}),it.prototype.Vf=function(){this.value=this.key=null,this.$a=-1,this.ri.Zb=this},it.prototype.toString=function(){return null!==this.bb?"SetIterator@"+this.bb.value:"SetIterator"},s.ka("Set",rt),rt.prototype.nh=function(t){null!==this.da&&("string"==typeof this.da?typeof t===this.da&&null!==t||s.kc(t,this.da):t instanceof this.da||s.kc(t,this.da))},rt.prototype.Uc=function(){var t=this.I;999999999<++t&&(t=0),this.I=t},rt.prototype.freeze=rt.prototype.freeze=function(){return this.J=!0,this},rt.prototype.thaw=rt.prototype.Xa=function(){return this.J=!1,this},rt.prototype.toString=function(){return"Set("+s.getTypeName(this.da)+")#"+s.Nd(this)},rt.prototype.add=rt.prototype.add=function(t){if(null===t)return!1;r&&this.nh(t),this.J&&s.qa(this,t);var e=t;return s.Qa(t)&&(e=s.sq(t)),void 0===this.Dd[e]&&(this.Cd++,t=new lt(t,t),this.Dd[e]=t,null===(e=this.ii)?this.Ma=t:(t.Ep=e,e.gb=t),this.ii=t,this.Uc(),!0)},rt.prototype.addAll=rt.prototype.Vc=function(t){if(null===t)return this;if(this.J&&s.qa(this),s.isArray(t))for(var e=s.cb(t),n=0;n<e;n++)this.add(s.La(t,n));else for(t=t.j;t.next();)this.add(t.value);return this},rt.prototype.contains=rt.prototype.contains=function(t){if(null===t)return!1;r&&this.nh(t);var e=t;return(!s.Qa(t)||void 0!==(e=s.Nd(t)))&&void 0!==this.Dd[e]},rt.prototype.has=rt.prototype.has=function(t){return this.contains(t)},rt.prototype.containsAll=function(t){if(null===t)return!0;for(t=t.j;t.next();)if(!this.contains(t.value))return!1;return!0},rt.prototype.containsAny=function(t){if(null===t)return!0;for(t=t.j;t.next();)if(this.contains(t.value))return!0;return!1},rt.prototype.first=rt.prototype.first=function(){var t=this.Ma;return null===t?null:t.value},rt.prototype.any=function(t){for(var e=this.I,n=this.Ma;null!==n;){if(t(n.value))return!0;this.I!==e&&s.Va(this),n=n.gb}return!1},rt.prototype.all=function(t){for(var e=this.I,n=this.Ma;null!==n;){if(!t(n.value))return!1;this.I!==e&&s.Va(this),n=n.gb}return!0},rt.prototype.each=function(t){for(var e=this.I,n=this.Ma;null!==n;)t(n.value),this.I!==e&&s.Va(this),n=n.gb;return this},rt.prototype.map=function(t){for(var e=new rt,n=this.I,i=this.Ma;null!==i;)e.add(t(i.value)),this.I!==n&&s.Va(this),i=i.gb;return e},rt.prototype.filter=function(t){for(var e=new rt(this.da),n=this.I,i=this.Ma;null!==i;){var r=i.value;t(r)&&e.add(r),this.I!==n&&s.Va(this),i=i.gb}return e},rt.prototype.concat=function(t){return this.copy().Vc(t)},rt.prototype.remove=rt.prototype.delete=rt.prototype.remove=function(t){if(null===t)return!1;r&&this.nh(t),this.J&&s.qa(this,t);var e=t;if(s.Qa(t)&&void 0===(e=s.Nd(t)))return!1;if(void 0===(t=this.Dd[e]))return!1;var n=t.gb,i=t.Ep;return null!==n&&(n.Ep=i),null!==i&&(i.gb=n),this.Ma===t&&(this.Ma=n),this.ii===t&&(this.ii=i),delete this.Dd[e],this.Cd--,this.Uc(),!0},rt.prototype.removeAll=rt.prototype.Iy=function(t){if(null===t)return this;if(this.J&&s.qa(this),s.isArray(t))for(var e=s.cb(t),n=0;n<e;n++)this.remove(s.La(t,n));else for(t=t.j;t.next();)this.remove(t.value);return this},rt.prototype.retainAll=function(t){if(null===t||0===this.count)return this;this.J&&s.qa(this);var e=new rt(this.da);e.Vc(t),t=[];for(var n=this.j;n.next();){var i=n.value;e.contains(i)||t.push(i)}return this.Iy(t),this},rt.prototype.clear=rt.prototype.clear=function(){this.J&&s.qa(this),this.Dd={},this.Cd=0,this.ii=this.Ma=null,this.Uc()},rt.prototype.copy=function(){var t,e=new rt(this.da),n=this.Dd;for(t in n)e.add(n[t].value);return e},rt.prototype.toArray=rt.prototype.Fc=function(){var t,e=Array(this.Cd),n=this.Dd,i=0;for(t in n)e[i]=n[t].value,i++;return e},rt.prototype.toList=function(){var t,e=new nt(this.da),n=this.Dd;for(t in n)e.add(n[t].value);return e},s.w(rt,{count:"count"},function(){return this.Cd}),s.w(rt,{size:"size"},function(){return this.Cd}),s.w(rt,{j:"iterator"},function(){if(0>=this.Cd)return X;var t=this.Zb;return null!==t?(t.reset(),t):new it(this)}),s.me(ot,{key:!0,value:!0}),s.w(ot,{j:"iterator"},function(){return this}),ot.prototype.reset=ot.prototype.reset=function(){this.$a=this.Na.I,this.bb=null},ot.prototype.next=ot.prototype.next=function(){var t,e=this.Na;if(e.I!==this.$a){if(null===this.key)return!1;s.Va(e)}return null!==(t=null===(t=this.bb)?e.Ma:t.gb)?(this.bb=t,this.value=this.key=e=t.key,!0):(this.Vf(),!1)},ot.prototype.hasNext=function(){return this.next()},ot.prototype.first=ot.prototype.first=function(){var t=this.Na;return this.$a=t.I,null!==(t=t.Ma)?(this.bb=t,this.value=this.key=t=t.key):null},ot.prototype.any=function(t){var e=this.Na,n=e.I;this.bb=null;for(var i=e.Ma;null!==i;){if(t(i.key))return!0;e.I!==n&&s.Va(e),i=i.gb}return!1},ot.prototype.all=function(t){var e=this.Na,n=e.I;this.bb=null;for(var i=e.Ma;null!==i;){if(!t(i.key))return!1;e.I!==n&&s.Va(e),i=i.gb}return!0},ot.prototype.each=function(t){var e=this.Na,n=e.I;this.bb=null;for(var i=e.Ma;null!==i;)t(i.key),e.I!==n&&s.Va(e),i=i.gb;return this},ot.prototype.map=function(t){var e=this.Na,n=e.I;this.bb=null;for(var i=new nt,r=e.Ma;null!==r;)i.add(t(r.key)),e.I!==n&&s.Va(e),r=r.gb;return i.j},ot.prototype.filter=function(t){var e=this.Na,n=e.I;this.bb=null;for(var i=new nt(e.cf),r=e.Ma;null!==r;){var o=r.key;t(o)&&i.add(o),e.I!==n&&s.Va(e),r=r.gb}return i.j},ot.prototype.concat=function(t){return new $(this,t.j)},s.w(ot,{count:"count"},function(){return this.Na.Cd}),ot.prototype.Vf=function(){this.value=this.key=null,this.$a=-1},ot.prototype.toString=function(){return null!==this.bb?"MapKeySetIterator@"+this.bb.value:"MapKeySetIterator"},s.Ta(st,rt),st.prototype.freeze=function(){return this},st.prototype.Xa=function(){return this},st.prototype.toString=function(){return"MapKeySet("+this.Na.toString()+")"},st.prototype.add=st.prototype.add=function(){return s.k("This Set is read-only: "+this.toString()),!1},st.prototype.set=st.prototype.set=function(){return s.k("This Set is read-only: "+this.toString()),!1},st.prototype.contains=st.prototype.contains=function(t){return this.Na.contains(t)},st.prototype.has=st.prototype.has=function(t){return this.contains(t)},st.prototype.remove=st.prototype.delete=st.prototype.remove=function(){return s.k("This Set is read-only: "+this.toString()),!1},st.prototype.clear=st.prototype.clear=function(){s.k("This Set is read-only: "+this.toString())},st.prototype.first=st.prototype.first=function(){var t=this.Na.Ma;return null!==t?t.key:null},st.prototype.any=function(t){for(var e=this.Na.Ma;null!==e;){if(t(e.key))return!0;e=e.gb}return!1},st.prototype.all=function(t){for(var e=this.Na.Ma;null!==e;){if(!t(e.key))return!1;e=e.gb}return!0},st.prototype.each=function(t){for(var e=this.Na.Ma;null!==e;)t(e.key),e=e.gb;return this},st.prototype.map=function(t){for(var e=new rt,n=this.Na.Ma;null!==n;)e.add(t(n.key)),n=n.gb;return e},st.prototype.filter=function(t){for(var e=new rt(this.Na.cf),n=this.Na.Ma;null!==n;){var i=n.key;t(i)&&e.add(i),n=n.gb}return e},st.prototype.concat=function(t){return this.pH().Vc(t)},st.prototype.copy=function(){return new st(this.Na)},st.prototype.toSet=st.prototype.pH=function(){var t,e=new rt(this.Na.cf),n=this.Na.Dd;for(t in n)e.add(n[t].key);return e},st.prototype.toArray=st.prototype.Fc=function(){var t,e=this.Na.Dd,n=Array(this.Na.Cd),i=0;for(t in e)n[i]=e[t].key,i++;return n},st.prototype.toList=function(){var t,e=new nt(this.Na.cf),n=this.Na.Dd;for(t in n)e.add(n[t].key);return e},s.w(st,{count:"count"},function(){return this.Na.Cd}),s.w(st,{size:"size"},function(){return this.Na.Cd}),s.w(st,{j:"iterator"},function(){return 0>=this.Na.Cd?X:new ot(this.Na)}),s.me(at,{key:!0,value:!0}),s.w(at,{j:"iterator"},function(){return this}),at.prototype.reset=at.prototype.reset=function(){var t=this.Na;t.gj=null,this.$a=t.I,this.bb=null},at.prototype.next=at.prototype.next=function(){var t,e=this.Na;if(e.I!==this.$a){if(null===this.key)return!1;s.Va(e)}return null!==(t=null===(t=this.bb)?e.Ma:t.gb)?(this.bb=t,this.value=t.value,this.key=t.key,!0):(this.Vf(),!1)},at.prototype.hasNext=function(){return this.next()},at.prototype.first=at.prototype.first=function(){var t=this.Na;if(this.$a=t.I,null!==(t=t.Ma)){this.bb=t;var e=t.value;return this.key=t.key,this.value=e}return null},at.prototype.any=function(t){var e=this.Na;e.gj=null;var n=e.I;this.bb=null;for(var i=e.Ma;null!==i;){if(t(i.value))return!0;e.I!==n&&s.Va(e),i=i.gb}return!1},at.prototype.all=function(t){var e=this.Na;e.gj=null;var n=e.I;this.bb=null;for(var i=e.Ma;null!==i;){if(!t(i.value))return!1;e.I!==n&&s.Va(e),i=i.gb}return!0},at.prototype.each=function(t){var e=this.Na;e.gj=null;var n=e.I;this.bb=null;for(var i=e.Ma;null!==i;)t(i.value),e.I!==n&&s.Va(e),i=i.gb;return this},at.prototype.map=function(t){var e=this.Na;e.gj=null;var n=e.I;this.bb=null;for(var i=new nt,r=e.Ma;null!==r;)i.add(t(r.value)),e.I!==n&&s.Va(e),r=r.gb;return i.j},at.prototype.filter=function(t){var e=this.Na;e.gj=null;var n=e.I;this.bb=null;for(var i=new nt(e.cf),r=e.Ma;null!==r;){var o=r.value;t(o)&&i.add(o),e.I!==n&&s.Va(e),r=r.gb}return i.j},at.prototype.concat=function(t){return this.Na.gj=null,new $(this,t.j)},s.w(at,{count:"count"},function(){return this.Na.Cd}),at.prototype.Vf=function(){this.value=this.key=null,this.$a=-1,this.Na.gj=this},at.prototype.toString=function(){return null!==this.bb?"MapValueSetIterator@"+this.bb.value:"MapValueSetIterator"},s.me(lt,{key:!0,value:!0}),lt.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},s.me(ht,{key:!0,value:!0}),s.w(ht,{j:"iterator"},function(){return this}),ht.prototype.reset=ht.prototype.reset=function(){var t=this.Na;t.Zb=null,this.$a=t.I,this.bb=null},ht.prototype.next=ht.prototype.next=function(){var t,e=this.Na;if(e.I!==this.$a){if(null===this.key)return!1;s.Va(e)}return null!==(t=null===(t=this.bb)?e.Ma:t.gb)?(this.bb=t,this.key=t.key,this.value=t.value,!0):(this.Vf(),!1)},ht.prototype.hasNext=function(){return this.next()},ht.prototype.first=ht.prototype.first=function(){var t=this.Na;return this.$a=t.I,null!==(t=t.Ma)?(this.bb=t,this.key=t.key,this.value=t.value,t):null},ht.prototype.any=function(t){var e=this.Na;e.Zb=null;var n=e.I;this.bb=null;for(var i=e.Ma;null!==i;){if(t(i))return!0;e.I!==n&&s.Va(e),i=i.gb}return!1},ht.prototype.all=function(t){var e=this.Na;e.Zb=null;var n=e.I;this.bb=null;for(var i=e.Ma;null!==i;){if(!t(i))return!1;e.I!==n&&s.Va(e),i=i.gb}return!0},ht.prototype.each=function(t){var e=this.Na;e.Zb=null;var n=e.I;this.bb=null;for(var i=e.Ma;null!==i;)t(i),e.I!==n&&s.Va(e),i=i.gb;return this},ht.prototype.map=function(t){var e=this.Na;e.Zb=null;var n=e.I;this.bb=null;for(var i=new nt,r=e.Ma;null!==r;)i.add(t(r)),e.I!==n&&s.Va(e),r=r.gb;return i.j},ht.prototype.filter=function(t){var e=this.Na;e.Zb=null;var n=e.I;this.bb=null;for(var i=new nt,r=e.Ma;null!==r;)t(r)&&i.add(r),e.I!==n&&s.Va(e),r=r.gb;return i.j},ht.prototype.concat=function(t){return this.Na.Zb=null,new $(this,t.j)},s.w(ht,{count:"count"},function(){return this.Na.Cd}),ht.prototype.Vf=function(){this.value=this.key=null,this.$a=-1,this.Na.Zb=this},ht.prototype.toString=function(){return null!==this.bb?"MapIterator@"+this.bb:"MapIterator"},s.ka("Map",ut),ut.prototype.Uc=function(){var t=this.I;999999999<++t&&(t=0),this.I=t},ut.prototype.freeze=ut.prototype.freeze=function(){return this.J=!0,this},ut.prototype.thaw=ut.prototype.Xa=function(){return this.J=!1,this},ut.prototype.toString=function(){return"Map("+s.getTypeName(this.cf)+","+s.getTypeName(this.Bi)+")#"+s.Nd(this)},ut.prototype.add=ut.prototype.add=function(t,e){r&&(ct(this,t),null!==this.Bi&&("string"==typeof this.Bi?typeof e===this.Bi&&null!==e||s.kc(e,this.Bi):e instanceof this.Bi||s.kc(e,this.Bi))),this.J&&s.qa(this,t);var n=t;s.Qa(t)&&(n=s.sq(t));var i=this.Dd[n];return void 0===i?(this.Cd++,i=new lt(t,e),this.Dd[n]=i,null===(n=this.ii)?this.Ma=i:(i.Ep=n,n.gb=i),this.ii=i,this.Uc(),!0):(i.value=e,!1)},ut.prototype.set=ut.prototype.set=function(t,e){return this.add(t,e)},ut.prototype.addAll=ut.prototype.Vc=function(t){if(null===t)return this;if(s.isArray(t))for(var e=s.cb(t),n=0;n<e;n++){var i=s.La(t,n);this.add(i.key,i.value)}else for(t=t.j;t.next();)this.add(t.key,t.value);return this},ut.prototype.first=ut.prototype.first=function(){return this.Ma},ut.prototype.any=function(t){for(var e=this.I,n=this.Ma;null!==n;){if(t(n))return!0;this.I!==e&&s.Va(this),n=n.gb}return!1},ut.prototype.all=function(t){for(var e=this.I,n=this.Ma;null!==n;){if(!t(n))return!1;this.I!==e&&s.Va(this),n=n.gb}return!0},ut.prototype.each=function(t){for(var e=this.I,n=this.Ma;null!==n;)t(n),this.I!==e&&s.Va(this),n=n.gb;return this},ut.prototype.map=function(t){for(var e=new ut(this.cf),n=this.I,i=this.Ma;null!==i;)e.add(i.key,t(i)),this.I!==n&&s.Va(this),i=i.gb;return e},ut.prototype.filter=function(t){for(var e=new ut(this.cf,this.Bi),n=this.I,i=this.Ma;null!==i;)t(i)&&e.add(i.key,i.value),this.I!==n&&s.Va(this),i=i.gb;return e},ut.prototype.concat=function(t){return this.copy().Vc(t)},ut.prototype.contains=ut.prototype.contains=function(t){r&&ct(this,t);var e=t;return(!s.Qa(t)||void 0!==(e=s.Nd(t)))&&void 0!==this.Dd[e]},ut.prototype.has=ut.prototype.has=function(t){return this.contains(t)},ut.prototype.getValue=ut.prototype.oa=function(t){r&&ct(this,t);var e=t;return s.Qa(t)&&void 0===(e=s.Nd(t))?null:void 0===(t=this.Dd[e])?null:t.value},ut.prototype.get=ut.prototype.get=function(t){return this.oa(t)},ut.prototype.remove=ut.prototype.delete=ut.prototype.remove=function(t){if(null===t)return!1;r&&ct(this,t),this.J&&s.qa(this,t);var e=t;if(s.Qa(t)&&void 0===(e=s.Nd(t)))return!1;if(void 0===(t=this.Dd[e]))return!1;var n=t.gb,i=t.Ep;return null!==n&&(n.Ep=i),null!==i&&(i.gb=n),this.Ma===t&&(this.Ma=n),this.ii===t&&(this.ii=i),delete this.Dd[e],this.Cd--,this.Uc(),!0},ut.prototype.clear=ut.prototype.clear=function(){this.J&&s.qa(this),this.Dd={},this.Cd=0,this.ii=this.Ma=null,this.Uc()},ut.prototype.copy=function(){var t,e=new ut(this.cf,this.Bi),n=this.Dd;for(t in n){var i=n[t];e.add(i.key,i.value)}return e},ut.prototype.toArray=ut.prototype.Fc=function(){var t,e=this.Dd,n=Array(this.Cd),i=0;for(t in e){var r=e[t];n[i]=new lt(r.key,r.value),i++}return n},ut.prototype.toKeySet=ut.prototype.bk=function(){return new st(this)},s.w(ut,{count:"count"},function(){return this.Cd}),s.w(ut,{size:"size"},function(){return this.Cd}),s.w(ut,{j:"iterator"},function(){if(0>=this.count)return X;var t=this.Zb;return null!==t?(t.reset(),t):new ht(this)}),s.w(ut,{pG:"iteratorKeys"},function(){return 0>=this.count?X:new ot(this)}),s.w(ut,{qG:"iteratorValues"},function(){if(0>=this.count)return X;var t=this.gj;return null!==t?(t.reset(),t):new at(this)}),s.ka("Point",ft),s.Di(ft),s.me(ft,{x:!0,y:!0}),ft.prototype.assign=function(t){this.M=t.M,this.N=t.N},ft.prototype.setTo=ft.prototype.n=function(t,e){return r&&(s.h(t,"number",ft,"setTo:x"),s.h(e,"number",ft,"setTo:y")),this.M=t,this.N=e,this},ft.prototype.set=ft.prototype.set=function(t){return r&&s.l(t,ft,ft,"set:p"),this.Sa(),this.M=t.M,this.N=t.N,this},ft.prototype.copy=function(){var t=new ft;return t.M=this.M,t.N=this.N,t},(n=ft.prototype).Oa=function(){return this.J=!0,Object.freeze(this),this},n.V=function(){return Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this.J=!0,this},n.Xa=function(){return Object.isFrozen(this)&&s.k("cannot thaw constant: "+this),this.J=!1,this},n.Sa=function(t){if(this.J){var e="The Point is frozen, so its properties cannot be set: "+this.toString();void 0!==t&&(e+="  to value: "+t),s.k(e)}},ft.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];i&&(n=parseFloat(i));for(var r=0;""===t[e];)e++;return(i=t[e++])&&(r=parseFloat(i)),new ft(n,r)}return new ft},ft.stringify=function(t){return r&&s.l(t,ft),t.x.toString()+" "+t.y.toString()},ft.prototype.toString=function(){return"Point("+this.x+","+this.y+")"},ft.prototype.equals=ft.prototype.O=function(t){return t instanceof ft&&this.M===t.x&&this.N===t.y},ft.prototype.equalTo=ft.prototype.Tx=function(t,e){return this.M===t&&this.N===e},ft.prototype.equalsApprox=ft.prototype.Wc=function(t){return Ce(this.M,t.x)&&Ce(this.N,t.y)},ft.prototype.add=ft.prototype.add=function(t){return r&&s.l(t,ft,ft,"add:p"),this.Sa(),this.M+=t.x,this.N+=t.y,this},ft.prototype.subtract=ft.prototype.$j=function(t){return r&&s.l(t,ft,ft,"subtract:p"),this.Sa(),this.M-=t.x,this.N-=t.y,this},ft.prototype.offset=ft.prototype.offset=function(t,e){return r&&(s.p(t,ft,"offset:dx"),s.p(e,ft,"offset:dy")),this.Sa(),this.M+=t,this.N+=e,this},ft.prototype.rotate=ft.prototype.rotate=function(t){if(r&&s.p(t,ft,"rotate:angle"),this.Sa(),0===t)return this;var e=this.M,n=this.N;if(0===e&&0===n)return this;var i=0,o=0;return 360<=t?t-=360:0>t&&(t+=360),90===t?(i=0,o=1):180===t?(i=-1,o=0):270===t?(i=0,o=-1):(t=t*Math.PI/180,i=Math.cos(t),o=Math.sin(t)),this.M=i*e-o*n,this.N=o*e+i*n,this},ft.prototype.scale=ft.prototype.scale=function(t,e){return r&&(s.p(t,ft,"scale:sx"),s.p(e,ft,"scale:sy")),this.M*=t,this.N*=e,this},ft.prototype.distanceSquaredPoint=ft.prototype.Kf=function(t){r&&s.l(t,ft,ft,"distanceSquaredPoint:p");var e=t.x-this.M;return e*e+(t=t.y-this.N)*t},ft.prototype.distanceSquared=ft.prototype.mq=function(t,e){r&&(s.p(t,ft,"distanceSquared:px"),s.p(e,ft,"distanceSquared:py"));var n=t-this.M,i=e-this.N;return n*n+i*i},ft.prototype.normalize=ft.prototype.normalize=function(){this.Sa();var t=this.M,e=this.N,n=Math.sqrt(t*t+e*e);return 0<n&&(this.M=t/n,this.N=e/n),this},ft.prototype.directionPoint=ft.prototype.Wb=function(t){return r&&s.l(t,ft,ft,"directionPoint:p"),pt(t.x-this.M,t.y-this.N)},ft.prototype.direction=ft.prototype.direction=function(t,e){return r&&(s.p(t,ft,"direction:px"),s.p(e,ft,"direction:py")),pt(t-this.M,e-this.N)},ft.prototype.projectOntoLineSegment=function(t,e,n,i){return r&&(s.p(t,ft,"projectOntoLineSegment:px"),s.p(e,ft,"projectOntoLineSegment:py"),s.p(n,ft,"projectOntoLineSegment:qx"),s.p(i,ft,"projectOntoLineSegment:qy")),Ie(t,e,n,i,this.M,this.N,this),this},ft.prototype.projectOntoLineSegmentPoint=function(t,e){return r&&(s.l(t,ft,ft,"projectOntoLineSegmentPoint:p"),s.l(e,ft,ft,"projectOntoLineSegmentPoint:q")),Ie(t.x,t.y,e.x,e.y,this.M,this.N,this),this},ft.prototype.snapToGrid=function(t,e,n,i){return r&&(s.p(t,ft,"snapToGrid:originx"),s.p(e,ft,"snapToGrid:originy"),s.p(n,ft,"snapToGrid:cellwidth"),s.p(i,ft,"snapToGrid:cellheight")),Ke(this.M,this.N,t,e,n,i,this),this},ft.prototype.snapToGridPoint=function(t,e){return r&&(s.l(t,ft,ft,"snapToGridPoint:p"),s.l(e,yt,ft,"snapToGridPoint:q")),Ke(this.M,this.N,t.x,t.y,e.width,e.height,this),this},ft.prototype.setRectSpot=ft.prototype.uo=function(t,e){return r&&(s.l(t,vt,ft,"setRectSpot:r"),s.l(e,Ct,ft,"setRectSpot:spot")),this.Sa(),this.M=t.x+e.x*t.width+e.offsetX,this.N=t.y+e.y*t.height+e.offsetY,this},ft.prototype.setSpot=ft.prototype.pv=function(t,e,n,i,o){return r&&(s.p(t,ft,"setSpot:x"),s.p(e,ft,"setSpot:y"),s.p(n,ft,"setSpot:w"),s.p(i,ft,"setSpot:h"),(0>n||0>i)&&s.k("Point.setSpot:Width and height cannot be negative"),s.l(o,Ct,ft,"setSpot:spot")),this.Sa(),this.M=t+o.x*n+o.offsetX,this.N=e+o.y*i+o.offsetY,this},ft.prototype.transform=function(t){return r&&s.l(t,St,ft,"transform:t"),t.vb(this),this},ft.distanceLineSegmentSquared=f=function(t,e,n,i,o,a){r&&(s.p(t,ft,"distanceLineSegmentSquared:px"),s.p(e,ft,"distanceLineSegmentSquared:py"),s.p(n,ft,"distanceLineSegmentSquared:ax"),s.p(i,ft,"distanceLineSegmentSquared:ay"),s.p(o,ft,"distanceLineSegmentSquared:bx"),s.p(a,ft,"distanceLineSegmentSquared:by"));var l=o-n,h=a-i,u=l*l+h*h,c=-(n-=t)*l-(i-=e)*h;return 0>=c||c>=u?(l=o-t,h=a-e,Math.min(n*n+i*i,l*l+h*h)):(t=l*i-h*n)*t/u},ft.distanceSquared=p=function(t,e,n,i){return r&&(s.p(t,ft,"distanceSquared:px"),s.p(e,ft,"distanceSquared:py"),s.p(n,ft,"distanceSquared:qx"),s.p(i,ft,"distanceSquared:qy")),(t=n-t)*t+(e=i-e)*e},ft.direction=d=function(t,e,n,i){return r&&(s.p(t,ft,"direction:px"),s.p(e,ft,"direction:py"),s.p(n,ft,"direction:qx"),s.p(i,ft,"direction:qy")),e=i-e,0==(t=n-t)?0<e?90:0>e?270:0:0===e?0<t?0:180:isNaN(t)||isNaN(e)?0:(i=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?i=0>e?i+180:180-i:0>e&&(i=360-i),i)},s.defineProperty(ft,{x:"x"},function(){return this.M},function(t){this.Sa(t),r&&s.h(t,"number",ft,"x"),this.M=t}),s.defineProperty(ft,{y:"y"},function(){return this.N},function(t){this.Sa(t),r&&s.h(t,"number",ft,"y"),this.N=t}),ft.prototype.isReal=ft.prototype.H=function(){return isFinite(this.x)&&isFinite(this.y)},s.ka("Size",yt),s.Di(yt),s.me(yt,{width:!0,height:!0}),yt.prototype.assign=function(t){this.Ia=t.Ia,this.Ha=t.Ha},yt.prototype.setTo=yt.prototype.n=function(t,e){return r&&(s.h(t,"number",yt,"setTo:w"),s.h(e,"number",yt,"setTo:h"),0>t&&s.ua(t,">= 0",yt,"setTo:w"),0>e&&s.ua(e,">= 0",yt,"setTo:h")),this.Ia=t,this.Ha=e,this},yt.prototype.set=yt.prototype.set=function(t){return r&&s.l(t,yt,yt,"set:s"),this.Sa(),this.Ia=t.Ia,this.Ha=t.Ha,this},yt.prototype.copy=function(){var t=new yt;return t.Ia=this.Ia,t.Ha=this.Ha,t},(n=yt.prototype).Oa=function(){return this.J=!0,Object.freeze(this),this},n.V=function(){return Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this.J=!0,this},n.Xa=function(){return Object.isFrozen(this)&&s.k("cannot thaw constant: "+this),this.J=!1,this},n.Sa=function(t){if(this.J){var e="The Size is frozen, so its properties cannot be set: "+this.toString();void 0!==t&&(e+="  to value: "+t),s.k(e)}},yt.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];i&&(n=parseFloat(i));for(var r=0;""===t[e];)e++;return(i=t[e++])&&(r=parseFloat(i)),new yt(n,r)}return new yt},yt.stringify=function(t){return r&&s.l(t,yt),t.width.toString()+" "+t.height.toString()},yt.prototype.toString=function(){return"Size("+this.width+","+this.height+")"},yt.prototype.equals=yt.prototype.O=function(t){return t instanceof yt&&this.Ia===t.width&&this.Ha===t.height},yt.prototype.equalTo=yt.prototype.Tx=function(t,e){return this.Ia===t&&this.Ha===e},yt.prototype.equalsApprox=yt.prototype.Wc=function(t){return Ce(this.Ia,t.width)&&Ce(this.Ha,t.height)},s.defineProperty(yt,{width:"width"},function(){return this.Ia},function(t){this.Sa(t),r&&s.h(t,"number",yt,"width"),0>t&&s.ua(t,">= 0",yt,"width"),this.Ia=t}),s.defineProperty(yt,{height:"height"},function(){return this.Ha},function(t){this.Sa(t),r&&s.h(t,"number",yt,"height"),0>t&&s.ua(t,">= 0",yt,"height"),this.Ha=t}),yt.prototype.isReal=yt.prototype.H=function(){return isFinite(this.width)&&isFinite(this.height)},s.ka("Rect",vt),s.Di(vt),s.me(vt,{x:!0,y:!0,width:!0,height:!0}),vt.prototype.assign=function(t){this.M=t.M,this.N=t.N,this.Ia=t.Ia,this.Ha=t.Ha},vt.prototype.setTo=vt.prototype.n=function(t,e,n,i){return r&&(s.h(t,"number",vt,"setTo:x"),s.h(e,"number",vt,"setTo:y"),s.h(n,"number",vt,"setTo:w"),s.h(i,"number",vt,"setTo:h"),0>n&&s.ua(n,">= 0",vt,"setTo:w"),0>i&&s.ua(i,">= 0",vt,"setTo:h")),this.M=t,this.N=e,this.Ia=n,this.Ha=i,this},vt.prototype.set=vt.prototype.set=function(t){return r&&s.l(t,vt,vt,"set:r"),this.Sa(),this.M=t.M,this.N=t.N,this.Ia=t.Ia,this.Ha=t.Ha,this},vt.prototype.setPoint=vt.prototype.gh=function(t){return r&&s.l(t,ft,vt,"setPoint:p"),this.Sa(),this.M=t.M,this.N=t.N,this},vt.prototype.setSize=function(t){return r&&s.l(t,yt,vt,"setSize:s"),this.Sa(),this.Ia=t.Ia,this.Ha=t.Ha,this},vt.prototype.copy=function(){var t=new vt;return t.M=this.M,t.N=this.N,t.Ia=this.Ia,t.Ha=this.Ha,t},(n=vt.prototype).Oa=function(){return this.J=!0,Object.freeze(this),this},n.V=function(){return Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this.J=!0,this},n.Xa=function(){return Object.isFrozen(this)&&s.k("cannot thaw constant: "+this),this.J=!1,this},n.Sa=function(t){if(this.J){var e="The Rect is frozen, so its properties cannot be set: "+this.toString();void 0!==t&&(e+="  to value: "+t),s.k(e)}},vt.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];i&&(n=parseFloat(i));for(var r=0;""===t[e];)e++;(i=t[e++])&&(r=parseFloat(i));for(var o=0;""===t[e];)e++;(i=t[e++])&&(o=parseFloat(i));for(var s=0;""===t[e];)e++;return(i=t[e++])&&(s=parseFloat(i)),new vt(n,r,o,s)}return new vt},vt.stringify=function(t){return r&&s.l(t,vt),t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()},vt.prototype.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},vt.prototype.equals=vt.prototype.O=function(t){return t instanceof vt&&this.M===t.x&&this.N===t.y&&this.Ia===t.width&&this.Ha===t.height},vt.prototype.equalTo=vt.prototype.Tx=function(t,e,n,i){return this.M===t&&this.N===e&&this.Ia===n&&this.Ha===i},vt.prototype.equalsApprox=vt.prototype.Wc=function(t){return Ce(this.M,t.x)&&Ce(this.N,t.y)&&Ce(this.Ia,t.width)&&Ce(this.Ha,t.height)},vt.prototype.containsPoint=vt.prototype.Pa=function(t){return r&&s.l(t,ft,vt,"containsPoint:p"),this.M<=t.x&&this.M+this.Ia>=t.x&&this.N<=t.y&&this.N+this.Ha>=t.y},vt.prototype.containsRect=vt.prototype.Sk=function(t){return r&&s.l(t,vt,vt,"containsRect:r"),this.M<=t.x&&t.x+t.width<=this.M+this.Ia&&this.N<=t.y&&t.y+t.height<=this.N+this.Ha},vt.prototype.contains=vt.prototype.contains=function(t,e,n,i){return r?(s.p(t,vt,"contains:x"),s.p(e,vt,"contains:y"),void 0===n?n=0:s.p(n,vt,"contains:w"),void 0===i?i=0:s.p(i,vt,"contains:h"),(0>n||0>i)&&s.k("Rect.contains:Width and height cannot be negative")):(void 0===n&&(n=0),void 0===i&&(i=0)),this.M<=t&&t+n<=this.M+this.Ia&&this.N<=e&&e+i<=this.N+this.Ha},vt.prototype.reset=function(){this.Sa(),this.Ha=this.Ia=this.N=this.M=0},vt.prototype.offset=vt.prototype.offset=function(t,e){return r&&(s.p(t,vt,"offset:dx"),s.p(e,vt,"offset:dy")),this.Sa(),this.M+=t,this.N+=e,this},vt.prototype.inflate=vt.prototype.ig=function(t,e){return r&&(s.p(t,vt,"inflate:w"),s.p(e,vt,"inflate:h")),bt(this,e,t,e,t)},vt.prototype.addMargin=vt.prototype.yx=function(t){return r&&s.l(t,Pt,vt,"addMargin:m"),bt(this,t.top,t.right,t.bottom,t.left)},vt.prototype.subtractMargin=vt.prototype.zK=function(t){return r&&s.l(t,Pt,vt,"subtractMargin:m"),bt(this,-t.top,-t.right,-t.bottom,-t.left)},vt.prototype.grow=function(t,e,n,i){return r&&(s.p(t,vt,"grow:t"),s.p(e,vt,"grow:r"),s.p(n,vt,"grow:b"),s.p(i,vt,"grow:l")),bt(this,t,e,n,i)},vt.prototype.intersectRect=function(t){return r&&s.l(t,vt,vt,"intersectRect:r"),xt(this,t.x,t.y,t.width,t.height)},vt.prototype.intersect=vt.prototype.bG=function(t,e,n,i){return r&&(s.p(t,vt,"intersect:x"),s.p(e,vt,"intersect:y"),s.p(n,vt,"intersect:w"),s.p(i,vt,"intersect:h"),(0>n||0>i)&&s.k("Rect.intersect:Width and height cannot be negative")),xt(this,t,e,n,i)},vt.prototype.intersectsRect=vt.prototype.jg=function(t){return r&&s.l(t,vt,vt,"intersectsRect:r"),this.cG(t.x,t.y,t.width,t.height)},vt.prototype.intersects=vt.prototype.cG=function(t,e,n,i){r&&(s.p(t,vt,"intersects:x"),s.p(e,vt,"intersects:y"),s.p(t,vt,"intersects:w"),s.p(e,vt,"intersects:h"),(0>n||0>i)&&s.k("Rect.intersects:Width and height cannot be negative"));var o=this.Ia,a=this.M;return!(1/0!==o&&1/0!==n&&(o+=a,n+=t,isNaN(n)||isNaN(o)||a>n||t>o)||(n=this.N,1/0!==(t=this.Ha)&&1/0!==i&&(t+=n,i+=e,isNaN(i)||isNaN(t)||n>i||e>t)))},vt.prototype.unionPoint=vt.prototype.Mi=function(t){return r&&s.l(t,ft,vt,"unionPoint:p"),kt(this,t.x,t.y,0,0)},vt.prototype.unionRect=vt.prototype.Zh=function(t){return r&&s.l(t,vt,vt,"unionRect:r"),kt(this,t.M,t.N,t.Ia,t.Ha)},vt.prototype.union=vt.prototype.uH=function(t,e,n,i){return this.Sa(),r?(s.p(t,vt,"union:x"),s.p(e,vt,"union:y"),void 0===n?n=0:s.p(n,vt,"union:w"),void 0===i?i=0:s.p(i,vt,"union:h"),(0>n||0>i)&&s.k("Rect.union:Width and height cannot be negative")):(void 0===n&&(n=0),void 0===i&&(i=0)),kt(this,t,e,n,i)},vt.prototype.setSpot=vt.prototype.pv=function(t,e,n){return r&&(s.p(t,vt,"setSpot:x"),s.p(e,vt,"setSpot:y"),s.l(n,Ct,vt,"setSpot:spot")),this.Sa(),this.M=t-n.offsetX-n.x*this.Ia,this.N=e-n.offsetY-n.y*this.Ha,this},vt.contains=y=function(t,e,n,i,o,a,l,h){return r?(s.p(t,vt,"contains:rx"),s.p(e,vt,"contains:ry"),s.p(n,vt,"contains:rw"),s.p(i,vt,"contains:rh"),s.p(o,vt,"contains:x"),s.p(a,vt,"contains:y"),void 0===l?l=0:s.p(l,vt,"contains:w"),void 0===h?h=0:s.p(h,vt,"contains:h"),(0>n||0>i||0>l||0>h)&&s.k("Rect.contains:Width and height cannot be negative")):(void 0===l&&(l=0),void 0===h&&(h=0)),t<=o&&o+l<=t+n&&e<=a&&a+h<=e+i},vt.intersects=function(t,e,n,i,o,a,l,h){return r&&(s.p(t,vt,"intersects:rx"),s.p(e,vt,"intersects:ry"),s.p(n,vt,"intersects:rw"),s.p(i,vt,"intersects:rh"),s.p(o,vt,"intersects:x"),s.p(a,vt,"intersects:y"),s.p(l,vt,"intersects:w"),s.p(h,vt,"intersects:h"),(0>n||0>i||0>l||0>h)&&s.k("Rect.intersects:Width and height cannot be negative")),n+=t,!(t>(l+=o)||o>n||(t=i+e,e>(h+=a)||a>t))},s.defineProperty(vt,{x:"x"},function(){return this.M},function(t){this.Sa(t),r&&s.h(t,"number",vt,"x"),this.M=t}),s.defineProperty(vt,{y:"y"},function(){return this.N},function(t){this.Sa(t),r&&s.h(t,"number",vt,"y"),this.N=t}),s.defineProperty(vt,{width:"width"},function(){return this.Ia},function(t){this.Sa(t),r&&s.h(t,"number",vt,"width"),0>t&&s.ua(t,">= 0",vt,"width"),this.Ia=t}),s.defineProperty(vt,{height:"height"},function(){return this.Ha},function(t){this.Sa(t),r&&s.h(t,"number",vt,"height"),0>t&&s.ua(t,">= 0",vt,"height"),this.Ha=t}),s.defineProperty(vt,{left:"left"},function(){return this.M},function(t){this.Sa(t),r&&s.h(t,"number",vt,"left"),this.M=t}),s.defineProperty(vt,{top:"top"},function(){return this.N},function(t){this.Sa(t),r&&s.h(t,"number",vt,"top"),this.N=t}),s.defineProperty(vt,{right:"right"},function(){return this.M+this.Ia},function(t){this.Sa(t),r&&s.p(t,vt,"right"),this.M+=t-(this.M+this.Ia)}),s.defineProperty(vt,{bottom:"bottom"},function(){return this.N+this.Ha},function(t){this.Sa(t),r&&s.p(t,vt,"top"),this.N+=t-(this.N+this.Ha)}),s.defineProperty(vt,{position:"position"},function(){return new ft(this.M,this.N)},function(t){this.Sa(t),r&&s.l(t,ft,vt,"position"),this.M=t.x,this.N=t.y}),s.defineProperty(vt,{size:"size"},function(){return new yt(this.Ia,this.Ha)},function(t){this.Sa(t),r&&s.l(t,yt,vt,"size"),this.Ia=t.width,this.Ha=t.height}),s.defineProperty(vt,{jm:"center"},function(){return new ft(this.M+this.Ia/2,this.N+this.Ha/2)},function(t){this.Sa(t),r&&s.l(t,ft,vt,"center"),this.M=t.x-this.Ia/2,this.N=t.y-this.Ha/2}),s.defineProperty(vt,{pa:"centerX"},function(){return this.M+this.Ia/2},function(t){this.Sa(t),r&&s.p(t,vt,"centerX"),this.M=t-this.Ia/2}),s.defineProperty(vt,{va:"centerY"},function(){return this.N+this.Ha/2},function(t){this.Sa(t),r&&s.p(t,vt,"centerY"),this.N=t-this.Ha/2}),vt.prototype.isReal=vt.prototype.H=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},vt.prototype.isEmpty=function(){return 0===this.width&&0===this.height},s.ka("Margin",Pt),s.Di(Pt),s.me(Pt,{top:!0,right:!0,bottom:!0,left:!0}),Pt.prototype.assign=function(t){this.Eh=t.Eh,this.Dh=t.Dh,this.mh=t.mh,this.vh=t.vh},Pt.prototype.setTo=Pt.prototype.n=function(t,e,n,i){return r&&(s.h(t,"number",Pt,"setTo:t"),s.h(e,"number",Pt,"setTo:r"),s.h(n,"number",Pt,"setTo:b"),s.h(i,"number",Pt,"setTo:l")),this.Sa(),this.Eh=t,this.Dh=e,this.mh=n,this.vh=i,this},Pt.prototype.set=Pt.prototype.set=function(t){return r&&s.l(t,Pt,Pt,"assign:m"),this.Sa(),this.Eh=t.Eh,this.Dh=t.Dh,this.mh=t.mh,this.vh=t.vh,this},Pt.prototype.copy=function(){var t=new Pt;return t.Eh=this.Eh,t.Dh=this.Dh,t.mh=this.mh,t.vh=this.vh,t},(n=Pt.prototype).Oa=function(){return this.J=!0,Object.freeze(this),this},n.V=function(){return Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this.J=!0,this},n.Xa=function(){return Object.isFrozen(this)&&s.k("cannot thaw constant: "+this),this.J=!1,this},n.Sa=function(t){if(this.J){var e="The Margin is frozen, so its properties cannot be set: "+this.toString();void 0!==t&&(e+="  to value: "+t),s.k(e)}},Pt.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=NaN;""===t[e];)e++;var i=t[e++];if(i&&(n=parseFloat(i)),isNaN(n))return new Pt;for(var r=NaN;""===t[e];)e++;if((i=t[e++])&&(r=parseFloat(i)),isNaN(r))return new Pt(n);for(var o=NaN;""===t[e];)e++;if((i=t[e++])&&(o=parseFloat(i)),isNaN(o))return new Pt(n,r);for(var s=NaN;""===t[e];)e++;return(i=t[e++])&&(s=parseFloat(i)),isNaN(s)?new Pt(n,r):new Pt(n,r,o,s)}return new Pt},Pt.stringify=function(t){return r&&s.l(t,Pt),t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()},Pt.prototype.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},Pt.prototype.equals=Pt.prototype.O=function(t){return t instanceof Pt&&this.Eh===t.top&&this.Dh===t.right&&this.mh===t.bottom&&this.vh===t.left},Pt.prototype.equalTo=Pt.prototype.Tx=function(t,e,n,i){return this.Eh===t&&this.Dh===e&&this.mh===n&&this.vh===i},Pt.prototype.equalsApprox=Pt.prototype.Wc=function(t){return Ce(this.Eh,t.top)&&Ce(this.Dh,t.right)&&Ce(this.mh,t.bottom)&&Ce(this.vh,t.left)},s.defineProperty(Pt,{top:"top"},function(){return this.Eh},function(t){this.Sa(t),r&&s.p(t,Pt,"top"),this.Eh=t}),s.defineProperty(Pt,{right:"right"},function(){return this.Dh},function(t){this.Sa(t),r&&s.p(t,Pt,"right"),this.Dh=t}),s.defineProperty(Pt,{bottom:"bottom"},function(){return this.mh},function(t){this.Sa(t),r&&s.p(t,Pt,"bottom"),this.mh=t}),s.defineProperty(Pt,{left:"left"},function(){return this.vh},function(t){this.Sa(t),r&&s.p(t,Pt,"left"),this.vh=t}),Pt.prototype.isReal=Pt.prototype.H=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},s.Di(St),s.me(St,{m11:!0,m12:!0,m21:!0,m22:!0,dx:!0,dy:!0}),St.prototype.set=St.prototype.set=function(t){return r&&s.l(t,St,St,"set:t"),this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},St.prototype.copy=function(){var t=new St;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},St.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},St.prototype.equals=St.prototype.O=function(t){return t instanceof St&&this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy},St.prototype.isIdentity=St.prototype.Nu=function(){return 1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22&&0===this.dx&&0===this.dy},St.prototype.reset=St.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},St.prototype.multiply=St.prototype.multiply=function(t){r&&s.l(t,St,St,"multiply:matrix");var e=this.m12*t.m11+this.m22*t.m12,n=this.m11*t.m21+this.m21*t.m22,i=this.m12*t.m21+this.m22*t.m22,o=this.m11*t.dx+this.m21*t.dy+this.dx,a=this.m12*t.dx+this.m22*t.dy+this.dy;return this.m11=this.m11*t.m11+this.m21*t.m12,this.m12=e,this.m21=n,this.m22=i,this.dx=o,this.dy=a,this},St.prototype.multiplyInverted=St.prototype.GB=function(t){r&&s.l(t,St,St,"multiplyInverted:matrix");var e=1/(t.m11*t.m22-t.m12*t.m21),n=t.m22*e,i=-t.m12*e,o=-t.m21*e,a=t.m11*e,l=e*(t.m21*t.dy-t.m22*t.dx),h=e*(t.m12*t.dx-t.m11*t.dy);return t=this.m12*n+this.m22*i,e=this.m11*o+this.m21*a,o=this.m12*o+this.m22*a,a=this.m11*l+this.m21*h+this.dx,l=this.m12*l+this.m22*h+this.dy,this.m11=this.m11*n+this.m21*i,this.m12=t,this.m21=e,this.m22=o,this.dx=a,this.dy=l,this},St.prototype.invert=St.prototype.pB=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,n=-this.m21*t,i=this.m11*t,r=t*(this.m21*this.dy-this.m22*this.dx),o=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=e,this.m21=n,this.m22=i,this.dx=r,this.dy=o,this},St.prototype.rotate=St.prototype.rotate=function(t,e,n){if(r&&(s.p(t,St,"rotate:angle"),s.p(e,St,"rotate:rx"),s.p(n,St,"rotate:ry")),360<=t?t-=360:0>t&&(t+=360),0===t)return this;this.translate(e,n);var i=0,o=0;90===t?(i=0,o=1):180===t?(i=-1,o=0):270===t?(i=0,o=-1):(o=t*Math.PI/180,i=Math.cos(o),o=Math.sin(o)),t=this.m12*i+this.m22*o;var a=this.m11*-o+this.m21*i,l=this.m12*-o+this.m22*i;return this.m11=this.m11*i+this.m21*o,this.m12=t,this.m21=a,this.m22=l,this.translate(-e,-n),this},St.prototype.translate=St.prototype.translate=function(t,e){return r&&(s.p(t,St,"translate:x"),s.p(e,St,"translate:y")),this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this},St.prototype.scale=St.prototype.scale=function(t,e){return void 0===e&&(e=t),r&&(s.p(t,St,"translate:sx"),s.p(e,St,"translate:sy")),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this},St.prototype.transformPoint=St.prototype.vb=function(t){r&&s.l(t,ft,St,"transformPoint:p");var e=t.M,n=t.N;return t.M=e*this.m11+n*this.m21+this.dx,t.N=e*this.m12+n*this.m22+this.dy,t},St.prototype.invertedTransformPoint=St.prototype.Oh=function(t){r&&s.l(t,ft,St,"invertedTransformPoint:p");var e=1/(this.m11*this.m22-this.m12*this.m21),n=-this.m12*e,i=this.m11*e,o=e*(this.m12*this.dx-this.m11*this.dy),a=t.M,l=t.N;return t.M=a*this.m22*e+l*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),t.N=a*n+l*i+o,t},St.prototype.transformRect=St.prototype.tH=function(t){r&&s.l(t,vt,St,"transformRect:rect");var e=(c=t.N)+t.Ha,n=this.m21,i=this.m22,o=this.dx,a=this.dy,l=(p=t.M)*(d=this.m11)+c*n+o,h=p*(v=this.m12)+c*i+a,u=(y=p+t.Ia)*d+c*n+o,c=y*v+c*i+a,f=p*d+e*n+o,p=p*v+e*i+a,d=y*d+e*n+o,y=y*v+e*i+a,v=(e=l,h);return l=Math.min(l,u),e=Math.max(e,u),v=Math.min(v,c),h=Math.max(h,c),l=Math.min(l,f),e=Math.max(e,f),v=Math.min(v,p),h=Math.max(h,p),l=Math.min(l,d),e=Math.max(e,d),v=Math.min(v,y),h=Math.max(h,y),t.M=l,t.N=v,t.Ia=e-l,t.Ha=h-v,t},s.ka("Spot",Ct),s.Di(Ct),s.me(Ct,{x:!0,y:!0,offsetX:!0,offsetY:!0}),Ct.prototype.assign=function(t){this.M=t.M,this.N=t.N,this.Mg=t.Mg,this.Ng=t.Ng},Ct.prototype.setTo=Ct.prototype.n=function(t,e,n,i){return r&&(Mt(t,"setTo:x"),Mt(e,"setTo:y"),Nt(n,"setTo:offx"),Nt(i,"setTo:offy")),this.Sa(),this.M=t,this.N=e,this.Mg=n,this.Ng=i,this},Ct.prototype.set=Ct.prototype.set=function(t){return r&&s.l(t,Ct,Ct,"set:s"),this.Sa(),this.M=t.M,this.N=t.N,this.Mg=t.Mg,this.Ng=t.Ng,this},Ct.prototype.copy=function(){var t=new Ct;return t.M=this.M,t.N=this.N,t.Mg=this.Mg,t.Ng=this.Ng,t},(n=Ct.prototype).Oa=function(){return this.J=!0,Object.freeze(this),this},n.V=function(){return Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this.J=!0,this},n.Xa=function(){return Object.isFrozen(this)&&s.k("cannot thaw constant: "+this),this.J=!1,this},n.Sa=function(t){if(this.J){var e="The Spot is frozen, so its properties cannot be set: "+this.toString();void 0!==t&&(e+="  to value: "+t),s.k(e)}},Ct.parse=v=function(t){if("string"==typeof t){if("None"===(t=t.trim()))return g;if("TopLeft"===t)return b;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return x;if("TopRight"===t)return w;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return k;if("Center"===t)return P;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return S;if("BottomLeft"===t)return C;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return T;if("BottomRight"===t)return M;if("TopSide"===t)return F;if("LeftSide"===t)return I;if("RightSide"===t)return R;if("BottomSide"===t)return V;if("TopBottomSides"===t)return B;if("LeftRightSides"===t)return z;if("TopLeftSides"===t)return q;if("TopRightSides"===t)return G;if("BottomLeftSides"===t)return H;if("BottomRightSides"===t)return U;if("NotTopSide"===t)return K;if("NotLeftSide"===t)return J;if("NotRightSide"===t)return W;if("NotBottomSide"===t)return Y;if("AllSides"===t)return Z;if("Default"===t)return m;t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];void 0!==i&&0<i.length&&(n=parseFloat(i));for(var r=0;""===t[e];)e++;void 0!==(i=t[e++])&&0<i.length&&(r=parseFloat(i));for(var o=0;""===t[e];)e++;void 0!==(i=t[e++])&&0<i.length&&(o=parseFloat(i));for(var s=0;""===t[e];)e++;return void 0!==(i=t[e++])&&0<i.length&&(s=parseFloat(i)),new Ct(n,r,o,s)}return new Ct},Ct.stringify=function(t){return r&&s.l(t,Ct),t.Xc()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()},Ct.prototype.toString=function(){return this.Xc()?0===this.Mg&&0===this.Ng?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.O(g)?"None":this.O(b)?"TopLeft":this.O(x)?"Top":this.O(w)?"TopRight":this.O(k)?"Left":this.O(P)?"Center":this.O(S)?"Right":this.O(C)?"BottomLeft":this.O(T)?"Bottom":this.O(M)?"BottomRight":this.O(F)?"TopSide":this.O(I)?"LeftSide":this.O(R)?"RightSide":this.O(V)?"BottomSide":this.O(B)?"TopBottomSides":this.O(z)?"LeftRightSides":this.O(q)?"TopLeftSides":this.O(G)?"TopRightSides":this.O(H)?"BottomLeftSides":this.O(U)?"BottomRightSides":this.O(K)?"NotTopSide":this.O(J)?"NotLeftSide":this.O(W)?"NotRightSide":this.O(Y)?"NotBottomSide":this.O(Z)?"AllSides":this.O(m)?"Default":"None"},Ct.prototype.equals=Ct.prototype.O=function(t){return t instanceof Ct&&(this.M===t.x||isNaN(this.M)&&isNaN(t.x))&&(this.N===t.y||isNaN(this.N)&&isNaN(t.y))&&this.Mg===t.offsetX&&this.Ng===t.offsetY},Ct.prototype.opposite=Ct.prototype.DG=function(){return new Ct(.5-(this.M-.5),.5-(this.N-.5),-this.Mg,-this.Ng)},Ct.prototype.includesSide=Ct.prototype.Mj=function(t){if(!this.Pj())return!1;if(!t.Pj())if(t.O(E))t=I;else if(t.O(D))t=R;else if(t.O(O))t=F;else{if(!t.O(L))return!1;t=V}return(this.Ng&(t=t.offsetY))===t},s.defineProperty(Ct,{x:"x"},function(){return this.M},function(t){this.Sa(t),r&&Mt(t,"x"),this.M=t}),s.defineProperty(Ct,{y:"y"},function(){return this.N},function(t){this.Sa(t),r&&Mt(t,"y"),this.N=t}),s.defineProperty(Ct,{offsetX:"offsetX"},function(){return this.Mg},function(t){this.Sa(t),r&&Nt(t,"offsetX"),this.Mg=t}),s.defineProperty(Ct,{offsetY:"offsetY"},function(){return this.Ng},function(t){this.Sa(t),r&&Nt(t,"offsetY"),this.Ng=t}),Ct.prototype.isSpot=Ct.prototype.Xc=function(){return!isNaN(this.x)&&!isNaN(this.y)},Ct.prototype.isNoSpot=Ct.prototype.de=function(){return isNaN(this.x)||isNaN(this.y)},Ct.prototype.isSide=Ct.prototype.Pj=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},Ct.prototype.isNone=Ct.prototype.sJ=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},Ct.prototype.isDefault=Ct.prototype.ld=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY},Ct.None=g=Tt(new Ct(0,0,0,0),0).Oa(),Ct.Default=m=Tt(new Ct(0,0,-1,0),-1).Oa(),Ct.TopLeft=b=new Ct(0,0,0,0).Oa(),Ct.TopCenter=x=new Ct(.5,0,0,0).Oa(),Ct.TopRight=w=new Ct(1,0,0,0).Oa(),Ct.LeftCenter=k=new Ct(0,.5,0,0).Oa(),Ct.Center=P=new Ct(.5,.5,0,0).Oa(),Ct.RightCenter=S=new Ct(1,.5,0,0).Oa(),Ct.BottomLeft=C=new Ct(0,1,0,0).Oa(),Ct.BottomCenter=T=new Ct(.5,1,0,0).Oa(),Ct.BottomRight=M=new Ct(1,1,0,0).Oa(),Ct.MiddleTop=N=x,Ct.MiddleLeft=j=k,Ct.MiddleRight=A=S,Ct.MiddleBottom=_=T,Ct.Top=O=x,Ct.Left=E=k,Ct.Right=D=S,Ct.Bottom=L=T,Ct.TopSide=F=Tt(new Ct(0,0,1,s.Ad),1).Oa(),Ct.LeftSide=I=Tt(new Ct(0,0,1,s.bd),1).Oa(),Ct.RightSide=R=Tt(new Ct(0,0,1,s.rd),1).Oa(),Ct.BottomSide=V=Tt(new Ct(0,0,1,s.qd),1).Oa(),Ct.TopBottomSides=B=Tt(new Ct(0,0,1,s.Ad|s.qd),1).Oa(),Ct.LeftRightSides=z=Tt(new Ct(0,0,1,s.bd|s.rd),1).Oa(),Ct.TopLeftSides=q=Tt(new Ct(0,0,1,s.Ad|s.bd),1).Oa(),Ct.TopRightSides=G=Tt(new Ct(0,0,1,s.Ad|s.rd),1).Oa(),Ct.BottomLeftSides=H=Tt(new Ct(0,0,1,s.qd|s.bd),1).Oa(),Ct.BottomRightSides=U=Tt(new Ct(0,0,1,s.qd|s.rd),1).Oa(),Ct.NotTopSide=K=Tt(new Ct(0,0,1,s.bd|s.rd|s.qd),1).Oa(),Ct.NotLeftSide=J=Tt(new Ct(0,0,1,s.Ad|s.rd|s.qd),1).Oa(),Ct.NotRightSide=W=Tt(new Ct(0,0,1,s.Ad|s.bd|s.qd),1).Oa(),Ct.NotBottomSide=Y=Tt(new Ct(0,0,1,s.Ad|s.bd|s.rd),1).Oa(),Ct.AllSides=Z=Tt(new Ct(0,0,1,s.Ad|s.bd|s.rd|s.qd),1).Oa(),jt.prototype.copy=function(){var t=new jt;return t.ac[0]=this.ac[0],t.ac[1]=this.ac[1],t.ac[2]=this.ac[2],t.ac[3]=this.ac[3],t.ac[4]=this.ac[4],t.ac[5]=this.ac[5],t},jt.prototype.translate=function(t,e){this.ac[4]+=this.ac[0]*t+this.ac[2]*e,this.ac[5]+=this.ac[1]*t+this.ac[3]*e},jt.prototype.scale=function(t,e){this.ac[0]*=t,this.ac[1]*=t,this.ac[2]*=e,this.ac[3]*=e},At.prototype.addColorStop=function(t,e){this.hF.push({offset:t,color:e})},(n=_t.prototype).arc=function(t,e,n,i,r,o){!function t(e,n,i,r,o,s,a){var l=Math.abs(o-s);if(o!==s){var h=n+r*Math.cos(s);s=i+r*Math.sin(s),l>=2*Math.PI?(t(e,n,i,r,o,o+Math.PI,a),t(e,n,i,r,o+Math.PI,o+2*Math.PI,a),e.path.push(["M",h,s])):(n+=r*Math.cos(o),i+=r*Math.sin(o),l=180*l/Math.PI,o=a?0:1,a=180<=l==!!a?0:1,e.path.push(0!==e.path.length?["L",n,i]:["M",n,i]),e.path.push(["A",r,r,l,a,o,h,s]))}}(this,t,e,n,i,r,o)},n.beginPath=function(){this.path=[]},n.bezierCurveTo=function(t,e,n,i,r,o){this.path.push(["C",t,e,n,i,r,o])},n.clearRect=function(){},n.clip=function(){Ft(this,"clipPath",this.path,new jt)},n.closePath=function(){this.path.push(["z"])},n.createLinearGradient=function(t,e,n,i){var r=new At("linear");return r.x1=t,r.y1=e,r.x2=n,r.y2=i,r},n.createPattern=function(){return null},n.createRadialGradient=function(t,e,n,i,r,o){var s=new At("radial");return s.x1=t,s.y1=e,s.r1=n,s.x2=i,s.y2=r,s.r2=o,s},n.drawImage=function(t,e,n,i,r,o,a,l,h){var u="";t instanceof HTMLCanvasElement&&(u=t.toDataURL()),t instanceof HTMLImageElement&&(u=t.src),void 0===i&&(o=e,a=n,l=i=t.naturalWidth,h=r=t.naturalHeight),i=i||0,r=r||0,o=o||0,a=a||0,l=l||0,h=h||0,u={x:0,y:0,width:t.naturalWidth,height:t.naturalHeight,href:u,preserveAspectRatio:"xMidYMid slice"},Te(i,l)&&Te(r,h)||(u.preserveAspectRatio="none");var c="";l/=i,h/=r,0===o&&0===a||(c+=" translate("+o+", "+a+")"),1===l&&1===h||(c+=" scale("+l+", "+h+")"),0===e&&0===n||(c+=" translate("+-e+", "+-n+")"),0===e&&0===n&&i===t.naturalWidth&&r===t.naturalHeight||((o=Ot(this,"clipPath",{id:t="CLIP"+s.Km++})).appendChild(Ot(this,"rect",{x:e,y:n,width:i,height:r})),this.Em.appendChild(o),u["clip-path"]="url(#"+t+")"),Et(this,"image",u,this.Mh,c),this.addElement("image",u)},n.fill=function(){Ft(this,"fill",this.path,this.Mh)},n.Xg=function(){this.eq?this.clip():this.fill()},n.fillRect=function(t,e,n,i){Lt(this,"fill",[t,e,n,i],this.Mh)},n.fillText=function(t,e,n){t=[t,e,n],"left"===(e=this.textAlign)?e="start":"right"===e?e="end":"center"===e&&(e="middle"),Et(this,"fill",e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},this.Mh),this.addElement("text",e,t[0])},n.lineTo=function(t,e){this.path.push(["L",t,e])},n.moveTo=function(t,e){this.path.push(["M",t,e])},n.quadraticCurveTo=function(t,e,n,i){this.path.push(["Q",t,e,n,i])},n.rect=function(t,e,n,i){this.path.push(["M",t,e],["L",t+n,e],["L",t+n,e+i],["L",t,e+i],["z"])},n.restore=function(){this.Mh=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.bo=t.bo,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign},n.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,bo:this.bo,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.Mh.copy())},n.setTransform=function(t,e,n,i,r,o){1===t&&0===e&&0===n&&1===i&&0===r&&0===o||It(this,t,e,n,i,r,o)},n.scale=function(t,e){this.Mh.scale(t,e)},n.translate=function(t,e){this.Mh.translate(t,e)},n.transform=function(){},n.stroke=function(){Ft(this,"stroke",this.path,this.Mh)},n.Zj=function(){this.eq||this.stroke()},n.strokeRect=function(t,e,n,i){Lt(this,"stroke",[t,e,n,i],this.Mh)},n.addElement=function(t,e,n){return t=Ot(this,t,e,n),0<this.yf.length?this.yf[this.yf.length-1].appendChild(t):this.Em.appendChild(t),this.ny=t},n.kb=function(){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var t,e,n,i,r,o="SHADOW"+s.Km++,a=this.addElement("filter",{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},null);t=Ot(this,"feGaussianBlur",{in:"SourceAlpha",result:"blur",IM:this.shadowBlur/2}),e=Ot(this,"feFlood",{in:"blur",result:"flood","flood-color":this.shadowColor}),n=Ot(this,"feComposite",{in:"flood",in2:"blur",operator:"in",result:"comp"}),i=Ot(this,"feOffset",{in:"comp",result:"offsetBlur",dx:this.shadowOffsetX,dy:this.shadowOffsetY}),(r=Ot(this,"feMerge",{})).appendChild(Ot(this,"feMergeNode",{in:"offsetBlur"})),r.appendChild(Ot(this,"feMergeNode",{in:"SourceGraphic"})),a.appendChild(t),a.appendChild(e),a.appendChild(n),a.appendChild(i),a.appendChild(r),0<this.yf.length&&this.yf[this.yf.length-1].setAttributeNS(null,"filter","url(#"+o+")")}},n.fC=function(t,e,n){this.Ft=t,this.Gt=e,this.Pg=n},n.Cm=function(){this.shadowBlur=this.shadowOffsetY=this.shadowOffsetX=0},n.wo=function(){this.shadowOffsetX=this.Ft,this.shadowOffsetY=this.Gt,this.shadowBlur=this.Pg},n.YA=function(){return!1},n.TA=function(){},n.De=function(){},n.Sy=function(){},_t.prototype.rotate=function(){},(n=Rt.prototype).toDataURL=function(t,e){return this.$d.toDataURL(t,e)},n.getBoundingClientRect=function(){return this.$d.getBoundingClientRect()},n.focus=function(){return this.$d.focus()},n.addEventListener=function(t,e,n){this.$d.addEventListener(t,e,n)},n.removeEventListener=function(t,e,n){this.$d.removeEventListener(t,e,n)},s.defineProperty(Rt,{width:"width"},function(){return this.$d.width},function(t){this.$d.width=t}),s.defineProperty(Rt,{height:"height"},function(){return this.$d.height},function(t){this.$d.height=t}),s.w(Rt,{style:"style"},function(){return this.$d.style}),Vt.prototype.Sy=function(t){this.za.lB=t},s.defineProperty(Vt,{fillStyle:"fillStyle"},function(){return this.za.fillStyle},function(t){this.qz!==t&&(this.qz=this.za.fillStyle=t)}),s.defineProperty(Vt,{font:"font"},function(){return this.za.font},function(t){this.rz!==t&&(this.rz=this.za.font=t)}),s.defineProperty(Vt,{globalAlpha:"globalAlpha"},function(){return this.za.globalAlpha},function(t){this.za.globalAlpha=t}),s.defineProperty(Vt,{lineCap:"lineCap"},function(){return this.za.lineCap},function(t){this.za.lineCap=t}),s.defineProperty(Vt,{bo:"lineDashOffset"},function(){return this.za.bo},function(t){this.za.bo=t}),s.defineProperty(Vt,{lineJoin:"lineJoin"},function(){return this.za.lineJoin},function(t){this.za.lineJoin=t}),s.defineProperty(Vt,{lineWidth:"lineWidth"},function(){return this.za.lineWidth},function(t){this.za.lineWidth=t}),s.defineProperty(Vt,{miterLimit:"miterLimit"},function(){return this.za.miterLimit},function(t){this.za.miterLimit=t}),s.defineProperty(Vt,{shadowBlur:"shadowBlur"},function(){return this.za.shadowBlur},function(t){this.za.shadowBlur=t}),s.defineProperty(Vt,{shadowColor:"shadowColor"},function(){return this.za.shadowColor},function(t){this.za.shadowColor=t}),s.defineProperty(Vt,{shadowOffsetX:"shadowOffsetX"},function(){return this.za.shadowOffsetX},function(t){this.za.shadowOffsetX=t}),s.defineProperty(Vt,{shadowOffsetY:"shadowOffsetY"},function(){return this.za.shadowOffsetY},function(t){this.za.shadowOffsetY=t}),s.defineProperty(Vt,{strokeStyle:"strokeStyle"},function(){return this.za.strokeStyle},function(t){this.sz!==t&&(this.sz=this.za.strokeStyle=t)}),s.defineProperty(Vt,{textAlign:"textAlign"},function(){return this.za.textAlign},function(t){this.za.textAlign=t}),s.defineProperty(Vt,{lB:"imageSmoothingEnabled"},function(){return this.za.lB},function(t){this.za.lB=t}),(n=Vt.prototype).arc=function(t,e,n,i,r,o){this.za.arc(t,e,n,i,r,o)},n.beginPath=function(){this.za.beginPath()},n.bezierCurveTo=function(t,e,n,i,r,o){this.za.bezierCurveTo(t,e,n,i,r,o)},n.clearRect=function(t,e,n,i){this.za.clearRect(t,e,n,i)},n.clip=function(){this.za.clip()},n.closePath=function(){this.za.closePath()},n.createLinearGradient=function(t,e,n,i){return this.za.createLinearGradient(t,e,n,i)},n.createPattern=function(t,e){return this.za.createPattern(t,e)},n.createRadialGradient=function(t,e,n,i,r,o){return this.za.createRadialGradient(t,e,n,i,r,o)},n.drawImage=function(t,e,n,i,r,o,s,a,l){void 0===i?this.za.drawImage(t,e,n):this.za.drawImage(t,e,n,i,r,o,s,a,l)},n.fill=function(){this.za.fill()},n.fillRect=function(t,e,n,i){this.za.fillRect(t,e,n,i)},n.fillText=function(t,e,n){this.za.fillText(t,e,n)},n.getImageData=function(t,e,n,i){return this.za.getImageData(t,e,n,i)},n.lineTo=function(t,e){this.za.lineTo(t,e)},n.measureText=function(t){return this.za.measureText(t)},n.moveTo=function(t,e){this.za.moveTo(t,e)},n.quadraticCurveTo=function(t,e,n,i){this.za.quadraticCurveTo(t,e,n,i)},n.rect=function(t,e,n,i){this.za.rect(t,e,n,i)},n.restore=function(){this.za.restore()},Vt.prototype.rotate=function(t){this.za.rotate(t)},(n=Vt.prototype).save=function(){this.za.save()},n.setTransform=function(t,e,n,i,r,o){this.za.setTransform(t,e,n,i,r,o)},n.scale=function(t,e){this.za.scale(t,e)},n.stroke=function(){this.za.stroke()},n.transform=function(t,e,n,i,r,o){1===t&&0===e&&0===n&&1===i&&0===r&&0===o||this.za.transform(t,e,n,i,r,o)},n.translate=function(t,e){this.za.translate(t,e)},n.Xg=function(t){if(t instanceof Is&&t.type===Ps){var e=t.Mo;(t=t.xz)>e?(this.scale(e/t,1),this.translate((t-e)/2,0)):e>t&&(this.scale(1,t/e),this.translate(0,(e-t)/2)),this.vr?this.clip():this.fill(),t>e?(this.translate(-(t-e)/2,0),this.scale(1/(e/t),1)):e>t&&(this.translate(0,-(e-t)/2),this.scale(1,1/(t/e)))}else this.vr?this.clip():this.fill()},n.Zj=function(){this.vr||this.stroke()},s.defineProperty(Vt,{eq:"clipInsteadOfFill"},function(){return this.vr},function(t){this.vr=t}),(n=Vt.prototype).fC=function(t,e,n){this.Ft=t,this.Gt=e,this.Pg=n},n.Cm=function(){this.shadowBlur=this.shadowOffsetY=this.shadowOffsetX=0},n.wo=function(){this.shadowOffsetX=this.Ft,this.shadowOffsetY=this.Gt,this.shadowBlur=this.Pg},n.YA=function(t,e){var n=this.za;if(void 0!==n.setLineDash)n.setLineDash(t),n.lineDashOffset=e;else{if(void 0===n.webkitLineDash)return!1;n.webkitLineDash=t,n.webkitLineDashOffset=e}return!0},n.TA=function(){var t=this.za;void 0!==t.setLineDash?(t.setLineDash(s.Do),t.lineDashOffset=0):void 0!==t.webkitLineDash&&(t.webkitLineDash=s.Do,t.webkitLineDashOffset=0)},n.De=function(t){t&&(this.rz=""),this.qz=this.sz=""};var Bt,zt,qt,Gt,Ht,Ut,Kt,Jt,Wt,Yt,Zt,Xt,Qt,$t,te,ee,ne=(Math.sqrt(2)-1)/3*4,ie=new ft(0,0).Oa(),re=new vt(0,0,0,0).Oa(),oe=new Pt(0,0,0,0).Oa(),se=new Pt(2,2,2,2).Oa(),ae=new ft(6,6).Oa(),le=new ft(-1/0,-1/0).Oa(),he=new ft(1/0,1/0).Oa(),ue=new yt(0,0).Oa(),ce=new yt(1,1).Oa(),fe=new yt(6,6).Oa(),pe=new yt(8,8).Oa(),de=new yt(10,10).Oa(),ye=new yt(1/0,1/0).Oa(),ve=new ft(NaN,NaN).Oa(),ge=new yt(NaN,NaN).Oa(),me=new vt(NaN,NaN,NaN,NaN).Oa(),be=new Ct(.156,.156).Oa(),xe=new Ct(.844,.844).Oa(),we=new h,ke=new h,Pe=null;function Se(t){if(0>=t)return 0;if(null===(e=Pe)){for(var e=[],n=0;2e3>=n;n++)e[n]=Math.sqrt(n);Pe=e}return 1>t?2e3>=(n=1/t)?1/e[0|n]:Math.sqrt(t):2e3>=t?e[0|t]:Math.sqrt(t)}function Ce(t,e){var n=t-e;return.5>n&&-.5<n}function Te(t,e){var n=t-e;return 5e-8>n&&-5e-8<n}function Me(t,e,n,i,r,o,s){0>=r&&(r=1e-6);var a=0,l=0,h=0,u=0;if(t<n?(l=t,a=n):(l=n,a=t),e<i?(u=e,h=i):(u=i,h=e),t===n)return u<=s&&s<=h&&t-r<=o&&o<=t+r;if(e===i)return l<=o&&o<=a&&e-r<=s&&s<=e+r;if(a+=r,(l-=r)<=o&&o<=a&&(h+=r,(u-=r)<=s&&s<=h))if(a-l>h-u){if(!(t-n>r||n-t>r))return!0;if((o=(i-e)/(n-t)*(o-t)+e)-r<=s&&s<=o+r)return!0}else{if(!(e-i>r||i-e>r))return!0;if((s=(n-t)/(i-e)*(s-e)+t)-r<=o&&o<=s+r)return!0}return!1}function Ne(t,e,n,i,r,o,s,a,l,h,u,c){if(Me(t,e,s,a,c,n,i)&&Me(t,e,s,a,c,r,o))return Me(t,e,s,a,c,h,u);var f,p=(t+n)/2,d=(e+i)/2,y=(i+o)/2,v=((i=(p+(f=(n+r)/2))/2)+(f=(f+(r=(r+s)/2))/2))/2,g=((n=(d+y)/2)+(y=(y+(o=(o+a)/2))/2))/2;return Ne(t,e,p,d,i,n,v,g,l,h,u,c)||Ne(v,g,f,y,r,o,s,a,l,h,u,c)}function je(t,e,n,i,r,o,s,a,l,h){if(Me(t,e,s,a,l,n,i)&&Me(t,e,s,a,l,r,o))kt(h,t,e,0,0),kt(h,s,a,0,0);else{var u,c=(t+n)/2,f=(e+i)/2,p=(i+o)/2,d=((i=(c+(u=(n+r)/2))/2)+(u=(u+(r=(r+s)/2))/2))/2,y=((n=(f+p)/2)+(p=(p+(o=(o+a)/2))/2))/2;je(t,e,c,f,i,n,d,y,l,h),je(d,y,u,p,r,o,s,a,l,h)}}function Ae(t,e,n,i,r,o,s,a,l,h){if(Me(t,e,s,a,l,n,i)&&Me(t,e,s,a,l,r,o))0===h.length&&(h.push(t),h.push(e)),h.push(s),h.push(a);else{var u,c=(t+n)/2,f=(e+i)/2,p=(i+o)/2,d=((i=(c+(u=(n+r)/2))/2)+(u=(u+(r=(r+s)/2))/2))/2,y=((n=(f+p)/2)+(p=(p+(o=(o+a)/2))/2))/2;Ae(t,e,c,f,i,n,d,y,l,h),Ae(d,y,u,p,r,o,s,a,l,h)}}function _e(t,e,n,i,r,o,s,a,l,h,u,c,f,p){var d=1-l;t=t*d+n*l,e=e*d+i*l,n=n*d+r*l,i=i*d+o*l,r=r*d+s*l,o=o*d+a*l,a=t*d+n*l,s=e*d+i*l,n=n*d+r*l,i=i*d+o*l,h.x=t,h.y=e,u.x=a,u.y=s,c.x=a*d+n*l,c.y=s*d+i*l,f.x=n,f.y=i,p.x=r,p.y=o}function Oe(t,e,n,i,r,o,s,a,l,h){if(Me(t,e,r,o,h,n,i))return Me(t,e,r,o,h,a,l);var u=(t+n)/2,c=(e+i)/2,f=(u+(n=(n+r)/2))/2,p=(c+(i=(i+o)/2))/2;return Oe(t,e,u,c,f,p,s,a,l,h)||Oe(f,p,n,i,r,o,s,a,l,h)}function Ee(t,e,n,i,r,o,s,a){if(Me(t,e,r,o,s,n,i))kt(a,t,e,0,0),kt(a,r,o,0,0);else{var l=(t+n)/2,h=(e+i)/2,u=(l+(n=(n+r)/2))/2,c=(h+(i=(i+o)/2))/2;Ee(t,e,l,h,u,c,s,a),Ee(u,c,n,i,r,o,s,a)}}function De(t,e,n,i,r,o,s,a){if(Me(t,e,r,o,s,n,i))0===a.length&&(a.push(t),a.push(e)),a.push(r),a.push(o);else{var l=(t+n)/2,h=(e+i)/2,u=(l+(n=(n+r)/2))/2,c=(h+(i=(i+o)/2))/2;De(t,e,l,h,u,c,s,a),De(u,c,n,i,r,o,s,a)}}function Le(t,e,n,i,r,o,s,a,l,h,u,c,f,p){if(0>=f&&(f=1e-6),Me(t,e,s,a,f,n,i)&&Me(t,e,s,a,f,r,o)){if(0==(d=(t-s)*(h-c)-(e-a)*(l-u)))return!1;if(f=((t*a-e*s)*(l-u)-(t-s)*(l*c-h*u))/d,d=((t*a-e*s)*(h-c)-(e-a)*(l*c-h*u))/d,(l>u?l-u:u-l)<(h>c?h-c:c-h)){if(s=l=0,e<a?(l=e,s=a):(l=a,s=e),d<l||d>s)return!1}else if(t<s?l=t:(l=s,s=t),f<l||f>s)return!1;return p.x=f,p.y=d,!0}var d,y=(e+i)/2,v=((d=(t+n)/2)+(n=(n+r)/2))/2,g=(y+(i=(i+o)/2))/2,m=(v+(n=(n+(r=(r+s)/2))/2))/2,b=(g+(i=(i+(o=(o+a)/2))/2))/2,x=(u-l)*(u-l)+(c-h)*(c-h),w=!1;return Le(t,e,d,y,v,g,m,b,l,h,u,c,f,p)&&(e=(p.x-l)*(p.x-l)+(p.y-h)*(p.y-h))<x&&(x=e,w=!0),t=p.x,d=p.y,Le(m,b,n,i,r,o,s,a,l,h,u,c,f,p)&&((e=(p.x-l)*(p.x-l)+(p.y-h)*(p.y-h))<x?w=!0:(p.x=t,p.y=d)),w}function Fe(t,e,n,i,r,o,s,a,l,h,u,c,f){var p=0;if(0>=f&&(f=1e-6),Me(t,e,s,a,f,n,i)&&Me(t,e,s,a,f,r,o)){if(0==(f=(t-s)*(h-c)-(e-a)*(l-u)))return p;var d=((t*a-e*s)*(h-c)-(e-a)*(l*c-h*u))/f;if((y=((t*a-e*s)*(l-u)-(t-s)*(l*c-h*u))/f)>=u)return p;if((l>u?l-u:u-l)<(h>c?h-c:c-h)){if(t=l=0,e<a?(l=e,t=a):(l=a,t=e),d<l||d>t)return p}else if(t<s?(l=t,t=s):l=s,y<l||y>t)return p;0<f?p++:0>f&&p--}else{d=(e+i)/2;var y,v,g=(i+o)/2,m=((i=((y=(t+n)/2)+(v=(n+r)/2))/2)+(v=(v+(r=(r+s)/2))/2))/2,b=((n=(d+g)/2)+(g=(g+(o=(o+a)/2))/2))/2;p=(p+=Fe(t,e,y,d,i,n,m,b,l,h,u,c,f))+Fe(m,b,v,g,r,o,s,a,l,h,u,c,f)}return p}function Ie(t,e,n,i,r,o,s){if(Te(t,n)){var a=0;return n=0,e<i?(a=e,n=i):(a=i,n=e),(i=o)<a?(s.x=t,s.y=a,!1):i>n?(s.x=t,s.y=n,!1):(s.x=t,s.y=i,!0)}return Te(e,i)?(t<n?a=t:(a=n,n=t),(i=r)<a?(s.x=a,s.y=e,!1):i>n?(s.x=n,s.y=e,!1):(s.x=i,s.y=e,!0)):-5e-6>(a=((t-r)*(t-n)+(e-o)*(e-i))/((n-t)*(n-t)+(i-e)*(i-e)))?(s.x=t,s.y=e,!1):1.000005<a?(s.x=n,s.y=i,!1):(s.x=t+a*(n-t),s.y=e+a*(i-e),!0)}function Re(t,e,n,i,r,o,s,a,l){return Ce(t,n)&&Ce(e,i)?(l.x=t,l.y=e,!1):Te(r,s)?Te(t,n)?(Ie(t,e,n,i,r,o,l),!1):Ie(t,e,n,i,r,o=(i-e)/(n-t)*(r-t)+e,l):(a=(a-o)/(s-r),Te(t,n)?(o=a*(t-r)+o,n=s=0,e<i?(s=e,n=i):(s=i,n=e),o<s?(l.x=t,l.y=s,!1):o>n?(l.x=t,l.y=n,!1):(l.x=t,l.y=o,!0)):Te(a,s=(i-e)/(n-t))?(Ie(t,e,n,i,r,o,l),!1):(r=(s*t-a*r+o-e)/(s-a),Te(s,0)?(t<n?s=t:(s=n,n=t),r<s?(l.x=s,l.y=e,!1):r>n?(l.x=n,l.y=e,!1):(l.x=r,l.y=e,!0)):Ie(t,e,n,i,r,o=s*(r-t)+e,l)))}function Ve(t,e,n,i,r,o,s,a,l){var h=1e21,u=t,c=e;if(Re(t,e,t,i,r,o,s,a,l)){var f=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o);f<h&&(h=f,u=l.x,c=l.y)}return Re(n,e,n,i,r,o,s,a,l)&&(f=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o))<h&&(h=f,u=l.x,c=l.y),Re(t,e,n,e,r,o,s,a,l)&&(f=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o))<h&&(h=f,u=l.x,c=l.y),Re(t,i,n,i,r,o,s,a,l)&&(f=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o))<h&&(h=f,u=l.x,c=l.y),l.x=u,l.y=c,1e21>h}function Be(t,e,n,i,r,o,s,a,l){var h=r-s,u=s=0;return u=0==(n=t-n)||0===h?0===n?(a=(o-a)/h)*(s=t)+(o-a*r):(i=(e-i)/n)*(s=r)+(e-i*t):(i=(e-i)/n)*(s=(o-(a=(o-a)/h)*r-(t=e-i*t))/(i-a))+t,l.n(s,u),l}function ze(t,e,n){var i=e.x,r=e.y,o=n.x,s=n.y,a=t.left,l=t.right,h=t.top,u=t.bottom;return i===o?(o=t=0,r<s?(t=r,o=s):(t=s,o=r),a<=i&&i<=l&&t<=u&&o>=h):r===s?(i<o?t=i:(t=o,o=i),h<=r&&r<=u&&t<=l&&o>=a):!!(t.Pa(e)||t.Pa(n)||qe(a,h,l,h,i,r,o,s)||qe(l,h,l,u,i,r,o,s)||qe(l,u,a,u,i,r,o,s)||qe(a,u,a,h,i,r,o,s))}function qe(t,e,n,i,r,o,s,a){return 0>=Ge(t,e,n,i,r,o)*Ge(t,e,n,i,s,a)&&0>=Ge(r,o,s,a,t,e)*Ge(r,o,s,a,n,i)}function Ge(t,e,n,i,r,o){return n-=t,0==(o=(t=r-t)*(i-=e)-(e=o-e)*n)&&0<(o=t*n+e*i)&&0>(o=(t-n)*n+(e-i)*i)&&(o=0),0>o?-1:0<o?1:0}function He(t){return 0>t&&(t+=360),360<=t&&(t-=360),t}function Ue(t,e,n,i){var r=Math.PI;i||(e*=r/180,n*=r/180);var o=e>n?-1:1;i=[];var s=r/2,a=e;if(1e-5>(n=Math.min(2*r,Math.abs(n-e))))return e=a+o*Math.min(n,s),o=0+t*Math.cos(a),a=0+t*Math.sin(a),s=0+t*Math.cos(e),t=0+t*Math.sin(e),i.push([o,a,e=(o+s)/2,n=(a+t)/2,e,n,s,t]),i;for(;1e-5<n;){r=((e=a+o*Math.min(n,s))-a)/2;var l,h=(f=(l=t*Math.cos(r))*l+(c=-(u=t*Math.sin(r)))*c)+l*l+c*u,u=l-(f=4/3*(Math.sqrt(2*f*h)-h)/(l*u-c*l))*c,c=-(l=c+f*l),f=r+a;r=Math.cos(f),f=Math.sin(f),i.push([0+t*Math.cos(a),0+t*Math.sin(a),0+u*r-l*f,0+u*f+l*r,0+u*r-c*f,0+u*f+c*r,0+t*Math.cos(e),0+t*Math.sin(e)]),n-=Math.abs(e-a),a=e}return i}function Ke(t,e,n,i,r,o,s){n=Math.floor((t-n)/r)*r+n,i=Math.floor((e-i)/o)*o+i;var a=n;n+r-t<r/2&&(a=n+r),t=i,i+o-e<o/2&&(t=i+o),s.n(a,t)}function Je(t,e){var n=Math.max(t,e),i=Math.min(t,e),r=1,o=1;do{r=n%i,n=o=i,i=r}while(0<r);return o}function We(t){1<arguments.length&&s.k("Geometry constructor can take at most one optional argument, the Geometry type."),s.xc(this),this.J=!1,void 0===t?t=Gt:r&&s.Da(t,We,We,"constructor:type"),this.da=t,this.Jb=this.Cb=this.Mc=this.Ac=0,this.jk=new nt(nn),this.dw=this.jk.I,this.Pv=(new vt).freeze(),this.pb=!0,this.kr=this.Go=null,this.lr=NaN,this.xi=b,this.yi=M,this.jp=this.lp=NaN,this.Xi=ta}function Ye(t,e){if(t.type!==Bt||e.type!==Gt)return!1;if(1===e.nc.count){var n=e.nc.fa(0);if(1===n.Eb.count&&Ce(t.la,n.la)&&Ce(t.ja,n.ja)&&(n=n.Eb.fa(0)).type===Jt&&Ce(t.F,n.F)&&Ce(t.G,n.G))return!0}return!1}function Ze(t,e){for(var n=t.length,i=s.P(),r=0;r<n;r++){var o=t[r];i.x=o[0],i.y=o[1],e.vb(i),o[0]=i.x,o[1]=i.y,i.x=o[2],i.y=o[3],e.vb(i),o[2]=i.x,o[3]=i.y,i.x=o[4],i.y=o[5],e.vb(i),o[4]=i.x,o[5]=i.y,i.x=o[6],i.y=o[7],e.vb(i),o[6]=i.x,o[7]=i.y}s.A(i)}function Xe(t,e,n){switch(t.type){case Bt:case zt:case qt:n?e.n(t.Ac,t.Mc,0,0):kt(e,t.Ac,t.Mc,0,0),kt(e,t.Cb,t.Jb,0,0);break;case Gt:t=(i=t.nc).o;for(var i=i.length,r=0;r<i;r++){var o=t[r];n&&0===r?e.n(o.la,o.ja,0,0):kt(e,o.la,o.ja,0,0);for(var a=o.Eb.o,l=a.length,h=o.la,u=o.ja,c=0;c<l;c++)switch((d=a[c]).type){case Jt:case Kt:kt(e,h=d.F,u=d.G,0,0);break;case Wt:je(h,u,d.Ec,d.$c,d.Uh,d.Vh,d.F,d.G,.5,e),h=d.F,u=d.G;break;case Yt:Ee(h,u,d.Ec,d.$c,d.F,d.G,.5,e),h=d.F,u=d.G;break;case Zt:case Xt:var f=d.type===Zt?on(d,o):sn(d,o,h,u),p=f.length;if(0===p){kt(e,h=d.pa,u=d.va,0,0);break}for(var d=null,y=0;y<p;y++)je((d=f[y])[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],.5,e);null!==d&&(h=d[6],u=d[7]);break;default:s.k("Unknown Segment type: "+d.type)}}break;default:s.k("Unknown Geometry type: "+t.type)}}function Qe(t,e,n,i,r,o,s,a){if(Me(r,o,s,a,.05,t,e))return NaN;var l=(t-n)*(o-a);if(0===l)return 0;var h=((t*i-e*n)*(r-s)-(t-n)*(r*a-o*s))/l;if(e=(t*i-e*n)*(o-a)/l,h>=t)return 0;if((r>s?r-s:s-r)<(o>a?o-a:a-o)){if(r=t=0,o<a?(t=o,r=a):(t=a,r=o),e<t||e>r)return 0}else if(r<s?(t=r,r=s):t=s,h<t||h>r)return 0;return 0<l?1:-1}function $e(t,e,n,i){for(var r=(t=t.nc.o).length,o=0;o<r;o++)if(t[o].Pa(e,n,i))return!0;return!1}function tn(t){if(null===t.Go){t.iy()&&t.Yy();var e=t.Go=[],n=t.kr=[],i=[],r=[];if(t.type===Bt)i.push(t.la),i.push(t.ja),i.push(t.F),i.push(t.G),e.push(i),r.push(Math.sqrt((t.la-t.F)*(t.la-t.F)+(t.ja-t.G)*(t.ja-t.G))),n.push(r);else if(t.type===zt)i.push(t.la),i.push(t.ja),i.push(t.F),i.push(t.ja),i.push(t.F),i.push(t.G),i.push(t.la),i.push(t.G),i.push(t.la),i.push(t.ja),e.push(i),r.push(Math.abs(t.la-t.F)),r.push(Math.abs(t.ja-t.G)),r.push(Math.abs(t.la-t.F)),r.push(Math.abs(t.ja-t.G)),n.push(r);else if(t.type===qt){if((a=new nn).la=t.F,a.ja=(t.ja+t.G)/2,(o=new rn(Zt)).Me=0,o.Ef=360,o.pa=(t.la+t.F)/2,o.va=(t.ja+t.G)/2,o.radiusX=Math.abs(t.la-t.F)/2,o.radiusY=Math.abs(t.ja-t.G)/2,a.add(o),0===(r=(t=on(o,a)).length))i.push(o.pa),i.push(o.va);else for(var o=a.la,a=a.ja,l=0;l<r;l++){var h=t[l];Ae(o,a,h[2],h[3],h[4],h[5],h[6],h[7],.5,i),o=h[6],a=h[7]}e.push(i),n.push(en(i))}else for(var u=t.nc.j;u.next();){var c=u.value;(i=[]).push(c.la),i.push(c.ja);for(var f=o=c.la,p=a=c.ja,d=c.Eb.o,y=d.length,v=0;v<y;v++){var g=d[v];switch(g.da){case Kt:4<=i.length&&(e.push(i),n.push(en(i))),(i=[]).push(g.F),i.push(g.G),f=o=g.F,p=a=g.G;break;case Jt:i.push(g.F),i.push(g.G),o=g.F,a=g.G;break;case Wt:Ae(o,a,g.Vd,g.ff,g.Ch,g.Og,g.Cb,g.Jb,.5,i),o=g.F,a=g.G;break;case Yt:De(o,a,g.Vd,g.ff,g.Cb,g.Jb,.5,i),o=g.F,a=g.G;break;case Zt:if(0===(r=(t=on(g,c)).length)){i.push(g.pa),i.push(g.va),o=g.pa,a=g.va;break}for(l=0;l<r;l++)Ae(o,a,(h=t[l])[2],h[3],h[4],h[5],h[6],h[7],.5,i),o=h[6],a=h[7];break;case Xt:if(0===(r=(t=sn(g,c,o,a)).length)){i.push(g.pa),i.push(g.va),o=g.pa,a=g.va;break}for(l=0;l<r;l++)Ae(o,a,(h=t[l])[2],h[3],h[4],h[5],h[6],h[7],.5,i),o=h[6],a=h[7];break;default:s.k("Segment not of valid type: "+g.da)}g.hi&&(i.push(f),i.push(p))}4<=i.length&&(e.push(i),n.push(en(i)))}}}function en(t){for(var e=[],n=0,i=0,r=t.length,o=0;o<r;o+=2){var s=t[o],a=t[o+1];0!==o&&(n=Math.sqrt(p(n,i,s,a)),e.push(n)),n=s,i=a}return e}function nn(t,e,n,i){s.xc(this),this.J=!1,void 0===n&&(n=!0),this.Xm=n,void 0===i&&(i=!0),this.mp=i,void 0!==t?(r&&s.p(t,nn,"sx"),this.Ac=t):this.Ac=0,void 0!==e?(r&&s.p(e,nn,"sy"),this.Mc=e):this.Mc=0,this.Ip=new nt(rn),this.hx=this.Ip.I,this.pb=!0}function rn(t,e,n,i,o,a,l,h){s.xc(this),this.J=!1,void 0===t?t=Jt:r&&s.Da(t,rn,rn,"constructor:type"),this.da=t,void 0!==e?(r&&s.p(e,rn,"ex"),this.Cb=e):this.Cb=0,void 0!==n?(r&&s.p(n,rn,"ey"),this.Jb=n):this.Jb=0,void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===l&&(l=0),t===Xt?(0>(t=a%360)&&(t+=360),this.Vd=t,this.ff=0,r&&s.p(i,rn,"x1"),this.Ch=Math.max(i,0),r&&s.p(o,rn,"y1"),this.Og=Math.max(o,0),this.qp="boolean"==typeof l&&!!l,this.Ko=!!h):(r&&s.p(i,rn,"x1"),this.Vd=i,r&&s.p(o,rn,"y1"),this.ff=o,r&&s.p(a,rn,"x2"),t===Zt&&(a=Math.max(a,0)),this.Ch=a,"number"==typeof l?(t===Zt&&(l=Math.max(l,0)),this.Og=l):this.Og=0,this.Ko=this.qp=!1),this.hi=!1,this.pb=!0,this.$h=null}function on(t,e){if(null!==t.$h&&!1===e.pb)return t.$h;var n=t.radiusX,i=t.radiusY;if(void 0===i&&(i=n),0===n||0===i)return t.$h=[],t.$h;var r=t.Vd,o=t.ff,a=Ue(n<i?n:i,t.Me,t.Me+t.Ef,!1);if(n!==i){var l=s.hh();l.reset(),n<i?l.scale(1,i/n):l.scale(n/i,1),Ze(a,l),s.mf(l)}for(n=a.length,i=0;i<n;i++)(l=a[i])[0]+=r,l[1]+=o,l[2]+=r,l[3]+=o,l[4]+=r,l[5]+=o,l[6]+=r,l[7]+=o;return t.$h=a,t.$h}function sn(t,e,n,i){function r(t,e,n,i){return(t*i<e*n?-1:1)*Math.acos((t*n+e*i)/(Math.sqrt(t*t+e*e)*Math.sqrt(n*n+i*i)))}if(null!==t.$h&&!1===e.pb)return t.$h;var o=t.Og;0===(e=t.Ch)&&(e=1e-4),0===o&&(o=1e-4);var a=Math.PI/180*t.Vd,l=t.qp,h=t.Ko,u=t.Cb,c=t.Jb,f=Math.cos(a),p=Math.sin(a),d=f*(n-u)/2+p*(i-c)/2,y=d*d/(e*e)+(a=-p*(n-u)/2+f*(i-c)/2)*a/(o*o);return 1<y&&(e*=Math.sqrt(y),o*=Math.sqrt(y)),y=(l===h?-1:1)*Math.sqrt((e*e*o*o-e*e*a*a-o*o*d*d)/(e*e*a*a+o*o*d*d)),isNaN(y)&&(y=0),l=y*e*a/o,y=y*-o*d/e,isNaN(l)&&(l=0),isNaN(y)&&(y=0),n=(n+u)/2+f*l-p*y,i=(i+c)/2+p*l+f*y,c=r(1,0,(d-l)/e,(a-y)/o),a=r(f=(d-l)/e,u=(a-y)/o,d=(-d-l)/e,l=(-a-y)/o),-1>=(d=(f*d+u*l)/(Math.sqrt(f*f+u*u)*Math.sqrt(d*d+l*l)))?a=Math.PI:1<=d&&(a=0),!h&&0<a&&(a-=2*Math.PI),h&&0>a&&(a+=2*Math.PI),h=e>o?1:e/o,d=e>o?o/e:1,e=Ue(e>o?e:o,c,c+a,!0),(o=s.hh()).reset(),o.translate(n,i),o.rotate(t.Vd,0,0),o.scale(h,d),Ze(e,o),s.mf(o),t.$h=e,t.$h}function an(){this.ca=null,this.AA=new ft(0,0).freeze(),this.Gz=new ft(0,0).freeze(),this.Mv=this.Iw=0,this.Nv=1,this.vw="",this.sx=this.$v=!1,this.Yv=this.Ov=0,this.ek=this.hw=this.rw=!1,this.$r=null,this.px=0,this.Sg=this.ox=null}function ln(){this.ca=null,this.$b="",this.Sw=this.mx=null,this.sr=!1}function hn(){this.tr=$t,this.nn=this.Hw="",this.Xs=this.Ys=this.ct=this.dt=this.at=this.ca=this.ye=null}function un(t){1<arguments.length&&s.k("Model constructor can only take one optional argument, the Array of node data."),s.xc(this),this.Ir=this.$b="",this.dj=!1,this.dA={},this.ze=[],this.Kc=new ut(null,Object),this.Ck="key",this.Po=this.vp=null,this.zr=this.Ar=!1,this.jr=null,this.hn="category",this.zg=new ut(null,rt),this.yk=null,this.vj=!1,this.zA=null,this.na=new zn,void 0!==t&&(this.qg=t)}function cn(t){return',\n  "modelData": '+mn(t,t.fl)}function fn(t,e){var n=e.modelData;s.Qa(n)&&(t.iv(n),t.fl=n)}function pn(t,e,n,i){if(e===n)return!0;if(typeof e!=typeof n||"function"==typeof e||"function"==typeof n)return!1;if(Array.isArray(e)&&Array.isArray(n)){if(i.oa(e)===n)return!0;if(i.add(e,n),e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!pn(t,e[r],n[r],i))return!1;return!0}if(s.Qa(e)&&s.Qa(n)){if(i.oa(e)===n)return!0;for(r in i.add(e,n),e){var o=e[r];if(!vn(r,o)){var a=n[r];if(void 0===a||!pn(t,o,a,i))return!1}}for(var l in n)if(!(vn(l,a=n[l])||void 0!==(o=e[l])&&pn(t,o,a,i)))return!1;return!0}return!1}function dn(t,e,n){t[n]!==e[n]&&s.k("Model.computeJsonDifference: Model."+n+' is not the same in both models: "'+t[n]+'" and "'+e[n]+'"')}function yn(t,e,n){void 0===n&&(n=!1);var i=s.cb(e);if(0>=i)return"[]";var r=new l;r.add("[ "),n&&1<i&&r.add("\n");for(var o=0;o<i;o++){var a=s.La(e,o);void 0!==a&&(0<o&&(r.add(","),n&&r.add("\n")),r.add(t.xv(a)))}return n&&1<i&&r.add("\n"),r.add(" ]"),r.toString()}function vn(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"==typeof e}function gn(t){return isNaN(t)?"NaN":1/0===t?"9e9999":-1/0===t?"-9e9999":t}function mn(t,e){if((i=e)instanceof ft)e={class:"go.Point",x:gn(i.x),y:gn(i.y)};else if(i instanceof yt)e={class:"go.Size",width:gn(i.width),height:gn(i.height)};else if(i instanceof vt)e={class:"go.Rect",x:gn(i.x),y:gn(i.y),width:gn(i.width),height:gn(i.height)};else if(i instanceof Pt)e={class:"go.Margin",top:gn(i.top),right:gn(i.right),bottom:gn(i.bottom),left:gn(i.left)};else if(i instanceof Ct)e=i.Xc()?{class:"go.Spot",x:gn(i.x),y:gn(i.y),offsetX:gn(i.offsetX),offsetY:gn(i.offsetY)}:{class:"go.Spot",enum:i.toString()};else if(i instanceof Is){if(e={class:"go.Brush",type:i.type.name},i.type===ws?e.color=i.color:i.type!==ks&&i.type!==Ps||(e.start=i.start,e.end=i.end,i.type===Ps&&(0!==i.sv&&(e.startRadius=gn(i.sv)),isNaN(i.ou)||(e.endRadius=gn(i.ou)))),null!==i.Qk){for(var n={},i=i.Qk.j;i.next();)n[i.key]=i.value;e.colorStops=n}}else if(i instanceof We)e={class:"go.Geometry",type:i.type.name},0!==i.la&&(e.startX=gn(i.la)),0!==i.ja&&(e.startY=gn(i.ja)),0!==i.F&&(e.endX=gn(i.F)),0!==i.G&&(e.endY=gn(i.G)),i.C.O(b)||(e.spot1=i.C),i.D.O(M)||(e.spot2=i.D),i.type===Gt&&(e.path=Ht(i));else if(i instanceof a)e={class:"go.EnumValue",classType:s.xf(i.Qe),name:i.name};else if(i instanceof fa||i instanceof eo||i instanceof Qr||i instanceof un||i instanceof Yn||i instanceof Gn||i instanceof Af||i instanceof Ef||i instanceof zn||i instanceof Bn)return s.trace("ERROR: trying to convert a GraphObject or Diagram or Model or Tool or Layout or UndoManager into JSON text: "+i.toString()),"{}";var r;for(r in n="{",i=!0,e)if(!vn(r,l=s.xb(e,r)))if(i?i=!1:n+=", ",n+='"'+r+'":',"points"===r&&l instanceof nt&&l.da===ft){for(var o="[",l=l.j;l.next();){var h=l.value;1<o.length&&(o+=","),o+=t.xv(h.x),o+=",",o+=t.xv(h.y)}n+=o+="]"}else n+=t.xv(l);return n+"}"}function bn(t){return"number"==typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-1/0:parseFloat(t)}function xn(t,e,n,i,r,o,s,a,l){void 0===a&&(a=null),void 0===l&&(l=null);var h=new hn;h.ea=t,h.Oc=n,h.Df=e,h.propertyName=i,h.object=r,h.oldValue=o,h.Wj=a,h.newValue=s,h.Uj=l,t.Gx(h)}function wn(t,e,n){"string"!=typeof t&&"function"!=typeof t&&s.kc(t,"string or function",e,n)}function kn(t){return"number"==typeof t||"string"==typeof t}function Pn(t,e,n){var i=t.zb(e);void 0!==i&&t.Kc.oa(i)===e||(t.zB(e),void 0===(i=t.zb(e))?s.k("Model.makeNodeDataKeyUnique failed on "+e+".  Data not added to Model."):(t.Kc.add(i,e),i=null,n&&(i=s.cb(t.ze),s.Ih(t.ze,i,e)),xn(t,"nodeDataArray",te,"nodeDataArray",t,null,e,null,i),t.Qq(e),t.Pq(e)))}function Sn(t,e,n){var i=t.zb(e);if(void 0!==i&&t.Kc.remove(i),i=null,n){if(0>(i=s.hm(t.ze,e)))return;s.Vg(t.ze,i)}xn(t,"nodeDataArray",ee,"nodeDataArray",t,e,null,i,null),t.wv(e)}function Cn(t,e,n){if(void 0!==e){var i=t.zg.oa(e);null===i&&(i=new rt(Object),t.zg.add(e,i)),i.add(n)}}function Tn(t,e,n){if(void 0!==e){var i=t.zg.oa(e);i instanceof rt&&(void 0===n||null===n?t.zg.remove(e):(i.remove(n),0===i.count&&t.zg.remove(e)))}}function Mn(t,e){if(void 0===e)return null;var n=t.zg.oa(e);return n instanceof rt?n:null}function Nn(t,e,n){if(t.PA&&Array.isArray(e)){var i=[];for(n=0;n<e.length;n++){var r=Nn(t,e[n],t.OA);i.push(r)}return s.xc(i),i}if(n&&s.Qa(e)){for(i in n=(n=e.constructor)?new n:{},e)if("__gohashid"!==i){var o;(o=r=s.xb(e,i))instanceof fa||o instanceof eo||o instanceof Qr||o instanceof Tl||o instanceof Pr||o instanceof Yn||o instanceof Gn||o instanceof Af||o instanceof an||o instanceof ln?("_"!==i[0]&&s.trace('Warning: found GraphObject or Diagram reference when copying model data on property "'+i+'" of data object: '+e.toString()+"  \nModel data should not have any references to a Diagram or any part of a diagram, such as: "+o.toString()),o=!0):o=o instanceof un||o instanceof zn||o instanceof Bn||o instanceof hn,o||(r=Nn(t,r,!1)),s.Ua(n,i,r)}return s.xc(n),n}return e instanceof ft?e.copy():e instanceof yt?e.copy():e instanceof vt?e.copy():e instanceof Ct?e.copy():e instanceof Pt?e.copy():e}s.ka("Geometry",We),s.Di(We),We.prototype.copy=function(){var t=new We;t.da=this.da,t.Ac=this.Ac,t.Mc=this.Mc,t.Cb=this.Cb,t.Jb=this.Jb;for(var e=this.jk.o,n=e.length,i=t.jk,r=0;r<n;r++){var o=e[r].copy();i.add(o)}return t.dw=this.dw,t.Pv.assign(this.Pv),t.pb=this.pb,t.Go=this.Go,t.kr=this.kr,t.lr=this.lr,t.xi=this.xi.V(),t.yi=this.yi.V(),t.lp=this.lp,t.jp=this.jp,t.Xi=this.Xi,t},We.Line=Bt=s.s(We,"Line",0),We.Rectangle=zt=s.s(We,"Rectangle",1),We.Ellipse=qt=s.s(We,"Ellipse",2),We.Path=Gt=s.s(We,"Path",3),We.prototype.Oa=function(){return this.freeze(),Object.freeze(this),this},We.prototype.freeze=function(){this.J=!0,(t=this.nc).freeze();for(var t,e=(t=t.o).length,n=0;n<e;n++)t[n].freeze();return this},We.prototype.Xa=function(){Object.isFrozen(this)&&s.k("cannot thaw constant: "+this),this.J=!1,(t=this.nc).Xa();for(var t,e=(t=t.o).length,n=0;n<e;n++)t[n].Xa();return this},We.prototype.equalsApprox=We.prototype.Wc=function(t){if(!(t instanceof We))return!1;if(this.type!==t.type)return this.type===Bt&&t.type===Gt?Ye(this,t):t.type===Bt&&this.type===Gt&&Ye(t,this);if(this.type===Gt){var e=this.nc.o,n=e.length;if(n!==(t=t.nc.o).length)return!1;for(var i=0;i<n;i++)if(!e[i].Wc(t[i]))return!1;return!0}return Ce(this.la,t.la)&&Ce(this.ja,t.ja)&&Ce(this.F,t.F)&&Ce(this.G,t.G)},We.stringify=Ht=function(t){return t.toString()},We.prototype.qc=function(t){t.Qe===We?this.type=t:s.ak(this,t)},We.prototype.toString=function(t){switch(void 0===t&&(t=-1),this.type){case Bt:return 0>t?"M"+this.la.toString()+" "+this.ja.toString()+"L"+this.F.toString()+" "+this.G.toString():"M"+this.la.toFixed(t)+" "+this.ja.toFixed(t)+"L"+this.F.toFixed(t)+" "+this.G.toFixed(t);case zt:return(i=new vt(this.la,this.ja,0,0)).uH(this.F,this.G,0,0),0>t?"M"+i.x.toString()+" "+i.y.toString()+"H"+i.right.toString()+"V"+i.bottom.toString()+"H"+i.left.toString()+"z":"M"+i.x.toFixed(t)+" "+i.y.toFixed(t)+"H"+i.right.toFixed(t)+"V"+i.bottom.toFixed(t)+"H"+i.left.toFixed(t)+"z";case qt:if((i=new vt(this.la,this.ja,0,0)).uH(this.F,this.G,0,0),0>t){var e=i.left.toString()+" "+(i.y+i.height/2).toString(),n=i.right.toString()+" "+(i.y+i.height/2).toString();return"M"+e+"A"+(i.width/2).toString()+" "+(i.height/2).toString()+" 0 0 1 "+n+"A"+(i.width/2).toString()+" "+(i.height/2).toString()+" 0 0 1 "+e}return e=i.left.toFixed(t)+" "+(i.y+i.height/2).toFixed(t),n=i.right.toFixed(t)+" "+(i.y+i.height/2).toFixed(t),"M"+e+"A"+(i.width/2).toFixed(t)+" "+(i.height/2).toFixed(t)+" 0 0 1 "+n+"A"+(i.width/2).toFixed(t)+" "+(i.height/2).toFixed(t)+" 0 0 1 "+e;case Gt:for(var i="",r=(n=(e=this.nc.o).length,0);r<n;r++){var o=e[r];0<r&&(i+=" x "),o.Ku&&(i+="F "),i+=o.toString(t)}return i;default:return this.type.toString()}},We.fillPath=function(t){"string"!=typeof t&&s.kc(t,"string",We,"fillPath:str");for(var e=(t=t.split(/[Xx]/)).length,n="",i=0;i<e;i++){var r=t[i];n=null!==r.match(/[Ff]/)?0===i?n+r:n+"X"+(" "===r[0]?"":" ")+r:n+(0===i?"":"X ")+"F"+(" "===r[0]?"":" ")+r}return n},We.parse=Ut=function(t,e){function n(){return y>=w-1||null!==h[y+1].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)}function i(){return h[++y]}function r(){var t=new ft(parseFloat(i()),parseFloat(i()));return v===v.toLowerCase()&&(t.x=x.x+t.x,t.y=x.y+t.y),t}function o(){return x=r()}function a(){return b=r()}function l(){return"c"!==g.toLowerCase()&&"s"!==g.toLowerCase()?x:new ft(2*x.x-b.x,2*x.y-b.y)}void 0===e&&(e=!1),"string"!=typeof t&&s.kc(t,"string",We,"parse:str");for(var h=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/,/gm," ")).replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2")).replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2")).replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([^\s])/gm,"$1 $2")).replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ")).replace(/[\s\r\t\n]+/gm," ")).replace(/^\s+|\s+$/g,"")).split(" "),u=0;u<h.length;u++)if(null!==(m=h[u]).match(/(\.[0-9]*)(\.)/gm)){for(var c=[],f="",p=!1,d=0;d<m.length;d++)"."!==(k=m[d])||p?"."===k?(c.push(f),f="."):f+=k:(p=!0,f+=k);for(c.push(f),h.splice(u,1),m=0;m<c.length;m++)h.splice(u+m,0,c[m]);u+=c.length-1}var y=-1,v="",g="",m=new ft(0,0),b=new ft(0,0),x=new ft(0,0),w=h.length;for(c=s.v(),p=f=!1,d=!0,u=null;!(y>=w-1);)if(g=v,""!==(v=i()))switch(v.toUpperCase()){case"X":d=!0,p=f=!1;break;case"M":for(u=o(),null===c.fc||!0===d?(gh(c,u.x,u.y,f,!1,!p),d=!1):c.moveTo(u.x,u.y),m=x;!n();)u=o(),c.lineTo(u.x,u.y);break;case"L":for(;!n();)u=o(),c.lineTo(u.x,u.y);break;case"H":for(;!n();)x=u=new ft((v===v.toLowerCase()?x.x:0)+parseFloat(i()),x.y),c.lineTo(x.x,x.y);break;case"V":for(;!n();)x=u=new ft(x.x,(v===v.toLowerCase()?x.y:0)+parseFloat(i())),c.lineTo(x.x,x.y);break;case"C":for(;!n();){var k=r(),P=a();u=o(),xh(c,k.x,k.y,P.x,P.y,u.x,u.y)}break;case"S":for(;!n();)k=l(),P=a(),u=o(),xh(c,k.x,k.y,P.x,P.y,u.x,u.y);break;case"Q":for(;!n();)P=a(),u=o(),wh(c,P.x,P.y,u.x,u.y);break;case"T":for(;!n();)b=P=l(),u=o(),wh(c,P.x,P.y,u.x,u.y);break;case"B":for(;!n();){u=parseFloat(i()),k=parseFloat(i()),P=parseFloat(i());var S=parseFloat(i()),C=parseFloat(i()),T=C,M=!1;n()||(T=parseFloat(i()),n()||(M=0!==parseFloat(i()))),v===v.toLowerCase()&&(P+=x.x,S+=x.y),c.arcTo(u,k,P,S,C,T,M)}break;case"A":for(;!n();)kh(c,k=Math.abs(parseFloat(i())),P=Math.abs(parseFloat(i())),S=parseFloat(i()),C=!!parseFloat(i()),T=!!parseFloat(i()),(u=o()).x,u.y);break;case"Z":u=c.q.nc.o[c.q.nc.length-1],mh(c),x=m;break;case"F":for(k="",u=1;h[y+u];)if(null!==h[y+u].match(/[Uu]/))u++;else{if(null!==h[y+u].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)){k=h[y+u];break}u++}k.match(/[Mm]/)?f=!0:bh(c);break;case"U":for(k="",u=1;h[y+u];)if(null!==h[y+u].match(/[Ff]/))u++;else{if(null!==h[y+u].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)){k=h[y+u];break}u++}k.match(/[Mm]/)?p=!0:c.kb(!1)}if(m=c.q,s.u(c),e)for(c=m.nc.j;c.next();)(u=c.value).Ku=!0;return m},We.prototype.iy=function(){if(this.pb||this.dw!==this.nc.I)return!0;for(var t=this.nc.o,e=t.length,n=0;n<e;n++)if(t[n].iy())return!0;return!1},We.prototype.Yy=function(){this.pb=!1,this.kr=this.Go=null,this.lr=NaN,this.dw=this.nc.I;for(var t=this.nc.o,e=t.length,n=0;n<e;n++)t[n].Yy()},We.prototype.Kh=function(){var t=this.Pv;t.Xa(),isNaN(this.lp)||isNaN(this.jp)?t.n(0,0,0,0):t.n(0,0,this.lp,this.jp),Xe(this,t,!1),kt(t,0,0,0,0),t.freeze()},We.prototype.computeBoundsWithoutOrigin=We.prototype.mI=function(){var t=new vt;return Xe(this,t,!0),t},We.prototype.normalize=We.prototype.normalize=function(){this.J&&s.qa(this);var t=this.mI();return this.offset(-t.x,-t.y),new ft(-t.x,-t.y)},We.prototype.offset=We.prototype.offset=function(t,e){return this.J&&s.qa(this),r&&(s.p(t,We,"offset"),s.p(e,We,"offset")),this.transform(1,0,0,1,t,e),this},We.prototype.scale=We.prototype.scale=function(t,e){return this.J&&s.qa(this),r&&(s.p(t,We,"scale:x"),s.p(e,We,"scale:y"),0===t&&s.ua(t,"scale must be non-zero",We,"scale:x"),0===e&&s.ua(e,"scale must be non-zero",We,"scale:y")),this.transform(t,0,0,e,0,0),this},We.prototype.rotate=We.prototype.rotate=function(t,e,n){this.J&&s.qa(this),void 0===e&&(e=0),void 0===n&&(n=0),r&&(s.p(t,We,"rotate:angle"),s.p(e,We,"rotate:x"),s.p(n,We,"rotate:y"));var i=s.hh();return i.reset(),i.rotate(t,e,n),this.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),s.mf(i),this},We.prototype.transform=We.prototype.transform=function(t,e,n,i,r,o){var a=0,l=0;switch(this.type){case Bt:case zt:case qt:this.Ac=(a=this.Ac)*t+(l=this.Mc)*n+r,this.Mc=a*e+l*i+o,this.Cb=(a=this.Cb)*t+(l=this.Jb)*n+r,this.Jb=a*e+l*i+o;break;case Gt:for(var h=this.nc.o,u=h.length,c=0;c<u;c++){(f=h[c]).la=(a=f.la)*t+(l=f.ja)*n+r,f.ja=a*e+l*i+o;for(var f,p=(f=f.Eb.o).length,d=0;d<p;d++){var y=f[d];switch(y.type){case Jt:case Kt:y.F=(a=y.F)*t+(l=y.G)*n+r,y.G=a*e+l*i+o;break;case Wt:y.Ec=(a=y.Ec)*t+(l=y.$c)*n+r,y.$c=a*e+l*i+o,y.Uh=(a=y.Uh)*t+(l=y.Vh)*n+r,y.Vh=a*e+l*i+o,y.F=(a=y.F)*t+(l=y.G)*n+r,y.G=a*e+l*i+o;break;case Yt:y.Ec=(a=y.Ec)*t+(l=y.$c)*n+r,y.$c=a*e+l*i+o,y.F=(a=y.F)*t+(l=y.G)*n+r,y.G=a*e+l*i+o;break;case Zt:y.pa=(a=y.pa)*t+(l=y.va)*n+r,y.va=a*e+l*i+o,0!==e&&(0>(a=180*Math.atan2(e,t)/Math.PI)&&(a+=360),y.Me+=a),0>t&&(y.Me=180-y.Me,y.Ef=-y.Ef),0>i&&(y.Me=-y.Me,y.Ef=-y.Ef),y.radiusX*=Math.sqrt(t*t+n*n),void 0!==y.radiusY&&(y.radiusY*=Math.sqrt(e*e+i*i));break;case Xt:y.F=(a=y.F)*t+(l=y.G)*n+r,y.G=a*e+l*i+o,0!==e&&(0>(a=180*Math.atan2(e,t)/Math.PI)&&(a+=360),y.ck+=a),0>t&&(y.ck=180-y.ck,y.wm=!y.wm),0>i&&(y.ck=-y.ck,y.wm=!y.wm),y.radiusX*=Math.sqrt(t*t+n*n),y.radiusY*=Math.sqrt(e*e+i*i);break;default:s.k("Unknown Segment type: "+y.type)}}}}return this.pb=!0,this},We.prototype.Pa=function(t,e,n,i){var r=t.x,o=t.y,a=this.ib.x-20;t=t.y;for(var l=0,h=0,u=0,c=0,f=0,p=0,d=this.nc.o,y=d.length,v=0;v<y;v++){var g=d[v];if(g.Ku){if(n&&g.Pa(r,o,e))return!0;for(var m=g.Eb,b=h=g.la,x=u=g.ja,w=m.o,k=0;k<=m.length;k++){var P,S;switch(k!==m.length?(S=(P=w[k]).type,f=P.F,p=P.G):(S=Jt,f=b,p=x),S){case Kt:if(c=Qe(r,o,a,t,h,u,b,x),isNaN(c))return!0;l+=c,b=f,x=p;break;case Jt:if(c=Qe(r,o,a,t,h,u,f,p),isNaN(c))return!0;l+=c;break;case Wt:l+=c=Fe(h,u,P.Ec,P.$c,P.Uh,P.Vh,f,p,a,t,r,o,.5);break;case Yt:l+=c=Fe(h,u,(h+2*P.Ec)/3,(u+2*P.$c)/3,(2*P.Ec+f)/3,(2*P.$c+p)/3,f,p,a,t,r,o,.5);break;case Zt:case Xt:var C=(S=P.type===Zt?on(P,g):sn(P,g,h,u)).length;if(0===C){if(c=Qe(r,o,a,t,h,u,P.pa,P.va),isNaN(c))return!0;l+=c;break}for(var T=null,M=0;M<C;M++){if(T=S[M],0===M){if(c=Qe(r,o,a,t,h,u,T[0],T[1]),isNaN(c))return!0;l+=c}l+=c=Fe(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],a,t,r,o,.5)}null!==T&&(f=T[6],p=T[7]);break;default:s.k("Unknown Segment type: "+P.type)}h=f,u=p}if(0!==l)return!0;l=0}else if(g.Pa(r,o,i?e:e+2))return!0}return 0!==l},We.prototype.getPointAlongPath=We.prototype.XI=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=new ft),this.type===Bt)return e.n(this.la+t*(this.F-this.la),this.ja+t*(this.G-this.ja)),e;for(var n=this.Zx,i=this.uu,r=n.length,o=this.vu*t,s=0,a=0;a<r;a++)for(var l=i[a],h=l.length,u=0;u<h;u++){var c=l[u];if(s+c>=o)return e.n((a=(n=n[a])[2*u])+(n[2*u+2]-a)*(i=(o-s)/c),(r=n[2*u+1])+(n[2*u+3]-r)*i),e;s+=c}return e.n(NaN,NaN),e},We.prototype.getAngleAlongPath=We.prototype.OF=function(t){0>t?t=0:1<t&&(t=1);var e=0;if(this.type===Bt)return 180*Math.atan2(this.G-this.ja,this.F-this.la)/Math.PI;for(var n=this.uu,i=(e=this.Zx).length,r=this.vu*t,o=0,s=0;s<i;s++){var a=n[s],l=a.length;for(t=0;t<l;t++){var h=a[t];if(o+h>=r)return e=e[s],180*Math.atan2(e[2*t+3]-e[2*t+1],e[2*t+2]-e[2*t])/Math.PI;o+=h}}return NaN},We.prototype.getFractionForPoint=We.prototype.TI=function(t){if(this.type===Bt){var e=this.ja,n=this.G;if((g=this.la)!==(m=this.F)||e!==n){var i=t.x;t=t.y;var r=0,o=0;return g===m?(e<n?(r=e,o=n):(r=n,o=e),t<=r?r===e?0:1:t>=o?o===e?0:1:Math.abs(t-e)/(o-r)):e===n?(g<m?(r=g,o=m):(r=m,o=g),i<=r?r===g?0:1:i>=o?o===g?0:1:Math.abs(i-g)/(o-r)):((i-g)*(i-g)+(t-e)*(t-e))/((m-g)*(m-g)+(n-e)*(n-e))}}else{if(this.type!==zt){n=this.Zx,r=this.uu,o=this.vu,v=s.P(),e=1/0,g=m=0,i=n.length;for(var a=b=0,l=0;l<i;l++)for(var h=n[l],u=r[l],c=h.length,f=0;f<c;f+=2){var p=h[f],d=h[f+1];if(0!==f){Ie(b,a,p,d,t.x,t.y,v);var y=(v.x-t.x)*(v.x-t.x)+(v.y-t.y)*(v.y-t.y);y<e&&(e=y,m=g,m+=Math.sqrt((v.x-b)*(v.x-b)+(v.y-a)*(v.y-a))),g+=u[(f-2)/2]}b=p,a=d}return s.A(v),0>(t=m/o)?0:1<t?1:t}if(e=this.ja,n=this.G,(g=this.la)!==(m=this.F)||e!==n){var v=2*(r=m-g)+2*(o=n-e);i=t.x,t=t.y,i=Math.min(Math.max(i,g),m),t=Math.min(Math.max(t,e),n);var g=Math.abs(i-g),m=Math.abs(i-m),b=(e=Math.abs(t-e),n=Math.abs(t-n),Math.min(g,m,e,n));if(b===e)return i/v;if(b===m)return(r+t)/v;if(b===n)return(2*r+o-i)/v;if(b===g)return(2*r+2*o-t)/v}}return 0},s.w(We,{Zx:null},function(){return tn(this),this.Go}),s.w(We,{uu:null},function(){return tn(this),this.kr}),s.w(We,{vu:null},function(){var t=this.lr;if(isNaN(t)){if(this.type===Bt){t=Math.abs(this.F-this.la);var e=Math.abs(this.G-this.ja);t=Math.sqrt(t*t+e*e)}else if(this.type===zt)t=2*(t=Math.abs(this.F-this.la))+2*(e=Math.abs(this.G-this.ja));else for(var n=(e=this.uu).length,i=t=0;i<n;i++)for(var r=e[i],o=r.length,s=0;s<o;s++)t+=r[s];this.lr=t}return t}),s.defineProperty(We,{type:"type"},function(){return this.da},function(t){this.da!==t&&(r&&s.Da(t,We,We,"type"),this.J&&s.qa(this,t),this.da=t,this.pb=!0)}),s.defineProperty(We,{la:"startX"},function(){return this.Ac},function(t){this.Ac!==t&&(r&&s.p(t,We,"startX"),this.J&&s.qa(this,t),this.Ac=t,this.pb=!0)}),s.defineProperty(We,{ja:"startY"},function(){return this.Mc},function(t){this.Mc!==t&&(r&&s.p(t,We,"startY"),this.J&&s.qa(this,t),this.Mc=t,this.pb=!0)}),s.defineProperty(We,{F:"endX"},function(){return this.Cb},function(t){this.Cb!==t&&(r&&s.p(t,We,"endX"),this.J&&s.qa(this,t),this.Cb=t,this.pb=!0)}),s.defineProperty(We,{G:"endY"},function(){return this.Jb},function(t){this.Jb!==t&&(r&&s.p(t,We,"endY"),this.J&&s.qa(this,t),this.Jb=t,this.pb=!0)}),s.defineProperty(We,{nc:"figures"},function(){return this.jk},function(t){this.jk!==t&&(r&&s.l(t,nt,We,"figures"),this.J&&s.qa(this,t),this.jk=t,this.pb=!0)}),We.prototype.add=We.prototype.add=function(t){return this.jk.add(t),this},We.prototype.setSpots=function(t,e,n,i,r,o,a,l){return this.J&&s.qa(this),this.xi=new Ct(t,e,r,o).freeze(),this.yi=new Ct(n,i,a,l).freeze(),this},s.defineProperty(We,{C:"spot1"},function(){return this.xi},function(t){r&&s.l(t,Ct,We,"spot1"),this.J&&s.qa(this,t),this.xi=t.V()}),s.defineProperty(We,{D:"spot2"},function(){return this.yi},function(t){r&&s.l(t,Ct,We,"spot2"),this.J&&s.qa(this,t),this.yi=t.V()}),s.defineProperty(We,{le:"defaultStretch"},function(){return this.Xi},function(t){r&&s.Da(t,fa,We,"stretch"),this.J&&s.qa(this,t),this.Xi=t}),s.w(We,{ib:"bounds"},function(){return this.iy()&&(this.Yy(),this.Kh()),this.Pv}),s.ka("PathFigure",nn),s.Di(nn),nn.prototype.copy=function(){var t=new nn;t.Xm=this.Xm,t.mp=this.mp,t.Ac=this.Ac,t.Mc=this.Mc;for(var e=this.Ip.o,n=e.length,i=t.Ip,r=0;r<n;r++){var o=e[r].copy();i.add(o)}return t.hx=this.hx,t.pb=this.pb,t},nn.prototype.equalsApprox=nn.prototype.Wc=function(t){if(!(t instanceof nn&&Ce(this.la,t.la)&&Ce(this.ja,t.ja)))return!1;var e=this.Eb.o,n=e.length;if(n!==(t=t.Eb.o).length)return!1;for(var i=0;i<n;i++)if(!e[i].Wc(t[i]))return!1;return!0},(n=nn.prototype).toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.la.toString()+" "+this.ja.toString():"M"+this.la.toFixed(t)+" "+this.ja.toFixed(t),n=this.Eb.o,i=n.length,r=0;r<i;r++)e+=" "+n[r].toString(t);return e},n.freeze=function(){this.J=!0,(e=this.Eb).freeze();for(var t=e.o,e=e.length,n=0;n<e;n++)t[n].freeze();return this},n.Xa=function(){this.J=!1,(t=this.Eb).Xa();for(var t,e=(t=t.o).length,n=0;n<e;n++)t[n].Xa();return this},n.iy=function(){if(this.pb)return!0;if(this.hx!==(t=this.Eb).I)return!0;for(var t,e=(t=t.o).length,n=0;n<e;n++)if(t[n].pb)return!0;return!1},n.Yy=function(){this.pb=!1,this.hx=(t=this.Eb).I;for(var t,e=(t=t.o).length,n=0;n<e;n++){var i=t[n];i.pb=!1,i.$h=null}},s.defineProperty(nn,{Ku:"isFilled"},function(){return this.Xm},function(t){r&&s.h(t,"boolean",nn,"isFilled"),this.J&&s.qa(this,t),this.Xm=t}),s.defineProperty(nn,{dl:"isShadowed"},function(){return this.mp},function(t){r&&s.h(t,"boolean",nn,"isShadowed"),this.J&&s.qa(this,t),this.mp=t}),s.defineProperty(nn,{la:"startX"},function(){return this.Ac},function(t){r&&s.p(t,nn,"startX"),this.J&&s.qa(this,t),this.Ac=t,this.pb=!0}),s.defineProperty(nn,{ja:"startY"},function(){return this.Mc},function(t){r&&s.p(t,nn,"startY"),this.J&&s.qa(this,t),this.Mc=t,this.pb=!0}),s.defineProperty(nn,{Eb:"segments"},function(){return this.Ip},function(t){r&&s.l(t,nt,nn,"segments"),this.J&&s.qa(this,t),this.Ip=t,this.pb=!0}),nn.prototype.add=nn.prototype.add=function(t){return this.Ip.add(t),this},nn.prototype.Pa=function(t,e,n){for(var i=this.la,r=this.ja,o=i,a=r,l=this.Eb.o,h=l.length,u=0;u<h;u++){var c=l[u];switch(c.type){case Kt:o=c.F,a=c.G,i=c.F,r=c.G;break;case Jt:if(Me(i,r,c.F,c.G,n,t,e))return!0;i=c.F,r=c.G;break;case Wt:if(Ne(i,r,c.Ec,c.$c,c.Uh,c.Vh,c.F,c.G,.5,t,e,n))return!0;i=c.F,r=c.G;break;case Yt:if(Oe(i,r,c.Ec,c.$c,c.F,c.G,.5,t,e,n))return!0;i=c.F,r=c.G;break;case Zt:case Xt:var f=c.type===Zt?on(c,this):sn(c,this,i,r),p=f.length;if(0===p){if(Me(i,r,c.pa,c.va,n,t,e))return!0;i=c.pa,r=c.va;break}for(var d=null,y=0;y<p;y++)if(d=f[y],0===y&&Me(i,r,d[0],d[1],n,t,e)||Ne(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],.5,t,e,n))return!0;null!==d&&(i=d[6],r=d[7]);break;default:s.k("Unknown Segment type: "+c.type)}if(c.ey&&(i!==o||r!==a)&&Me(i,r,o,a,n,t,e))return!0}return!1},s.ka("PathSegment",rn),s.Di(rn),rn.prototype.copy=function(){var t=new rn;return t.da=this.da,t.Cb=this.Cb,t.Jb=this.Jb,t.Vd=this.Vd,t.ff=this.ff,t.Ch=this.Ch,t.Og=this.Og,t.qp=this.qp,t.Ko=this.Ko,t.hi=this.hi,t.pb=this.pb,t},rn.prototype.equalsApprox=rn.prototype.Wc=function(t){if(!(t instanceof rn)||this.type!==t.type||this.ey!==t.ey)return!1;switch(this.type){case Kt:case Jt:return Ce(this.F,t.F)&&Ce(this.G,t.G);case Wt:return Ce(this.F,t.F)&&Ce(this.G,t.G)&&Ce(this.Ec,t.Ec)&&Ce(this.$c,t.$c)&&Ce(this.Uh,t.Uh)&&Ce(this.Vh,t.Vh);case Yt:return Ce(this.F,t.F)&&Ce(this.G,t.G)&&Ce(this.Ec,t.Ec)&&Ce(this.$c,t.$c);case Zt:return Ce(this.Me,t.Me)&&Ce(this.Ef,t.Ef)&&Ce(this.pa,t.pa)&&Ce(this.va,t.va)&&Ce(this.radiusX,t.radiusX)&&Ce(this.radiusY,t.radiusY);case Xt:return this.wm===t.wm&&this.jy===t.jy&&Ce(this.ck,t.ck)&&Ce(this.F,t.F)&&Ce(this.G,t.G)&&Ce(this.radiusX,t.radiusX)&&Ce(this.radiusY,t.radiusY);default:return!1}},rn.prototype.qc=function(t){t.Qe===rn?this.type=t:s.ak(this,t)},rn.prototype.toString=function(t){void 0===t&&(t=-1);var e="";switch(this.type){case Kt:e=0>t?"M"+this.F.toString()+" "+this.G.toString():"M"+this.F.toFixed(t)+" "+this.G.toFixed(t);break;case Jt:e=0>t?"L"+this.F.toString()+" "+this.G.toString():"L"+this.F.toFixed(t)+" "+this.G.toFixed(t);break;case Wt:e=0>t?"C"+this.Ec.toString()+" "+this.$c.toString()+" "+this.Uh.toString()+" "+this.Vh.toString()+" "+this.F.toString()+" "+this.G.toString():"C"+this.Ec.toFixed(t)+" "+this.$c.toFixed(t)+" "+this.Uh.toFixed(t)+" "+this.Vh.toFixed(t)+" "+this.F.toFixed(t)+" "+this.G.toFixed(t);break;case Yt:e=0>t?"Q"+this.Ec.toString()+" "+this.$c.toString()+" "+this.F.toString()+" "+this.G.toString():"Q"+this.Ec.toFixed(t)+" "+this.$c.toFixed(t)+" "+this.F.toFixed(t)+" "+this.G.toFixed(t);break;case Zt:e=0>t?"B"+this.Me.toString()+" "+this.Ef.toString()+" "+this.pa.toString()+" "+this.va.toString()+" "+this.radiusX:"B"+this.Me.toFixed(t)+" "+this.Ef.toFixed(t)+" "+this.pa.toFixed(t)+" "+this.va.toFixed(t)+" "+this.radiusX;break;case Xt:e=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.ck.toString()+" "+(this.jy?1:0)+" "+(this.wm?1:0)+" "+this.F.toString()+" "+this.G.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.ck.toFixed(t)+" "+(this.jy?1:0)+" "+(this.wm?1:0)+" "+this.F.toFixed(t)+" "+this.G.toFixed(t);break;default:e=this.type.toString()}return e+(this.hi?"z":"")},rn.Move=Kt=s.s(rn,"Move",0),rn.Line=Jt=s.s(rn,"Line",1),rn.Bezier=Wt=s.s(rn,"Bezier",2),rn.QuadraticBezier=Yt=s.s(rn,"QuadraticBezier",3),rn.Arc=Zt=s.s(rn,"Arc",4),rn.SvgArc=Xt=s.s(rn,"SvgArc",4),rn.prototype.freeze=function(){return this.J=!0,this},rn.prototype.Xa=function(){return this.J=!1,this},rn.prototype.close=rn.prototype.close=function(){return this.hi=!0,this},s.defineProperty(rn,{ey:"isClosed"},function(){return this.hi},function(t){this.hi!==t&&(this.hi=t,this.pb=!0)}),s.defineProperty(rn,{type:"type"},function(){return this.da},function(t){r&&s.Da(t,rn,rn,"type"),this.J&&s.qa(this,t),this.da=t,this.pb=!0}),s.defineProperty(rn,{F:"endX"},function(){return this.Cb},function(t){r&&s.p(t,rn,"endX"),this.J&&s.qa(this,t),this.Cb=t,this.pb=!0}),s.defineProperty(rn,{G:"endY"},function(){return this.Jb},function(t){r&&s.p(t,rn,"endY"),this.J&&s.qa(this,t),this.Jb=t,this.pb=!0}),s.defineProperty(rn,{Ec:"point1X"},function(){return this.Vd},function(t){r&&s.p(t,rn,"point1X"),this.J&&s.qa(this,t),this.Vd=t,this.pb=!0}),s.defineProperty(rn,{$c:"point1Y"},function(){return this.ff},function(t){r&&s.p(t,rn,"point1Y"),this.J&&s.qa(this,t),this.ff=t,this.pb=!0}),s.defineProperty(rn,{Uh:"point2X"},function(){return this.Ch},function(t){r&&s.p(t,rn,"point2X"),this.J&&s.qa(this,t),this.Ch=t,this.pb=!0}),s.defineProperty(rn,{Vh:"point2Y"},function(){return this.Og},function(t){r&&s.p(t,rn,"point2Y"),this.J&&s.qa(this,t),this.Og=t,this.pb=!0}),s.defineProperty(rn,{pa:"centerX"},function(){return this.Vd},function(t){r&&s.p(t,rn,"centerX"),this.J&&s.qa(this,t),this.Vd=t,this.pb=!0}),s.defineProperty(rn,{va:"centerY"},function(){return this.ff},function(t){r&&s.p(t,rn,"centerY"),this.J&&s.qa(this,t),this.ff=t,this.pb=!0}),s.defineProperty(rn,{radiusX:"radiusX"},function(){return this.Ch},function(t){r&&s.p(t,rn,"radiusX"),0>t&&s.ua(t,">= zero",rn,"radiusX"),this.J&&s.qa(this,t),this.Ch=t,this.pb=!0}),s.defineProperty(rn,{radiusY:"radiusY"},function(){return this.Og},function(t){r&&s.p(t,rn,"radiusY"),0>t&&s.ua(t,">= zero",rn,"radiusY"),this.J&&s.qa(this,t),this.Og=t,this.pb=!0}),s.defineProperty(rn,{Me:"startAngle"},function(){return this.Cb},function(t){this.Cb!==t&&(this.J&&s.qa(this,t),r&&s.p(t,rn,"startAngle"),0>(t%=360)&&(t+=360),this.Cb=t,this.pb=!0)}),s.defineProperty(rn,{Ef:"sweepAngle"},function(){return this.Jb},function(t){r&&s.p(t,rn,"sweepAngle"),this.J&&s.qa(this,t),360<t&&(t=360),-360>t&&(t=-360),this.Jb=t,this.pb=!0}),s.defineProperty(rn,{wm:"isClockwiseArc"},function(){return this.Ko},function(t){this.J&&s.qa(this,t),this.Ko=t,this.pb=!0}),s.defineProperty(rn,{jy:"isLargeArc"},function(){return this.qp},function(t){this.J&&s.qa(this,t),this.qp=t,this.pb=!0}),s.defineProperty(rn,{ck:"xAxisRotation"},function(){return this.Vd},function(t){r&&s.p(t,rn,"xAxisRotation"),0>(t%=360)&&(t+=360),this.J&&s.qa(this,t),this.Vd=t,this.pb=!0}),s.ka("InputEvent",an),an.prototype.copy=function(){var t=new an;return t.ca=this.ca,t.AA.assign(this.te),t.Gz.assign(this.ha),t.Iw=this.Iw,t.Mv=this.Mv,t.Nv=this.Nv,t.vw=this.vw,t.$v=this.$v,t.sx=this.sx,t.Ov=this.Ov,t.Yv=this.Yv,t.rw=this.rw,t.hw=this.hw,t.ek=this.ek,t.$r=this.$r,t.px=this.px,t.ox=this.ox,t.Sg=this.Sg,t},an.prototype.toString=function(){var t="^";return 0!==this.xd&&(t+="M:"+this.xd),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.Ee&&(t+="C:"+this.Ee),0!==this.Uk&&(t+="D:"+this.Uk),this.Cc&&(t+="h"),this.bubbles&&(t+="b"),null!==this.ha&&(t+="@"+this.ha.toString()),t},s.defineProperty(an,{g:"diagram"},function(){return this.ca},function(t){this.ca=t}),s.defineProperty(an,{te:"viewPoint"},function(){return this.AA},function(t){s.l(t,ft,an,"viewPoint"),this.AA.assign(t)}),s.defineProperty(an,{ha:"documentPoint"},function(){return this.Gz},function(t){s.l(t,ft,an,"documentPoint"),this.Gz.assign(t)}),an.prototype.getMultiTouchViewPoint=an.prototype.$x=function(t,e){var n=this.g;return null===n?e:(wo(n,this.event,t,e),e)},an.prototype.getMultiTouchDocumentPoint=function(t,e){var n=this.g;return null===n?e:(wo(n,this.event,t,e),e.assign(n.qC(e)),e)},s.defineProperty(an,{xd:"modifiers"},function(){return this.Iw},function(t){this.Iw=t}),s.defineProperty(an,{button:"button"},function(){return this.Mv},function(t){if(this.Mv=t,null===this.event)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}),s.defineProperty(an,{buttons:"buttons"},function(){return this.Nv},function(t){this.Nv=t}),s.defineProperty(an,{key:"key"},function(){return this.vw},function(t){this.vw=t}),s.defineProperty(an,{Vk:"down"},function(){return this.$v},function(t){this.$v=t}),s.defineProperty(an,{up:"up"},function(){return this.sx},function(t){this.sx=t}),s.defineProperty(an,{Ee:"clickCount"},function(){return this.Ov},function(t){this.Ov=t}),s.defineProperty(an,{Uk:"delta"},function(){return this.Yv},function(t){this.Yv=t}),s.defineProperty(an,{Ou:"isMultiTouch"},function(){return this.rw},function(t){this.rw=t}),s.defineProperty(an,{Cc:"handled"},function(){return this.hw},function(t){this.hw=t}),s.defineProperty(an,{bubbles:"bubbles"},function(){return this.ek},function(t){this.ek=t}),s.defineProperty(an,{event:"event"},function(){return this.$r},function(t){this.$r=t}),s.w(an,{Qj:"isTouchEvent"},function(){var t=e.TouchEvent,n=this.event;return!!(t&&n instanceof t)||(t=e.PointerEvent)&&n instanceof t&&("touch"===n.pointerType||"pen"===n.pointerType)}),s.w(an,{Qh:"isMac"},function(){return s.Qh}),s.defineProperty(an,{timestamp:"timestamp"},function(){return this.px},function(t){this.px=t}),s.defineProperty(an,{Qf:"targetDiagram"},function(){return this.ox},function(t){this.ox=t}),s.defineProperty(an,{Ne:"targetObject"},function(){return this.Sg},function(t){this.Sg=t}),s.defineProperty(an,{control:"control"},function(){return 0!=(1&this.xd)},function(t){this.xd=t?1|this.xd:-2&this.xd}),s.defineProperty(an,{shift:"shift"},function(){return 0!=(4&this.xd)},function(t){this.xd=t?4|this.xd:-5&this.xd}),s.defineProperty(an,{alt:"alt"},function(){return 0!=(2&this.xd)},function(t){this.xd=t?2|this.xd:-3&this.xd}),s.defineProperty(an,{Xu:"meta"},function(){return 0!=(8&this.xd)},function(t){this.xd=t?8|this.xd:-9&this.xd}),s.defineProperty(an,{left:"left"},function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(1&this.buttons):0===this.button},function(t){this.buttons=t?1|this.buttons:-2&this.buttons}),s.defineProperty(an,{right:"right"},function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(2&this.buttons):2===this.button},function(t){this.buttons=t?2|this.buttons:-3&this.buttons}),s.defineProperty(an,{iM:"middle"},function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(4&this.buttons):1===this.button},function(t){this.buttons=t?4|this.buttons:-5&this.buttons}),s.ka("DiagramEvent",ln),ln.prototype.copy=function(){var t=new ln;return t.ca=this.ca,t.$b=this.$b,t.mx=this.mx,t.Sw=this.Sw,t.sr=this.sr,t},ln.prototype.toString=function(){var t="*"+this.name;return null!==this.hC&&(t+=":"+this.hC.toString()),null!==this.LB&&(t+="("+this.LB.toString()+")"),t},s.defineProperty(ln,{g:"diagram"},function(){return this.ca},function(t){this.ca=t}),s.defineProperty(ln,{name:"name"},function(){return this.$b},function(t){this.$b=t}),s.defineProperty(ln,{hC:"subject"},function(){return this.mx},function(t){this.mx=t}),s.defineProperty(ln,{LB:"parameter"},function(){return this.Sw},function(t){this.Sw=t}),s.defineProperty(ln,{cancel:"cancel"},function(){return this.sr},function(t){this.sr!==t&&s.On("DiagramEvent.cancel","2.0"),this.sr=t}),s.ka("ChangedEvent",hn),hn.Transaction=Qt=s.s(hn,"Transaction",-1),hn.Property=$t=s.s(hn,"Property",0),hn.Insert=te=s.s(hn,"Insert",1),hn.Remove=ee=s.s(hn,"Remove",2),hn.prototype.clear=hn.prototype.clear=function(){this.Xs=this.Ys=this.ct=this.dt=this.at=this.ca=this.ye=null},hn.prototype.copy=function(){var t=new hn;t.tr=this.tr,t.Hw=this.Hw,t.nn=this.nn,t.ye=this.ye,t.ca=this.ca,t.at=this.at;var e=this.dt;return t.dt=s.Qa(e)&&"function"==typeof e.V?e.V():e,t.ct=s.Qa(e=this.ct)&&"function"==typeof e.V?e.V():e,t.Ys=s.Qa(e=this.Ys)&&"function"==typeof e.V?e.V():e,t.Xs=s.Qa(e=this.Xs)&&"function"==typeof e.V?e.V():e,t},hn.prototype.qc=function(t){t.Qe===hn?this.Oc=t:s.ak(this,t)},hn.prototype.toString=function(){var t="";return t=this.Oc===Qt?t+"* ":this.Oc===$t?t+(null!==this.ea?"!m":"!d"):t+(null!==this.ea?"!m":"!d")+this.Oc,this.propertyName&&"string"==typeof this.propertyName&&(t+=" "+this.propertyName),this.Df&&this.Df!==this.propertyName&&(t+=" "+this.Df),t+=": ",this.Oc===Qt?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=_n(this.object)),null!==this.oldValue&&(t+="  old: "+_n(this.oldValue)),null!==this.Wj&&(t+=" "+this.Wj),null!==this.newValue&&(t+="  new: "+_n(this.newValue)),null!==this.Uj&&(t+=" "+this.Uj)),t},hn.prototype.getValue=hn.prototype.oa=function(t){return t?this.oldValue:this.newValue},hn.prototype.getParam=function(t){return t?this.Wj:this.Uj},hn.prototype.canUndo=hn.prototype.canUndo=function(){return null!==this.ea||null!==this.g},hn.prototype.undo=hn.prototype.undo=function(){this.canUndo()&&(null!==this.ea?this.ea.Fn(this,!0):null!==this.g&&this.g.Fn(this,!0))},hn.prototype.canRedo=hn.prototype.canRedo=function(){return null!==this.ea||null!==this.g},hn.prototype.redo=hn.prototype.redo=function(){this.canRedo()&&(null!==this.ea?this.ea.Fn(this,!1):null!==this.g&&this.g.Fn(this,!1))},s.defineProperty(hn,{ea:"model"},function(){return this.ye},function(t){this.ye=t}),s.defineProperty(hn,{g:"diagram"},function(){return this.ca},function(t){this.ca=t}),s.defineProperty(hn,{Oc:"change"},function(){return this.tr},function(t){r&&s.Da(t,hn,hn,"change"),this.tr=t}),s.defineProperty(hn,{Df:"modelChange"},function(){return this.Hw},function(t){r&&s.h(t,"string",hn,"modelChange"),this.Hw=t}),s.defineProperty(hn,{propertyName:"propertyName"},function(){return this.nn},function(t){r&&"string"!=typeof t&&s.h(t,"function",hn,"propertyName"),this.nn=t}),s.w(hn,{nG:"isTransactionFinished"},function(){return this.tr===Qt&&("CommittedTransaction"===this.nn||"FinishedUndo"===this.nn||"FinishedRedo"===this.nn)}),s.defineProperty(hn,{object:"object"},function(){return this.at},function(t){this.at=t}),s.defineProperty(hn,{oldValue:"oldValue"},function(){return this.dt},function(t){this.dt=t}),s.defineProperty(hn,{Wj:"oldParam"},function(){return this.ct},function(t){this.ct=t}),s.defineProperty(hn,{newValue:"newValue"},function(){return this.Ys},function(t){this.Ys=t}),s.defineProperty(hn,{Uj:"newParam"},function(){return this.Xs},function(t){this.Xs=t}),s.ka("Model",un),un.prototype.cloneProtected=function(t){t.$b=this.$b,t.Ir=this.Ir,t.dj=this.dj,t.Ck=this.Ck,t.vp=this.vp,t.Po=this.Po,t.Ar=this.Ar,t.zr=this.zr,t.jr=this.jr,t.hn=this.hn},un.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},un.prototype.clear=un.prototype.clear=function(){this.ze=[],this.Kc.clear(),this.zg.clear(),this.na.clear()},(n=un.prototype).toString=function(t){if(void 0===t&&(t=0),1<t)return this.kC();var e=(""!==this.name?this.name:"")+" Model";if(0<t){e+="\n node data:";for(var n=s.cb(t=this.qg),i=0;i<n;i++){var r=s.La(t,i);e=e+" "+this.zb(r)+":"+_n(r)}}return e},n.Ao=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.nm&&(t+=',\n  "dataFormat": '+this.quote(this.nm)),this.qb&&(t+=',\n  "isReadOnly": '+this.qb),"key"!==this.Vj&&"string"==typeof this.Vj&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.Vj)),this.PA&&(t+=',\n  "copiesArrays": true'),this.OA&&(t+=',\n  "copiesArrayObjects": true'),"category"!==this.oo&&"string"==typeof this.oo&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.oo)),t},n.fv=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.nm=t.dataFormat),t.isReadOnly&&(this.qb=t.isReadOnly),t.nodeKeyProperty&&(this.Vj=t.nodeKeyProperty),t.copiesArrays&&(this.PA=t.copiesArrays),t.copiesArrayObjects&&(this.OA=t.copiesArrayObjects),t.nodeCategoryProperty&&(this.oo=t.nodeCategoryProperty)},n.xC=function(){var t,e=this.fl,n=!1;for(t in e)if(!vn(t,e[t])){n=!0;break}return e="",n&&(e=cn(this)),e+',\n  "nodeDataArray": '+yn(this,this.qg,!0)},n.OB=function(t){fn(this,t),s.isArray(t=t.nodeDataArray)&&(this.iv(t),this.qg=t)},n.yC=function(t){dn(this,t,"nodeKeyProperty"),this instanceof In&&dn(this,t,"nodeParentKeyProperty");for(var e=new rt,n=new rt,i=(new rt).Vc(this.Kc.pG),r=new ut,o=t.qg,s=0;s<o.length;s++){var a=o[s],l=t.zb(a);if(void 0!==l){i.remove(l);var h=this.Ie(l);null===h?(e.add(l),n.add(a)):pn(this,h,a,r)||n.add(a)}else this.zB(a),l=this.zb(a),e.add(l),n.add(a)}return o="",pn(this,this.fl,t.fl,r)||(o+=cn(this)),0<e.count&&(o+=this.iz+yn(this,e.Fc(),!0)),0<n.count&&(o+=this.GC+yn(this,n.Fc(),!0)),0<i.count&&(o+=this.kz+yn(this,i.Fc(),!0)),o},un.prototype.computeJsonDifference=un.prototype.computeJSONDifference=function(t,e){return s.l(t,un,un,"computeJsonDifference:newmodel"),void 0===e&&(e=this.constructor===un?"go.Model":this.constructor===En?"go.GraphLinksModel":this.constructor===In?"go.TreeModel":s.xf(this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.Ao()+this.yC(t)+"}"},(n=un.prototype).iz=',\n  "insertedNodeKeys": ',n.GC=',\n  "modifiedNodeData": ',n.kz=',\n  "removedNodeKeys": ',n.wC=function(t,e){var n=this,i=!1,r=new rt,o=new rt,s=new rt;t.fg.each(function(t){t.ea===n&&("nodeDataArray"===t.Df?t.Oc===te?r.add(t.newValue):t.Oc===ee&&s.add(t.oldValue):n.ke(t.object)?o.add(t.object):n.fl===t.object&&t.Oc===$t&&(i=!0))});var a=new rt;r.each(function(t){a.add(n.zb(t)),e||o.add(t)});var l=new rt;s.each(function(t){l.add(n.zb(t)),e&&o.add(t)});var h="";return i&&(h+=cn(this)),0<a.count&&(h+=(e?this.kz:this.iz)+yn(this,a.Fc(),!0)),0<o.count&&(h+=this.GC+yn(this,o.Fc(),!0)),0<l.count&&(h+=(e?this.iz:this.kz)+yn(this,l.Fc(),!0)),h},n.NB=function(t){fn(this,t);var e=t.insertedNodeKeys,n=t.modifiedNodeData,i=new ut;if(s.isArray(n))for(var r=0;r<n.length;r++){var o=s.La(n,r),a=this.zb(o);void 0!==a&&null!==a&&i.set(a,o)}if(s.isArray(e)){r=s.cb(e);for(var l=0;l<r;l++)o=s.La(e,l),null===(a=this.Ie(o))&&(a=(a=i.get(o))?a:this.copyNodeData({}),this.Ty(a,o),this.dm(a))}if(s.isArray(n))for(r=s.cb(n),l=0;l<r;l++)if(o=s.La(n,l),a=this.zb(o),null!==(a=this.Ie(a)))for(var h in o)"__gohashid"!==h&&h!==this.Vj&&h!==this.Iq&&this.setDataProperty(a,h,o[h]);if(s.isArray(t=t.removedNodeKeys))for(r=s.cb(t),l=0;l<r;l++)o=s.La(t,l),null!==(a=this.Ie(o))&&this.Ky(a)},un.prototype.toIncrementalJson=un.prototype.toIncrementalJSON=function(t,e){s.l(t,hn,un,"toIncrementalJson:e"),t.Oc!==Qt&&s.k("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var n=t.object;return t.nG&&n instanceof Bn?(void 0===e&&(e=this.constructor===un?"go.Model":this.constructor===En?"go.GraphLinksModel":this.constructor===In?"go.TreeModel":s.xf(this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.Ao()+this.wC(n,"FinishedUndo"===t.propertyName)+"}"):'{ "incremental": 0 }'},un.prototype.toJson=un.prototype.toJSON=un.prototype.kC=function(t){return void 0===t&&(t=this.constructor===un?"go.Model":this.constructor===En?"go.GraphLinksModel":this.constructor===In?"go.TreeModel":s.xf(this)),'{ "class": '+this.quote(t)+this.Ao()+this.xC()+"}"},un.prototype.applyIncrementalJson=un.prototype.applyIncrementalJSON=function(t){var n=null;if("string"==typeof t)if(e.JSON&&e.JSON.parse)try{n=e.JSON.parse(t)}catch(t){r&&s.trace("JSON.parse error: "+t.toString())}else s.trace("WARNING: no JSON.parse available");else"object"==typeof t?n=t:s.k("Unable to modify a Model from: "+t);var i=n.incremental;"number"!=typeof i&&s.k("Unable to apply non-incremental changes to Model: "+t),0!==i&&(this.Nb("applyIncrementalJson"),this.NB(n),this.jd("applyIncrementalJson"))},un.fromJson=un.fromJSON=function(t,n){void 0===n&&(n=null),null!==n&&s.l(n,un,un,"fromJson:model");var o=null;if("string"==typeof t)if(e.JSON&&e.JSON.parse)try{o=e.JSON.parse(t)}catch(t){r&&s.trace("JSON.parse error: "+t.toString())}else s.trace("WARNING: no JSON.parse available");else"object"==typeof t?o=t:s.k("Unable to construct a Model from: "+t);if(null===n){var a;a=null;var l=o.class;if("string"==typeof l)try{var h=null;0===l.indexOf("go.")?(l=l.substr(3),h=i[l]):void 0===(h=i[l])&&(h=e[l]),"function"==typeof h&&(a=new h)}catch(t){}null===a||a instanceof un?n=a:s.k("Unable to construct a Model of declared class: "+o.class)}return null===n&&(n=new En),n.fv(o),n.OB(o),n},un.prototype.replaceJsonObjects=un.prototype.iv=function(t){if(s.isArray(t))for(var e=s.cb(t),n=0;n<e;n++){var r=s.La(t,n);s.Qa(r)&&s.cF(t,n,this.iv(r))}else if(s.Qa(t)){for(n in t)if(s.Qa(r=t[n])&&(r=this.iv(r),t[n]=r,"points"===n&&Array.isArray(r))){for(var a=0==r.length%2,l=0;l<r.length;l++)if("number"!=typeof r[l]){a=!1;break}if(a){for(a=new nt(ft),l=0;l<r.length/2;l++){var h=new ft(r[2*l],r[2*l+1]);a.add(h)}a.freeze(),t[n]=a}}if("object"==typeof t){if(n=t,"NaN"===(r=t.class))n=NaN;else if("Date"===r)n=new Date(t.value);else if("go.Point"===r)n=new ft(bn(t.x),bn(t.y));else if("go.Size"===r)n=new yt(bn(t.width),bn(t.height));else if("go.Rect"===r)n=new vt(bn(t.x),bn(t.y),bn(t.width),bn(t.height));else if("go.Margin"===r)n=new Pt(bn(t.top),bn(t.right),bn(t.bottom),bn(t.left));else if("go.Spot"===r)n="string"==typeof t.enum?v(t.enum):new Ct(bn(t.x),bn(t.y),bn(t.offsetX),bn(t.offsetY));else if("go.Brush"===r){if((n=new Is).type=o(Is,t.type),"string"==typeof t.color&&(n.color=t.color),t.start instanceof Ct&&(n.start=t.start),t.end instanceof Ct&&(n.end=t.end),"number"==typeof t.startRadius&&(n.sv=bn(t.startRadius)),"number"==typeof t.endRadius&&(n.ou=bn(t.endRadius)),s.Qa(t=t.colorStops))for(e in t)n.addColorStop(parseFloat(e),t[e])}else"go.Geometry"===r?(e=null,(e="string"==typeof t.path?Ut(t.path):new We).type=o(We,t.type),"number"==typeof t.startX&&(e.la=bn(t.startX)),"number"==typeof t.startY&&(e.ja=bn(t.startY)),"number"==typeof t.endX&&(e.F=bn(t.endX)),"number"==typeof t.endY&&(e.G=bn(t.endY)),t.spot1 instanceof Ct&&(e.C=t.spot1),t.spot2 instanceof Ct&&(e.D=t.spot2),n=e):"go.EnumValue"===r&&(0===(e=t.classType).indexOf("go.")&&(e=e.substr(3)),n=o(i[e],t.name));t=n}}return t},un.prototype.quote=function(t){for(var e="",n=t.length,i=0;i<n;i++){var r=t[i];if('"'===r||"\\"===r)e+="\\"+r;else if("\b"===r)e+="\\b";else if("\f"===r)e+="\\f";else if("\n"===r)e+="\\n";else if("\r"===r)e+="\\r";else if("\t"===r)e+="\\t";else{var o=t.charCodeAt(i);e=16>o?e+"\\u000"+t.charCodeAt(i).toString(16):32>o?e+"\\u00"+t.charCodeAt(i).toString(16):8232===o?e+"\\u2028":8233===o?e+"\\u2029":e+r}}return'"'+e+'"'},un.prototype.writeJsonValue=un.prototype.xv=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"==typeof t?this.quote(t):"number"==typeof t?1/0===t?"9e9999":-1/0===t?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.xv(t.valueOf()):s.isArray(t)?yn(this,t):s.Qa(t)?mn(this,t):"function"==typeof t?"null":t.toString()},s.defineProperty(un,{name:"name"},function(){return this.$b},function(t){var e=this.$b;e!==t&&(s.h(t,"string",un,"name"),this.$b=t,this.i("name",e,t))}),s.defineProperty(un,{nm:"dataFormat"},function(){return this.Ir},function(t){var e=this.Ir;e!==t&&(s.h(t,"string",un,"dataFormat"),this.Ir=t,this.i("dataFormat",e,t))}),s.defineProperty(un,{qb:"isReadOnly"},function(){return this.dj},function(t){var e=this.dj;e!==t&&(s.h(t,"boolean",un,"isReadOnly"),this.dj=t,this.i("isReadOnly",e,t))}),s.defineProperty(un,{fl:"modelData"},function(){return this.dA},function(t){var e=this.dA;e!==t&&(s.h(t,"object",un,"modelData"),this.dA=t,this.i("modelData",e,t),this.Ob(t))}),un.prototype.addChangedListener=un.prototype.Bn=function(t){s.h(t,"function",un,"addChangedListener:listener"),null===this.yk&&(this.yk=new nt("function")),this.yk.add(t)},un.prototype.removeChangedListener=un.prototype.gv=function(t){s.h(t,"function",un,"removeChangedListener:listener"),null!==this.yk&&(this.yk.remove(t),0===this.yk.count&&(this.yk=null))},un.prototype.Gx=function(t){if(this.lb||this.na.ZF(t),null!==this.yk)for(var e=this.yk,n=e.length,i=0;i<n;i++)e.fa(i)(t)},un.prototype.raiseChangedEvent=un.prototype.od=function(t,e,n,i,r,o,s){xn(this,"",t,e,n,i,r,o,s)},un.prototype.raiseChanged=un.prototype.i=function(t,e,n,i,r){xn(this,"",$t,t,this,e,n,i,r)},un.prototype.raiseDataChanged=un.prototype.MB=function(t,e,n,i,r,o){xn(this,"",$t,e,t,n,i,r,o)},s.defineProperty(un,{na:"undoManager"},function(){return this.zA},function(t){var e=this.zA;e!==t&&(s.l(t,zn,un,"undoManager"),null!==e&&e.fK(this),this.zA=t,null!==t&&t.YH(this))}),s.defineProperty(un,{lb:"skipsUndoManager"},function(){return this.vj},function(t){s.h(t,"boolean",un,"skipsUndoManager"),this.vj=t}),un.prototype.Fn=function(t,e){if(null!==t&&t.ea===this)if(t.Oc===$t){var n=t.object,i=t.propertyName,r=t.oa(e);s.Ua(n,i,r)}else t.Oc===te?(n=t.Uj,"nodeDataArray"===t.Df?s.Qa(i=t.newValue)&&"number"==typeof n&&(r=this.zb(i),e?(s.La(this.ze,n)===i&&s.Vg(this.ze,n),void 0!==r&&this.Kc.remove(r)):(s.La(this.ze,n)!==i&&s.Ih(this.ze,n,i),void 0!==r&&this.Kc.add(r,i))):""===t.Df?(!s.isArray(i=t.object)&&t.propertyName&&(i=s.xb(t.object,t.propertyName)),s.isArray(i)&&"number"==typeof n&&(r=t.newValue,e?s.Vg(i,n):s.Ih(i,n,r))):s.k("unknown ChangedEvent.Insert modelChange: "+t.toString())):t.Oc===ee?(n=t.Wj,"nodeDataArray"===t.Df?s.Qa(i=t.oldValue)&&"number"==typeof n&&(r=this.zb(i),e?(s.La(this.ze,n)!==i&&s.Ih(this.ze,n,i),void 0!==r&&this.Kc.add(r,i)):(s.La(this.ze,n)===i&&s.Vg(this.ze,n),void 0!==r&&this.Kc.remove(r))):""===t.Df?(!s.isArray(i=t.object)&&t.propertyName&&(i=s.xb(t.object,t.propertyName)),s.isArray(i)&&"number"==typeof n&&(r=t.oldValue,e?s.Ih(i,n,r):s.Vg(i,n))):s.k("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.Oc!==Qt&&s.k("unknown ChangedEvent: "+t.toString())},un.prototype.startTransaction=un.prototype.Nb=function(t){return this.na.Nb(t)},un.prototype.commitTransaction=un.prototype.jd=function(t){return this.na.jd(t)},un.prototype.rollbackTransaction=un.prototype.Am=function(){return this.na.Am()},un.prototype.commit=function(t,e){var n=e;void 0===n&&(n="");var i=this.lb;null===n&&(this.lb=!0,n=""),this.na.Nb(n);var r=!1;try{t(this),r=!0}finally{r?this.na.jd(n):this.na.Am(),this.lb=i}},un.prototype.updateTargetBindings=un.prototype.Ob=function(t,e){void 0===e&&(e=""),xn(this,"SourceChanged",Qt,e,t,null,null)},s.defineProperty(un,{Vj:"nodeKeyProperty"},function(){return this.Ck},function(t){var e=this.Ck;e!==t&&(wn(t,un,"nodeKeyProperty"),""===t&&s.k("Model.nodeKeyProperty may not be the empty string"),0<this.Kc.count&&s.k("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Ck=t,this.i("nodeKeyProperty",e,t))}),un.prototype.getKeyForNodeData=un.prototype.zb=function(t){if(null!==t){var e=this.Ck;if(""!==e&&void 0!==(e=s.xb(t,e))){if(kn(e))return e;s.k("Key value for node data "+t+" is not a number or a string: "+e)}}},un.prototype.setKeyForNodeData=un.prototype.Ty=function(t,e){if(void 0!==e&&null!==e&&kn(e)||s.kc(e,"number or string",un,"setKeyForNodeData:key"),null!==t){var n=this.Ck;if(""!==n)if(this.ke(t)){var i=s.xb(t,n);i!==e&&null===this.Ie(e)&&(s.Ua(t,n,e),this.Kc.remove(i),this.Kc.add(e,t),xn(this,"nodeKey",$t,n,t,i,e),"string"==typeof n&&this.Ob(t,n),this.hv(i,e))}else s.Ua(t,n,e)}},s.defineProperty(un,{bM:"makeUniqueKeyFunction"},function(){return this.vp},function(t){var e=this.vp;e!==t&&(null!==t&&s.h(t,"function",un,"makeUniqueKeyFunction"),this.vp=t,this.i("makeUniqueKeyFunction",e,t))}),un.prototype.containsNodeData=un.prototype.ke=function(t){var e=this.zb(t);return void 0!==e&&this.Kc.oa(e)===t},un.prototype.findNodeDataForKey=un.prototype.Ie=function(t){return null===t&&s.k("Model.findNodeDataForKey:key must not be null"),void 0!==t&&kn(t)?this.Kc.oa(t):null},s.defineProperty(un,{qg:"nodeDataArray"},function(){return this.ze},function(t){var e=this.ze;if(e!==t){s.gu(t,un,"nodeDataArray"),this.Kc.clear(),this.sC();for(var n=s.cb(t),i=0;i<n;i++){var r=s.La(t,i);if(!s.Qa(r))return void s.k("Model.nodeDataArray must only contain Objects, not: "+r);s.sq(r)}this.ze=t;var o=new nt(Object);for(i=0;i<n;i++){r=s.La(t,i);var a=this.zb(r);void 0===a?o.add(r):null!==this.Kc.oa(a)?o.add(r):this.Kc.add(a,r)}for(i=o.j;i.next();)this.zB(r=i.value),void 0!==(o=this.zb(r))&&this.Kc.add(o,r);for(xn(this,"nodeDataArray",$t,"nodeDataArray",this,e,t),i=0;i<n;i++)r=s.La(t,i),this.Qq(r),this.Pq(r);this.gF(),s.qJ(t)||(this.qb=!0)}}),un.prototype.makeNodeDataKeyUnique=un.prototype.zB=function(t){if(null!==t){var e=this.Ck;if(""!==e){var n=this.zb(t);if(void 0===n||this.Kc.contains(n)){var i=this.vp;if(null!==i&&void 0!==(n=i(this,t))&&null!==n&&!this.Kc.contains(n))return void s.Ua(t,e,n);if("string"==typeof n){for(i=2;this.Kc.contains(n+i);)i++;s.Ua(t,e,n+i)}else if(void 0===n||"number"==typeof n){for(i=-this.Kc.count-1;this.Kc.contains(i);)i--;s.Ua(t,e,i)}else s.k("Model.getKeyForNodeData returned something other than a string or a number: "+n)}}}},un.prototype.addNodeData=un.prototype.dm=function(t){null!==t&&(s.sq(t),this.ke(t)||Pn(this,t,!0))},un.prototype.addNodeDataCollection=function(t){if(s.isArray(t))for(var e=s.cb(t),n=0;n<e;n++)this.dm(s.La(t,n));else for(t=t.j;t.next();)this.dm(t.value)},un.prototype.removeNodeData=un.prototype.Ky=function(t){null!==t&&Sn(this,t,!0)},un.prototype.removeNodeDataCollection=function(t){if(s.isArray(t))for(var e=s.cb(t),n=0;n<e;n++)this.Ky(s.La(t,n));else for(t=t.j;t.next();)this.Ky(t.value)},(n=un.prototype).hv=function(t,e){var n=Mn(this,t);n instanceof rt&&this.zg.add(e,n)},n.sC=function(){},n.Qq=function(){},n.Pq=function(){},n.wv=function(){},un.prototype.clearUnresolvedReferences=un.prototype.gF=function(t){void 0===t?this.zg.clear():this.zg.remove(t)},s.defineProperty(un,{uL:"copyNodeDataFunction"},function(){return this.Po},function(t){var e=this.Po;e!==t&&(null!==t&&s.h(t,"function",un,"copyNodeDataFunction"),this.Po=t,this.i("copyNodeDataFunction",e,t))}),s.defineProperty(un,{PA:"copiesArrays"},function(){return this.Ar},function(t){var e=this.Ar;e!==t&&(null!==t&&s.h(t,"boolean",un,"copiesArrays"),this.Ar=t,this.i("copiesArrays",e,t))}),s.defineProperty(un,{OA:"copiesArrayObjects"},function(){return this.zr},function(t){var e=this.zr;e!==t&&(null!==t&&s.h(t,"boolean",un,"copiesArrayObjects"),this.zr=t,this.i("copiesArrayObjects",e,t))}),un.prototype.copyNodeData=function(t){if(null===t)return null;var e=null;return e=null!==(e=this.Po)?e(t,this):Nn(this,t,!0),s.Qa(e)&&s.xc(e),e},s.defineProperty(un,{$H:"afterCopyFunction"},function(){return this.jr},function(t){var e=this.jr;e!==t&&(null!==t&&s.h(t,"function",un,"afterCopyFunction"),this.jr=t,this.i("afterCopyFunction",e,t))});var jn,An,_n,On=!1;function En(t,e){un.call(this),2<arguments.length&&s.k("GraphLinksModel constructor can only take two optional arguments, the Array of node data and the Array of link data."),this.df=[],this.ki=new rt(Object),this.td=new ut(null,Object),this.Ol="",this.yl=this.Oo=this.wp=null,this.li="from",this.mi="to",this.dn=this.cn="",this.bn="category",this.Kg="",this.zp="isGroup",this.Ah="group",this.Br=!1,void 0!==t&&(this.qg=t),void 0!==e&&(this.$g=e)}function Dn(t,e,n){if(""!==t.Tj){var i=t.nf(e);if(void 0!==i&&t.td.oa(i)===e)return;if(t.vy(e),void 0===(i=t.nf(e)))return void s.k("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model.");t.td.add(i,e)}t.ki.add(e),i=null,n&&(i=s.cb(t.df),s.Ih(t.df,i,e)),xn(t,"linkDataArray",te,"linkDataArray",t,null,e,null,i),Fn(t,e)}function Ln(t,e,n){t.ki.remove(e);var i=t.nf(e);if(void 0!==i&&t.td.remove(i),i=null,n){if(0>(i=s.hm(t.df,e)))return;s.Vg(t.df,i)}if(xn(t,"linkDataArray",ee,"linkDataArray",t,e,null,i,null),Tn(t,n=t.tm(e),e),Tn(t,n=t.um(e),e),i=t.$k(e),s.isArray(i))for(var r=s.cb(i),o=0;o<r;o++)Tn(t,n=s.La(i,o),e)}function Fn(t,e){var n=t.tm(e);n=t.fo(n),null===t.Ie(n)&&Cn(t,n,e),n=t.um(e),n=t.fo(n),null===t.Ie(n)&&Cn(t,n,e);var i=t.$k(e);if(s.isArray(i))for(var r=s.cb(i),o=0;o<r;o++)n=s.La(i,o),null===t.Ie(n)&&Cn(t,n,e)}function In(t){1<arguments.length&&s.k("TreeModel constructor can only take one optional argument, the Array of node data."),un.call(this),this.Bh="parent",this.Cr=!1,this.ln="parentLinkCategory",void 0!==t&&(this.qg=t)}function Rn(t,e,n){s.xc(this),this.J=!1,void 0===t?t="":s.h(t,"string",Rn,"constructor:targetprop"),void 0===e?e=t:s.h(e,"string",Rn,"constructor:sourceprop"),void 0===n?n=null:null!==n&&s.h(n,"function",Rn,"constructor:conv"),this.xE=-1,this.Sg=null,this.Up=t,this.Tp=this.Pt=0,this.jx=null,this.us=!1,this.Kp=e,this.yr=n,this.Os=jn,this.rr=null,this.Pz=new rt}function Vn(t,e,n){return null===(t=t.$q)||""===t?e:"/"===t?n.Y:"."===t?n:".."===t?n.R:e.Md(t)}function Bn(){this.CH=new nt(hn).freeze(),this.$b="",this.DD=!1}function zn(){this.eA=new rt(un),this.sf=!1,this.GH=new nt(Bn).freeze(),this.rh=-1,this.SD=999,this.uh=!1,this.Xv=null,this.am=0,this.uz=!1,r&&(this.uz=!0),this.zh=new nt("string").freeze(),this.yp=new nt("number"),this.Qz=!0,this.$z=!1}function qn(t,e,n){if(t.ub)return!1;t.IA&&1>t.Ki&&s.trace("Ending transaction without having started a transaction: "+n);var i=1===t.Ki;i&&e&&t.vd("CommittingTransaction",n,t.Gj);var r=0;if(0<t.Ki&&(t.am--,t.isEnabled)){var o=t.zh.count;0<o&&(""===n&&(n=t.zh.fa(0)),t.zh.Xa(),t.zh.pd(o-1),t.zh.freeze()),0<(o=t.yp.count)&&(r=t.yp.fa(o-1),t.yp.pd(o-1))}if(o=t.Gj,i){if(e){if(t.$z=!1,t.isEnabled&&null!==o){for((e=o).Iu=!0,e.name=n,(i=t.history).Xa(),r=i.count-1;r>t.Lj;r--)null!==(o=i.fa(r))&&o.clear(),i.pd(r),t.$z=!0;0===(r=t.vG)&&(r=1),0<r&&i.count>=r&&(null!==(o=i.fa(0))&&o.clear(),i.pd(0),t.rh--),i.add(e),t.rh++,i.freeze(),o=e}t.vd("CommittedTransaction",n,o)}else{t.uh=!0;try{t.isEnabled&&null!==o&&(o.Iu=!0,o.undo())}finally{t.vd("RolledBackTransaction",n,o),t.uh=!1}null!==o&&o.clear()}return t.Xv=null,!0}if(t.isEnabled&&!e&&null!==o){for(t=r,e=(n=o.fg).count-1;e>=t;e--)null!==(i=n.fa(e))&&i.undo(),n.Xa(),n.pd(e);n.freeze()}return!1}function Gn(){0<arguments.length&&s.zd(Gn),s.xc(this),this.ca=null,this.QC=!1,this.kD=this.RC=!0,this.TC=this.UC=this.lD=this.VC=!1,this.Rl=this.nz=null,this.PE=1.05,this.hD=1,this.aA=NaN,this.PD=null,this.DA=NaN,this.CA=re,this.uj=null,this.nE=0}un.prototype.set=function(t,e,n){this.setDataProperty(t,e,n)},un.prototype.set=un.prototype.setDataProperty=function(t,e,n){if(r&&(s.h(t,"object",un,"setDataProperty:data"),s.h(e,"string",un,"setDataProperty:propname"),""===e&&s.k("Model.setDataProperty: property name must not be an empty string when setting "+t+" to "+n)),this.ke(t)){if(e===this.Vj)this.Ty(t,n);else if(e===this.oo)return void this.Ry(t,n)}else!On&&t instanceof fa&&(On=!0,s.trace('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),s.trace("  Is that really your intent?"));var i=s.xb(t,e);i!==n&&(s.Ua(t,e,n),this.MB(t,e,i,n))},un.prototype.addArrayItem=function(t,e){this.mB(t,-1,e)},un.prototype.insertArrayItem=un.prototype.mB=function(t,e,n){r&&(s.gu(t,un,"insertArrayItem:arr"),s.p(e,un,"insertArrayItem:idx")),t===this.ze&&s.k("Model.insertArrayItem or Model.addArrayItem should not be called on the Model.nodeDataArray"),0>e&&(e=s.cb(t)),s.Ih(t,e,n),xn(this,"",te,"",t,null,n,null,e)},un.prototype.removeArrayItem=un.prototype.IG=function(t,e){void 0===e&&(e=-1),r&&(s.gu(t,un,"removeArrayItem:arr"),s.p(e,un,"removeArrayItem:idx")),t===this.ze&&s.k("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=s.cb(t)-1);var n=s.La(t,e);s.Vg(t,e),xn(this,"",ee,"",t,n,null,e,null)},s.defineProperty(un,{oo:"nodeCategoryProperty"},function(){return this.hn},function(t){var e=this.hn;e!==t&&(wn(t,un,"nodeCategoryProperty"),this.hn=t,this.i("nodeCategoryProperty",e,t))}),un.prototype.getCategoryForNodeData=un.prototype.eB=function(t){if(null===t)return"";var e=this.hn;return""===e?"":void 0===(e=s.xb(t,e))?"":"string"==typeof e?e:(s.k("getCategoryForNodeData found a non-string category for "+t+": "+e),"")},un.prototype.setCategoryForNodeData=un.prototype.Ry=function(t,e){if(s.h(e,"string",un,"setCategoryForNodeData:cat"),null!==t){var n=this.hn;if(""!==n)if(this.ke(t)){var i=s.xb(t,n);void 0===i&&(i=""),i!==e&&(s.Ua(t,n,e),xn(this,"nodeCategory",$t,n,t,i,e))}else s.Ua(t,n,e)}},s.Ta(En,un),s.ka("GraphLinksModel",En),En.prototype.cloneProtected=function(t){un.prototype.cloneProtected.call(this,t),t.Ol=this.Ol,t.wp=this.wp,t.Oo=this.Oo,t.li=this.li,t.mi=this.mi,t.cn=this.cn,t.dn=this.dn,t.bn=this.bn,t.Kg=this.Kg,t.zp=this.zp,t.Ah=this.Ah,t.Br=this.Br},En.prototype.clear=En.prototype.clear=function(){un.prototype.clear.call(this),this.df=[],this.td.clear(),this.ki.clear()},(n=En.prototype).toString=function(t){if(void 0===t&&(t=0),2<=t)return this.kC();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<t){e+="\n node data:";var n=s.cb(t=this.qg),i=0;for(i=0;i<n;i++){var r=s.La(t,i);e=e+" "+this.zb(r)+":"+_n(r)}for(e+="\n link data:",n=s.cb(t=this.$g),i=0;i<n;i++)r=s.La(t,i),e+=" "+this.tm(r)+"--\x3e"+this.um(r)}return e},n.Ao=function(){var t=un.prototype.Ao.call(this),e="";return"category"!==this.Su&&"string"==typeof this.Su&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.Su)),""!==this.Tj&&"string"==typeof this.Tj&&(e+=',\n  "linkKeyProperty": '+this.quote(this.Tj)),"from"!==this.co&&"string"==typeof this.co&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.co)),"to"!==this.eo&&"string"==typeof this.eo&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.eo)),""!==this.Tu&&"string"==typeof this.Tu&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.Tu)),""!==this.Vu&&"string"==typeof this.Vu&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.Vu)),""!==this.Uu&&"string"==typeof this.Uu&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.Uu)),"isGroup"!==this.Iq&&"string"==typeof this.Iq&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.Iq)),"group"!==this.bv&&"string"==typeof this.bv&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.bv)),t+e},n.fv=function(t){un.prototype.fv.call(this,t),t.linkKeyProperty&&(this.Tj=t.linkKeyProperty),t.linkFromKeyProperty&&(this.co=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.eo=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.Tu=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.Vu=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.Su=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.Uu=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.Iq=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.bv=t.nodeGroupKeyProperty)},n.xC=function(){return un.prototype.xC.call(this)+',\n  "linkDataArray": '+yn(this,this.$g,!0)},n.OB=function(t){un.prototype.OB.call(this,t),s.isArray(t=t.linkDataArray)&&(this.iv(t),this.$g=t)},n.yC=function(t){if(!(t instanceof En))return s.k("Model.computeJsonDifference: newmodel must be a GraphLinksModel"),"";""===this.Tj&&s.k("GraphLinksModel.linkKeyProperty must not be an empty string for .computeJsonDifference() to succeed.");var e=un.prototype.yC.call(this,t);dn(this,t,"linkKeyProperty"),dn(this,t,"linkFromKeyProperty"),dn(this,t,"linkToKeyProperty"),dn(this,t,"linkLabelKeysProperty"),dn(this,t,"nodeIsGroupProperty"),dn(this,t,"nodeGroupKeyProperty");for(var n=new rt,i=new rt,r=(new rt).Vc(this.td.pG),o=new ut,a=t.$g,l=0;l<a.length;l++){var h=a[l],u=t.nf(h);if(void 0!==u){r.remove(u);var c=this.oq(u);null===c?(n.add(u),i.add(h)):pn(this,c,h,o)||i.add(h)}else this.vy(h),u=this.nf(h),n.add(u),i.add(h)}return t=e,0<n.count&&(t+=this.hz+yn(this,n.Fc(),!0)),0<i.count&&(t+=this.FC+yn(this,i.Fc(),!0)),0<r.count&&(t+=this.jz+yn(this,r.Fc(),!0)),t},n.hz=',\n  "insertedLinkKeys": ',n.FC=',\n  "modifiedLinkData": ',n.jz=',\n  "removedLinkKeys": ',n.wC=function(t,e){""===this.Tj&&s.k("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var n=un.prototype.wC.call(this,t,e),i=this,r=new rt,o=new rt,a=new rt;t.fg.each(function(t){t.ea===i&&("linkDataArray"===t.Df?t.Oc===te?r.add(t.newValue):t.Oc===ee&&a.add(t.oldValue):i.Lh(t.object)&&o.add(t.object))});var l=new rt;r.each(function(t){l.add(i.nf(t)),e||o.add(t)});var h=new rt;return a.each(function(t){h.add(i.nf(t)),e&&o.add(t)}),0<l.count&&(n+=(e?this.jz:this.hz)+yn(this,l.Fc(),!0)),0<o.count&&(n+=this.FC+yn(this,o.Fc(),!0)),0<h.count&&(n+=(e?this.hz:this.jz)+yn(this,h.Fc(),!0)),n},n.NB=function(t){un.prototype.NB.call(this,t);var e=t.insertedLinkKeys,n=t.modifiedLinkData,i=new ut;if(s.isArray(n))for(var r=0;r<n.length;r++){var o=s.La(n,r),a=this.nf(o);void 0!==a&&null!==a&&i.set(a,o)}if(s.isArray(e)){r=s.cb(e);for(var l=0;l<r;l++)o=s.La(e,l),null===(a=this.oq(o))&&(a=(a=i.get(o))?a:this.Kx({}),this.cH(a,o),this.au(a))}if(s.isArray(n))for(r=s.cb(n),l=0;l<r;l++)if(o=s.La(n,l),a=this.nf(o),null!==(a=this.oq(a)))for(var h in o)"__gohashid"!==h&&h!==this.Tj&&this.setDataProperty(a,h,o[h]);if(s.isArray(t=t.removedLinkKeys))for(r=s.cb(t),l=0;l<r;l++)o=s.La(t,l),null!==(a=this.oq(o))&&this.Jy(a)},n.Fn=function(t,e){if(t.Oc===te){var n=t.Uj;if("linkDataArray"===t.Df){var i=t.newValue;if(s.Qa(i)&&"number"==typeof n){var r=this.nf(i);e?(this.ki.remove(i),s.La(this.df,n)===i&&s.Vg(this.df,n),void 0!==r&&this.td.remove(r)):(this.ki.add(i),s.La(this.df,n)!==i&&s.Ih(this.df,n,i),void 0!==r&&this.td.add(r,i))}return}if("linkLabelKeys"===t.Df)return i=this.$k(t.object),void(s.isArray(i)&&"number"==typeof n&&(e?(n=s.hm(i,t.newValue),0<=n&&s.Vg(i,n)):0>s.hm(i,t.newValue)&&s.Ih(i,n,t.newValue)))}else if(t.Oc===ee){if(n=t.Wj,"linkDataArray"===t.Df)return void(s.Qa(i=t.oldValue)&&"number"==typeof n&&(r=this.nf(i),e?(this.ki.add(i),s.La(this.df,n)!==i&&s.Ih(this.df,n,i),void 0!==r&&this.td.add(r,i)):(this.ki.remove(i),s.La(this.df,n)===i&&s.Vg(this.df,n),void 0!==r&&this.td.remove(r))));if("linkLabelKeys"===t.Df)return i=this.$k(t.object),void(s.isArray(i)&&"number"==typeof n&&(e?0>s.hm(i,t.newValue)&&s.Ih(i,n,t.newValue):(n=s.hm(i,t.newValue),0<=n&&s.Vg(i,n))))}un.prototype.Fn.call(this,t,e)},s.defineProperty(En,{GA:"archetypeNodeData"},function(){return this.yl},function(t){var e=this.yl;e!==t&&(null!==t&&s.l(t,Object,En,"archetypeNodeData"),this.yl=t,this.i("archetypeNodeData",e,t))}),En.prototype.fo=function(t){if(void 0!==t){var e=this.yl;if(null!==e){var n=this.Ie(t);null===n&&(n=this.copyNodeData(e),s.Ua(n,this.Ck,t),this.dm(n))}return t}},s.defineProperty(En,{co:"linkFromKeyProperty"},function(){return this.li},function(t){var e=this.li;e!==t&&(wn(t,En,"linkFromKeyProperty"),this.li=t,this.i("linkFromKeyProperty",e,t))}),En.prototype.getFromKeyForLinkData=En.prototype.tm=function(t){if(null!==t){var e=this.li;if(""!==e&&void 0!==(e=s.xb(t,e))){if(kn(e))return e;s.k("FromKey value for link data "+t+" is not a number or a string: "+e)}}},En.prototype.setFromKeyForLinkData=En.prototype.YB=function(t,e){if(null===e&&(e=void 0),void 0===e||kn(e)||s.kc(e,"number or string",En,"setFromKeyForLinkData:key"),null!==t){var n=this.li;if(""!==n)if(e=this.fo(e),this.Lh(t)){var i=s.xb(t,n);i!==e&&(Tn(this,i,t),s.Ua(t,n,e),null===this.Ie(e)&&Cn(this,e,t),xn(this,"linkFromKey",$t,n,t,i,e),"string"==typeof n&&this.Ob(t,n))}else s.Ua(t,n,e)}},s.defineProperty(En,{eo:"linkToKeyProperty"},function(){return this.mi},function(t){var e=this.mi;e!==t&&(wn(t,En,"linkToKeyProperty"),this.mi=t,this.i("linkToKeyProperty",e,t))}),En.prototype.getToKeyForLinkData=En.prototype.um=function(t){if(null!==t){var e=this.mi;if(""!==e&&void 0!==(e=s.xb(t,e))){if(kn(e))return e;s.k("ToKey value for link data "+t+" is not a number or a string: "+e)}}},En.prototype.setToKeyForLinkData=En.prototype.dC=function(t,e){if(null===e&&(e=void 0),void 0===e||kn(e)||s.kc(e,"number or string",En,"setToKeyForLinkData:key"),null!==t){var n=this.mi;if(""!==n)if(e=this.fo(e),this.Lh(t)){var i=s.xb(t,n);i!==e&&(Tn(this,i,t),s.Ua(t,n,e),null===this.Ie(e)&&Cn(this,e,t),xn(this,"linkToKey",$t,n,t,i,e),"string"==typeof n&&this.Ob(t,n))}else s.Ua(t,n,e)}},s.defineProperty(En,{Tu:"linkFromPortIdProperty"},function(){return this.cn},function(t){var e=this.cn;e!==t&&(wn(t,En,"linkFromPortIdProperty"),t!==this.co&&t!==this.eo||s.k("linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: "+t),this.cn=t,this.i("linkFromPortIdProperty",e,t))}),En.prototype.getFromPortIdForLinkData=En.prototype.UI=function(t){if(null===t)return"";var e=this.cn;return""===e?"":void 0===(t=s.xb(t,e))?"":t},En.prototype.setFromPortIdForLinkData=En.prototype.ZB=function(t,e){if(s.h(e,"string",En,"setFromPortIdForLinkData:portname"),null!==t){var n=this.cn;if(""!==n)if(this.Lh(t)){var i=s.xb(t,n);void 0===i&&(i=""),i!==e&&(s.Ua(t,n,e),xn(this,"linkFromPortId",$t,n,t,i,e),"string"==typeof n&&this.Ob(t,n))}else s.Ua(t,n,e)}},s.defineProperty(En,{Vu:"linkToPortIdProperty"},function(){return this.dn},function(t){var e=this.dn;e!==t&&(wn(t,En,"linkToPortIdProperty"),t!==this.co&&t!==this.eo||s.k("linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: "+t),this.dn=t,this.i("linkToPortIdProperty",e,t))}),En.prototype.getToPortIdForLinkData=En.prototype.YI=function(t){if(null===t)return"";var e=this.dn;return""===e?"":void 0===(t=s.xb(t,e))?"":t},En.prototype.setToPortIdForLinkData=En.prototype.eC=function(t,e){if(s.h(e,"string",En,"setToPortIdForLinkData:portname"),null!==t){var n=this.dn;if(""!==n)if(this.Lh(t)){var i=s.xb(t,n);void 0===i&&(i=""),i!==e&&(s.Ua(t,n,e),xn(this,"linkToPortId",$t,n,t,i,e),"string"==typeof n&&this.Ob(t,n))}else s.Ua(t,n,e)}},s.defineProperty(En,{Uu:"linkLabelKeysProperty"},function(){return this.Kg},function(t){var e=this.Kg;e!==t&&(wn(t,En,"linkLabelKeysProperty"),this.Kg=t,this.i("linkLabelKeysProperty",e,t))}),En.prototype.getLabelKeysForLinkData=En.prototype.$k=function(t){if(null===t)return s.Do;var e=this.Kg;return""===e?s.Do:void 0===(t=s.xb(t,e))?s.Do:t},En.prototype.setLabelKeysForLinkData=En.prototype.dH=function(t,e){if(s.gu(e,En,"setLabelKeysForLinkData:arr"),null!==t){var n=this.Kg;if(""!==n)if(this.Lh(t)){var i=s.xb(t,n);if(void 0===i&&(i=s.Do),i!==e){for(var r=s.cb(i),o=0;o<r;o++){var a=s.La(i,o);Tn(this,a,t)}for(s.Ua(t,n,e),r=s.cb(e),o=0;o<r;o++)a=s.La(e,o),null===this.Ie(a)&&Cn(this,a,t);xn(this,"linkLabelKeys",$t,n,t,i,e),"string"==typeof n&&this.Ob(t,n)}}else s.Ua(t,n,e)}},En.prototype.addLabelKeyForLinkData=En.prototype.VE=function(t,e){if(null!==e&&void 0!==e&&(kn(e)||s.kc(e,"number or string",En,"addLabelKeyForLinkData:key"),null!==t)){var n=this.Kg;if(""!==n){var i=s.xb(t,n);if(void 0===i)(n=[]).push(e),this.dH(t,n);else if(s.isArray(i)){var r=s.hm(i,e);0<=r||(r=s.cb(i),s.Ih(i,1/0,e),this.Lh(t)&&(null===this.Ie(e)&&Cn(this,e,t),xn(this,"linkLabelKeys",te,n,t,null,e,null,r)))}else s.k(n+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},En.prototype.removeLabelKeyForLinkData=En.prototype.eK=function(t,e){if(null!==e&&void 0!==e&&(kn(e)||s.kc(e,"number or string",En,"removeLabelKeyForLinkData:key"),null!==t)){var n=this.Kg;if(""!==n){var i=s.xb(t,n);if(s.isArray(i)){var r=s.hm(i,e);0>r||(s.Vg(i,r),this.Lh(t)&&(Tn(this,e,t),xn(this,"linkLabelKeys",ee,n,t,e,null,r,null)))}else void 0!==i&&s.k(n+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},s.defineProperty(En,{$g:"linkDataArray"},function(){return this.df},function(t){var e=this.df;if(e!==t){s.gu(t,En,"linkDataArray"),this.td.clear();for(var n=s.cb(t),i=0;i<n;i++){var r=s.La(t,i);if(!s.Qa(r))return void s.k("GraphLinksModel.linkDataArray must only contain Objects, not: "+r);s.sq(r)}if(this.df=t,""!==this.Tj){var o=new nt(Object);for(i=0;i<n;i++){r=s.La(t,i);var a=this.nf(r);void 0===a?o.add(r):null!==this.td.oa(a)?o.add(r):this.td.add(a,r)}for(i=o.j;i.next();)this.vy(r=i.value),void 0!==(o=this.nf(r))&&this.td.add(o,r)}for(o=new rt(Object),i=0;i<n;i++)r=s.La(t,i),o.add(r);for(this.ki=o,xn(this,"linkDataArray",$t,"linkDataArray",this,e,t),i=0;i<n;i++)Fn(this,r=s.La(t,i))}}),s.defineProperty(En,{Tj:"linkKeyProperty"},function(){return this.Ol},function(t){var e=this.Ol;if(e!==t){wn(t,En,"linkKeyProperty"),this.Ol=t,this.td.clear();for(var n=s.cb(this.$g),i=0;i<n;i++){var r=s.La(this.$g,i),o=this.nf(r);void 0===o&&(this.vy(r),o=this.nf(r)),void 0!==o&&this.td.add(o,r)}this.i("linkKeyProperty",e,t)}}),En.prototype.getKeyForLinkData=En.prototype.nf=function(t){if(null!==t){var e=this.Ol;if(""!==e&&void 0!==(e=s.xb(t,e))){if(kn(e))return e;s.k("Key value for link data "+t+" is not a number or a string: "+e)}}},En.prototype.setKeyForLinkData=En.prototype.cH=function(t,e){if(void 0!==e&&null!==e&&kn(e)||s.kc(e,"number or string",En,"setKeyForLinkData:key"),null!==t){var n=this.Ol;if(""!==n)if(this.Lh(t)){var i=s.xb(t,n);i!==e&&null===this.oq(e)&&(s.Ua(t,n,e),this.td.remove(i),this.td.add(e,t),xn(this,"linkKey",$t,n,t,i,e),"string"==typeof n&&this.Ob(t,n))}else s.Ua(t,n,e)}},s.defineProperty(En,{cM:"makeUniqueLinkKeyFunction"},function(){return this.wp},function(t){var e=this.wp;e!==t&&(null!==t&&s.h(t,"function",En,"makeUniqueLinkKeyFunction"),this.wp=t,this.i("makeUniqueLinkKeyFunction",e,t))}),En.prototype.findLinkDataForKey=En.prototype.oq=function(t){return null===t&&s.k("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&kn(t)?this.td.oa(t):null},En.prototype.makeLinkDataKeyUnique=En.prototype.vy=function(t){if(null!==t){var e=this.Ol;if(""!==e){var n=this.nf(t);if(void 0===n||this.td.contains(n)){var i=this.wp;if(null!==i&&void 0!==(n=i(this,t))&&null!==n&&!this.td.contains(n))return void s.Ua(t,e,n);if("string"==typeof n){for(i=2;this.td.contains(n+i);)i++;s.Ua(t,e,n+i)}else if(void 0===n||"number"==typeof n){for(i=-this.td.count-1;this.td.contains(i);)i--;s.Ua(t,e,i)}else s.k("GraphLinksModel.getKeyForLinkData returned something other than a string or a number: "+n)}}}},En.prototype.containsLinkData=En.prototype.Lh=function(t){return null!==t&&this.ki.contains(t)},En.prototype.addLinkData=En.prototype.au=function(t){null!==t&&(s.sq(t),this.Lh(t)||Dn(this,t,!0))},En.prototype.addLinkDataCollection=function(t){if(s.isArray(t))for(var e=s.cb(t),n=0;n<e;n++)this.au(s.La(t,n));else for(t=t.j;t.next();)this.au(t.value)},En.prototype.removeLinkData=En.prototype.Jy=function(t){null!==t&&Ln(this,t,!0)},En.prototype.removeLinkDataCollection=function(t){if(s.isArray(t))for(var e=s.cb(t),n=0;n<e;n++)this.Jy(s.La(t,n));else for(t=t.j;t.next();)this.Jy(t.value)},s.defineProperty(En,{tL:"copyLinkDataFunction"},function(){return this.Oo},function(t){var e=this.Oo;e!==t&&(null!==t&&s.h(t,"function",En,"copyLinkDataFunction"),this.Oo=t,this.i("copyLinkDataFunction",e,t))}),En.prototype.copyLinkData=En.prototype.Kx=function(t){if(null===t)return null;var e=null;return e=null!==(e=this.Oo)?e(t,this):Nn(this,t,!0),s.Qa(e)&&(s.xc(e),""!==this.li&&s.Ua(e,this.li,void 0),""!==this.mi&&s.Ua(e,this.mi,void 0),""!==this.Kg&&s.Ua(e,this.Kg,[])),e},s.defineProperty(En,{Iq:"nodeIsGroupProperty"},function(){return this.zp},function(t){var e=this.zp;e!==t&&(wn(t,En,"nodeIsGroupProperty"),this.zp=t,this.i("nodeIsGroupProperty",e,t))}),En.prototype.isGroupForNodeData=En.prototype.sB=function(t){if(null===t)return!1;var e=this.zp;return""!==e&&!!s.xb(t,e)},s.defineProperty(En,{bv:"nodeGroupKeyProperty"},function(){return this.Ah},function(t){var e=this.Ah;e!==t&&(wn(t,En,"nodeGroupKeyProperty"),this.Ah=t,this.i("nodeGroupKeyProperty",e,t))}),s.defineProperty(En,{Jn:"copiesGroupKeyOfNodeData"},function(){return this.Br},function(t){this.Br!==t&&(s.h(t,"boolean",En,"copiesGroupKeyOfNodeData"),this.Br=t)}),En.prototype.getGroupKeyForNodeData=En.prototype.Sn=function(t){if(null!==t){var e=this.Ah;if(""!==e&&void 0!==(e=s.xb(t,e))){if(kn(e))return e;s.k("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},En.prototype.setGroupKeyForNodeData=En.prototype.$B=function(t,e){if(null===e&&(e=void 0),void 0===e||kn(e)||s.kc(e,"number or string",En,"setGroupKeyForNodeData:key"),null!==t){var n=this.Ah;if(""!==n)if(this.ke(t)){var i=s.xb(t,n);i!==e&&(Tn(this,i,t),s.Ua(t,n,e),null===this.Ie(e)&&Cn(this,e,t),xn(this,"nodeGroupKey",$t,n,t,i,e),"string"==typeof n&&this.Ob(t,n))}else s.Ua(t,n,e)}},En.prototype.copyNodeData=function(t){return null===t?null:(t=un.prototype.copyNodeData.call(this,t),this.Jn||""===this.Ah||void 0===s.xb(t,this.Ah)||s.Ua(t,this.Ah,void 0),t)},En.prototype.setDataProperty=function(t,e,n){if(r&&(s.h(t,"object",En,"setDataProperty:data"),s.h(e,"string",En,"setDataProperty:propname"),""===e&&s.k("GraphLinksModel.setDataProperty: property name must not be an empty string when setting "+t+" to "+n)),this.ke(t))if(e===this.Vj)this.Ty(t,n);else{if(e===this.oo)return void this.Ry(t,n);if(e===this.bv)return void this.$B(t,n);e===this.Iq&&s.k("GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: "+e)}else if(this.Lh(t)){if(e===this.co)return void this.YB(t,n);if(e===this.eo)return void this.dC(t,n);if(e===this.Tu)return void this.ZB(t,n);if(e===this.Vu)return void this.eC(t,n);if(e===this.Tj)return void this.cH(t,n);if(e===this.Su)return void this.bH(t,n);if(e===this.Uu)return void this.dH(t,n)}else!On&&t instanceof fa&&(On=!0,s.trace('GraphLinksModel.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),s.trace("  Is that really your intent?"));var i=s.xb(t,e);i!==n&&(s.Ua(t,e,n),this.MB(t,e,i,n))},(n=En.prototype).hv=function(t,e){un.prototype.hv.call(this,t,e);for(var n=this.Kc.j;n.next();)this.SB(n.value,t,e);for(n=this.ki.j;n.next();){var i=n.value,r=t,o=e;if(this.tm(i)===r){var a=this.li;s.Ua(i,a,o),xn(this,"linkFromKey",$t,a,i,r,o),"string"==typeof a&&this.Ob(i,a)}if(this.um(i)===r&&(s.Ua(i,a=this.mi,o),xn(this,"linkToKey",$t,a,i,r,o),"string"==typeof a&&this.Ob(i,a)),a=this.$k(i),s.isArray(a))for(var l=s.cb(a),h=this.Kg,u=0;u<l;u++)s.La(a,u)===r&&(s.cF(a,u,o),xn(this,"linkLabelKeys",te,h,i,r,o,u,u))}},n.SB=function(t,e,n){if(this.Sn(t)===e){var i=this.Ah;s.Ua(t,i,n),xn(this,"nodeGroupKey",$t,i,t,e,n),"string"==typeof i&&this.Ob(t,i)}},n.sC=function(){un.prototype.sC.call(this);for(var t=this.$g,e=s.cb(t),n=0;n<e;n++)Fn(this,s.La(t,n))},n.Qq=function(t){if(un.prototype.Qq.call(this,t),null!==(n=Mn(this,t=this.zb(t)))){for(var e=new nt(Object),n=n.j;n.next();){var i=n.value;if(this.ke(i)){if(this.Sn(i)===t){var r=this.Ah;xn(this,"nodeGroupKey",$t,r,i,t,t),"string"==typeof r&&this.Ob(i,r),e.add(i)}}else if(this.tm(i)===t&&(xn(this,"linkFromKey",$t,r=this.li,i,t,t),"string"==typeof r&&this.Ob(i,r),e.add(i)),this.um(i)===t&&(xn(this,"linkToKey",$t,r=this.mi,i,t,t),"string"==typeof r&&this.Ob(i,r),e.add(i)),r=this.$k(i),s.isArray(r))for(var o=s.cb(r),a=this.Kg,l=0;l<o;l++)s.La(r,l)===t&&(xn(this,"linkLabelKeys",te,a,i,t,t,l,l),e.add(i))}for(e=e.j;e.next();)Tn(this,t,e.value)}},n.Pq=function(t){un.prototype.Pq.call(this,t);var e=this.Sn(t);null===this.Ie(e)&&Cn(this,e,t)},n.wv=function(t){un.prototype.wv.call(this,t),Tn(this,this.Sn(t),t)},s.defineProperty(En,{Su:"linkCategoryProperty"},function(){return this.bn},function(t){var e=this.bn;e!==t&&(wn(t,En,"linkCategoryProperty"),this.bn=t,this.i("linkCategoryProperty",e,t))}),En.prototype.getCategoryForLinkData=En.prototype.Bu=function(t){if(null===t)return"";var e=this.bn;return""===e?"":void 0===(e=s.xb(t,e))?"":"string"==typeof e?e:(s.k("getCategoryForLinkData found a non-string category for "+t+": "+e),"")},En.prototype.setCategoryForLinkData=En.prototype.bH=function(t,e){if(s.h(e,"string",En,"setCategoryForLinkData:cat"),null!==t){var n=this.bn;if(""!==n)if(this.Lh(t)){var i=s.xb(t,n);void 0===i&&(i=""),i!==e&&(s.Ua(t,n,e),xn(this,"linkCategory",$t,n,t,i,e),"string"==typeof n&&this.Ob(t,n))}else s.Ua(t,n,e)}},s.Ta(In,un),s.ka("TreeModel",In),In.prototype.cloneProtected=function(t){un.prototype.cloneProtected.call(this,t),t.Bh=this.Bh,t.Cr=this.Cr,t.ln=this.ln},In.prototype.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.kC();var e=(""!==this.name?this.name:"")+" TreeModel";if(0<t){e+="\n node data:";for(var n=s.cb(t=this.qg),i=0;i<n;i++){var r=s.La(t,i);e=e+" "+this.zb(r)+":"+_n(r)}}return e},In.prototype.Ao=function(){var t=un.prototype.Ao.call(this),e="";return"parent"!==this.cv&&"string"==typeof this.cv&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.cv)),t+e},In.prototype.fv=function(t){un.prototype.fv.call(this,t),t.nodeParentKeyProperty&&(this.cv=t.nodeParentKeyProperty)},In.prototype.fo=function(t){return t},s.defineProperty(In,{cv:"nodeParentKeyProperty"},function(){return this.Bh},function(t){var e=this.Bh;e!==t&&(wn(t,In,"nodeParentKeyProperty"),this.Bh=t,this.i("nodeParentKeyProperty",e,t))}),s.defineProperty(In,{Kn:"copiesParentKeyOfNodeData"},function(){return this.Cr},function(t){this.Cr!==t&&(s.h(t,"boolean",In,"copiesParentKeyOfNodeData"),this.Cr=t)}),In.prototype.getParentKeyForNodeData=In.prototype.Un=function(t){if(null!==t){var e=this.Bh;if(""!==e&&void 0!==(e=s.xb(t,e))){if(kn(e))return e;s.k("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},In.prototype.setParentKeyForNodeData=In.prototype.Ii=function(t,e){if(null===e&&(e=void 0),void 0===e||kn(e)||s.kc(e,"number or string",In,"setParentKeyForNodeData:key"),null!==t){var n=this.Bh;if(""!==n)if(e=this.fo(e),this.ke(t)){var i=s.xb(t,n);i!==e&&(Tn(this,i,t),s.Ua(t,n,e),null===this.Ie(e)&&Cn(this,e,t),xn(this,"nodeParentKey",$t,n,t,i,e),"string"==typeof n&&this.Ob(t,n))}else s.Ua(t,n,e)}},s.defineProperty(In,{wM:"parentLinkCategoryProperty"},function(){return this.ln},function(t){var e=this.ln;e!==t&&(wn(t,In,"parentLinkCategoryProperty"),this.ln=t,this.i("parentLinkCategoryProperty",e,t))}),In.prototype.getParentLinkCategoryForNodeData=In.prototype.WI=function(t){if(null===t)return"";var e=this.ln;return""===e?"":void 0===(e=s.xb(t,e))?"":"string"==typeof e?e:(s.k("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),"")},In.prototype.setParentLinkCategoryForNodeData=In.prototype.rK=function(t,e){if(s.h(e,"string",In,"setParentLinkCategoryForNodeData:cat"),null!==t){var n=this.ln;if(""!==n)if(this.ke(t)){var i=s.xb(t,n);void 0===i&&(i=""),i!==e&&(s.Ua(t,n,e),xn(this,"parentLinkCategory",$t,n,t,i,e),"string"==typeof n&&this.Ob(t,n))}else s.Ua(t,n,e)}},In.prototype.copyNodeData=function(t){return null===t?null:(t=un.prototype.copyNodeData.call(this,t),this.Kn||""===this.Bh||void 0===s.xb(t,this.Bh)||s.Ua(t,this.Bh,void 0),t)},In.prototype.setDataProperty=function(t,e,n){if(r&&(s.h(t,"object",In,"setDataProperty:data"),s.h(e,"string",In,"setDataProperty:propname"),""===e&&s.k("TreeModel.setDataProperty: property name must not be an empty string when setting "+t+" to "+n)),this.ke(t))if(e===this.Vj)this.Ty(t,n);else{if(e===this.oo)return void this.Ry(t,n);if(e===this.cv)return void this.Ii(t,n)}else!On&&t instanceof fa&&(On=!0,s.trace('TreeModel.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),s.trace("  Is that really your intent?"));var i=s.xb(t,e);i!==n&&(s.Ua(t,e,n),this.MB(t,e,i,n))},(n=In.prototype).hv=function(t,e){un.prototype.hv.call(this,t,e);for(var n=this.Kc.j;n.next();)this.SB(n.value,t,e)},n.SB=function(t,e,n){if(this.Un(t)===e){var i=this.Bh;s.Ua(t,i,n),xn(this,"nodeParentKey",$t,i,t,e,n),"string"==typeof i&&this.Ob(t,i)}},n.Qq=function(t){if(un.prototype.Qq.call(this,t),null!==(n=Mn(this,t=this.zb(t)))){for(var e=new nt(Object),n=n.j;n.next();){var i=n.value;if(this.ke(i)&&this.Un(i)===t){var r=this.Bh;xn(this,"nodeParentKey",$t,r,i,t,t),"string"==typeof r&&this.Ob(i,r),e.add(i)}}for(e=e.j;e.next();)Tn(this,t,e.value)}},n.Pq=function(t){un.prototype.Pq.call(this,t);var e=this.Un(t);e=this.fo(e),null===this.Ie(e)&&Cn(this,e,t)},n.wv=function(t){un.prototype.wv.call(this,t),Tn(this,this.Un(t),t)},s.ka("Binding",Rn),Rn.prototype.copy=function(){var t=new Rn;return t.Up=this.Up,t.Pt=this.Pt,t.Tp=this.Tp,t.jx=this.jx,t.us=this.us,t.Kp=this.Kp,t.yr=this.yr,t.Os=this.Os,t.rr=this.rr,t},Rn.OneWay=jn=s.s(Rn,"OneWay",1),Rn.TwoWay=An=s.s(Rn,"TwoWay",2),Rn.parseEnum=function(t,e){return s.h(t,"function",Rn,"parseEnum:ctor"),s.Da(e,t,Rn,"parseEnum:defval"),function(n){return null===(n=o(t,n))?e:n}},Rn.prototype.qc=function(t){t.Qe===Rn?this.mode=t:s.ak(this,t)},Rn.toString=_n=function(t){var e=t;return s.Qa(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()},Rn.prototype.toString=function(){return"Binding("+this.tv+":"+this.gH+(-1!==this.Fm?" "+this.Fm:"")+" "+this.mode.name+")"},Rn.prototype.freeze=function(){return this.J=!0,this},Rn.prototype.Xa=function(){return this.J=!1,this},s.defineProperty(Rn,{Fm:null},function(){return this.xE},function(t){this.J&&s.qa(this),s.h(t,"number",Rn,"targetId"),this.xE=t}),s.defineProperty(Rn,{tv:"targetProperty"},function(){return this.Up},function(t){this.J&&s.qa(this),s.h(t,"string",Rn,"targetProperty"),this.Up=t}),s.defineProperty(Rn,{$q:"sourceName"},function(){return this.jx},function(t){this.J&&s.qa(this),null!==t&&s.h(t,"string",Rn,"sourceName"),this.jx=t,null!==t&&(this.us=!1)}),s.defineProperty(Rn,{ly:"isToModel"},function(){return this.us},function(t){this.J&&s.qa(this),s.h(t,"boolean",Rn,"isToModel"),this.us=t}),s.defineProperty(Rn,{gH:"sourceProperty"},function(){return this.Kp},function(t){this.J&&s.qa(this),s.h(t,"string",Rn,"sourceProperty"),this.Kp=t}),s.defineProperty(Rn,{pI:"converter"},function(){return this.yr},function(t){this.J&&s.qa(this),null!==t&&s.h(t,"function",Rn,"converter"),this.yr=t}),s.defineProperty(Rn,{eI:"backConverter"},function(){return this.rr},function(t){this.J&&s.qa(this),null!==t&&s.h(t,"function",Rn,"backConverter"),this.rr=t}),s.defineProperty(Rn,{mode:"mode"},function(){return this.Os},function(t){this.J&&s.qa(this),s.Da(t,Rn,Rn,"mode"),this.Os=t}),Rn.prototype.makeTwoWay=Rn.prototype.GJ=function(t){return void 0===t&&(t=null),null!==t&&s.h(t,"function",Rn,"makeTwoWay"),this.mode=An,this.eI=t,this},Rn.prototype.ofObject=Rn.prototype.yy=function(t){return void 0===t&&(t=""),r&&s.h(t,"string",Rn,"ofObject:srcname"),this.$q=t,this.ly=!1,this},Rn.prototype.ofModel=function(){return this.$q=null,this.ly=!0,this},Rn.prototype.updateTarget=Rn.prototype.wH=function(t,e,n){var i=this.Kp;if(void 0===n||""===i||i===n){n=this.Up;var o=this.yr;if(null===o&&""===n)s.trace("Binding error: target property is the empty string: "+this.toString());else{r&&"string"==typeof n&&("function"!=typeof t.setAttribute&&0<n.length&&"_"!==n[0]&&!s.by(t,n)?s.trace("Binding error: undefined target property: "+n+" on "+t.toString()):"name"===n&&t instanceof fa&&s.trace("Binding error: cannot modify GraphObject.name on "+t.toString()));var a=e;if(""!==i&&(a=s.xb(e,i)),void 0!==a)if(null===o)""!==n&&s.Ua(t,n,a);else try{if(""!==n){var l=o(a,t);r&&void 0===l&&s.trace('Binding warning: conversion function returned undefined when setting target property "'+n+'" on '+t.toString()+", function is: "+o),s.Ua(t,n,l)}else o(a,t)}catch(e){r&&s.trace("Binding error: "+e.toString()+' setting target property "'+n+'" on '+t.toString()+" with conversion function: "+o)}}}},Rn.prototype.updateSource=Rn.prototype.Wy=function(t,e,n,i){if(this.Os===An){var o=this.Up;if(void 0===n||o===n){n=this.Kp;var a=this.rr,l=t;if(""!==o&&(l=s.xb(t,o)),void 0!==l&&!this.Pz.contains(t))try{this.Pz.add(t);var h=null!==i?i.g:null,u=null!==h?h.ea:null;if(null===a){if(""!==n)null!==u?(r&&u.Vj===n&&u.ke(e)&&s.trace("Binding error: cannot have TwoWay Binding on node data key property: "+this.toString()),u.setDataProperty(e,n,l)):s.Ua(e,n,l);else if(null!==u&&null!==i&&0<=i.Qu&&null!==i.R&&Array.isArray(i.R.el)){var c=i.Qu,f=i.R.el;u.IG(f,c),u.mB(f,c,l)}}else try{if(""!==n){var p=a(l,e,u);null!==u?(r&&(u.Vj===n&&u.ke(e)&&s.trace("Binding error: cannot have TwoWay Binding on node data key property: "+this.toString()),void 0===p&&s.trace('Binding warning: conversion function returned undefined when setting source property "'+n+'" on '+e.toString()+", function is: "+a)),u.setDataProperty(e,n,p)):s.Ua(e,n,p)}else void 0!==(p=a(l,e,u))&&null!==u&&null!==i&&0<=i.Qu&&null!==i.R&&Array.isArray(i.R.el)&&(u.IG(f=i.R.el,c=i.Qu),u.mB(f,c,p))}catch(t){r&&s.trace("Binding error: "+t.toString()+' setting source property "'+n+'" on '+e.toString()+" with conversion function: "+a)}}finally{this.Pz.remove(t)}}}},s.ka("Transaction",Bn),Bn.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.fg.count.toString()+(this.Iu?"":", incomplete");if(void 0!==t&&0<t){t=this.fg.count;for(var n=0;n<t;n++){var i=this.fg.fa(n);null!==i&&(e+="\n  "+i.toString())}}return e},Bn.prototype.clear=Bn.prototype.clear=function(){var t=this.fg;t.Xa();for(var e=t.count-1;0<=e;e--){var n=t.fa(e);null!==n&&n.clear()}t.clear(),t.freeze()},Bn.prototype.canUndo=Bn.prototype.canUndo=function(){return this.Iu},Bn.prototype.undo=Bn.prototype.undo=function(){if(this.canUndo())for(var t=this.fg.count-1;0<=t;t--){var e=this.fg.fa(t);null!==e&&e.undo()}},Bn.prototype.canRedo=Bn.prototype.canRedo=function(){return this.Iu},Bn.prototype.redo=Bn.prototype.redo=function(){if(this.canRedo())for(var t=this.fg.count,e=0;e<t;e++){var n=this.fg.fa(e);null!==n&&n.redo()}},s.w(Bn,{fg:"changes"},function(){return this.CH}),s.defineProperty(Bn,{name:"name"},function(){return this.$b},function(t){this.$b=t}),s.defineProperty(Bn,{Iu:"isComplete"},function(){return this.DD},function(t){this.DD=t}),s.ka("UndoManager",zn),zn.prototype.toString=function(t){for(var e=(e="UndoManager "+this.Lj+"<"+this.history.count+"<="+this.vG)+"[",n=this.AG.count,i=0;i<n;i++)0<i&&(e+=" "),e+=this.AG.fa(i);if(e+="]",void 0!==t&&0<t)for(n=this.history.count,i=0;i<n;i++)e+="\n "+this.history.fa(i).toString(t-1);return e},zn.prototype.clear=zn.prototype.clear=function(){var t=this.history;t.Xa();for(var e=t.count-1;0<=e;e--){var n=t.fa(e);null!==n&&n.clear()}t.clear(),this.rh=-1,t.freeze(),this.uh=!1,this.Xv=null,this.am=0,this.zh.Xa(),this.zh.clear(),this.zh.freeze(),this.yp.clear()},zn.prototype.addModel=zn.prototype.YH=function(t){this.eA.add(t)},zn.prototype.removeModel=zn.prototype.fK=function(t){this.eA.remove(t)},zn.prototype.startTransaction=zn.prototype.Nb=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.ub)return!1;!0===this.Qz&&(this.Qz=!1,this.am++,this.vd("StartingFirstTransaction",t,this.Gj),0<this.am&&this.am--),this.isEnabled&&(this.zh.Xa(),this.zh.add(t),this.zh.freeze(),this.yp.add(null===this.Gj?0:this.Gj.fg.count)),this.am++;var e=1===this.Ki;return e&&this.vd("StartedTransaction",t,this.Gj),e},zn.prototype.commitTransaction=zn.prototype.jd=function(t){return void 0===t&&(t=""),qn(this,!0,t)},zn.prototype.rollbackTransaction=zn.prototype.Am=function(){return qn(this,!1,"")},zn.prototype.canUndo=zn.prototype.canUndo=function(){if(!this.isEnabled||0<this.Ki)return!1;var t=this.sH;return!(null===t||!t.canUndo())},zn.prototype.undo=zn.prototype.undo=function(){if(this.canUndo()){var t=this.sH;try{this.uh=!0,this.vd("StartingUndo","Undo",t),this.rh--,t.undo()}catch(t){s.trace("undo error: "+t.toString())}finally{this.vd("FinishedUndo","Undo",t),this.uh=!1}}},zn.prototype.canRedo=zn.prototype.canRedo=function(){if(!this.isEnabled||0<this.Ki)return!1;var t=this.rH;return!(null===t||!t.canRedo())},zn.prototype.redo=zn.prototype.redo=function(){if(this.canRedo()){var t=this.rH;try{this.uh=!0,this.vd("StartingRedo","Redo",t),this.rh++,t.redo()}catch(t){s.trace("redo error: "+t.toString())}finally{this.vd("FinishedRedo","Redo",t),this.uh=!1}}},zn.prototype.vd=function(t,e,n){void 0===n&&(n=null);var i=new hn;for(i.Oc=Qt,i.propertyName=t,i.object=n,i.oldValue=e,t=this.QJ;t.next();)i.ea=e=t.value,e.Gx(i)},zn.prototype.handleChanged=zn.prototype.ZF=function(t){if(this.isEnabled&&!this.ub&&!this.skipsEvent(t)){null===(e=this.Gj)&&(this.Xv=e=new Bn);var e,n=t.copy();(e=e.fg).Xa(),e.add(n),e.freeze(),this.IA&&0>=this.Ki&&!this.Qz&&(null!==(t=t.g)&&!1===t.Zn||s.trace("Change not within a transaction: "+n.toString()))}},zn.prototype.skipsEvent=function(t){if(null===t||0>t.Oc.value)return!0;if((t=t.object)instanceof fa){if(null!==(t=t.layer)&&t.Yc)return!0}else if(t instanceof Qr&&t.Yc)return!0;return!1},s.w(zn,{QJ:"models"},function(){return this.eA.j}),s.defineProperty(zn,{isEnabled:"isEnabled"},function(){return this.sf},function(t){this.sf=t}),s.w(zn,{sH:"transactionToUndo"},function(){return 0<=this.Lj&&this.Lj<=this.history.count-1?this.history.fa(this.Lj):null}),s.w(zn,{rH:"transactionToRedo"},function(){return this.Lj<this.history.count-1?this.history.fa(this.Lj+1):null}),s.w(zn,{ub:"isUndoingRedoing"},function(){return this.uh}),s.w(zn,{history:"history"},function(){return this.GH}),s.defineProperty(zn,{vG:"maxHistoryLength"},function(){return this.SD},function(t){this.SD=t}),s.w(zn,{Lj:"historyIndex"},function(){return this.rh}),s.w(zn,{Gj:"currentTransaction"},function(){return this.Xv}),s.w(zn,{Ki:"transactionLevel"},function(){return this.am}),s.w(zn,{jG:"isInTransaction"},function(){return 0<this.am}),s.defineProperty(zn,{IA:"checksTransactionLevel"},function(){return this.uz},function(t){this.uz=t}),s.w(zn,{AG:"nestedTransactionNames"},function(){return this.zh}),s.ka("CommandHandler",Gn);var Hn=null,Un="";function Kn(t,e,n,i,r,o){if(void 0===o&&(o=null),!(t.contains(e)||null!==o&&!o(e)||e instanceof Lc))if(t.add(e),e instanceof Fc){if(n&&e instanceof Tf)for(var s=e.uc;s.next();)Kn(t,s.value,n,i,r,o);if(r)for(s=e.Od;s.next();){var a=s.value;if(!t.contains(a)){var l=a.$,h=a.ba;null!==l&&t.contains(l)&&null!==h&&t.contains(h)?Kn(t,a,n,i,r,o):null!==l&&null!==h||Kn(t,a,n,i,r,o)}}if(1<i)for(e=e.KF();e.next();)Kn(t,e.value,n,i-1,r,o)}else if(e instanceof Kc)for(e=e.Bf;e.next();)Kn(t,e.value,n,i,r,o)}function Jn(t,e,n,i,r){if(null===e||r&&!e.canCopy())return null;if(i.contains(e))return i.oa(e);var o=null,a=e.data;if(null!==a&&null!==n){var l=n.ea;e instanceof Kc?l instanceof En&&(a=l.Kx(a),s.Qa(a)&&(l.au(a),o=n.gg(a))):(a=l.copyNodeData(a),s.Qa(a)&&(l.dm(a),o=n.Nh(a)))}else yl(e),null!==(o=e.copy())&&(null!==n?n.add(o):null!==a&&null!==t.g&&t.qI&&(l=t.g.ea,a=o instanceof Kc&&l instanceof En?l.Kx(a):l.copyNodeData(a),s.Qa(a)&&(o.data=a)));if(!(o instanceof Dh))return null;if(o.jb=!1,o.Zg=!1,i.add(e,o),e instanceof Fc){for(a=e.Od;a.next();){if((l=a.value).$===e){var h=i.oa(l);null!==h&&(h.$=o)}l.ba===e&&null!==(h=i.oa(l))&&(h.ba=o)}if(e instanceof Tf&&o instanceof Tf)for(a=o,e=e.uc;e.next();)(l=Jn(t,e.value,n,i,r))instanceof Kc||null===l||(l.Ka=a)}else if(e instanceof Kc&&o instanceof Kc)for(null!==(a=e.$)&&null!==(a=i.oa(a))&&(o.$=a),null!==(a=e.ba)&&null!==(a=i.oa(a))&&(o.ba=a),e=e.Bf;e.next();)null!==(a=Jn(t,e.value,n,i,r))&&a instanceof Fc&&(a.Xb=o);return o}function Wn(t){var e=s.nb();for(t=t.j;t.next();)(n=t.value)instanceof Kc||e.push(n);t=new rt(Dh);for(var n=e.length,i=0;i<n;i++){for(var r=e[i],o=!0,a=0;a<n;a++)if(r.Fi(e[a])){o=!1;break}o&&t.add(r)}return s.ya(e),t}function Yn(){0<arguments.length&&s.zd(Yn),s.xc(this),this.ca=null,this.$b="",this.sf=!0,this.BD=!1,this.JE=null,this.vx=-1}function Zn(t,e,n){if(e.Cc=!1,null===t||t.Ju()){var i=0;e.left?i=1===e.Ee?1:2===e.Ee?2:1:e.right&&1===e.Ee&&(i=3);var r="";if(null!==t){switch(i){case 1:r="ObjectSingleClicked";break;case 2:r="ObjectDoubleClicked";break;case 3:r="ObjectContextClicked"}0!==i&&n.Ja(r,t)}else{switch(i){case 1:r="BackgroundSingleClicked";break;case 2:r="BackgroundDoubleClicked";break;case 3:r="BackgroundContextClicked"}0!==i&&n.Ja(r)}if(null!==t)for(;null!==t;){switch(n=null,i){case 1:n=t.click;break;case 2:n=t.nu?t.nu:t.click;break;case 3:n=t.MA}if(null!==n&&(n(e,t),e.Cc))break;t=t.R}else{switch(t=null,i){case 1:t=n.click;break;case 2:t=n.nu?n.nu:n.click;break;case 3:t=n.MA}null!==t&&t(e)}}}function Xn(){Yn.call(this),0<arguments.length&&s.zd(Xn),this.name="Dragging",this.SC=this.FD=!0,this.os=this.qD=!1,this.KD=!0,this.Rz=new yt(NaN,NaN).freeze(),this.Sz=b,this.Tz=new ft(NaN,NaN).freeze(),this.pD=!1,this.Mw=this.Lw=this.Hz=this.PC=this.oD=this.$C=this.sj=null,this.Vr=this.HD=!1,this.Np=new ft(NaN,NaN),this.kx=new ft,this.nx=!1,this.ED=!0,this.Wo=100,this.ik=[],this.FH=new rt(Dh).freeze()}function Qn(t,e){if(t.Ij){var n=t.g;null!==n&&n.Dn&&(n.ea instanceof En&&1===e.count&&e.first()instanceof Kc?(t.wd=e.first(),t.wd.canRelinkFrom()&&t.wd.canRelinkTo()&&t.wd.iu(),t.sj=n.ob.HG,null===t.sj&&(t.sj=new $i,t.sj.ad(n))):(t.wd=null,t.sj=null))}}function $n(t,e){return new Wi(void 0===e?ie:t.Lu?new ft(Math.round(e.x),Math.round(e.y)):e.copy())}function ti(t,e,n,i){if(!e.contains(n)&&(!i||n.canMove()||n.canCopy()))if(n instanceof Fc){if(e.add(n,$n(t,n.location)),n instanceof Tf)for(var r=n.uc;r.next();)ti(t,e,r.value,i);for(r=n.Od;r.next();){var o=r.value;if(!e.contains(o)){var s=o.$,a=o.ba;null!==s&&e.contains(s)&&null!==a&&e.contains(a)&&ti(t,e,o,i)}}if(t.DI)for(n=n.KF();n.next();)ti(t,e,n.value,i)}else if(n instanceof Kc)for(e.add(o=n,$n(t)),n=o.Bf;n.next();)ti(t,e,n.value,i);else n instanceof Lc||e.add(n,$n(t,n.location))}function ei(t){var e=t.g;if(null!==e){var n=e.lb;e.lb=!0,di(t,e.U,null),e.lb=n}t.ik.length=0}function ni(){var t=Ui;ai(t),ci(t);var e=t.g;null!==e&&t.Np.H()&&(e.position=t.Np),null!==e&&bs(e)}function ii(t,e){if(null!==e){t.nx=!0;for(var n=e.j;n.next();){var i=n.key;i instanceof Kc&&(i.Ji=!0)}}}function ri(t,e){if(null!==e){for(var n=e.j;n.next();){var i=n.key;i instanceof Kc&&(i.Ji=!1,Qc(i)&&i.ec())}t.nx=!1}}function oi(t,e){for(var n=1/0,i=1/0,r=-1/0,o=-1/0,s=t.j;s.next();)if((a=s.value).qe()&&a.isVisible()){var a=(l=a.location).x,l=l.y;isNaN(a)||isNaN(l)||(a<n&&(n=a),l<i&&(i=l),a>r&&(r=a),l>o&&(o=l))}1/0===n?e.n(0,0,0,0):e.n(n,i,r-n,o-i)}function si(t,e){if(null===t.mc&&!(null===(i=t.g)||e&&(i.qb||i.Mf))&&null!==t.hc){var n=i.na;for(n.isEnabled&&n.jG?null!==n.Gj&&0<n.Gj.fg.count&&(i.na.Am(),i.Nb("Drag")):ci(t),i.lb=!e,i.hr=!e,t.jl=i.Pc.ha,n=t.sI?t.hc.bk():i.selection,i=(n=i.hq(n,i,!0)).j;i.next();)i.value.location=i.key.location;oi(n,i=s.Sf()),s.Lb(i);for(var i=new ut(Dh),r=t.hc.j;r.next();){var o=r.key;o.qe()&&o.canCopy()&&null!==(o=n.oa(o))&&(o.lf(),i.add(o,$n(t,o.location)))}for(n=n.j;n.next();)(r=n.value)instanceof Kc&&r.canCopy()&&i.add(r,$n(t));t.mc=i,Qn(t,i.bk()),null!==t.wd&&(i=t.wd).gl(t.jl.x-((n=i.so).x+n.width/2),t.jl.y-(n.y+n.height/2))}}function ai(t){var e=t.g;if(null!==e){if(null!==t.mc&&(e.RB(t.mc.bk(),!1),t.mc=null,null!==t.hc))for(var n=t.hc.j;n.next();)n.key instanceof Kc&&(n.value.point=new ft(0,0));e.lb=!1,e.hr=!1,t.jl=e.Pc.ha}}function li(t){if(null!==t.wd){if(t.Ij&&null!==t.sj){var e=t.sj;null!==e.g&&(e.g.remove(e.fe),e.g.remove(e.ge))}t.wd=null,t.sj=null}}function hi(t,e,n){var i=t.g;if(null!==i){var r=t.jl,o=s.P();o.assign(i.U.ha),t.moveParts(e,o.$j(r),n),s.A(o)}}function ui(t,e,n){if(null!==(e=e.Ka)){if(null!==(t=ui(t,e,n)))return t;if(null!==(t=n.oa(e)))return t}return null}function ci(t){if(null!==t.hc){for(var e=t.g,n=t.hc.j;n.next();){var i=n.key;i.qe()&&(i.location=n.value.point)}for(n=t.hc.j;n.next();)if((i=n.key)instanceof Kc&&i.Ji){var r=n.value.point;t.hc.add(i,$n(t)),i.gl(-r.x,-r.y)}e.lg()}}function fi(t,e){if(null===e)return!0;var n=e.Y;return!!(null===n||n instanceof Lc||n.layer.Yc||t.hc&&t.hc.contains(n)||t.mc&&t.mc.contains(n))}function pi(t,e){var n=t.g;if(null!==n){t.Ij&&(null!==t.wd&&(t.wd.$=null,t.wd.ba=null),gi(t,!1));var i=po(n,e,null,function(e){return!fi(t,e)}),r=n.U;r.Ne=i;var o=n.lb,s=!1;try{if(n.lb=!0,s=di(t,r,i),!t.wa&&null===Ui)return;if(null===i){var a=n.TJ;null!==a&&(a(r),s=!0)}if(!t.wa&&null===Ui)return;if(t.doDragOver(e,i),!t.wa&&null===Ui)return}finally{n.lb=o,s&&n.lg()}(n.Be||n.Ce)&&n.UA(r.te)}}function di(t,e,n){var i=!1,r=t.ik.length,o=0<r?t.ik[0]:null;if(n===o)return!1;e.Cc=!1;for(var s=0;s<r;s++){var a=t.ik[s],l=a.SJ;if(null!==l&&(l(e,a,n),i=!0,e.Cc))break}if(t.ik.length=0,!t.wa&&null===Ui||null===n)return i;for(e.Cc=!1;null!==n;)t.ik.push(n),n=yi(n);for(r=t.ik.length,s=0;s<r&&(null===(l=(a=t.ik[s]).RJ)||(l(e,a,o),i=!0,!e.Cc));s++);return i}function yi(t){var e=t.R;return null!==e?e:t instanceof Dh&&!(t instanceof Tf)&&null!==(t=t.Ka)&&t.cJ?t:null}function vi(t,e,n){var i=t.sj;if(null===i)return null;var r=t.g.Pn(e,i.FG,function(t){return i.findValidLinkablePort(t,n)});t=s.P();var o=1/0,a=null;for(r=r.j;r.next();){var l=r.value;if(null!==l.Y){var h=l.fb(P,t);(h=e.Kf(h))<o&&(a=l,o=h)}}return s.A(t),a}function gi(t,e){var n=t.wd;if(null!==n&&!(2>n.ta)){var i=t.g;if(null!==i&&!i.qb){var r=t.sj;if(null!==r){var o=null,s=null;null===n.$&&null!==(o=vi(t,n.m(0),!1))&&(s=o.Y);var a=null,l=null;null===n.ba&&null!==(a=vi(t,n.m(n.ta-1),!0))&&(l=a.Y),r.isValidLink(s,o,l,a)?e?(n.iq=n.m(0),n.jq=n.m(n.ta-1),n.Ji=!1,n.$=s,null!==o&&(n.hg=o.yd),n.ba=l,null!==a&&(n.jh=a.yd),n.oc!==t.Lw&&i.Ja("LinkRelinked",n,t.Lw),n.Gc!==t.Mw&&i.Ja("LinkRelinked",n,t.Mw)):tr(r,s,o,l,a):tr(r,null,null,null,null)}}}}function mi(t,e){var n=t.g;if(null!==n){t.Ij&&gi(t,!0),ei(t);var i=po(n,e,null,function(e){return!fi(t,e)}),r=n.U;if(r.Ne=i,null!==i){r.Cc=!1;for(var o=i;null!==o;){var a=o.CB;if(null!==a&&(a(r,o),r.Cc))break;o=yi(o)}}else null!==(o=n.CB)&&o(r);if(t.wa||null!==Ui){for(r=(t.mc||t.hc).j;r.next();)(o=r.key)instanceof Fc&&o.Od.each(function(t){t.Ji=!1});if(t.doDropOnto(e,i),t.wa||null!==Ui){for(i=s.Sf(),r=n.selection.j;r.next();)(o=r.value)instanceof Fc&&bi(n,o.getAvoidableRect(i));s.Lb(i)}}}}function bi(t,e){var n=!1;if(t.wb.Sk(e)&&(n=!0),0!==(n=t.$A(e,function(t){return t.Y},function(t){return t instanceof Kc},!0,function(t){return t instanceof Kc},n)).count)for(n=n.j;n.next();){var i=n.value;i.Nj&&i.ec()}}Gn.prototype.toString=function(){return"CommandHandler"},s.w(Gn,{g:"diagram"},function(){return this.ca}),Gn.prototype.ad=function(t){r&&null!==t&&s.l(t,eo,Gn,"setDiagram"),this.ca=t},Gn.prototype.doKeyDown=function(){var t=this.g;if(null!==t){var e=t.U,n=s.Qh?e.Xu:e.control,i=e.shift,r=e.alt,o=e.key;!n||"C"!==o&&"Insert"!==o?n&&"X"===o||i&&"Del"===o?this.canCutSelection()&&this.cutSelection():n&&"V"===o||i&&"Insert"===o?this.canPasteSelection()&&this.pasteSelection():n&&"Y"===o||r&&i&&"Backspace"===o?this.canRedo()&&this.redo():n&&"Z"===o||r&&"Backspace"===o?this.canUndo()&&this.undo():"Del"===o||"Backspace"===o?this.canDeleteSelection()&&this.deleteSelection():n&&"A"===o?this.canSelectAll()&&this.selectAll():"Esc"===o?this.canStopCommand()&&this.stopCommand():"Up"===o?t.Ce&&t.scroll(n?"pixel":"line","up"):"Down"===o?t.Ce&&t.scroll(n?"pixel":"line","down"):"Left"===o?t.Be&&t.scroll(n?"pixel":"line","left"):"Right"===o?t.Be&&t.scroll(n?"pixel":"line","right"):"PageUp"===o?i&&t.Be?t.scroll("page","left"):t.Ce&&t.scroll("page","up"):"PageDown"===o?i&&t.Be?t.scroll("page","right"):t.Ce&&t.scroll("page","down"):"Home"===o?n&&t.Ce?t.scroll("document","up"):!n&&t.Be&&t.scroll("document","left"):"End"===o?n&&t.Ce?t.scroll("document","down"):!n&&t.Be&&t.scroll("document","right"):" "===o?this.canScrollToPart()&&this.scrollToPart():"Subtract"===o?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===o?this.canIncreaseZoom()&&this.increaseZoom():n&&"0"===o?this.canResetZoom()&&this.resetZoom():i&&"Z"===o?this.canZoomToFit()&&this.zoomToFit():n&&!i&&"G"===o?this.canGroupSelection()&&this.groupSelection():n&&i&&"G"===o?this.canUngroupSelection()&&this.ungroupSelection():e.event&&113===e.event.which?this.canEditTextBlock()&&this.editTextBlock():e.event&&93===e.event.which?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()}},Gn.prototype.doKeyUp=function(){var t=this.g;null!==t&&(t.U.bubbles=!0)},Gn.prototype.stopCommand=function(){var t=this.g;if(null!==t){var e=t.eb;e instanceof xr&&t.Jf&&t.Ix(),null!==e&&e.doCancel()}},Gn.prototype.canStopCommand=function(){return!0},Gn.prototype.selectAll=function(){var t=this.g;if(null!==t){t.ra();try{t.sc="wait",t.Ja("ChangingSelection");for(var e=t.Hi;e.next();)e.value.jb=!0;for(var n=t.rg;n.next();)n.value.jb=!0;for(var i=t.links;i.next();)i.value.jb=!0}finally{t.Ja("ChangedSelection"),t.sc=""}}},Gn.prototype.canSelectAll=function(){var t=this.g;return null!==t&&t.Jf},Gn.prototype.deleteSelection=function(){var t=this.g;if(null!==t&&!t.Ja("SelectionDeleting",t.selection))try{t.sc="wait",t.Nb("Delete"),t.Ja("ChangingSelection");for(var e=new rt(Dh),n=t.selection.j;n.next();)Kn(e,n.value,!0,this.yI?1/0:0,this.vF,function(t){return t.canDelete()});t.RB(e,!0),t.Ja("SelectionDeleted",e)}finally{t.Ja("ChangedSelection"),t.jd("Delete"),t.sc=""}},Gn.prototype.canDeleteSelection=function(){var t=this.g;return!(null===t||t.qb||t.Mf||!t.Cn||0===t.selection.count)},Gn.prototype.hq=function(t,e,n){var i=new ut(Dh,Dh);for(t=t.j;t.next();)Jn(this,t.value,e,i,n);if(null!==e){n=e.ea,t=!1,null!==e.ob.Ge&&(t=e.ob.Ge.Ij);for(var r=new rt(Kc),o=new ut(Kc,Kc),s=i.j;s.next();)if((l=s.value)instanceof Kc){var a=l;t||null!==a.$&&null!==a.ba||r.add(a)}else if(n instanceof In&&l instanceof Fc&&null!==l.data){a=n;var l,h=l,u=(l=s.key).Yk();null!==u&&(null!==(u=i.oa(u))?(a.Ii(h.data,a.zb(u.data)),a=e.gg(h.data),null!==(l=l.Qn())&&null!==a&&o.add(l,a)):a.Ii(h.data,void 0))}if(0<r.count&&e.RB(r,!1),0<o.count)for(n=o.j;n.next();)i.add(n.key,n.value)}if(null!==e&&null!==this.g&&null!==(n=(e=e.ea).$H)){var c=new ut;i.each(function(t){null!==t.key.data&&c.add(t.key.data,t.value.data)}),n(c,e,this.g.ea)}for(e=i.j;e.next();)e.value.Ob();return i},Gn.prototype.copySelection=function(){if(null!==(e=this.g)){for(var t=new rt(Dh),e=e.selection.j;e.next();)Kn(t,e.value,!0,this.tI?1/0:0,this.rI,function(t){return t.canCopy()});this.copyToClipboard(t)}},Gn.prototype.canCopySelection=function(){var t=this.g;return!(null===t||!t.Pk||!t.EA||0===t.selection.count)},Gn.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},Gn.prototype.canCutSelection=function(){var t=this.g;return!(null===t||t.qb||t.Mf||!t.Pk||!t.Cn||!t.EA||0===t.selection.count)},Gn.prototype.copyToClipboard=function(t){var e=this.g;if(null!==e){var n=null;if(null===t)Hn=null,Un="";else{n=e.ea;var i=!1,r=!1,o=null;try{if(n instanceof In){var s=n;i=s.Kn,s.Kn=this.mF}n instanceof En&&(r=(s=n).Jn,s.Jn=this.lF),o=e.hq(t,null,!0)}finally{n instanceof In&&(n.Kn=i),n instanceof En&&(n.Jn=r),(n=new nt(Dh)).Vc(o),Hn=n,Un=e.ea.nm}}e.Ja("ClipboardChanged",n)}},Gn.prototype.pasteFromClipboard=function(){var t=new rt(Dh),e=Hn;if(null===e)return t;var n=this.g;if(null===n||Un!==n.ea.nm)return t;var i=n.ea,r=!1,o=!1,s=null;try{if(i instanceof In){var a=i;r=a.Kn,a.Kn=this.mF}i instanceof En&&(o=(a=i).Jn,a.Jn=this.lF),s=n.hq(e,n,!1)}finally{for(i instanceof In&&(i.Kn=r),i instanceof En&&(i.Jn=o),e=s.j;e.next();)i=e.key,(n=e.value).location.H()||(i.location.H()?n.location=i.location:!n.position.H()&&i.position.H()&&(n.position=i.position)),t.add(n)}return t},Gn.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.sc="wait",e.Nb("Paste"),e.Ja("ChangingSelection");var n=this.pasteFromClipboard();0<n.count&&Vo(e);for(var i=n.j;i.next();)i.value.jb=!0;if(e.Ja("ChangedSelection"),null!==t){var r=e.computePartsBounds(e.selection);if(r.H()){var o=e.ob.Ge;null===o&&(o=new Xn).ad(e);var s=o.computeEffectiveCollection(e.selection);o.moveParts(s,new ft(t.x-r.pa,t.y-r.va),!1)}}e.Ja("ClipboardPasted",n)}finally{e.jd("Paste"),e.sc=""}},Gn.prototype.canPasteSelection=function(){var t=this.g;return!(null===t||t.qb||t.Mf||!t.Zp||!t.EA||null===Hn||0===Hn.count||Un!==t.ea.nm)},Gn.prototype.undo=function(){var t=this.g;null!==t&&t.na.undo()},Gn.prototype.canUndo=function(){var t=this.g;return null!==t&&!t.qb&&!t.Mf&&t.YE&&t.na.canUndo()},Gn.prototype.redo=function(){var t=this.g;null!==t&&t.na.redo()},Gn.prototype.canRedo=function(){var t=this.g;return null!==t&&!t.qb&&!t.Mf&&t.YE&&t.na.canRedo()},Gn.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.$y),s.p(t,Gn,"decreaseZoom:factor");var e=this.g;null!==e&&e.im===Ir&&((t*=e.scale)<e.Sh||t>e.Rh||(e.scale=t))},Gn.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.$y),s.p(t,Gn,"canDecreaseZoom:factor");var e=this.g;return null!==e&&e.im===Ir&&!((t*=e.scale)<e.Sh||t>e.Rh)&&e.Fx},Gn.prototype.increaseZoom=function(t){void 0===t&&(t=this.$y),s.p(t,Gn,"increaseZoom:factor");var e=this.g;null!==e&&e.im===Ir&&((t*=e.scale)<e.Sh||t>e.Rh||(e.scale=t))},Gn.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.$y),s.p(t,Gn,"canIncreaseZoom:factor");var e=this.g;return null!==e&&e.im===Ir&&!((t*=e.scale)<e.Sh||t>e.Rh)&&e.Fx},Gn.prototype.resetZoom=function(t){void 0===t&&(t=this.Ox),s.p(t,Gn,"resetZoom:newscale");var e=this.g;null===e||t<e.Sh||t>e.Rh||(e.scale=t)},Gn.prototype.canResetZoom=function(t){void 0===t&&(t=this.Ox),s.p(t,Gn,"canResetZoom:newscale");var e=this.g;return!(null===e||t<e.Sh||t>e.Rh)&&e.Fx},Gn.prototype.zoomToFit=function(){var t=this.g;if(null!==t){var e=t.scale,n=t.position;e===this.DA&&!isNaN(this.aA)&&t.kd.O(this.CA)?(t.scale=this.aA,t.position=this.PD,this.DA=NaN,this.CA=re):(this.aA=e,this.PD=n.copy(),t.zoomToFit(),this.DA=t.scale,this.CA=t.kd.copy())}},Gn.prototype.canZoomToFit=function(){var t=this.g;return null!==t&&t.Fx},Gn.prototype.scrollToPart=function(t){void 0===t&&(t=null),null!==t&&s.l(t,Dh,Gn,"part");var e=this.g;if(null!==e){if(null===t){try{null!==this.uj&&(this.uj.next()?t=this.uj.value:this.uj=null)}catch(t){this.uj=null}null===t&&(0<e.vm.count?this.uj=e.vm.j:0<e.selection.count&&(this.uj=e.selection.j),null!==this.uj&&this.uj.next()&&(t=this.uj.value))}if(null!==t){var n=e.Ra;n.po("Scroll To Part");var i=this.nK;if(0<i){var r=function t(e,n,i){if(n.isVisible())return i;if(n instanceof Lc)t(e,n.gf,i);else if(n instanceof Kc){var r=n.$;null!==r&&t(e,r,i),null!==(n=n.ba)&&t(e,n,i)}else n instanceof Fc&&(null!==(r=n.Xb)&&t(e,r,i),null!==(r=n.Yk())&&(r.Dc||r.br||i.push(r),t(e,r,i))),null!==(n=n.Ka)&&(n.md||n.Zy||i.push(n),t(e,n,i));return i}(this,t,[t]),o=function(){e.Nb();for(var t=r.pop();0<r.length&&t instanceof Fc&&t.Dc&&(!(t instanceof Tf)||t.md);)t=r.pop();0<r.length?(t instanceof Dh&&e.WG(t.aa),t instanceof Fc&&!t.Dc&&(t.Dc=!0),t instanceof Tf&&!t.md&&(t.md=!0)):(t instanceof Dh&&e.eF(t.aa),e.QB("LayoutCompleted",a)),e.jd("Scroll To Part")},a=function(){setTimeout(o,(n.isEnabled?n.duration:0)+i)};e.xx("LayoutCompleted",a),o()}else{var l=e.position.copy();e.eF(t.aa),l.Wc(e.position)&&n.Yh()}}}},Gn.prototype.canScrollToPart=function(t){return void 0===t&&(t=null),(null===t||t instanceof Dh)&&null!==(t=this.g)&&(0!==t.selection.count||0!==t.vm.count)&&t.Be&&t.Ce},Gn.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Nb("Collapse Tree"),e.Ra.po("Collapse Tree");var n=new nt(Fc);if(null!==t&&t.Dc)t.collapseTree(),n.add(t);else for(var i=e.selection.j;i.next();){var r=i.value;r instanceof Fc&&(t=r).Dc&&(t.collapseTree(),n.add(t))}e.Ja("TreeCollapsed",n)}finally{e.jd("Collapse Tree")}},Gn.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.qb)return!1;if(null!==t){if(!(t instanceof Fc&&t.Dc))return!1;if(0<t.Yx().count)return!0}else for(t=e.selection.j;t.next();)if((e=t.value)instanceof Fc&&e.Dc&&0<e.Yx().count)return!0;return!1},Gn.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Nb("Expand Tree"),e.Ra.po("Expand Tree");var n=new nt(Fc);if(null===t||t.Dc)for(var i=e.selection.j;i.next();){var r=i.value;r instanceof Fc&&((t=r).Dc||(t.expandTree(),n.add(t)))}else t.expandTree(),n.add(t);e.Ja("TreeExpanded",n)}finally{e.jd("Expand Tree")}},Gn.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.qb)return!1;if(null!==t){if(!(t instanceof Fc)||t.Dc)return!1;if(0<t.Yx().count)return!0}else for(t=e.selection.j;t.next();)if((e=t.value)instanceof Fc&&!e.Dc&&0<e.Yx().count)return!0;return!1},Gn.prototype.groupSelection=function(){var t=this.g;if(null!==t){var e=t.ea;if(e instanceof En){var n=this.ZE;if(null!==n){var i=null;try{t.sc="wait",t.Nb("Group"),t.Ja("ChangingSelection");for(var r=new nt(Dh),o=t.selection.j;o.next();){var a=o.value;a.qe()&&a.canGroup()&&r.add(a)}for(var l=new nt(Dh),h=r.j;h.next();){for(var u=h.value,c=(o=!1,r.j);c.next();)if(u.Fi(c.value)){o=!0;break}o||l.add(u)}if(0<l.count){var f=l.first().Ka;if(null!==f)for(;null!==f;){r=!1;for(var p=l.j;p.next();)if(!p.value.Fi(f)){r=!0;break}if(!r)break;f=f.Ka}if(n instanceof Tf)yl(n),null!==(i=n.copy())&&t.add(i);else if(e.sB(n)){var d=e.copyNodeData(n);s.Qa(d)&&(e.dm(d),i=t.Xx(d))}if(null!==i){null!==f&&this.isValidMember(f,i)&&(i.Ka=f);for(var y=l.j;y.next();){var v=y.value;this.isValidMember(i,v)&&(v.Ka=i)}t.select(i)}}t.Ja("ChangedSelection"),t.Ja("SelectionGrouped",i)}finally{t.jd("Group"),t.sc=""}}}}},Gn.prototype.canGroupSelection=function(){var t=this.g;if(null===t||t.qb||t.Mf||!t.Zp||!t.Ax||!(t.ea instanceof En)||null===this.ZE)return!1;for(t=t.selection.j;t.next();){var e=t.value;if(e.qe()&&e.canGroup())return!0}return!1},Gn.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof Kc)return!1;if(null!==t){if(t===e||t.Fi(e))return!1;var n=t.BB;if(null!==n&&!n(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return null===(n=this.BB)||n(t,e)},Gn.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e){var n=e.ea;if(n instanceof En)try{e.sc="wait",e.Nb("Ungroup"),e.Ja("ChangingSelection");var i=new nt(Tf);if(null!==t)i.add(t);else for(var r=e.selection.j;r.next();){var o=r.value;o instanceof Tf&&(t=o).canUngroup()&&i.add(t)}if(0<i.count){e.Ix();for(var s=i.j;s.next();){var a=s.value;a.expandSubGraph();var l=a.Ka,h=null!==l&&null!==l.data?n.zb(l.data):void 0,u=new nt(Dh);u.Vc(a.uc);for(var c=u.j;c.next();){var f=c.value;if(f.jb=!0,!(f instanceof Kc)){var p=f.data;null!==p?n.$B(p,h):f.Ka=l}}e.remove(a)}}e.Ja("ChangedSelection"),e.Ja("SelectionUngrouped",i,u)}finally{e.jd("Ungroup"),e.sc=""}}},Gn.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.qb||e.Mf||!e.Cn||!e.Ex||!(e.ea instanceof En))return!1;if(null!==t){if(!(t instanceof Tf))return!1;if(t.canUngroup())return!0}else for(t=e.selection.j;t.next();)if((e=t.value)instanceof Tf&&e.canUngroup())return!0;return!1},Gn.prototype.addTopLevelParts=function(t,e){for(var n=!0,i=Wn(t).j;i.next();){var r=i.value;null!==r.Ka&&(!e||this.isValidMember(null,r)?r.Ka=null:n=!1)}return n},Gn.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Nb("Collapse SubGraph"),e.Ra.po("Collapse SubGraph");var n=new nt(Tf);if(null!==t&&t.md)t.collapseSubGraph(),n.add(t);else for(var i=e.selection.j;i.next();){var r=i.value;r instanceof Tf&&(t=r).md&&(t.collapseSubGraph(),n.add(t))}e.Ja("SubGraphCollapsed",n)}finally{e.jd("Collapse SubGraph")}},Gn.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.qb)return!1;if(null!==t)return!!(t instanceof Tf&&t.md);for(t=e.selection.j;t.next();)if((e=t.value)instanceof Tf&&e.md)return!0;return!1},Gn.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Nb("Expand SubGraph"),e.Ra.po("Expand SubGraph");var n=new nt(Tf);if(null===t||t.md)for(var i=e.selection.j;i.next();){var r=i.value;r instanceof Tf&&((t=r).md||(t.expandSubGraph(),n.add(t)))}else t.expandSubGraph(),n.add(t);e.Ja("SubGraphExpanded",n)}finally{e.jd("Expand SubGraph")}},Gn.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.qb)return!1;if(null!==t)return t instanceof Tf&&!t.md;for(t=e.selection.j;t.next();)if((e=t.value)instanceof Tf&&!e.md)return!0;return!1},Gn.prototype.editTextBlock=function(t){void 0===t&&(t=null),null!==t&&s.l(t,Il,Gn,"editTextBlock");var e=this.g;if(null!==e){var n=e.ob.iC;if(null!==n){if(null===t){t=null;for(var i=e.selection.j;i.next();){var r=i.value;if(r.canEdit()){t=r;break}}if(null===t)return;t=t.qu(function(t){return t instanceof Il&&t.XA})}null!==t&&(e.eb=null,n.ih=t,e.eb=n)}}},Gn.prototype.canEditTextBlock=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.qb||e.Mf||!e.Dx||null===e.ob.iC)return!1;if(null!==t){if(!(t instanceof Il))return!1;if(null!==(t=t.Y)&&t.canEdit())return!0}else for(e=e.selection.j;e.next();)if((t=e.value).canEdit()&&null!==(t=t.qu(function(t){return t instanceof Il&&t.XA})))return!0;return!1},Gn.prototype.showContextMenu=function(t){var e=this.g;if(null!==e){var n=e.ob.NA;if(null!==n&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==(t=n.findObjectWithContextMenu(t)))){var i=new an,r=null;t instanceof fa?r=t.fb(P):e.rJ||(r=new ft((r=e.wb).x+r.width/2,r.y+r.height/2)),null!==r&&(i.g=e,i.te=e.pC(r),i.ha=r,i.left=!1,i.right=!0,i.up=!0,e.U=i),e.eb=n,pr(n,!1,t)}}},Gn.prototype.canShowContextMenu=function(t){var e=this.g;if(null===e)return!1;var n=e.ob.NA;return null!==n&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==n.findObjectWithContextMenu(t))},s.defineProperty(Gn,{qI:"copiesClipboardData"},function(){return this.QC},function(t){s.h(t,"boolean",Gn,"copiesClipboardData"),this.QC=t}),s.defineProperty(Gn,{rI:"copiesConnectedLinks"},function(){return this.RC},function(t){s.h(t,"boolean",Gn,"copiesConnectedLinks"),this.RC=t}),s.defineProperty(Gn,{vF:"deletesConnectedLinks"},function(){return this.kD},function(t){s.h(t,"boolean",Gn,"deletesConnectedLinks"),this.kD=t}),s.defineProperty(Gn,{tI:"copiesTree"},function(){return this.VC},function(t){s.h(t,"boolean",Gn,"copiesTree"),this.VC=t}),s.defineProperty(Gn,{yI:"deletesTree"},function(){return this.lD},function(t){s.h(t,"boolean",Gn,"deletesTree"),this.lD=t}),s.defineProperty(Gn,{mF:"copiesParentKey"},function(){return this.UC},function(t){s.h(t,"boolean",Gn,"copiesParentKey"),this.UC=t}),s.defineProperty(Gn,{lF:"copiesGroupKey"},function(){return this.TC},function(t){s.h(t,"boolean",Gn,"copiesGroupKey"),this.TC=t}),s.defineProperty(Gn,{ZE:"archetypeGroupData"},function(){return this.nz},function(t){null!==t&&s.l(t,Object,Gn,"archetypeGroupData");var e=this.g;null!==e&&(e=e.ea)instanceof En&&(t instanceof Tf||e.sB(t)||s.k("CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: "+t)),this.nz=t}),s.defineProperty(Gn,{BB:"memberValidation"},function(){return this.Rl},function(t){null!==t&&s.h(t,"function",Gn,"memberValidation"),this.Rl=t}),s.defineProperty(Gn,{Ox:"defaultScale"},function(){return this.hD},function(t){s.p(t,Gn,"defaultScale"),0<t||s.k("defaultScale must be larger than zero, not: "+t),this.hD=t}),s.defineProperty(Gn,{$y:"zoomFactor"},function(){return this.PE},function(t){s.p(t,Gn,"zoomFactor"),1<t||s.k("zoomFactor must be larger than 1.0, not: "+t),this.PE=t}),s.defineProperty(Gn,{nK:"scrollToPartPause"},function(){return this.nE},function(t){s.p(t,Gn,"scrollToPartPause"),this.nE=t}),s.ka("Tool",Yn),Yn.prototype.ad=function(t){r&&null!==t&&s.l(t,eo,Yn,"setDiagram"),this.ca=t},Yn.prototype.toString=function(){return""!==this.name?this.name+" Tool":s.xf(Object.getPrototypeOf(this))},Yn.prototype.updateAdornments=function(){},Yn.prototype.canStart=function(){return this.isEnabled},Yn.prototype.doStart=function(){},Yn.prototype.doActivate=function(){this.wa=!0},Yn.prototype.doDeactivate=function(){this.wa=!1},Yn.prototype.doStop=function(){},Yn.prototype.doCancel=function(){this.stopTool()},Yn.prototype.stopTool=function(){var t=this.g;null!==t&&t.eb===this&&(t.eb=null,t.sc="")},Yn.prototype.doMouseDown=function(){!this.wa&&this.canStart()&&this.doActivate()},Yn.prototype.doMouseMove=function(){},Yn.prototype.doMouseUp=function(){this.stopTool()},Yn.prototype.doMouseWheel=function(){},Yn.prototype.canStartMultiTouch=function(){return!0},Yn.prototype.standardPinchZoomStart=function(){var t=this.g;if(null!==t){var e=t.U,n=e.$x(0,s.Fb(NaN,NaN)),i=e.$x(1,s.Fb(NaN,NaN));if(n.H()&&i.H()&&(this.doCancel(),t.Cu("hasGestureZoom"))){t.aE=t.scale;var r=i.x-n.x,o=i.y-n.y;t.sE=Math.sqrt(r*r+o*o),e.bubbles=!1}s.A(n),s.A(i)}},Yn.prototype.standardPinchZoomMove=function(){var t=this.g;if(null!==t){var e=t.U,n=e.$x(0,s.Fb(NaN,NaN)),i=e.$x(1,s.Fb(NaN,NaN));if(n.H()&&i.H()&&(this.doCancel(),t.Cu("hasGestureZoom"))){var r=i.x-n.x,o=i.y-n.y,a=(o=Math.sqrt(r*r+o*o)/t.sE,r=new ft((Math.min(i.x,n.x)+Math.max(i.x,n.x))/2,(Math.min(i.y,n.y)+Math.max(i.y,n.y))/2),t.yb);if((o*=t.aE)!==t.scale&&a.canResetZoom(o)){var l=t.Jm;t.Jm=r,a.resetZoom(o),t.Jm=l}e.bubbles=!1}s.A(n),s.A(i)}},Yn.prototype.doKeyDown=function(){var t=this.g;null!==t&&"Esc"===t.U.key&&this.doCancel()},Yn.prototype.doKeyUp=function(){},Yn.prototype.startTransaction=Yn.prototype.Nb=function(t){void 0===t&&(t=this.name),this.Tf=null;var e=this.g;return null!==e&&e.Nb(t)},Yn.prototype.stopTransaction=Yn.prototype.kl=function(){var t=this.g;return null!==t&&(null===this.Tf?t.Am():t.jd(this.Tf))},Yn.prototype.standardMouseSelect=function(){var t=this.g;if(null!==t&&t.Jf){var e=t.U,n=t.su(e.ha,!1);if(null!==n){if(s.Qh?e.Xu:e.control){for(t.Ja("ChangingSelection"),e=n;null!==e&&!e.canSelect();)e=e.Ka;null!==e&&(e.jb=!e.jb),t.Ja("ChangedSelection")}else if(e.shift){if(!n.jb){for(t.Ja("ChangingSelection"),e=n;null!==e&&!e.canSelect();)e=e.Ka;null!==e&&(e.jb=!0),t.Ja("ChangedSelection")}}else if(!n.jb){for(e=n;null!==e&&!e.canSelect();)e=e.Ka;null!==e&&t.select(e)}}else!e.left||(s.Qh?e.Xu:e.control)||e.shift||t.Ix()}},Yn.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(t){return!t.layer.Yc});var n=this.g;if(null===n)return!1;var i=n.U,r=n.Je(i.ha,t,e);return i.Ne=r,Zn(r,i,n),i.Cc},Yn.prototype.standardMouseOver=function(){var t=this.g;if(null!==t){var e=t.U;if(null!==e.g&&!0!==t.Ra.zc){var n=t.lb;t.lb=!0;var i=t.th?t.Je(e.ha,null,null):null;e.Ne=i;var r=!1;if(i!==t.Qo){var o=t.Qo,s=o;for(t.Qo=i,this.doCurrentObjectChanged(o,i),e.Cc=!1;null!==o;){var a=o.Zu;if(null!==a){if(i===o)break;if(null!==i&&i.xm(o))break;if(a(e,o,i),r=!0,e.Cc)break}o=o.R}for(o=s,e.Cc=!1;null!==i;){if(null!==(a=i.Yu)){if(o===i)break;if(null!==o&&o.xm(i))break;if(a(e,i,o),r=!0,e.Cc)break}i=i.R}i=t.Qo}if(null!==i){for(o=i,s="";null!==o&&""===(s=o.cursor);)o=o.R;for(t.sc=s,e.Cc=!1,o=i;null!==o&&(null===(i=o.FB)||(i(e,o),r=!0,!e.Cc));)o=o.R}else t.sc="",null!==(i=t.FB)&&(i(e),r=!0);r&&t.Ve(),t.lb=n}}},Yn.prototype.doCurrentObjectChanged=function(){},Yn.prototype.standardMouseWheel=function(){var t=this.g;if(null!==t){var e=t.U,n=e.Uk;if(0!==n&&t.kd.H()){var i=t.yb;if(((r=t.ob.$u)===Bi&&!e.shift||r===Vi&&e.control)&&(0<n?i.canIncreaseZoom():i.canDecreaseZoom()))r=t.Jm,t.Jm=e.te,0<n?i.increaseZoom():i.decreaseZoom(),t.Jm=r,e.bubbles=!1;else if(r===Bi&&e.shift||r===Vi&&!e.control){i=t.position.copy();var r=0<n?n:-n,o=e.event.deltaMode,a=e.event.deltaX,l=e.event.deltaY,h="pixel";if((s.zq||s.Aq||s.rB)&&(o=1,0<a&&(a=3),0>a&&(a=-3),0<l&&(l=3),0>l&&(l=-3)),void 0===o||void 0===a||void 0===l||0===a&&0===l||e.shift)!e.shift&&t.Ce?(r=3*r*(o=t.mv),t.scroll("pixel",0<n?"up":"down",r)):e.shift&&t.Be&&(r=3*r*(o=t.lv),t.scroll("pixel",0<n?"left":"right",r));else{switch(o){case 0:h="pixel";break;case 1:h="line";break;case 2:h="page";break;default:h="pixel"}0!==a&&t.Be&&(0<a?t.scroll(h,"left",-a):t.scroll(h,"right",a)),0!==l&&t.Ce&&(0<l?t.scroll(h,"up",-l):t.scroll(h,"down",l))}t.position.O(i)||(e.bubbles=!1)}}}},Yn.prototype.standardWaitAfter=function(t,e){s.h(t,"number",Yn,"standardWaitAfter:delay"),this.cancelWaitAfter();var n=this,i=e.copy();this.vx=s.setTimeout(function(){n.doWaitAfter(i)},t)},Yn.prototype.cancelWaitAfter=function(){-1!==this.vx&&s.clearTimeout(this.vx),this.vx=-1},Yn.prototype.doWaitAfter=function(){},Yn.prototype.findToolHandleAt=function(t,e){var n=this.g;return null===n?null:null===(n=n.Je(t,function(t){for(;null!==t&&!(t.R instanceof Lc);)t=t.R;return t}))?null:n.Y.Kd===e?n:null},Yn.prototype.isBeyondDragSize=function(t,e){var n=this.g;if(null===n)return!1;void 0===t&&(t=n.Pc.te),void 0===e&&(e=n.U.te);var i=(r=n.ob.CI).width,r=r.height;return n.Pc.Qj&&(i+=6,r+=6),Math.abs(e.x-t.x)>i||Math.abs(e.y-t.y)>r},s.w(Yn,{g:"diagram"},function(){return this.ca}),s.defineProperty(Yn,{name:"name"},function(){return this.$b},function(t){s.h(t,"string",Yn,"name"),this.$b=t}),s.defineProperty(Yn,{isEnabled:"isEnabled"},function(){return this.sf},function(t){s.h(t,"boolean",Yn,"isEnabled"),this.sf=t}),s.defineProperty(Yn,{wa:"isActive"},function(){return this.BD},function(t){s.h(t,"boolean",Yn,"isActive"),this.BD=t}),s.defineProperty(Yn,{Tf:"transactionResult"},function(){return this.JE},function(t){null!==t&&s.h(t,"string",Yn,"transactionResult"),this.JE=t}),s.Ta(Xn,Yn),s.ka("DraggingTool",Xn),s.defineProperty(Xn,{gG:"isCopyEnabled"},function(){return this.FD},function(t){s.h(t,"boolean",Xn,"isCopyEnabled"),this.FD=t}),s.defineProperty(Xn,{sI:"copiesEffectiveCollection"},function(){return this.SC},function(t){s.h(t,"boolean",Xn,"copiesEffectiveCollection"),this.SC=t}),s.defineProperty(Xn,{DI:"dragsTree"},function(){return this.qD},function(t){s.h(t,"boolean",Xn,"dragsTree"),this.qD=t}),s.defineProperty(Xn,{Lu:"isGridSnapEnabled"},function(){return this.os},function(t){s.h(t,"boolean",Xn,"isGridSnapEnabled"),this.os=t}),s.defineProperty(Xn,{mJ:"isComplexRoutingRealtime"},function(){return this.ED},function(t){s.h(t,"boolean",Xn,"isComplexRoutingRealtime"),this.ED=t}),s.defineProperty(Xn,{oJ:"isGridSnapRealtime"},function(){return this.KD},function(t){s.h(t,"boolean",Xn,"isGridSnapRealtime"),this.KD=t}),s.defineProperty(Xn,{XF:"gridSnapCellSize"},function(){return this.Rz},function(t){s.l(t,yt,Xn,"gridSnapCellSize"),this.Rz.O(t)||(this.Rz=t=t.V())}),s.defineProperty(Xn,{ZI:"gridSnapCellSpot"},function(){return this.Sz},function(t){s.l(t,Ct,Xn,"gridSnapCellSpot"),this.Sz.O(t)||(this.Sz=t=t.V())}),s.defineProperty(Xn,{$I:"gridSnapOrigin"},function(){return this.Tz},function(t){s.l(t,ft,Xn,"gridSnapOrigin"),this.Tz.O(t)||(this.Tz=t=t.V())}),s.defineProperty(Xn,{Ij:"dragsLink"},function(){return this.pD},function(t){s.h(t,"boolean",Xn,"dragsLink"),this.pD=t}),s.defineProperty(Xn,{Mn:"currentPart"},function(){return this.$C},function(t){null!==t&&s.l(t,Dh,Xn,"currentPart"),this.$C=t}),s.defineProperty(Xn,{mc:"copiedParts"},function(){return this.PC},function(t){this.PC=t}),s.defineProperty(Xn,{hc:"draggedParts"},function(){return this.oD},function(t){this.oD=t}),s.w(Xn,{KL:"draggingParts"},function(){return null!==this.mc?this.mc.bk():null!==this.hc?this.hc.bk():this.FH}),s.defineProperty(Xn,{wd:"draggedLink"},function(){return this.Hz},function(t){null!==t&&s.l(t,Kc,Xn,"draggedLink"),this.Hz!==t&&(this.Hz=t,null!==t?(this.Lw=t.oc,this.Mw=t.Gc):this.Mw=this.Lw=null)}),s.defineProperty(Xn,{gy:"isDragOutStarted"},function(){return this.HD},function(t){this.HD=t}),s.defineProperty(Xn,{jl:"startPoint"},function(){return this.kx},function(t){s.l(t,ft,Xn,"startPoint"),this.kx.O(t)||(this.kx=t=t.V())}),s.defineProperty(Xn,{qF:"delay"},function(){return this.Wo},function(t){s.h(t,"number",Xn,"delay"),this.Wo=t}),Xn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.qb&&!t.du||!t.fm&&!t.Pk&&!t.du||!t.Jf)return!1;var e=t.U;return!(!e.left||t.eb!==this&&(!this.isBeyondDragSize()||e.Qj&&e.timestamp-t.Pc.timestamp<this.Wo))&&null!==this.findDraggablePart()},Xn.prototype.findDraggablePart=function(){var t=this.g;if(null===t)return null;if(null===(t=t.su(t.Pc.ha,!1)))return null;for(;null!==t&&!t.canSelect();)t=t.Ka;return null!==t&&(t.canMove()||t.canCopy())?t:null},Xn.prototype.standardMouseSelect=function(){var t=this.g;if(null!==t&&t.Jf){var e=t.su(t.Pc.ha,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.Ka;this.Mn=e,this.Mn.jb||(t.Ja("ChangingSelection"),e=t.U,(s.Qh?e.Xu:e.control)||e.shift||Vo(t),this.Mn.jb=!0,t.Ja("ChangedSelection"))}}},Xn.prototype.doActivate=function(){var t=this.g;if(null!==t){null===this.Mn&&this.standardMouseSelect();var e=this.Mn;null!==e&&(e.canMove()||e.canCopy())&&(this.wa=!0,this.Np.set(t.position),Qn(this,t.selection),this.ik.length=0,this.hc=this.computeEffectiveCollection(t.selection),t.rv=!0,ii(this,this.hc),this.Nb("Drag"),this.jl=t.Pc.ha,t.pf=!0,t.du&&(this.gy=!0,this.Vr=!1,Ui=this,Ki=this.g,this.doSimulatedDragOut()))}},Xn.prototype.computeEffectiveCollection=function(t){var e=null!==this.g&&this.g.eb===this,n=new ut(Dh);if(null===t)return n;for(var i=t.j;i.next();)ti(this,n,i.value,e);if(null!==this.wd&&this.Ij)return n;for(i=t.j;i.next();)(t=i.value)instanceof Kc&&((null===(e=t.$)||n.contains(e))&&(null===(e=t.ba)||n.contains(e))||n.remove(t));return n},Xn.prototype.doDeactivate=function(){this.wa=!1;var t=this.g;if(null!==t&&bs(t),ei(this),ri(this,this.hc),this.hc=this.Mn=null,this.Vr=this.gy=!1,0<Hi.count){for(var e=Hi.length,n=0;n<e;n++){var i=Hi.fa(n);li(i),ai(i),ei(i),null!==i.g&&bs(i.g)}Hi.clear()}li(this),this.Np.n(NaN,NaN),Ui=Ki=null,ai(this),t.pf=!1,t.sc="",t.rv=!1,this.kl()},Xn.prototype.doCancel=function(){ai(this),ci(this);var t=this.g;null!==t&&this.Np.H()&&(t.position=this.Np),this.stopTool()},Xn.prototype.doKeyDown=function(){var t=this.g;null!==t&&null!==(t=t.U)&&this.wa&&("Esc"===t.key?this.doCancel():this.doMouseMove())},Xn.prototype.doKeyUp=function(){var t=this.g;null!==t&&null!==t.U&&this.wa&&this.doMouseMove()},Xn.prototype.moveParts=function(t,e,n){if(null!==t&&(s.l(t,ut,Xn,"moveParts:parts"),0!==t.count)){var i=s.P(),r=s.P();r.assign(e),isNaN(r.x)&&(r.x=0),isNaN(r.y)&&(r.y=0),(e=this.nx)||ii(this,t);for(var o=new nt(Yi),a=new nt(lt),l=t.j;l.next();){var h=l.key;if(h.qe()){var u=ui(this,h,t);if(null!==u)o.add(new Yi(h,l.value,u));else if(!n||h.canMove()){i.assign(u=l.value.point);var c=new ft,f=this.computeMove(h,i.add(r),t,c);h.location=f,l.value.eH=c.$j(u)}}else l.key instanceof Kc&&a.add(l.bb)}for(n=o.j;n.next();)i.assign(u=(o=n.value).info.point),o.Zc.location=i.add(o.aJ.eH);for(n=s.P(),u=s.P(),a=a.j;a.next();)(o=(l=a.value).key)instanceof Kc&&(o.Ji?(h=o.$,c=o.ba,null!==this.wd&&this.Ij?(l=l.value.point,t.add(o,$n(this,r)),o.gl(h=r.x-l.x,l=r.y-l.y)):(null!==h&&(n.assign(h.location),null!==(f=t.oa(h))&&n.$j(f.point)),null!==c&&(u.assign(c.location),null!==(f=t.oa(c))&&u.$j(f.point)),null!==h&&null!==c?n.Wc(u)?(l=l.value.point,(h=i).assign(n),h.$j(l),t.add(o,$n(this,n)),o.gl(h.x,h.y)):(o.Ji=!1,o.ec()):(l=l.value.point,t.add(o,$n(this,c=null!==h?n:null!==c?u:r)),o.gl(h=c.x-l.x,l=c.y-l.y)))):null!==o.$&&null!==o.ba||(l=l.value.point,t.add(o,$n(this,r)),o.gl(h=r.x-l.x,l=r.y-l.y)));s.A(i),s.A(r),s.A(n),s.A(u),e||(Co(this.g),ri(this,t))}},Xn.prototype.computeMove=function(t,e,n,i){if(void 0===i&&(i=new ft),i.assign(e),null===t)return i;void 0===n&&(n=null);var r=e;if(this.Lu&&(this.oJ||null===n||null!==this.g&&this.g.U.up)&&((n=r=s.P()).assign(e),null!==t)&&null!==(a=this.g)){var o=a.Vn,a=(l=this.XF).width,l=l.height,h=(u=this.$I).x,u=u.y,c=this.ZI;if(null!==o){var f=o.ay;isNaN(a)&&(a=f.width),isNaN(l)&&(l=f.height),o=o.WF,isNaN(h)&&(h=o.x),isNaN(u)&&(u=o.y)}(o=s.Fb(0,0)).pv(0,0,a,l,c),Ke(e.x,e.y,h+o.x,u+o.y,a,l,n),s.A(o)}return n=null!==t.wF?t.wF(t,e,r):r,a=(l=t.PJ).x,isNaN(a)&&(a=t.location.x),l=l.y,isNaN(l)&&(l=t.location.y),h=(o=t.JJ).x,isNaN(h)&&(h=t.location.x),o=o.y,isNaN(o)&&(o=t.location.y),i.n(Math.max(a,Math.min(n.x,h)),Math.max(l,Math.min(n.y,o))),r!==e&&s.A(r),i},Xn.prototype.doDragOver=function(){},Xn.prototype.doDropOnto=function(){},Xn.prototype.doMouseMove=function(){if(this.wa){var t=this.g;null!==t&&null!==this.Mn&&null!==this.hc&&(this.mayCopy()?(t.sc="copy",si(this,!1),ii(this,this.mc),hi(this,this.mc,!1),ri(this,this.mc)):this.mayMove()?(ai(this),hi(this,this.hc,!0)):this.mayDragOut()?(t.sc="no-drop",si(this,!1),hi(this,this.mc,!1)):ai(this),pi(this,t.U.ha))}},Xn.prototype.doMouseUp=function(){if(this.wa){var t=this.g;if(null!==t){var e=!1,n=this.mayCopy();if(n&&null!==this.mc?(ai(this),si(this,!0),ii(this,this.mc),hi(this,this.mc,!1),ri(this,this.mc),null!==this.mc&&t.ZG(this.mc.bk())):(e=!0,ai(this),this.mayMove()&&(hi(this,this.hc,!0),pi(this,t.U.ha))),this.Vr=!0,mi(this,t.U.ha),this.wa){if(this.mc=null,e&&null!==this.hc)for(e=this.hc.j;e.next();){var i=e.key;i instanceof Fc&&(null===(i=i.Ka)||null===i.placeholder||this.hc.contains(i)||i.placeholder.K())}t.Qc(),ri(this,this.hc),this.Tf=n?"Copy":"Move",t.Ja(n?"SelectionCopied":"SelectionMoved",t.selection)}this.stopTool()}}},Xn.prototype.mayCopy=function(){if(!this.gG)return!1;var t=this.g;if(null===t||t.qb||t.Mf||!t.Zp||!t.Pk||(s.Qh?!t.U.alt:!t.U.control))return!1;for(t=t.selection.j;t.next();){var e=t.value;if(e.qe()&&e.canCopy())return!0}return!(null===this.wd||!this.Ij||!this.wd.canCopy())},Xn.prototype.mayDragOut=function(){if(!this.gG)return!1;var t=this.g;if(null===t||!t.du||!t.Pk||t.fm)return!1;for(t=t.selection.j;t.next();){var e=t.value;if(e.qe()&&e.canCopy())return!0}return!(null===this.wd||!this.Ij||!this.wd.canCopy())},Xn.prototype.mayMove=function(){var t=this.g;if(null===t||t.qb||!t.fm)return!1;for(t=t.selection.j;t.next();){var e=t.value;if(e.qe()&&e.canMove())return!0}return!(null===this.wd||!this.Ij||!this.wd.canMove())};var xi,wi,ki,Pi,Si,Ci,Ti,Mi,Ni,ji,Ai,_i,Oi,Ei,Di,Li,Fi,Ii,Ri,Vi,Bi,zi,qi,Gi,Hi=new nt(Xn),Ui=null,Ki=null;function Ji(t,e,n){if(null===t.mc&&null!==(i=t.g)&&!i.qb&&!i.Mf){i.lb=!n,i.hr=!n,t.jl=i.U.ha,n=i.hq(e,i,!0),oi(e,o=s.Sf());var i=o.x+o.width/2,r=o.y+o.height/2;s.Lb(o);var o=t.kx,a=new ut(Dh),l=s.P();for(e=e.j;e.next();){var h=e.value,u=n.oa(h);h.qe()&&h.canCopy()?(l.n(o.x-(i-(h=h.location).x),o.y-(r-h.y)),u.location=l,u.lf(),a.add(u,$n(t,l))):h instanceof Kc&&h.canCopy()&&(u.gl(o.x-i,o.y-r),a.add(u,$n(t)))}s.A(l),t.mc=a,Qn(t,a.bk()),null!==t.wd&&(n=t.wd).gl(t.jl.x-((i=n.so).x+i.width/2),t.jl.y-(i.y+i.height/2))}}function Wi(t){this.point=t,this.eH=ie}function Yi(t,e,n){this.Zc=t,this.info=e,this.aJ=n}function Zi(){0<arguments.length&&s.zd(Zi),Yn.call(this),this.jE=100,this.ND=!1;var t=new Kc,e=new Nl;e.Ue=!0,e.stroke="blue",t.add(e),(e=new Nl).ar="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.Nf="Tool",this.DE=t,t=new Fc,(e=new Nl).yd="",e.Kb="Rectangle",e.fill=null,e.stroke="magenta",e.mb=2,e.Ea=ce,t.add(e),t.il=!1,t.Nf="Tool",this.BE=t,this.CE=e,t=new Fc,(e=new Nl).yd="",e.Kb="Rectangle",e.fill=null,e.stroke="magenta",e.mb=2,e.Ea=ce,t.add(e),t.il=!1,t.Nf="Tool",this.EE=t,this.FE=e,this.iE=this.hE=this.dE=this.cE=this.eE=null,this.JD=!0,this.SH=new ut(fa,"boolean"),this.kE=this.Pl=this.yE=null}function Xi(t,e,n,i,r){if(e===n)return!0;if(null===e||null===n)return!1;for(var o=e.Od;o.next();){var s=o.value;if(s!==i&&(!r||s.jc)&&s.ba===e&&(s=s.$)!==e&&Xi(t,s,n,i,r))return!0}return!1}function Qi(){0<arguments.length&&s.zd(Qi),Zi.call(this),this.name="Linking",this.pz={},this.oz=null,this.ga=xi,this.tE=null}function $i(){0<arguments.length&&s.zd($i),Zi.call(this),this.name="Relinking";var t=new Nl;t.Kb="Diamond",t.Ea=pe,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="pointer",t.We=0,this.vD=t,(t=new Nl).Kb="Diamond",t.Ea=pe,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="pointer",t.We=-1,this.GE=t,this.pc=null,this.fE=new vt}function tr(t,e,n,i,r){null!==t.g&&(null!==e?(t.copyPortProperties(e,n,t.fe,t.xo,!1),t.g.add(t.fe)):t.g.remove(t.fe),null!==i?(t.copyPortProperties(i,r,t.ge,t.yo,!0),t.g.add(t.ge)):t.g.remove(t.ge))}function er(){0<arguments.length&&s.zd(er),Yn.call(this),this.name="LinkReshaping";var t=new Nl;t.Kb="Rectangle",t.Ea=fe,t.fill="lightblue",t.stroke="dodgerblue",this.Fl=t,(t=new Nl).Kb="Diamond",t.Ea=fe,t.fill="lightblue",t.stroke="dodgerblue",this.TD=t,this.lE=3,this.lz=this.pc=null,this.Bp=new ft,this.Ow=null}function nr(t,e,n,i,r,o){return o?Math.abs(e.y-n.y)<t.Wh&&Math.abs(n.y-i.y)<t.Wh&&Math.abs(i.y-r.y)<t.Wh:Math.abs(e.x-n.x)<t.Wh&&Math.abs(n.x-i.x)<t.Wh&&Math.abs(i.x-r.x)<t.Wh}function ir(){0<arguments.length&&s.zd(ir),Yn.call(this),this.name="Resizing",this.oi=new yt(1,1).freeze(),this.ni=new yt(9999,9999).freeze(),this.fk=new yt(NaN,NaN).freeze(),this.os=!1,this.Tc=null;var t=new Nl;t.Gh=P,t.Kb="Rectangle",t.Ea=fe,t.fill="lightblue",t.stroke="dodgerblue",t.mb=1,t.cursor="pointer",this.Fl=t,this.pc=null,this.Bp=new ft,this.bE=new yt,this.gE=new ft,this.Oz=new yt(0,0),this.Nz=new yt(1/0,1/0),this.Mz=new yt(1,1),this.ZD=!0}function rr(){0<arguments.length&&s.zd(rr),Yn.call(this),this.name="Rotating",this.rE=45,this.qE=2,this.Tc=null;var t=new Nl;t.Kb="Ellipse",t.Ea=pe,t.fill="lightblue",t.stroke="dodgerblue",t.mb=1,t.cursor="pointer",this.Fl=t,this.pc=null,this.Nw=0,this.mE=new ft}function or(){Yn.call(this),0<arguments.length&&s.zd(or),this.name="ClickSelecting"}function sr(){Yn.call(this),0<arguments.length&&s.zd(sr),this.name="Action",this.Eo=null}function ar(){Yn.call(this),0<arguments.length&&s.zd(ar),this.name="ClickCreating",this.yl=null,this.GD=!0,this.uD=new ft(0,0)}function lr(){this.LE=this.RD=this.Vz=this.qA=null}function hr(t,e,n){this.text=t,this.iF=e,this.visible=n}function ur(){Yn.call(this),0<arguments.length&&s.zd(ur),this.name="ContextMenu",this.ZC=this.yz=this.WC=null,this.XD=new ft,this.Az=this.Sm=null;var t=this;this.xA=function(){t.stopTool()},function(t){if((n=new lr).show=function(t,e,n){n.showDefaultContextMenu()},n.Wn=function(t,e){e.hideDefaultContextMenu()},t.Sm=n,t.xA=function(){t.stopTool()},!1===s.pF){var n=s.createElement("div"),i=s.createElement("div");n.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",i.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var r=s.createElement("style");e.document.getElementsByTagName("head")[0].appendChild(r),r.sheet.insertRule(".goCXul { list-style: none; }",0),r.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),r.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),n.addEventListener("contextmenu",cr,!1),n.addEventListener("selectstart",cr,!1),i.addEventListener("contextmenu",cr,!1),e.document.body&&(e.document.body.appendChild(n),e.document.body.appendChild(i)),s.ku=n,s.ju=i,s.pF=!0}}(this)}function cr(t){return t.preventDefault(),!1}function fr(t){var e=t.g;if(null!==e)if(t.wa){var n=t.lm;if(null!==n){if(!(n instanceof lr)){var i=e.Je(e.U.ha,null,null);null!==i&&i.xm(n)&&t.standardMouseClick(null,null)}t.stopTool(),t.canStart()&&(e.eb=t,t.doMouseUp())}}else t.canStart()&&(pr(t,!0),t.wa||t.stopTool())}function pr(t,e,n){if(void 0===n&&(n=null),e&&t.standardMouseSelect(),!t.standardMouseClick())if(t.wa=!0,e=t.Sm,null===n&&(n=t.findObjectWithContextMenu()),null!==n){var i=n.contextMenu;null!==i?(t.Mx=n instanceof fa?n:null,t.showContextMenu(i,t.Mx)):null!==e&&t.showContextMenu(e,t.Mx)}else null!==e&&t.showContextMenu(e,null)}function dr(){Yn.call(this),0<arguments.length&&s.zd(dr),this.name="DragSelecting",this.Wo=175,this.MD=!1;var t=new Dh;t.Nf="Tool",t.il=!1;var e=new Nl;e.name="SHAPE",e.Kb="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.Om=t}function yr(){Yn.call(this),0<arguments.length&&s.zd(yr),this.name="Panning",this.hA=new ft,this.ek=!1;var t=this;this.vE=function(){e.document.removeEventListener("scroll",t.vE,!1),t.stopTool()}}function vr(){0<arguments.length&&s.zd(vr),Yn.call(this),this.name="TextEditing",this.vA=this.Ik=null,this.uE=_i,this.Zl=null,this.$a=Ei,this.bt=null,this.UD=1,this.oE=!0;var t=new lr;this.aD=null,this.iD=t,this.Bz=null,function(t,e){var n=s.createElement("textarea");t.Bz=n,n.addEventListener("input",function(){if(null!==t.ih){var e=t.LJ(this.value),n=this.AK;this.style.width=20+e.Fa.width*n+"px",this.style.height=10+e.Fa.height*n+"px",this.rows=e.wB}},!1),n.addEventListener("keydown",function(e){if(null!==t.ih){var n=e.which;13===n?(!1===t.ih.ky&&e.preventDefault(),t.acceptText(Ai)):9===n?(t.acceptText(ji),e.preventDefault()):27===n&&(t.doCancel(),null!==t.g&&t.g.doFocus())}},!1),n.addEventListener("focus",function(){mr(t)},!1),n.addEventListener("blur",function(){br(t)},!1),e.uC=function(){return n.value},e.yB=n,e.show=function(t,e,i){if(i.state===Ii)n.style.border="3px solid red",n.focus();else{var r=t.fb(P),o=e.position,s=e.scale,a=t.Jj()*s;a<i.yG&&(a=i.yG);var l=t.Ga.width*a+6,h=t.Ga.height*a+2,u=(r.x-o.x)*s;r=(r.y-o.y)*s,n.value=t.text,e.Hj.style.font=t.font,n.style.position=" absolute",n.style.zIndex="100",n.style.font="inherit",n.style.fontSize=" "+100*a+"%",n.style.lineHeight=" normal",n.style.width=" "+l+"px",n.style.height=" "+h+"px",n.style.left=" "+((u-l/2|0)-1)+"px",n.style.top=" "+((r-h/2|0)-1)+"px",n.style.text="align: "+t.textAlign,n.style.margin=" 0",n.style.padding=" 1px",n.style.border=" 0",n.style.outline=" none",n.style.white="space: pre-wrap",n.style.overflow=" hidden",n.AK=a,e.Hj.appendChild(n),n.focus(),i.Qy&&(n.select(),n.setSelectionRange(0,9999))}},e.Wn=function(t){t.Hj.removeChild(n)}}(this,t)}function gr(t){var e=t.ih,n=t.g,i=t.Fj;if(null!==e&&null!==i){var r=e.text,o="";i instanceof lr?null!==i.uC&&(o=i.uC()):o="function"==typeof(o=i.value)?o():o,t.isValidText(e,r,o)?(t.Nb(t.name),t.$a=Ri,t.Tf=t.name,e.text=o,null!==e.lH&&e.lH(e,r,o),null!==n&&n.Ja("TextEdited",e,r),t.kl(),t.stopTool(),null!==n&&n.doFocus()):(t.$a=Ii,null!==e.ZA&&e.ZA(t,r,o),i instanceof lr?i.show(e,n,t):(null===t.bt&&(t.bt=i.style.border,i.style.border="3px solid red"),"function"==typeof i.focus&&i.focus()))}}function mr(t){if(null!==t.Fj&&t.state!==Ei){var e=t.Bz;t.$a===Di&&(t.$a=Li),"function"==typeof e.select&&t.Qy&&(e.select(),e.setSelectionRange(0,9999))}}function br(t){if(null!==t.Fj&&t.state!==Ei){var e=t.Bz;"function"==typeof e.focus&&e.focus(),"function"==typeof e.select&&t.Qy&&(e.select(),e.setSelectionRange(0,9999))}}function xr(){Yn.call(this),this.name="ToolManager",this.IH=new nt(Yn),this.JH=new nt(Yn),this.KH=new nt(Yn),this.yD=this.zD=850,this.nD=new yt(2,2).Oa(),this.HE=5e3,this.YD=Vi,this.wD=zi,this.Wv=this.bD=null,this.yn=-1}function wr(t,e){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.wa?t.aG:t.fJ,e.U)}function kr(t,e,n,i){s.h(e,"string",xr,"replaceStandardTool:name"),s.l(i,nt,xr,"replaceStandardTool:list"),null!==n&&(s.l(n,Yn,xr,"replaceStandardTool:newtool"),n.g&&n.g!==t.g&&s.k("Cannot share tools between Diagrams: "+n.toString()),n.name=e,n.ad(t.g)),t.findTool(e)?t.replaceTool(e,n):null!==n&&i.add(n)}function Pr(){this.cD=Sr,this.Nr=this.Pr=this.ca=null,this.Mm=this.Qr=this.Rr=0,this.Ho=this.zc=this.np=this.sk=!1,this.Kl=this.sf=!0,this.Uv=this.Tv=this.YC=null,this.XC=0,this.Vv=null,this.Jv=new rt("string"),this.Jz=600,this.LH=new ft(0,0),this.MC=this.LC=this.KE=!1,this.jn=new ut(fa,Fr)}function Sr(t,e,n,i){return 1>(t/=i/2)?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}function Cr(t){if(t.sf&&(t.Jv.clear(),t.zc))if(t.Ho){if(0===t.Mm){var e=+new Date;t.Mm=e,requestAnimationFrame(function(){if(!1!==t.zc&&!t.sk&&t.Mm===e){var n=t.ca;n.Kj("temporaryPixelRatio")&&(n.Hk=1),ro(n),t.zc=!1,n.Ja("AnimationStarting"),function(t,e){var n;function i(){if(!1!==o.sk&&o.Mm===e){var t=+new Date,n=t>y?u:t-d;Nr(o),Ar(o,r,p,s,n,u),o.Tv&&o.Tv(),So(r),jr(o),t>y?_r(o):requestAnimationFrame(i)}}void 0===n&&(n=new h);var r=t.ca;if(null!==r){var o=t,s=n.QL||t.cD,a=n.nM||null,l=n.oM||null,u=n.duration||t.Jz,c=t.LH;for(n=t.jn.j;n.next();){var f=n.value.start.position;f instanceof ft&&(f.H()||f.assign(c))}t.YC=s,t.Tv=a,t.Uv=l,t.XC=u,t.Vv=t.jn;var p=t.Vv;for(n=p.j;n.next();)(a=n.value.end)["position:placeholder"]&&(l=n.key.findVisibleNode())instanceof Tf&&null!==l.placeholder&&((c=(l=l.placeholder).fb(b)).x+=l.padding.left,c.y+=l.padding.top,a["position:placeholder"]=c);t.sk=!0,Nr(t),Ar(t,r,p,s,0,u),So(t.ca),jr(t);var d=+new Date,y=d+u;o.Mm===e&&requestAnimationFrame(function(){i()})}}(t,e)}})}}else t.zc=!1}function Tr(t,e,n,i,o,a){if(t.zc&&(r&&s.l(e,fa,Pr,"addPropToAnimation:obj"),!("position"===n&&i.O(o)||e instanceof Dh&&!e.eG))){if((l=t.jn).contains(e)){var l,u=(l=l.oa(e)).start,c=l.end;void 0===u[n]&&(u[n]=Mr(i)),l.Lx&&void 0!==c[n]?l.pu[n]=Mr(o):(a||(l.pu[n]=Mr(o)),c[n]=Mr(o)),a&&0===n.indexOf("position:")&&e instanceof Dh&&(l.pu.location=Mr(e.location))}else u=new h,c=new h,u[n]=Mr(i),c[n]=Mr(o),i=c,(o=u.position)instanceof ft&&!o.H()&&t.Jv.contains("Expand SubGraph")&&o.assign(i.position),u=new Fr(u,c,a),a&&0===n.indexOf("position:")&&e instanceof Dh&&(u.pu.location=Mr(e.location)),l.add(e,u);t.Ho=!0}}function Mr(t){return t instanceof ft?t.copy():t instanceof yt?t.copy():t}function Nr(t){if(!t.np){var e=t.ca;t.KE=e.lb,t.LC=e.Xe,t.MC=e.rv,e.lb=!0,e.Xe=!0,e.rv=!0,t.np=!0}}function jr(t){var e=t.ca;e.lb=t.KE,e.Xe=t.LC,e.rv=t.MC,t.np=!1}function Ar(t,e,n,i,r,o){for(n=n.j;n.next();){var s,a=n.key,l=(h=n.value).start,h=h.end;for(s in h)"position"===s&&(h["position:placeholder"]||h["position:node"])||void 0===Xr[s]||Xr[s](a,l[s],h[s],i,r,o)}i=e.qB,e.qB=!0,s=t.cD,0!==t.Rr&&0!==t.Qr&&(e.Db=s(r,n=t.Rr,t.Qr-n,o)),null!==t.Pr&&null!==t.Nr&&(e.sb=new ft(s(r,(n=t.Pr).x,(t=t.Nr).x-n.x,o),s(r,n.y,t.y-n.y,o))),e.qB=i}function _r(t){t.sk=!1,t.Ho=!1,Nr(t);for(var e=t.ca,n=t.YC,i=t.XC,r=t.Vv.j;r.next();){var o,s=r.key,a=r.value,l=a.start,h=a.end,u=a.pu;for(o in h)if(void 0!==Xr[o]){var c=o;!a.Lx||"position:node"!==c&&"position:placeholder"!==c||(c="position"),Xr[c](s,l[o],void 0!==u[o]?u[o]:a.Lx?l[o]:h[o],n,i,i)}a.Lx&&void 0!==u.location&&s instanceof Dh&&(s.location=u.location),a.Hy&&s instanceof Dh&&s.Pd(!1)}for(n=t.ca.links;n.next();)null!==(i=n.value).Hp&&(i.points=i.Hp,i.Hp=null);e.ty.clear(),e.Hk=null,e.Qc(),e.ra(),e.lg(),ko(e),jr(t),t.Uv&&t.Uv(),t.Mm=0,t.Vv=null,t.Uv=null,t.Tv=null,t.Pr=null,t.Nr=null,t.Rr=0,t.Qr=0,t.jn=new ut(fa,Fr),e.Ja("AnimationFinished"),e.Ve()}function Or(t,e,n){var i=e.aa,r=n.aa,o=null;if(n instanceof Tf&&(o=n.placeholder),null!==o?((i=o.fb(b)).x+=o.padding.left,i.y+=o.padding.top,Tr(t,e,"position",i,e.position,!1)):Tr(t,e,"position",new ft(r.x+r.width/2-i.width/2,r.y+r.height/2-i.height/2),e.position,!1),Tr(t,e,"scale",.01,e.scale,!1),e instanceof Tf)for(e=e.uc;e.next();)(o=e.value)instanceof Fc&&Or(t,o,n)}function Er(t,e,n){if(e.isVisible()){var i=null;if(n instanceof Tf&&(i=n.placeholder),null!==i?Tr(t,e,"position:placeholder",e.position,i,!0):Tr(t,e,"position:node",e.position,n,!0),Tr(t,e,"scale",e.scale,.01,!0),t.zc&&(i=t.jn).contains(e)&&(i.oa(e).Hy=!0),e instanceof Tf)for(e=e.uc;e.next();)(i=e.value)instanceof Fc&&Er(t,i,n)}}function Dr(t,e,n){t.zc&&(null===t.Pr&&e.H()&&null===t.Nr&&(t.Pr=e.copy()),t.Nr=n.copy(),t.Ho=!0)}function Lr(t,e,n){t.zc&&t.ca.Zn&&(0===t.Rr&&0===t.Qr&&(t.Rr=e),t.Qr=n,t.Ho=!0)}function Fr(t,e,n){this.start=t,this.end=e,this.pu=new h,this.Lx=n,this.Hy=!1}Xn.prototype.getDraggingSource=function(){return Ui},Xn.prototype.mayDragIn=function(){var t=this.g;return!(null===t||!t.XE||t.qb||t.Mf||!t.Zp)&&null!==Ui&&null!==Ui.g&&Ui.g.ea.nm===t.ea.nm},Xn.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.g;t.Ra.Yh(),So(t),t.Ra.Yh(),null!==(t=Ui)&&null!==t.g&&(t.g.sc="copy")}},Xn.prototype.doSimulatedDragLeave=function(){null!==Ui&&Ui.doSimulatedDragOut(),this.doCancel()},Xn.prototype.doSimulatedDragOver=function(){var t=this.g;if(null!==t){var e=Ui;null!==e&&null!==e.hc&&this.mayDragIn()&&(t.sc="copy",Ji(this,e.hc.bk(),!1),hi(this,this.mc,!1),pi(this,t.U.ha))}},Xn.prototype.doSimulatedDrop=function(){var t=this.g;if(null!==t){var e=Ui;if(null!==e){var n=e.g;e.Vr=!0,ai(this),this.mayDragIn()&&(this.Nb("Drop"),Ji(this,e.hc.bk(),!0),hi(this,this.mc,!1),null!==this.mc&&t.ZG(this.mc.bk()),mi(this,t.U.ha),t.Qc(),e=t.selection,null!==this.mc?this.Tf="ExternalCopy":e=new rt(Dh),this.mc=null,t.doFocus(),t.Ja("ExternalObjectsDropped",e,n),this.kl())}}},Xn.prototype.doSimulatedDragOut=function(){var t=this.g;null!==t&&(t.sc=this.mayCopy()||this.mayMove()?"":"no-drop")},s.ka("DraggingInfo",Wi),s.Ta(Zi,Yn),s.ka("LinkingBaseTool",Zi),Zi.prototype.doStop=function(){var t=this.g;null!==t&&bs(t),this.fh=this.eh=this.dh=this.bh=this.vc=null,this.Xy.clear(),this.Rf=null},s.defineProperty(Zi,{FG:"portGravity"},function(){return this.jE},function(t){s.h(t,"number",Zi,"portGravity"),0<=t&&(this.jE=t)}),s.defineProperty(Zi,{Cq:"isUnconnectedLinkValid"},function(){return this.ND},function(t){s.h(t,"boolean",Zi,"isUnconnectedLinkValid"),this.ND=t}),s.defineProperty(Zi,{Ff:"temporaryLink"},function(){return this.DE},function(t){s.l(t,Kc,Zi,"temporaryLink"),this.DE=t}),s.defineProperty(Zi,{fe:"temporaryFromNode"},function(){return this.BE},function(t){s.l(t,Fc,Zi,"temporaryFromNode"),this.BE=t}),s.defineProperty(Zi,{xo:"temporaryFromPort"},function(){return this.CE},function(t){s.l(t,fa,Zi,"temporaryFromPort"),this.CE=t}),s.defineProperty(Zi,{ge:"temporaryToNode"},function(){return this.EE},function(t){s.l(t,Fc,Zi,"temporaryToNode"),this.EE=t}),s.defineProperty(Zi,{yo:"temporaryToPort"},function(){return this.FE},function(t){s.l(t,fa,Zi,"temporaryToPort"),this.FE=t}),s.defineProperty(Zi,{vc:"originalLink"},function(){return this.eE},function(t){null!==t&&s.l(t,Kc,Zi,"originalLink"),this.eE=t}),s.defineProperty(Zi,{bh:"originalFromNode"},function(){return this.cE},function(t){null!==t&&s.l(t,Fc,Zi,"originalFromNode"),this.cE=t}),s.defineProperty(Zi,{dh:"originalFromPort"},function(){return this.dE},function(t){null!==t&&s.l(t,fa,Zi,"originalFromPort"),this.dE=t}),s.defineProperty(Zi,{eh:"originalToNode"},function(){return this.hE},function(t){null!==t&&s.l(t,Fc,Zi,"originalToNode"),this.hE=t}),s.defineProperty(Zi,{fh:"originalToPort"},function(){return this.iE},function(t){null!==t&&s.l(t,fa,Zi,"originalToPort"),this.iE=t}),s.defineProperty(Zi,{ce:"isForwards"},function(){return this.JD},function(t){s.h(t,"boolean",Zi,"isForwards"),this.JD=t}),s.w(Zi,{Xy:"validPortsCache"},function(){return this.SH}),s.defineProperty(Zi,{Rf:"targetPort"},function(){return this.yE},function(t){null!==t&&s.l(t,fa,Zi,"targetPort"),this.yE=t}),Zi.prototype.copyPortProperties=function(t,e,n,i,r){if(null!==t&&null!==e&&null!==n&&null!==i){i.Ea=e.aa.size,r?(i.Hb=e.Hb,i.Hm=e.Hm):(i.Gb=e.Gb,i.rm=e.rm),n.Of=P;var o=s.P();n.location=e.fb(P,o),s.A(o),i.angle=e.sm(),null!==this.Ey&&this.Ey(t,e,n,i,r)}},Zi.prototype.setNoTargetPortProperties=function(t,e,n){null!==e&&(e.Ea=ce,e.Gb=g,e.Hb=g),null!==t&&null!==this.g&&(t.location=this.g.U.ha),null!==this.Ey&&this.Ey(null,null,t,e,n)},Zi.prototype.doMouseDown=function(){this.wa&&this.doMouseMove()},Zi.prototype.doMouseMove=function(){if(this.wa){var t=this.g;if(null!==t){if(this.Rf=this.findTargetPort(this.ce),null!==this.Rf&&this.Rf.Y instanceof Fc){var e=this.Rf.Y;this.ce?this.copyPortProperties(e,this.Rf,this.ge,this.yo,!0):this.copyPortProperties(e,this.Rf,this.fe,this.xo,!1)}else this.ce?this.setNoTargetPortProperties(this.ge,this.yo,!0):this.setNoTargetPortProperties(this.fe,this.xo,!1);(t.Be||t.Ce)&&t.UA(t.U.te)}}},Zi.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var n=t.Y;if(!(n instanceof Fc))return null;for(;null!==t;){var i=e?t.nH:t.MF;if(!0===i&&(null!==t.yd||t instanceof Fc)&&(e?this.isValidTo(n,t):this.isValidFrom(n,t)))return t;if(!1===i)break;t=t.R}return null},Zi.prototype.findTargetPort=function(t){var e=(o=this.g).U.ha;0>=(r=this.FG)&&(r=.1);var n=this,i=o.Pn(e,r,function(e){return n.findValidLinkablePort(e,t)},null,!0),r=1/0,o=null;for(i=i.j;i.next();){var a=i.value,l=a.Y;if(l instanceof Fc){var h=a.fb(P,s.P()),u=e.x-h.x,c=e.y-h.y;s.A(h),(h=u*u+c*c)<r&&(null!==(u=this.Xy.oa(a))?u&&(o=a,r=h):t&&this.isValidLink(this.bh,this.dh,l,a)||!t&&this.isValidLink(l,a,this.eh,this.fh)?(this.Xy.add(a,!0),o=a,r=h):this.Xy.add(a,!1))}}return null!==o&&(e=o.Y)instanceof Fc&&(null===e.layer||e.layer.eu)?o:null},Zi.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.Cq;if(null!==this.g&&this.g.eb===this&&(null!==t.layer&&!t.layer.eu||!0!==e.MF))return!1;var n=e.cB;if(1/0>n){if(null!==this.vc&&t===this.bh&&e===this.dh)return!0;var i=e.yd;if(null===i&&(i=""),t.Wx(i).count>=n)return!1}return!0},Zi.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.Cq;if(null!==this.g&&this.g.eb===this&&(null!==t.layer&&!t.layer.eu||!0!==e.nH))return!1;var n=e.EK;if(1/0>n){if(null!==this.vc&&t===this.eh&&e===this.fh)return!0;var i=e.yd;if(null===i&&(i=""),t.Yg(i).count>=n)return!1}return!0},Zi.prototype.isInSameNode=function(t,e){if(null===t||null===e)return!1;if(t===e)return!0;var n=t.Y;return null!==n&&n===e.Y},Zi.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var n=t.Y;if(!(n instanceof Fc))return!1;var i=t.yd;null===i&&(i="");var r=e.Y;if(!(r instanceof Fc))return!1;var o=e.yd;for(null===o&&(o=""),r=r.Yg(o);r.next();)if((o=r.value).$===n&&o.hg===i)return!0;return!1},Zi.prototype.isValidLink=function(t,e,n,i){if(!this.isValidFrom(t,e)||!this.isValidTo(n,i)||!(null===e||null===i||(e.RI&&i.DK||!this.isInSameNode(e,i))&&(e.QI&&i.CK||!this.isLinked(e,i)))||null!==this.vc&&(null!==t&&this.isLabelDependentOnLink(t,this.vc)||null!==n&&this.isLabelDependentOnLink(n,this.vc))||null!==t&&null!==n&&(null===t.data&&null!==n.data||null!==t.data&&null===n.data)||!this.isValidCycle(t,n,this.vc))return!1;if(null!==t){var r=t.sy;if(null!==r&&!r(t,e,n,i,this.vc))return!1}return!(null!==n&&null!==(r=n.sy)&&!r(t,e,n,i,this.vc))&&(null===(r=this.sy)||r(t,e,n,i,this.vc))},Zi.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var n=t.Xb;if(null===n)return!1;if(n===e)return!0;var i=new rt(Fc);return i.add(t),function t(e,n,i,r){if(n===i)return!0;var o=n.$;return!(null===o||!o.Lf||(r.add(o),!t(e,o.Xb,i,r)))||!(null===(n=n.ba)||!n.Lf||(r.add(n),!t(e,n.Xb,i,r)))}(this,n,e,i)},Zi.prototype.isValidCycle=function(t,e,n){if(void 0===n&&(n=null),null===t||null===e)return this.Cq;var i=null!==this.g?this.g.KK:Br;if(i!==Br){if(i===Hr){if(null!==(i=n||this.Ff)&&!i.jc)return!0;for(i=e.Od;i.next();){var r=i.value;if(r!==n&&r.jc&&r.ba===e)return!1}return!Xi(this,t,e,n,!0)}if(i===Ur){if(null!==(i=n||this.Ff)&&!i.jc)return!0;for(i=t.Od;i.next();)if((r=i.value)!==n&&r.jc&&r.$===t)return!1;return!Xi(this,t,e,n,!0)}if(i===zr)return t===e?t=!0:((i=new rt(Fc)).add(e),t=function t(e,n,i,r,o){if(i===r)return!0;if(null===i||null===r||n.contains(i))return!1;n.add(i);for(var s=i.Od;s.next();){var a=s.value;if(a!==o&&a.ba===i&&(a=a.$)!==i&&t(e,n,a,r,o))return!0}return!1}(this,i,t,e,n)),!t;if(i===qr)return!Xi(this,t,e,n,!1);if(i===Gr)return t===e?t=!0:((i=new rt(Fc)).add(e),t=function t(e,n,i,r,o){if(i===r)return!0;if(null===i||null===r||n.contains(i))return!1;n.add(i);for(var s=i.Od;s.next();)if((l=s.value)!==o){var a=l.$,l=l.ba;if((a=a===i?l:a)!==i&&t(e,n,a,r,o))return!0}return!1}(this,i,t,e,n)),!t}return!0},s.defineProperty(Zi,{sy:"linkValidation"},function(){return this.Pl},function(t){null!==t&&s.h(t,"function",Zi,"linkValidation"),this.Pl=t}),s.defineProperty(Zi,{Ey:"portTargeted"},function(){return this.kE},function(t){null!==t&&s.h(t,"function",Zi,"portTargeted"),this.kE=t}),s.Ta(Qi,Zi),s.ka("LinkingTool",Qi),Qi.Either=xi=s.s(Qi,"Either",0),Qi.ForwardsOnly=wi=s.s(Qi,"ForwardsOnly",0),Qi.BackwardsOnly=ki=s.s(Qi,"BackwardsOnly",0),s.defineProperty(Qi,{aF:"archetypeLinkData"},function(){return this.pz},function(t){null!==t&&s.l(t,Object,Qi,"archetypeLinkData"),t instanceof fa&&s.l(t,Kc,Qi,"archetypeLinkData"),this.pz=t}),s.defineProperty(Qi,{$E:"archetypeLabelNodeData"},function(){return this.oz},function(t){null!==t&&s.l(t,Object,Qi,"archetypeLabelNodeData"),t instanceof fa&&s.l(t,Fc,Qi,"archetypeLabelNodeData"),this.oz=t}),s.defineProperty(Qi,{direction:"direction"},function(){return this.ga},function(t){s.Da(t,Qi,Qi,"direction"),this.ga=t}),s.defineProperty(Qi,{hH:"startObject"},function(){return this.tE},function(t){null!==t&&s.l(t,fa,Qi,"startObject"),this.tE=t}),Qi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.qb||t.Mf||!t.eu)return!1;var e=t.ea;return!(!(e instanceof En||e instanceof In)||!t.U.left||t.eb!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},Qi.prototype.findLinkablePort=function(){var t=this.g;if(null===t)return null;var e=this.hH;if(null===e&&(e=t.Je(t.Pc.ha,null,null)),null===e||!(e.Y instanceof Fc))return null;if((t=this.direction)===xi||t===wi){var n=this.findValidLinkablePort(e,!1);if(null!==n)return this.ce=!0,n}return t!==xi&&t!==ki||null===(n=this.findValidLinkablePort(e,!0))?null:(this.ce=!1,n)},Qi.prototype.doActivate=function(){var t=this.g;if(null!==t){var e=this.findLinkablePort();null!==e&&(this.Nb(this.name),t.pf=!0,t.sc="pointer",this.ce?(null===this.ge||this.ge.location.H()||(this.ge.location=t.U.ha),this.dh=e,(e=this.dh.Y)instanceof Fc&&(this.bh=e),this.copyPortProperties(this.bh,this.dh,this.fe,this.xo,!1)):(null===this.fe||this.fe.location.H()||(this.fe.location=t.U.ha),this.fh=e,(e=this.fh.Y)instanceof Fc&&(this.eh=e),this.copyPortProperties(this.eh,this.fh,this.ge,this.yo,!0)),t.add(this.fe),t.add(this.ge),null!==this.Ff&&(null!==this.fe&&(this.Ff.$=this.fe),null!==this.ge&&(this.Ff.ba=this.ge),this.Ff.jc=this.isNewTreeLink(),this.Ff.ec(),t.add(this.Ff)),this.wa=!0)}},Qi.prototype.doDeactivate=function(){this.wa=!1;var t=this.g;null!==t&&(t.remove(this.Ff),t.remove(this.fe),t.remove(this.ge),t.pf=!1,t.sc="",this.kl())},Qi.prototype.doStop=function(){Zi.prototype.doStop.call(this),this.hH=null},Qi.prototype.doMouseUp=function(){if(this.wa){var t=this.g;if(null===t)return;var e=this.Tf=null,n=null,i=null,r=null,o=this.Rf=this.findTargetPort(this.ce);if(null!==o){var s=o.Y;s instanceof Fc&&(this.ce?(null!==this.bh&&(e=this.bh,n=this.dh),i=s,r=o):(e=s,n=o,null!==this.eh&&(i=this.eh,r=this.fh)))}else this.ce?null!==this.bh&&this.Cq&&(e=this.bh,n=this.dh):null!==this.eh&&this.Cq&&(i=this.eh,r=this.fh);null!==e||null!==i?null!==(s=this.insertLink(e,n,i,r))?(null===o&&(this.ce?s.jq=t.U.ha:s.iq=t.U.ha),t.Jf&&t.select(s),this.Tf=this.name,t.Ja("LinkDrawn",s)):(t.ea.gF(),this.doNoLink(e,n,i,r)):this.ce?this.doNoLink(this.bh,this.dh,null,null):this.doNoLink(null,null,this.eh,this.fh)}this.stopTool()},Qi.prototype.isNewTreeLink=function(){var t=this.aF;if(null===t)return!0;if(t instanceof Kc)return t.jc;var e=this.g;return null===e||null===(e=rs(e,t=e.Bu(t)))||e.jc},Qi.prototype.insertLink=function(t,e,n,i){var r=this.g;if(null===r)return null;var o=r.ea;if(o instanceof In){var a=t;if(e=n,r.ee||(a=n,e=t),null!==a&&null!==e)return o.Ii(e.data,o.zb(a.data)),e.Qn()}else if(o instanceof En)if(a="",null!==t&&(null===e&&(e=t),null===(a=e.yd)&&(a="")),e="",null!==n&&(null===i&&(i=n),null===(e=i.yd)&&(e="")),(i=this.aF)instanceof Kc){if(yl(i),null!==(o=i.copy()))return o.$=t,o.hg=a,o.ba=n,o.jh=e,r.add(o),(t=this.$E)instanceof Fc&&(yl(t),null!==(t=t.copy())&&(t.Xb=o,r.add(t))),o}else if(null!==i&&(i=o.Kx(i),s.Qa(i)))return null!==t&&o.YB(i,o.zb(t.data)),o.ZB(i,a),null!==n&&o.dC(i,o.zb(n.data)),o.eC(i,e),o.au(i),null===(t=this.$E)||t instanceof Fc||(t=o.copyNodeData(t),s.Qa(t)&&(o.dm(t),void 0!==(t=o.zb(t))&&o.VE(i,t))),r.gg(i);return null},Qi.prototype.doNoLink=function(){},s.Ta($i,Zi),s.ka("RelinkingTool",$i),$i.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Kc){var e="RelinkFrom",n=null;if(t.jb&&null!==this.g&&!this.g.qb){var i=t.to;null!==i&&t.canRelinkFrom()&&t.aa.H()&&t.isVisible()&&i.aa.H()&&i.Sj()&&null===(n=t.nq(e))&&(n=this.makeAdornment(i,!1),t.cm(e,n))}null===n&&t.Xj(e),e="RelinkTo",n=null,t.jb&&null!==this.g&&!this.g.qb&&null!==(i=t.to)&&t.canRelinkTo()&&t.aa.H()&&t.isVisible()&&i.aa.H()&&i.Sj()&&null===(n=t.nq(e))&&(n=this.makeAdornment(i,!0),t.cm(e,n)),null===n&&t.Xj(e)}},$i.prototype.makeAdornment=function(t,e){var n=new Lc;n.type=Ya;var i=e?this.BK:this.OI;return null!==i&&n.add(i.copy()),n.Bb=t,n},s.defineProperty($i,{OI:"fromHandleArchetype"},function(){return this.vD},function(t){null!==t&&s.l(t,fa,$i,"fromHandleArchetype"),this.vD=t}),s.defineProperty($i,{BK:"toHandleArchetype"},function(){return this.GE},function(t){null!==t&&s.l(t,fa,$i,"toHandleArchetype"),this.GE=t}),s.w($i,{handle:"handle"},function(){return this.pc}),$i.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.qb||t.Mf||!t.Dn)return!1;var e=t.ea;return!(!(e instanceof En||e instanceof In)||!t.U.left)&&(null===(e=this.findToolHandleAt(t.Pc.ha,"RelinkFrom"))&&(e=this.findToolHandleAt(t.Pc.ha,"RelinkTo")),null!==e)},$i.prototype.doActivate=function(){var t=this.g;if(null!==t){if(null===this.vc){var e=this.findToolHandleAt(t.Pc.ha,"RelinkFrom");if(null===e&&(e=this.findToolHandleAt(t.Pc.ha,"RelinkTo")),null===e)return;var n=e.Y;if(!(n instanceof Lc&&n.gf instanceof Kc))return;this.pc=e,this.ce=null===n||"RelinkTo"===n.Kd,this.vc=n.gf}this.Nb(this.name),t.pf=!0,t.sc="pointer",this.dh=this.vc.oc,this.bh=this.vc.$,this.fh=this.vc.Gc,this.eh=this.vc.ba,this.fE.set(this.vc.aa),null!==this.vc&&0<this.vc.ta&&(null===this.vc.$&&(null!==this.xo&&(this.xo.Ea=ue),null!==this.fe&&(this.fe.location=this.vc.m(0))),null===this.vc.ba&&(null!==this.yo&&(this.yo.Ea=ue),null!==this.ge&&(this.ge.location=this.vc.m(this.vc.ta-1)))),this.copyPortProperties(this.bh,this.dh,this.fe,this.xo,!1),this.copyPortProperties(this.eh,this.fh,this.ge,this.yo,!0),t.add(this.fe),t.add(this.ge),null!==this.Ff&&(null!==this.fe&&(this.Ff.$=this.fe),null!==this.ge&&(this.Ff.ba=this.ge),this.copyLinkProperties(this.vc,this.Ff),this.Ff.ec(),t.add(this.Ff)),this.wa=!0}},$i.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.Yp=t.Yp,e.QA=t.QA;var n=t.kf;n!==nu&&n!==eu||(n=$h),e.kf=n,e.Nx=t.Nx,e.jc=t.jc,e.points=t.points,e.My=t.My,e.Yq=t.Yq,e.Gb=t.Gb,e.rm=t.rm,e.zu=t.zu,e.Au=t.Au,e.Hb=t.Hb,e.Hm=t.Hm,e.uv=t.uv,e.vv=t.vv}},$i.prototype.doDeactivate=function(){this.wa=!1;var t=this.g;null!==t&&(t.remove(this.Ff),t.remove(this.fe),t.remove(this.ge),t.pf=!1,t.sc="",this.kl())},$i.prototype.doStop=function(){Zi.prototype.doStop.call(this),this.pc=null},$i.prototype.doMouseUp=function(){if(this.wa){var t=this.g;if(null===t)return;this.Tf=null;var e=this.bh,n=this.dh,i=this.eh,r=this.fh,o=this.vc;if(this.Rf=this.findTargetPort(this.ce),null!==this.Rf){var s=this.Rf.Y;s instanceof Fc&&(this.ce?(i=s,r=this.Rf):(e=s,n=this.Rf))}else this.Cq?this.ce?r=i=null:n=e=null:o=null;null!==o?(this.reconnectLink(o,this.ce?i:e,this.ce?r:n,this.ce),null===this.Rf&&(this.ce?o.jq=t.U.ha:o.iq=t.U.ha,o.ec()),t.Jf&&(o.jb=!0),this.Tf=this.name,t.Ja("LinkRelinked",o,this.ce?this.fh:this.dh)):this.doNoRelink(this.vc,this.ce),af(this.vc,this.fE)}this.stopTool()},$i.prototype.reconnectLink=function(t,e,n,i){return null!==this.g&&(n=null!==n&&null!==n.yd?n.yd:"",i?(t.ba=e,t.jh=n):(t.$=e,t.hg=n),!0)},$i.prototype.doNoRelink=function(){},s.Ta(er,Yn),s.ka("LinkReshapingTool",er),er.None=Pi=s.s(er,"None",0),er.Horizontal=Si=s.s(er,"Horizontal",1),er.Vertical=Ci=s.s(er,"Vertical",2),er.All=Ti=s.s(er,"All",3),er.prototype.getReshapingBehavior=er.prototype.RF=function(t){return t&&t.kA?t.kA:Pi},er.prototype.setReshapingBehavior=er.prototype.ov=function(t,e){s.l(t,fa,er,"setReshapingBehavior:obj"),s.Da(e,er,er,"setReshapingBehavior:behavior"),t.kA=e},er.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Kc){if(t.jb&&null!==this.g&&!this.g.qb){var e=t.path;if(null!==e&&t.canReshape()&&t.aa.H()&&t.isVisible()&&e.aa.H()&&e.Sj()){var n=t.nq(this.name);if(null!==n&&n.$D===t.ta&&n.OE===t.jv||null!==(n=this.makeAdornment(e))&&(n.$D=t.ta,n.OE=t.jv,t.cm(this.name,n)),null!==n)return void(n.location=t.position)}}t.Xj(this.name)}},er.prototype.makeAdornment=function(t){var e=t.Y,n=e.ta,i=e.ic,r=null;if(null!==e.points&&1<n){(r=new Lc).type=Ya,n=e.tu;var o=e.oy,s=i?1:0;if(e.jv&&e.kf!==tu)for(var a=n+s;a<o-s;a++){var l=this.makeResegmentHandle(t,a);null!==l&&(l.We=a,l.WB=.5,l.cB=999,r.add(l))}for(a=n+1;a<o;a++)if(null!==(l=this.makeHandle(t,a))){if(l.We=a,a!==n)if(a===n+1&&i){s=e.m(n);var h=e.m(n+1);Ce(s.x,h.x)&&Ce(s.y,h.y)&&(h=e.m(n-1)),Ce(s.x,h.x)?(this.ov(l,Ci),l.cursor="n-resize"):Ce(s.y,h.y)&&(this.ov(l,Si),l.cursor="w-resize")}else a===o-1&&i?(s=e.m(o-1),h=e.m(o),Ce(s.x,h.x)&&Ce(s.y,h.y)&&(s=e.m(o+1)),Ce(s.x,h.x)?(this.ov(l,Ci),l.cursor="n-resize"):Ce(s.y,h.y)&&(this.ov(l,Si),l.cursor="w-resize")):a!==o&&(this.ov(l,Ti),l.cursor="move");r.add(l)}r.Bb=t}return r},er.prototype.makeHandle=function(){var t=this.Eu;return null===t?null:t.copy()},s.defineProperty(er,{Eu:"handleArchetype"},function(){return this.Fl},function(t){null!==t&&s.l(t,fa,er,"handleArchetype"),this.Fl=t}),er.prototype.makeResegmentHandle=function(){var t=this.OJ;return null===t?null:t.copy()},s.defineProperty(er,{OJ:"midHandleArchetype"},function(){return this.TD},function(t){null!==t&&s.l(t,fa,er,"midHandleArchetype"),this.TD=t}),s.w(er,{handle:"handle"},function(){return this.pc}),s.w(er,{cu:"adornedLink"},function(){return this.lz}),er.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||t.qb||!t.Bx||!t.U.left)&&null!==this.findToolHandleAt(t.Pc.ha,this.name)},er.prototype.doActivate=function(){var t=this.g;if(null!==t&&(this.pc=this.findToolHandleAt(t.Pc.ha,this.name),null!==this.pc)){var e=this.pc.Y.gf;if(e instanceof Kc){if(this.lz=e,t.pf=!0,this.Nb(this.name),e.jv&&999===this.pc.cB){var n=e.points.copy(),i=this.pc.fb(P);if(n.be(this.pc.We+1,i),e.ic&&n.be(this.pc.We+1,i),e.points=n,e.pe(),this.pc=this.findToolHandleAt(t.Pc.ha,this.name),null===this.pc)return void this.doDeactivate()}this.Bp=e.m(this.pc.We),this.Ow=e.points.copy(),this.wa=!0}}},er.prototype.doDeactivate=function(){this.kl(),this.lz=this.pc=null;var t=this.g;null!==t&&(t.pf=!1),this.wa=!1},er.prototype.doCancel=function(){var t=this.cu;null!==t&&(t.points=this.Ow),this.stopTool()},er.prototype.doMouseMove=function(){var t=this.g;this.wa&&null!==t&&(t=this.computeReshape(t.U.ha),this.reshape(t))},er.prototype.doMouseUp=function(){var t=this.g;if(this.wa&&null!==t){var e=this.computeReshape(t.U.ha);if(this.reshape(e),null!==(e=this.cu)&&e.jv){var n=this.handle.We,i=e.m(n-1),r=e.m(n),o=e.m(n+1);if(e.ic){if(n>e.tu+1&&n<e.oy-1){var a=e.m(n-2);if(Math.abs(i.x-r.x)<this.Wh&&Math.abs(i.y-r.y)<this.Wh&&(nr(this,a,i,r,o,!0)||nr(this,a,i,r,o,!1))){var l=e.points.copy();nr(this,a,i,r,o,!0)?(l.ug(n-2,new ft(a.x,(o.y+a.y)/2)),l.ug(n+1,new ft(o.x,(o.y+a.y)/2))):(l.ug(n-2,new ft((o.x+a.x)/2,a.y)),l.ug(n+1,new ft((o.x+a.x)/2,o.y))),l.pd(n),l.pd(n-1),e.points=l,e.pe()}else a=e.m(n+2),Math.abs(r.x-o.x)<this.Wh&&Math.abs(r.y-o.y)<this.Wh&&(nr(this,i,r,o,a,!0)||nr(this,i,r,o,a,!1))&&(l=e.points.copy(),nr(this,i,r,o,a,!0)?(l.ug(n-1,new ft(i.x,(i.y+a.y)/2)),l.ug(n+2,new ft(a.x,(i.y+a.y)/2))):(l.ug(n-1,new ft((i.x+a.x)/2,i.y)),l.ug(n+2,new ft((i.x+a.x)/2,a.y))),l.pd(n+1),l.pd(n),e.points=l,e.pe())}}else a=s.P(),Ie(i.x,i.y,o.x,o.y,r.x,r.y,a)&&a.Kf(r)<this.Wh*this.Wh&&((l=e.points.copy()).pd(n),e.points=l,e.pe()),s.A(a)}t.Qc(),this.Tf=this.name,t.Ja("LinkReshaped",this.cu,this.Ow)}this.stopTool()},s.defineProperty(er,{Wh:"resegmentingDistance"},function(){return this.lE},function(t){s.h(t,"number",er,"resegmentingDistance"),this.lE=t}),er.prototype.reshape=function(t){var e=this.cu;e.Dm();var n=this.handle.We,i=this.RF(this.handle);if(e.ic)if(n===e.tu+1)n=e.tu+1,i===Ci?(e.ia(n,e.m(n-1).x,t.y),e.ia(n+1,e.m(n+2).x,t.y)):i===Si&&(e.ia(n,t.x,e.m(n-1).y),e.ia(n+1,t.x,e.m(n+2).y));else if(n===e.oy-1)n=e.oy-1,i===Ci?(e.ia(n-1,e.m(n-2).x,t.y),e.ia(n,e.m(n+1).x,t.y)):i===Si&&(e.ia(n-1,t.x,e.m(n-2).y),e.ia(n,t.x,e.m(n+1).y));else{var r=e.m(i=n),o=e.m(i-1),a=e.m(i+1);Ce(o.x,r.x)&&Ce(r.y,a.y)?(Ce(o.x,e.m(i-2).x)&&!Ce(o.y,e.m(i-2).y)?(e.B(i,t.x,o.y),n++,i++):e.ia(i-1,t.x,o.y),Ce(a.y,e.m(i+2).y)&&!Ce(a.x,e.m(i+2).x)?e.B(i+1,a.x,t.y):e.ia(i+1,a.x,t.y)):Ce(o.y,r.y)&&Ce(r.x,a.x)?(Ce(o.y,e.m(i-2).y)&&!Ce(o.x,e.m(i-2).x)?(e.B(i,o.x,t.y),n++,i++):e.ia(i-1,o.x,t.y),Ce(a.x,e.m(i+2).x)&&!Ce(a.y,e.m(i+2).y)?e.B(i+1,t.x,a.y):e.ia(i+1,t.x,a.y)):Ce(o.x,r.x)&&Ce(r.x,a.x)?(Ce(o.x,e.m(i-2).x)&&!Ce(o.y,e.m(i-2).y)?(e.B(i,t.x,o.y),n++,i++):e.ia(i-1,t.x,o.y),Ce(a.x,e.m(i+2).x)&&!Ce(a.y,e.m(i+2).y)?e.B(i+1,t.x,a.y):e.ia(i+1,t.x,a.y)):Ce(o.y,r.y)&&Ce(r.y,a.y)&&(Ce(o.y,e.m(i-2).y)&&!Ce(o.x,e.m(i-2).x)?(e.B(i,o.x,t.y),n++,i++):e.ia(i-1,o.x,t.y),Ce(a.y,e.m(i+2).y)&&!Ce(a.x,e.m(i+2).x)?e.B(i+1,a.x,t.y):e.ia(i+1,a.x,t.y)),e.ia(n,t.x,t.y)}else e.ia(n,t.x,t.y),o=e.oc,null!==(r=e.$)&&null!==(i=r.findVisibleNode())&&i!==r&&(o=(r=i).port),1===n&&e.computeSpot(!0,o).de()&&(i=o.fb(P,s.P()),r=e.getLinkPointFromPoint(r,o,i,t,!0,s.P()),e.ia(0,r.x,r.y),s.A(i),s.A(r)),o=e.Gc,null!==(r=e.ba)&&null!==(i=r.findVisibleNode())&&i!==r&&(o=(r=i).port),n===e.ta-2&&e.computeSpot(!1,o).de()&&(i=o.fb(P,s.P()),r=e.getLinkPointFromPoint(r,o,i,t,!1,s.P()),e.ia(e.ta-1,r.x,r.y),s.A(i),s.A(r));e.Ej()},er.prototype.computeReshape=function(t){var e=this.cu,n=this.handle.We;switch(this.RF(this.handle)){case Ti:return t;case Ci:return new ft((e=e.m(n)).x,t.y);case Si:return e=e.m(n),new ft(t.x,e.y);default:case Pi:return e.m(n)}},s.w(er,{qM:"originalPoint"},function(){return this.Bp}),s.w(er,{rM:"originalPoints"},function(){return this.Ow}),s.Ta(ir,Yn),s.ka("ResizingTool",ir),ir.prototype.updateAdornments=function(t){if(!(null===t||t instanceof Kc)){if(t.jb&&null!==this.g&&!this.g.qb&&null!==(o=t.RG)&&t.canResize()&&t.aa.H()&&t.isVisible()&&o.aa.H()&&o.Sj()){var e=t.nq(this.name);if(null!==e&&e.Bb===o||(e=this.makeAdornment(o)),null!==e){var n=o.sm();e.angle=n;var i=o.fb(e.Of,s.P()),r=o.Jj();if(e.location=i,s.A(i),null!==(i=e.placeholder)){var o=o.Ga,a=s.Gm();a.n(o.width*r,o.height*r),i.Ea=a,s.Zk(a)}return this.updateResizeHandles(e,n),void t.cm(this.name,e)}}t.Xj(this.name)}},ir.prototype.makeAdornment=function(t){var e=null;if(null===(e=t.Y.QG)){(e=new Lc).type=Ha,e.Of=P;var n=new jf;n.Ue=!0,e.add(n),e.add(this.makeHandle(t,b)),e.add(this.makeHandle(t,w)),e.add(this.makeHandle(t,M)),e.add(this.makeHandle(t,C)),e.add(this.makeHandle(t,N)),e.add(this.makeHandle(t,A)),e.add(this.makeHandle(t,_)),e.add(this.makeHandle(t,j))}else if(yl(e),null===(e=e.copy()))return null;return e.Bb=t,e},ir.prototype.makeHandle=function(t,e){var n=this.Eu;return null===n?null:((n=n.copy()).alignment=e,n)},ir.prototype.updateResizeHandles=function(t,e){if(null!==t)if(!t.alignment.ld()&&("pointer"===t.cursor||0<t.cursor.indexOf("resize")))t:{var n=t.alignment;n.de()&&(n=P);var i=e;if(0>=n.x)i=0>=n.y?i+225:1<=n.y?i+135:i+180;else if(1<=n.x)0>=n.y?i+=315:1<=n.y&&(i+=45);else if(0>=n.y)i+=270;else{if(!(1<=n.y))break t;i+=90}0>i?i+=360:360<=i&&(i-=360),t.cursor=22.5>i?"e-resize":67.5>i?"se-resize":112.5>i?"s-resize":157.5>i?"sw-resize":202.5>i?"w-resize":247.5>i?"nw-resize":292.5>i?"n-resize":337.5>i?"ne-resize":"e-resize"}else if(t instanceof tl)for(n=t.elements;n.next();)this.updateResizeHandles(n.value,e)},s.defineProperty(ir,{Eu:"handleArchetype"},function(){return this.Fl},function(t){null!==t&&s.l(t,fa,ir,"handleArchetype"),this.Fl=t}),s.w(ir,{handle:"handle"},function(){return this.pc}),s.defineProperty(ir,{Bb:"adornedObject"},function(){return this.Tc},function(t){null!==t&&s.l(t,fa,ir,"adornedObject"),this.Tc=t}),ir.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||t.qb||!t.fu||!t.U.left)&&null!==this.findToolHandleAt(t.Pc.ha,this.name)},ir.prototype.doActivate=function(){var t=this.g;null!==t&&(this.pc=this.findToolHandleAt(t.Pc.ha,this.name),null!==this.pc&&(this.Tc=this.pc.Y.Bb,this.Bp.set(this.Bb.fb(this.handle.alignment.DG())),this.gE.set(this.Tc.Y.location),this.bE.set(this.Tc.Ea),this.Mz=this.computeCellSize(),this.Oz=this.computeMinSize(),this.Nz=this.computeMaxSize(),t.pf=!0,this.ZD=t.Ra.isEnabled,t.Ra.isEnabled=!1,this.Nb(this.name),this.wa=!0))},ir.prototype.doDeactivate=function(){var t=this.g;null!==t&&(this.kl(),this.Tc=this.pc=null,this.wa=t.pf=!1,t.Ra.isEnabled=this.ZD)},ir.prototype.doCancel=function(){null!==this.Bb&&(this.Bb.Ea=this.EG,this.Bb.Y.location=this.YJ),this.stopTool()},ir.prototype.doMouseMove=function(){var t=this.g;if(this.wa&&null!==t){var e=this.Oz,n=this.Nz,i=this.Mz,r=this.Bb.PF(t.U.ha,s.P()),o=this.computeReshape();e=this.computeResize(r,this.handle.alignment,e,n,i,o),this.resize(e),t.lg(),s.A(r)}},ir.prototype.doMouseUp=function(){var t=this.g;if(this.wa&&null!==t){var e=this.Oz,n=this.Nz,i=this.Mz,r=this.Bb.PF(t.U.ha,s.P()),o=this.computeReshape();e=this.computeResize(r,this.handle.alignment,e,n,i,o),this.resize(e),s.A(r),t.Qc(),this.Tf=this.name,t.Ja("PartResized",this.Bb,this.EG)}this.stopTool()},ir.prototype.resize=function(t){var e=this.g;if(null!==e){var n=this.Bb,i=n.Y;n.Ea=t.size,i.lf(),t=this.Bb.fb(this.handle.alignment.DG()),i instanceof Tf?((n=new nt(Dh)).add(i),e.moveParts(n,this.Bp.copy().$j(t),!0)):i.location=i.location.copy().$j(t).add(this.Bp)}},ir.prototype.computeResize=function(t,e,n,i,r,o){e.de()&&(e=P);var a=this.Bb.Ga,l=a.x,h=a.y,u=a.x+a.width,c=a.y+a.height,f=1;if(!o){var p=a.height;0>=(f=a.width)&&(f=1),0>=p&&(p=1),f=p/f}return p=s.P(),Ke(t.x,t.y,l,h,r.width,r.height,p),t=a.copy(),0>=e.x?0>=e.y?(t.x=Math.max(p.x,u-i.width),t.x=Math.min(t.x,u-n.width),t.width=Math.max(u-t.x,n.width),t.y=Math.max(p.y,c-i.height),t.y=Math.min(t.y,c-n.height),t.height=Math.max(c-t.y,n.height),o||(f<(e=t.height/t.width)?(t.height=f*t.width,t.y=c-t.height):(t.width=t.height/f,t.x=u-t.width))):1<=e.y?(t.x=Math.max(p.x,u-i.width),t.x=Math.min(t.x,u-n.width),t.width=Math.max(u-t.x,n.width),t.height=Math.max(Math.min(p.y-h,i.height),n.height),o||(f<(e=t.height/t.width)?t.height=f*t.width:(t.width=t.height/f,t.x=u-t.width))):(t.x=Math.max(p.x,u-i.width),t.x=Math.min(t.x,u-n.width),t.width=u-t.x,o||(t.height=f*t.width,t.y=h+.5*(c-h-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(p.x-l,i.width),n.width),t.y=Math.max(p.y,c-i.height),t.y=Math.min(t.y,c-n.height),t.height=Math.max(c-t.y,n.height),o||(f<(e=t.height/t.width)?(t.height=f*t.width,t.y=c-t.height):t.width=t.height/f)):1<=e.y?(t.width=Math.max(Math.min(p.x-l,i.width),n.width),t.height=Math.max(Math.min(p.y-h,i.height),n.height),o||(f<(e=t.height/t.width)?t.height=f*t.width:t.width=t.height/f)):(t.width=Math.max(Math.min(p.x-l,i.width),n.width),o||(t.height=f*t.width,t.y=h+.5*(c-h-t.height))):0>=e.y?(t.y=Math.max(p.y,c-i.height),t.y=Math.min(t.y,c-n.height),t.height=c-t.y,o||(t.width=t.height/f,t.x=l+.5*(u-l-t.width))):1<=e.y&&(t.height=Math.max(Math.min(p.y-h,i.height),n.height),o||(t.width=t.height/f,t.x=l+.5*(u-l-t.width))),s.A(p),t},ir.prototype.computeReshape=function(){var t=Zs;return this.Bb instanceof Nl&&(t=Ol(this.Bb)),!(t===ea||t===na||null!==this.g&&this.g.U.shift)},ir.prototype.computeMinSize=function(){var t=this.Bb.ah.copy(),e=this.ah;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},ir.prototype.computeMaxSize=function(){var t=this.Bb.qf.copy(),e=this.qf;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},ir.prototype.computeCellSize=function(){var t=new yt(NaN,NaN),e=this.Bb.Y;if(null!==e){var n=e.gK;!isNaN(n.width)&&0<n.width&&(t.width=n.width),!isNaN(n.height)&&0<n.height&&(t.height=n.height)}return n=this.bq,isNaN(t.width)&&!isNaN(n.width)&&0<n.width&&(t.width=n.width),isNaN(t.height)&&!isNaN(n.height)&&0<n.height&&(t.height=n.height),e=this.g,(isNaN(t.width)||isNaN(t.height))&&e&&(null!==(n=e.ob.Ge)&&n.Lu&&(n=n.XF,isNaN(t.width)&&!isNaN(n.width)&&0<n.width&&(t.width=n.width),isNaN(t.height)&&!isNaN(n.height)&&0<n.height&&(t.height=n.height)),null!==(e=e.Vn)&&e.visible&&this.Lu&&(n=e.ay,isNaN(t.width)&&!isNaN(n.width)&&0<n.width&&(t.width=n.width),isNaN(t.height)&&!isNaN(n.height)&&0<n.height&&(t.height=n.height))),(isNaN(t.width)||0===t.width||1/0===t.width)&&(t.width=1),(isNaN(t.height)||0===t.height||1/0===t.height)&&(t.height=1),t},s.defineProperty(ir,{ah:"minSize"},function(){return this.oi},function(t){if(s.l(t,yt,ir,"minSize"),!this.oi.O(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.oi.n(e,t)}}),s.defineProperty(ir,{qf:"maxSize"},function(){return this.ni},function(t){if(s.l(t,yt,ir,"maxSize"),!this.ni.O(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.ni.n(e,t)}}),s.defineProperty(ir,{bq:"cellSize"},function(){return this.fk},function(t){s.l(t,yt,ir,"cellSize"),this.fk.O(t)||this.fk.assign(t)}),s.defineProperty(ir,{Lu:"isGridSnapEnabled"},function(){return this.os},function(t){s.h(t,"boolean",ir,"isGridSnapEnabled"),this.os=t}),s.w(ir,{EG:"originalDesiredSize"},function(){return this.bE}),s.w(ir,{YJ:"originalLocation"},function(){return this.gE}),s.Ta(rr,Yn),s.ka("RotatingTool",rr),rr.prototype.updateAdornments=function(t){if(null!==t){if(t instanceof Kc){var e=t.TB;if(e===t||e===t.path||e.Ue)return}if(t.jb&&null!==this.g&&!this.g.qb&&null!==(e=t.TB)&&t.canRotate()&&t.aa.H()&&t.isVisible()&&e.aa.H()&&e.Sj()){var n=t.nq(this.name);if(null!==n&&n.Bb===e||(n=this.makeAdornment(e)),null!==n){n.angle=e.sm();var i=null,r=null;for(e===t||e===t.Cf?(i=t.Cf,r=t.Of):(i=e,r=P),r=s.Fb((o=i.Ga).width*r.x+r.offsetX,o.height*r.y+r.offsetY);null!==i&&i!==e;)i.transform.vb(r),i=i.R;i=r.y;var o=Math.max(r.x-e.Ga.width,0),a=s.P();return n.location=e.fb(new Ct(1,0,50+o,i),a),s.A(a),s.A(r),void t.cm(this.name,n)}}t.Xj(this.name)}},rr.prototype.makeAdornment=function(t){var e=null;if(null===(e=t.Y.iK)){(e=new Lc).type=qa,e.Of=P;var n=this.Eu;null!==n&&e.add(n.copy())}else if(yl(e),null===(e=e.copy()))return null;return e.Bb=t,e},s.defineProperty(rr,{Eu:"handleArchetype"},function(){return this.Fl},function(t){null!==t&&s.l(t,fa,rr,"handleArchetype"),this.Fl=t}),s.w(rr,{handle:"handle"},function(){return this.pc}),s.defineProperty(rr,{Bb:"adornedObject"},function(){return this.Tc},function(t){null!==t&&s.l(t,fa,rr,"adornedObject"),this.Tc=t}),rr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||t.qb||!t.Cx||!t.U.left)&&null!==this.findToolHandleAt(t.Pc.ha,this.name)},rr.prototype.doActivate=function(){var t=this.g;if(null!==t&&(this.pc=this.findToolHandleAt(t.Pc.ha,this.name),null!==this.pc)){this.Tc=this.pc.Y.Bb;var e=this.Tc.Y,n=e.Cf;this.mE=this.Tc===e||this.Tc===n?n.fb(e.Of):this.Tc.fb(P),this.Nw=this.Tc.angle,t.pf=!0,t.SA=!0,this.Nb(this.name),this.wa=!0}},rr.prototype.doDeactivate=function(){var t=this.g;null!==t&&(this.kl(),this.Tc=this.pc=null,this.wa=t.pf=!1)},rr.prototype.doCancel=function(){var t=this.g;null!==t&&(t.SA=!1),this.rotate(this.Nw),this.stopTool()},rr.prototype.doMouseMove=function(){var t=this.g;this.wa&&null!==t&&(t=this.computeRotate(t.U.ha),this.rotate(t))},rr.prototype.doMouseUp=function(){var t=this.g;if(this.wa&&null!==t){t.SA=!1;var e=this.computeRotate(t.U.ha);this.rotate(e),t.Qc(),this.Tf=this.name,t.Ja("PartRotated",this.Tc,this.Nw)}this.stopTool()},rr.prototype.rotate=function(t){r&&s.p(t,rr,"rotate:newangle"),null!==this.Tc&&(this.Tc.angle=t)},rr.prototype.computeRotate=function(t){t=this.mE.Wb(t),null!==(e=this.Tc.R)&&(360<=(t-=e.sm())?t-=360:0>t&&(t+=360));var e=Math.min(Math.abs(this.vK),180),n=Math.min(Math.abs(this.uK),e/2);return(null===this.g||!this.g.U.shift)&&0<e&&0<n&&(t%e<n?t=Math.floor(t/e)*e:t%e>e-n&&(t=(Math.floor(t/e)+1)*e)),360<=t?t-=360:0>t&&(t+=360),t},s.defineProperty(rr,{vK:"snapAngleMultiple"},function(){return this.rE},function(t){s.h(t,"number",rr,"snapAngleMultiple"),this.rE=t}),s.defineProperty(rr,{uK:"snapAngleEpsilon"},function(){return this.qE},function(t){s.h(t,"number",rr,"snapAngleEpsilon"),this.qE=t}),s.w(rr,{pM:"originalAngle"},function(){return this.Nw}),s.Ta(or,Yn),s.ka("ClickSelectingTool",or),or.prototype.canStart=function(){return!(!this.isEnabled||null===this.g||this.isBeyondDragSize())},or.prototype.doMouseUp=function(){this.wa&&(this.standardMouseSelect(),!this.standardMouseClick()&&null!==this.g&&this.g.U.Qj&&this.g.ob.doToolTip()),this.stopTool()},s.Ta(sr,Yn),s.ka("ActionTool",sr),sr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t)return!1;var e=t.U,n=t.Je(e.ha,function(t){for(;null!==t.R&&!t.Hu;)t=t.R;return t});return null!==n&&!!n.Hu&&(this.Eo=n,t.Qo=t.Je(e.ha,null,null),!0)},sr.prototype.doMouseDown=function(){if(this.wa){var t=this.g.U,e=this.Eo;null!==e&&(t.Ne=e,null!==e.RE&&e.RE(t,e))}else this.canStart()&&this.doActivate()},sr.prototype.doMouseMove=function(){if(this.wa){var t=this.g.U,e=this.Eo;null!==e&&(t.Ne=e,null!==e.SE&&e.SE(t,e))}},sr.prototype.doMouseUp=function(){if(this.wa){var t=this.g,e=t.U,n=this.Eo;if(null===n)return;e.Ne=n,null!==n.TE&&n.TE(e,n),this.isBeyondDragSize()||Zn(n,e,t)}this.stopTool()},sr.prototype.doCancel=function(){if(null!==(t=this.g)){var t=t.U,e=this.Eo;if(null===e)return;t.Ne=e,null!==e.QE&&e.QE(t,e)}this.stopTool()},sr.prototype.doStop=function(){this.Eo=null},s.Ta(ar,Yn),s.ka("ClickCreatingTool",ar),ar.prototype.canStart=function(){if(!this.isEnabled||null===this.GA)return!1;var t=this.g;if(null===t||t.qb||t.Mf||!t.Zp||!t.U.left||this.isBeyondDragSize())return!1;if(this.nJ){if(1===t.U.Ee&&(this.uD=t.U.te.copy()),2!==t.U.Ee||this.isBeyondDragSize(this.uD))return!1}else if(1!==t.U.Ee)return!1;return t.eb===this||null===t.su(t.U.ha,!0)},ar.prototype.doMouseUp=function(){var t=this.g;this.wa&&null!==t&&this.insertPart(t.U.ha),this.stopTool()},ar.prototype.insertPart=function(t){var e=this.g;if(null===e)return null;var n=this.GA;if(null===n)return null;this.Nb(this.name);var i=null;return n instanceof Dh?n.qe()&&(yl(n),null!==(i=n.copy())&&e.add(i)):null!==n&&(n=e.ea.copyNodeData(n),s.Qa(n)&&(e.ea.dm(n),i=e.Nh(n))),null!==i&&(i.location=t,e.Jf&&e.select(i)),e.Qc(),this.Tf=this.name,e.Ja("PartCreated",i),this.kl(),i},s.defineProperty(ar,{GA:"archetypeNodeData"},function(){return this.yl},function(t){null!==t&&s.l(t,Object,ar,"archetypeNodeData"),this.yl=t}),s.defineProperty(ar,{nJ:"isDoubleClick"},function(){return this.GD},function(t){s.h(t,"boolean",ar,"isDoubleClick"),this.GD=t}),s.ka("HTMLInfo",lr),s.defineProperty(lr,{yB:"mainElement"},function(){return this.RD},function(t){null!==t&&s.l(t,HTMLElement,lr,"mainElement"),this.RD=t}),s.defineProperty(lr,{show:"show"},function(){return this.qA},function(t){this.qA!==t&&(null!==t&&s.h(t,"function",lr,"show"),this.qA=t)}),s.defineProperty(lr,{Wn:"hide"},function(){return this.Vz},function(t){this.Vz!==t&&(null!==t&&s.h(t,"function",lr,"hide"),this.Vz=t)}),s.defineProperty(lr,{uC:"valueFunction"},function(){return this.LE},function(t){this.LE=t}),s.Ta(ur,Yn),s.ka("ContextMenuTool",ur),ur.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||this.isBeyondDragSize()||!t.U.right||!(null!==this.Sm&&t.U.Qj||null!==this.findObjectWithContextMenu()))},ur.prototype.doStart=function(){var t=this.g;null!==t&&this.XD.set(t.Pc.ha)},ur.prototype.doStop=function(){this.hideContextMenu(),this.Mx=null},ur.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.g;if(null===e)return null;var n=null;if(t instanceof eo||(n=t instanceof fa?t:e.Je(e.U.ha,null,function(t){return!t.layer.Yc})),null!==n){for(t=n;null!==t;){if(null!==t.contextMenu)return t;t=t.R}if(null!==this.Sm&&e.U.Qj)return n.Y}else if(null!==e.contextMenu)return e;return null},ur.prototype.doActivate=function(){},ur.prototype.doMouseDown=function(){Yn.prototype.doMouseDown.call(this),null!==this.g&&this.g.ob.rf.contains(this)&&fr(this)},ur.prototype.doMouseUp=function(){fr(this)},ur.prototype.doMouseMove=function(){this.wa&&null!==this.g&&this.g.ob.doMouseMove()},ur.prototype.showContextMenu=function(t,e){if(!r||t instanceof Lc||t instanceof lr||s.k("showContextMenu:contextMenu must be an Adornment or HTMLInfo."),null!==e&&s.l(e,fa,ur,"showContextMenu:obj"),null!==(n=this.g)){if(t!==this.lm&&this.hideContextMenu(),t instanceof Lc){if(t.Nf="Tool",t.il=!1,t.scale=1/n.scale,t.Kd=this.name,null!==t.placeholder&&(t.placeholder.scale=n.scale),n.add(t),null!==e){var n=null,i=e.qm();null!==i&&(n=i.data),t.Bb=e,t.data=n}else t.data=n.ea;t.lf(),this.positionContextMenu(t,e)}else t instanceof lr&&t.show(e,n,this);this.lm=t}},ur.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.g;if(null!==e){var n=e.U.ha.copy(),i=t.Fa,r=e.wb;e.U.Qj&&(n.x-=i.width),n.x+i.width>r.right&&(n.x-=i.width+5),n.x<r.x&&(n.x=r.x),n.y+i.height>r.bottom&&(n.y-=i.height+5),n.y<r.y&&(n.y=r.y),t.position=n}}},ur.prototype.hideContextMenu=function(){var t=this.g;if(null!==t){var e=this.lm;null!==e&&(e instanceof Lc?(t.remove(e),null!==this.yz&&this.yz.Xj(e.Kd),e.data=null,e.Bb=null):e instanceof lr&&(null!==e.Wn?e.Wn(t,this):null!==e.yB&&(e.yB.style.display="none")),this.lm=null,this.standardMouseOver())}},ur.prototype.showDefaultContextMenu=function(){var t=this.g;if(null!==t){null===this.Az&&(this.Az=function(t){return null===t.g?null:((t=new nt(hr)).add(new hr("Copy",function(t){t.yb.copySelection()},function(t){return t.yb.canCopySelection()})),t.add(new hr("Cut",function(t){t.yb.cutSelection()},function(t){return t.yb.canCutSelection()})),t.add(new hr("Delete",function(t){t.yb.deleteSelection()},function(t){return t.yb.canDeleteSelection()})),t.add(new hr("Paste",function(t){t.yb.pasteSelection(t.U.ha)},function(t){return t.yb.canPasteSelection()})),t.add(new hr("Select All",function(t){t.yb.selectAll()},function(t){return t.yb.canSelectAll()})),t.add(new hr("Undo",function(t){t.yb.undo()},function(t){return t.yb.canUndo()})),t.add(new hr("Redo",function(t){t.yb.redo()},function(t){return t.yb.canRedo()})),t.add(new hr("Scroll To Part",function(t){t.yb.scrollToPart()},function(t){return t.yb.canScrollToPart()})),t.add(new hr("Zoom To Fit",function(t){t.yb.zoomToFit()},function(t){return t.yb.canZoomToFit()})),t.add(new hr("Reset Zoom",function(t){t.yb.resetZoom()},function(t){return t.yb.canResetZoom()})),t.add(new hr("Group Selection",function(t){t.yb.groupSelection()},function(t){return t.yb.canGroupSelection()})),t.add(new hr("Ungroup Selection",function(t){t.yb.ungroupSelection()},function(t){return t.yb.canUngroupSelection()})),t.add(new hr("Edit Text",function(t){t.yb.editTextBlock()},function(t){return t.yb.canEditTextBlock()})),t)}(this)),s.ku.innerHTML="",s.ju.addEventListener("click",this.xA,!1);var e=this,n=s.createElement("ul");n.className="goCXul",s.ku.appendChild(n),n.innerHTML="";for(var i=this.Az.j;i.next();){var r=i.value,o=r.visible;if("function"==typeof r.iF&&("function"!=typeof o||o(t))){(o=s.createElement("li")).className="goCXli";var a=s.createElement("a");a.className="goCXa",a.href="#",a.DH=r.iF,a.addEventListener("click",function(n){return this.DH(t),e.stopTool(),n.preventDefault(),!1},!1),a.textContent=r.text,o.appendChild(a),n.appendChild(o)}}s.ku.style.display="block",s.ju.style.display="block"}},ur.prototype.hideDefaultContextMenu=function(){null!==this.lm&&this.lm===this.Sm&&(s.ku.style.display="none",s.ju.style.display="none",s.ju.removeEventListener("click",this.xA,!1),this.lm=null)},s.defineProperty(ur,{lm:"currentContextMenu"},function(){return this.WC},function(t){!r||null===t||t instanceof Lc||t instanceof lr||s.k("ContextMenuTool.currentContextMenu must be an Adornment or HTMLInfo."),this.WC=t,this.yz=t instanceof Lc?t.gf:null}),s.defineProperty(ur,{IL:"defaultTouchContextMenu"},function(){return this.Sm},function(t){!r||null===t||t instanceof Lc||t instanceof lr||s.k("ContextMenuTool.defaultTouchContextMenu must be an Adornment or HTMLInfo."),this.Sm=t}),s.defineProperty(ur,{Mx:"currentObject"},function(){return this.ZC},function(t){null!==t&&s.l(t,fa,ur,"currentObject"),this.ZC=t}),s.w(ur,{kM:"mouseDownPoint"},function(){return this.XD}),s.Ta(dr,Yn),s.ka("DragSelectingTool",dr),dr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||!t.Jf)return!1;var e=t.U;return!(!e.left||t.eb!==this&&(!this.isBeyondDragSize()||e.timestamp-t.Pc.timestamp<this.qF||null!==t.su(e.ha,!0)))},dr.prototype.doActivate=function(){var t=this.g;null!==t&&(this.wa=!0,t.pf=!0,t.lb=!0,t.add(this.Jh),this.doMouseMove())},dr.prototype.doDeactivate=function(){var t=this.g;null!==t&&(bs(t),t.remove(this.Jh),t.lb=!1,this.wa=t.pf=!1)},dr.prototype.doMouseMove=function(){var t=this.g;if(null!==t&&this.wa&&null!==this.Jh){var e=this.computeBoxBounds(),n=this.Jh.Md("SHAPE");null===n&&(n=this.Jh.Ld()),n.Ea=e.size,this.Jh.position=e.position,(t.Be||t.Ce)&&t.UA(t.U.te)}},dr.prototype.doMouseUp=function(){if(this.wa){var t=this.g;t.remove(this.Jh);try{t.sc="wait",this.selectInRect(this.computeBoxBounds())}finally{t.sc=""}}this.stopTool()},dr.prototype.computeBoxBounds=function(){var t=this.g;return null===t?new vt(0,0,0,0):new vt(t.Pc.ha,t.U.ha)},dr.prototype.selectInRect=function(t){var e=this.g;if(null!==e){var n=e.U;if(e.Ja("ChangingSelection"),t=e.Xk(t,null,function(t){return t instanceof Dh&&t.canSelect()},this.uJ),s.Qh?n.Xu:n.control)if(n.shift)for(t=t.j;t.next();)(n=t.value).jb&&(n.jb=!1);else for(t=t.j;t.next();)(n=t.value).jb=!n.jb;else{if(!n.shift){n=new nt(Dh);for(var i=e.selection.j;i.next();){var r=i.value;t.contains(r)||n.add(r)}for(n=n.j;n.next();)n.value.jb=!1}for(t=t.j;t.next();)(n=t.value).jb||(n.jb=!0)}e.Ja("ChangedSelection")}},s.defineProperty(dr,{qF:"delay"},function(){return this.Wo},function(t){s.h(t,"number",dr,"delay"),this.Wo=t}),s.defineProperty(dr,{uJ:"isPartialInclusion"},function(){return this.MD},function(t){s.h(t,"boolean",dr,"isPartialInclusion"),this.MD=t}),s.defineProperty(dr,{Jh:"box"},function(){return this.Om},function(t){null!==t&&s.l(t,Dh,dr,"box"),this.Om=t}),s.Ta(yr,Yn),s.ka("PanningTool",yr),yr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||!t.Be&&!t.Ce||!t.U.left||t.eb!==this&&!this.isBeyondDragSize())},yr.prototype.doActivate=function(){var t=this.g;null!==t&&(this.ek?(t.U.bubbles=!0,e.document.addEventListener("scroll",this.vE,!1)):(t.sc="move",t.pf=!0,this.hA=t.position.copy()),this.wa=!0)},yr.prototype.doDeactivate=function(){var t=this.g;null!==t&&(t.sc="",this.wa=t.pf=!1)},yr.prototype.doCancel=function(){var t=this.g;null!==t&&(t.position=this.hA,t.pf=!1),this.stopTool()},yr.prototype.doMouseMove=function(){this.move()},yr.prototype.doMouseUp=function(){this.move(),this.stopTool()},yr.prototype.move=function(){var t=this.g;if(this.wa&&t)if(this.ek)t.U.bubbles=!0;else{var e=t.position,n=t.U.ha,i=e.x+(r=t.Pc.ha).x-n.x,r=e.y+r.y-n.y;t.Be||(i=e.x),t.Ce||(r=e.y),t.position=new ft(i,r)}},s.defineProperty(yr,{bubbles:"bubbles"},function(){return this.ek},function(t){s.h(t,"boolean",yr,"bubbles"),this.ek=t}),s.w(yr,{sM:"originalPosition"},function(){return this.hA}),s.ka("TextEditingTool",vr),s.Ta(vr,Yn),vr.LostFocus=Mi=s.s(vr,"LostFocus",0),vr.MouseDown=Ni=s.s(vr,"MouseDown",1),vr.Tab=ji=s.s(vr,"Tab",2),vr.Enter=Ai=s.s(vr,"Enter",3),vr.SingleClick=s.s(vr,"SingleClick",0),vr.SingleClickSelected=_i=s.s(vr,"SingleClickSelected",1),vr.DoubleClick=Oi=s.s(vr,"DoubleClick",2),vr.StateNone=Ei=s.s(vr,"StateNone",0),vr.StateActive=Di=s.s(vr,"StateActive",1),vr.StateEditing=Li=s.s(vr,"StateEditing",2),vr.StateValidating=Fi=s.s(vr,"StateValidating",3),vr.StateInvalid=Ii=s.s(vr,"StateInvalid",4),vr.StateValidated=Ri=s.s(vr,"StateValidated",5),s.defineProperty(vr,{ih:"textBlock"},function(){return this.vA},function(t){null!==t&&s.l(t,Il,vr,"textBlock"),this.vA=t}),s.defineProperty(vr,{Fj:"currentTextEditor"},function(){return this.aD},function(t){this.aD=t}),s.defineProperty(vr,{xI:"defaultTextEditor"},function(){return this.iD},function(t){!r||t instanceof HTMLElement||t instanceof lr||s.k("TextEditingTool.defaultTextEditor must be an Element or HTMLInfo."),this.iD=t}),s.defineProperty(vr,{iH:"starting"},function(){return this.uE},function(t){s.Da(t,vr,vr,"starting"),this.uE=t}),vr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.qb||!t.U.left||this.isBeyondDragSize())return!1;var e=t.Je(t.U.ha);return!!(null!==e&&e instanceof Il&&e.XA&&e.Y.canEdit())&&!(null===(e=e.Y)||this.iH===_i&&!e.jb||this.iH===Oi&&2>t.U.Ee)},vr.prototype.doStart=function(){this.wa||null===this.ih||this.doActivate()},vr.prototype.doActivate=function(){if(!this.wa){var t=this.g;if(null!==t){var e=this.ih;if(null===e&&(e=t.Je(t.U.ha)),null!==e&&e instanceof Il&&(this.ih=e,null!==e.Y)){this.wa=!0,this.$a=Di;var n=this.xI;null!==e.mH&&(n=e.mH),this.Ik=this.ih.copy();var i=new vt(this.ih.fb(b),this.ih.fb(M));t.WG(i),n instanceof lr?n.show(e,t,this):(n.style.position="absolute",n.style.zIndex="100",n.textEditingTool=this,"function"==typeof n.onActivate&&n.onActivate(),t.Hj.appendChild(n),"function"==typeof n.focus&&n.focus(),"function"==typeof n.select&&this.Qy&&(n.select(),n.setSelectionRange(0,9999))),this.Fj=n}}}},vr.prototype.doCancel=function(){null!==this.bt&&this.Fj instanceof HTMLElement&&(this.Fj.style.border=this.bt,this.bt=null),this.stopTool()},vr.prototype.doMouseUp=function(){!this.wa&&this.canStart()&&this.doActivate()},vr.prototype.doMouseDown=function(){this.wa&&this.acceptText(Ni)},vr.prototype.acceptText=function(t){switch(t){case Ni:this.$a===Ri?this.Fj instanceof HTMLElement&&this.Fj.focus():this.$a!==Di&&this.$a!==Ii&&this.$a!==Li||(this.$a=Fi,gr(this));break;case Mi:case Ai:case ji:if(Ai===t&&!0===this.vA.ky)break;this.$a!==Di&&this.$a!==Ii&&this.$a!==Li||(this.$a=Fi,gr(this))}},vr.prototype.doDeactivate=function(){var t=this.g;if(null!==t){if(this.$a=Ei,this.ih=null,null!==this.Fj){var e=this.Fj;e instanceof lr?e.Wn(t,this):("function"==typeof e.onDeactivate&&e.onDeactivate(),null!==e&&t.Hj.removeChild(e))}this.wa=!1}},vr.prototype.doFocus=function(){r&&s.On("TextEditingTool.doFocus","2.0"),mr(this)},vr.prototype.doBlur=function(){r&&s.On("TextEditingTool.doBlur","2.0"),br(this)},vr.prototype.isValidText=function(t,e,n){s.l(t,Il,vr,"isValidText:textblock");var i=this.jC;return!(null!==i&&!i(t,e,n)||null!==(i=t.jC)&&!i(t,e,n))},s.defineProperty(vr,{jC:"textValidation"},function(){return this.Zl},function(t){null!==t&&s.h(t,"function",vr,"textValidation"),this.Zl=t}),s.defineProperty(vr,{yG:"minimumEditorScale"},function(){return this.UD},function(t){null!==t&&s.h(t,"number",vr,"minimumEditorScale"),this.UD=t}),s.defineProperty(vr,{Qy:"selectsTextOnActivate"},function(){return this.oE},function(t){null!==t&&s.h(t,"boolean",vr,"selectsTextOnActivate"),this.oE=t}),s.defineProperty(vr,{state:"state"},function(){return this.$a},function(t){this.$a!==t&&(s.Da(t,vr,vr,"starting"),this.$a=t)}),vr.prototype.measureTemporaryTextBlock=vr.prototype.LJ=function(t){var e=this.Ik;return e.text=t,ma(e,this.ih.rp,1/0),e},s.Ta(xr,Yn),s.ka("ToolManager",xr),xr.WheelScroll=Vi=s.s(xr,"WheelScroll",0),xr.WheelZoom=Bi=s.s(xr,"WheelZoom",1),xr.WheelNone=s.s(xr,"WheelNone",2),xr.GestureZoom=zi=s.s(xr,"GestureZoom",3),xr.GestureCancel=qi=s.s(xr,"GestureCancel",4),xr.GestureNone=Gi=s.s(xr,"GestureNone",5),s.defineProperty(xr,{$u:"mouseWheelBehavior"},function(){return this.YD},function(t){s.Da(t,xr,xr,"mouseWheelBehavior"),this.YD=t}),s.defineProperty(xr,{rq:"gestureBehavior"},function(){return this.wD},function(t){s.Da(t,xr,xr,"gestureBehavior"),this.wD=t}),xr.prototype.initializeStandardTools=function(){this.UH=new sr,this.HG=new $i,this.DJ=new er,this.TG=new ir,this.kK=new rr,this.uG=new Qi,this.Ge=new Xn,this.BI=new dr,this.ZJ=new yr,this.NA=new ur,this.iC=new vr,this.gI=new ar,this.hI=new or},xr.prototype.updateAdornments=function(t){var e=this.mm;if(e instanceof Lc&&this.Wv===t){var n=e.Bb;(null!==t?n.Y===t:null===n)?this.showToolTip(e,n):this.hideToolTip()}},xr.prototype.doMouseDown=function(){var t=this.g;if(null!==t){var e=t.U;if(e.Qj&&this.rq===qi&&(e.bubbles=!1),e.Ou){if(this.cancelWaitAfter(),this.rq===Gi)return void(e.bubbles=!0);if(this.rq===qi)return;if(t.eb.canStartMultiTouch())return void t.eb.standardPinchZoomStart()}(n=t.na).IA&&0!==n.Ki&&s.trace("WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero");for(var n=this.rf.length,i=0;i<n;i++){var r=this.rf.fa(i);if(null===r.g&&r.ad(this.g),r.canStart())return t.doFocus(),t.eb=r,void(t.eb===r&&(r.wa||r.doActivate(),r.doMouseDown()))}1===t.U.button&&(this.$u===Vi?this.$u=Bi:this.$u===Bi&&(this.$u=Vi)),this.doActivate(),this.standardWaitAfter(this.aG,e)}},xr.prototype.doMouseMove=function(){var t=this.g;if(null!==t){var e=t.U;if(e.Ou){if(this.rq===Gi)return void(e.bubbles=!0);if(this.rq===qi)return;if(t.eb.canStartMultiTouch())return void t.eb.standardPinchZoomMove()}if(this.wa)for(var n=this.mg.length,i=0;i<n;i++){var r=this.mg.fa(i);if(null===r.g&&r.ad(this.g),r.canStart())return t.doFocus(),t.eb=r,void(t.eb===r&&(r.wa||r.doActivate(),r.doMouseMove()))}wr(this,t),null===(t=e.event)||"mousemove"!==t.type&&"pointermove"!==t.type&&t.cancelable||(e.bubbles=!0)}},xr.prototype.doCurrentObjectChanged=function(t,e){var n=this.mm;null===n||null!==e&&n instanceof Lc&&(e===n||e.xm(n))||this.hideToolTip()},xr.prototype.doWaitAfter=function(t){var e=this.g;null!==e&&e.Ib&&(this.doMouseHover(),this.wa||this.doToolTip(),t.Qj&&!e.U.Cc&&((t=t.copy()).button=2,t.buttons=2,e.U=t,e.Sp=!0,e.doMouseUp()))},xr.prototype.doMouseHover=function(){var t=this.g;if(null!==t){var e=t.U;null===e.Ne&&(e.Ne=t.Je(e.ha,null,null));var n=e.Ne;if(null!==n)for(e.Cc=!1;null!==n&&(null===(t=this.wa?n.DB:n.EB)||(t(e,n),!e.Cc));)n=n.R;else null!==(n=this.wa?t.DB:t.EB)&&n(e)}},xr.prototype.doToolTip=function(){var t=this.g;if(null!==t){var e=t.U;if(null===e.Ne&&(e.Ne=t.Je(e.ha,null,null)),null!==(e=e.Ne)){if(!((t=this.mm)instanceof Lc)||e!==t&&!e.xm(t)){for(;null!==e;){if(null!==(t=e.lC))return void this.showToolTip(t,e);e=e.R}this.hideToolTip()}}else null!==(t=t.lC)?this.showToolTip(t,null):this.hideToolTip()}},xr.prototype.showToolTip=function(t,e){if(!r||t instanceof Lc||t instanceof lr||s.k("showToolTip:tooltip must be an Adornment or HTMLInfo."),null!==e&&s.l(e,fa,xr,"showToolTip:obj"),null!==(n=this.g)){if(t!==this.mm&&this.hideToolTip(),t instanceof Lc){if(t.Nf="Tool",t.il=!1,t.scale=1/n.scale,t.Kd="ToolTip",null!==t.placeholder&&(t.placeholder.scale=n.scale),n.add(t),null!==e){var n=null,i=e.qm();null!==i&&(n=i.data),t.Bb=e,t.data=n}else t.data=n.ea;t.lf(),this.positionToolTip(t,e)}else t instanceof lr&&t!==this.mm&&t.show(e,n,this);if(this.mm=t,-1!==this.yn&&(s.clearTimeout(this.yn),this.yn=-1),0<(n=this.FK)&&1/0!==n){var o=this;this.yn=s.setTimeout(function(){o.hideToolTip()},n)}}},xr.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.g;if(null!==e){var n=e.U.ha.copy(),i=t.Fa,r=e.wb;e.U.Qj&&(n.x-=i.width),n.x+i.width>r.right&&(n.x-=i.width+5),n.x<r.x&&(n.x=r.x),n.y=n.y+20+i.height>r.bottom?n.y-(i.height+5):n.y+20,n.y<r.y&&(n.y=r.y),t.position=n}}},xr.prototype.hideToolTip=function(){-1!==this.yn&&(s.clearTimeout(this.yn),this.yn=-1);var t=this.g;if(null!==t){var e=this.mm;null!==e&&(e instanceof Lc?(t.remove(e),null!==this.Wv&&this.Wv.Xj(e.Kd),e.data=null,e.Bb=null):e instanceof lr&&null!==e.Wn&&e.Wn(t,this),this.mm=null)}},s.defineProperty(xr,{mm:"currentToolTip"},function(){return this.bD},function(t){!r||null===t||t instanceof Lc||t instanceof lr||s.k("ToolManager.currentToolTip must be an Adornment or HTMLInfo."),this.bD=t,this.Wv=null!==t&&t instanceof Lc?t.gf:null}),xr.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.g;if(null!==t){if(this.wa)for(var e=this.ng.length,n=0;n<e;n++){var i=this.ng.fa(n);if(null===i.g&&i.ad(this.g),i.canStart())return t.doFocus(),t.eb=i,void(t.eb===i&&(i.wa||i.doActivate(),i.doMouseUp()))}t.doFocus(),this.doDeactivate()}},xr.prototype.doMouseWheel=function(){this.standardMouseWheel()},xr.prototype.doKeyDown=function(){var t=this.g;null!==t&&t.yb.doKeyDown()},xr.prototype.doKeyUp=function(){var t=this.g;null!==t&&t.yb.doKeyUp()},xr.prototype.doCancel=function(){null!==Ui&&Ui.doCancel(),Yn.prototype.doCancel.call(this)},xr.prototype.findTool=function(t){s.h(t,"string",xr,"findTool:name");for(var e=this.rf.length,n=0;n<e;n++){var i=this.rf.fa(n);if(i.name===t)return i}for(e=this.mg.length,n=0;n<e;n++)if((i=this.mg.fa(n)).name===t)return i;for(e=this.ng.length,n=0;n<e;n++)if((i=this.ng.fa(n)).name===t)return i;return null},xr.prototype.replaceTool=function(t,e){s.h(t,"string",xr,"replaceTool:name"),null!==e&&(s.l(e,Yn,xr,"replaceTool:newtool"),e.g&&e.g!==this.g&&s.k("Cannot share tools between Diagrams: "+e.toString()),e.ad(this.g));for(var n=this.rf.length,i=0;i<n;i++){var r=this.rf.fa(i);if(r.name===t)return null!==e?this.rf.ug(i,e):this.rf.pd(i),r}for(n=this.mg.length,i=0;i<n;i++)if((r=this.mg.fa(i)).name===t)return null!==e?this.mg.ug(i,e):this.mg.pd(i),r;for(n=this.ng.length,i=0;i<n;i++)if((r=this.ng.fa(i)).name===t)return null!==e?this.ng.ug(i,e):this.ng.pd(i),r;return null},s.w(xr,{rf:"mouseDownTools"},function(){return this.IH}),s.w(xr,{mg:"mouseMoveTools"},function(){return this.JH}),s.w(xr,{ng:"mouseUpTools"},function(){return this.KH}),s.defineProperty(xr,{fJ:"hoverDelay"},function(){return this.zD},function(t){s.h(t,"number",xr,"hoverDelay"),this.zD=t}),s.defineProperty(xr,{aG:"holdDelay"},function(){return this.yD},function(t){s.h(t,"number",xr,"holdDelay"),this.yD=t}),s.defineProperty(xr,{CI:"dragSize"},function(){return this.nD},function(t){s.l(t,yt,xr,"dragSize"),this.nD=t.V()}),s.defineProperty(xr,{FK:"toolTipDuration"},function(){return this.HE},function(t){s.h(t,"number",xr,"toolTipDuration"),this.HE=t}),s.defineProperty(xr,{UH:"actionTool"},function(){return this.findTool("Action")},function(t){kr(this,"Action",t,this.rf)}),s.defineProperty(xr,{HG:"relinkingTool"},function(){return this.findTool("Relinking")},function(t){kr(this,"Relinking",t,this.rf)}),s.defineProperty(xr,{DJ:"linkReshapingTool"},function(){return this.findTool("LinkReshaping")},function(t){kr(this,"LinkReshaping",t,this.rf)}),s.defineProperty(xr,{TG:"resizingTool"},function(){return this.findTool("Resizing")},function(t){kr(this,"Resizing",t,this.rf)}),s.defineProperty(xr,{kK:"rotatingTool"},function(){return this.findTool("Rotating")},function(t){kr(this,"Rotating",t,this.rf)}),s.defineProperty(xr,{uG:"linkingTool"},function(){return this.findTool("Linking")},function(t){kr(this,"Linking",t,this.mg)}),s.defineProperty(xr,{Ge:"draggingTool"},function(){return this.findTool("Dragging")},function(t){kr(this,"Dragging",t,this.mg)}),s.defineProperty(xr,{BI:"dragSelectingTool"},function(){return this.findTool("DragSelecting")},function(t){kr(this,"DragSelecting",t,this.mg)}),s.defineProperty(xr,{ZJ:"panningTool"},function(){return this.findTool("Panning")},function(t){kr(this,"Panning",t,this.mg)}),s.defineProperty(xr,{NA:"contextMenuTool"},function(){return this.findTool("ContextMenu")},function(t){kr(this,"ContextMenu",t,this.ng)}),s.defineProperty(xr,{iC:"textEditingTool"},function(){return this.findTool("TextEditing")},function(t){kr(this,"TextEditing",t,this.ng)}),s.defineProperty(xr,{gI:"clickCreatingTool"},function(){return this.findTool("ClickCreating")},function(t){kr(this,"ClickCreating",t,this.ng)}),s.defineProperty(xr,{hI:"clickSelectingTool"},function(){return this.findTool("ClickSelecting")},function(t){kr(this,"ClickSelecting",t,this.ng)}),s.ka("AnimationManager",Pr),Pr.prototype.ad=function(t){this.ca=t},s.w(Pr,{lL:"animationReasons"},function(){return this.Jv}),Pr.prototype.canStart=function(){return!0},Pr.prototype.prepareAutomaticAnimation=Pr.prototype.po=function(t){this.sf&&(this.Kl||this.ca.Zn)&&(this.Jv.add(t),this.canStart(t)&&(this.sk&&this.Yh(),this.zc=!0))},Pr.prototype.stopAnimation=Pr.prototype.Yh=function(){!0===this.zc&&(this.zc=!1,this.Mm=0,this.Ho&&this.ca.Ve()),this.sk&&this.sf&&_r(this)},s.defineProperty(Pr,{isEnabled:"isEnabled"},function(){return this.sf},function(t){s.h(t,"boolean",Pr,"isEnabled"),this.sf=t}),s.defineProperty(Pr,{duration:"duration"},function(){return this.Jz},function(t){s.h(t,"number",Pr,"duration"),1>t&&s.ua(t,">= 1",Pr,"duration"),this.Jz=t}),s.w(Pr,{of:"isAnimating"},function(){return this.sk}),s.w(Pr,{vJ:"isTicking"},function(){return this.np}),s.defineProperty(Pr,{kG:"isInitial"},function(){return this.Kl},function(t){s.h(t,"boolean",Pr,"isInitial"),this.Kl=t});var Ir,Rr,Vr,Br,zr,qr,Gr,Hr,Ur,Kr,Jr,Wr,Yr,Zr,Xr={opacity:function(t,e,n,i,r,o){t.opacity=i(r,e,n-e,o)},position:function(t,e,n,i,r,o){r!==o?t.Uy(i(r,e.x,n.x-e.x,o),i(r,e.y,n.y-e.y,o)):t.position=new ft(i(r,e.x,n.x-e.x,o),i(r,e.y,n.y-e.y,o))},"position:node":function(t,e,n,i,r,o){var s=t.aa,a=n.aa;n=a.x+a.width/2-s.width/2,s=a.y+a.height/2-s.height/2,r!==o?t.Uy(i(r,e.x,n-e.x,o),i(r,e.y,s-e.y,o)):t.position=new ft(i(r,e.x,n-e.x,o),i(r,e.y,s-e.y,o))},"position:placeholder":function(t,e,n,i,r,o){r!==o?t.Uy(i(r,e.x,n.x-e.x,o),i(r,e.y,n.y-e.y,o)):t.position=new ft(i(r,e.x,n.x-e.x,o),i(r,e.y,n.y-e.y,o))},scale:function(t,e,n,i,r,o){t.scale=i(r,e,n-e,o)},visible:function(t,e,n,i,r,o){t.visible=r!==o?e:n}};function Qr(){0<arguments.length&&s.zd(Qr),s.xc(this),this.ca=null,this.rb=new nt(Dh),this.$b="",this.Lc=1,this.Zz=!1,this.Ul=this.BA=this.ul=this.tl=this.sl=this.rl=this.pl=this.ql=this.ol=this.wl=this.nl=this.vl=this.ml=this.ll=!0,this.Wz=!1,this.Pw=[]}function $r(t,e,n,i){if(t.visible&&0!==t.Lc){1!==t.Lc&&(e.globalAlpha=t.Lc);var r=t.Pw;r.length=0;for(var o=n.scale,s=(t=t.rb.o).length,a=i.length,l=0;l<s;l++){var h=t[l];if(Oc(h)){if(h instanceof Kc&&((c=h).ic&&r.push(c),!1===c.Uf))continue;var u,c=Vh(h,h.aa);t:{u=c;for(var f=i,p=a,d=2/o,y=4/o,v=0;v<p;v++){var g=f[v];if(0!==g.width&&0!==g.height&&u.cG(g.x-d,g.y-d,g.width+y,g.height+y)){u=!0;break t}}u=!1}u&&(1<c.width*o||1<c.height*o?h.He(e,n):Uh(h,e))}}e.globalAlpha=1}}function to(t,e,n){if(e=function(t,e,n){var i=n.Co;if(isNaN(i))return e;var r=(t=t.rb).count;if(1>=r)return e;if(0>e&&(e=t.indexOf(n)),0>e)return-1;for(var o=e-1,s=NaN;0<=o&&(s=t.fa(o).Co,isNaN(s));)o--;for(var a=e+1,l=NaN;a<r&&(l=t.fa(a).Co,isNaN(l));)a++;if(!isNaN(s)&&s>i)for(;;){if(-1===o||s<=i){if(++o===e)break;return t.pd(e),t.be(o,n),o}for(s=NaN;0<=--o&&(s=t.fa(o).Co,isNaN(s)););}else if(!isNaN(l)&&l<i)for(;;){if(a===r||l>=i){if(--a===e)break;return t.pd(e),t.be(a,n),a}for(l=NaN;++a<r&&(l=t.fa(a).Co,isNaN(l)););}return e}(t,e,n),n instanceof Tf&&null!==n&&isNaN(n.Co)){if(0!==n.uc.count){for(var i=-1,r=t.rb.o,o=r.length,s=0;s<o;s++){var a=r[s];if(a===n&&(e=s,0<=i))break;if(0>i&&a.Ka===n&&(i=s,0<=e))break}!(0>i)&&i<e&&((r=t.rb).pd(e),r.be(i,n))}null!==(n=n.Ka)&&to(t,-1,n)}}function eo(t){1<arguments.length&&s.k("Diagram constructor can only take one optional argument, the DIV HTML element or its id."),s.xc(this),uh=[],this.ed=!0,this.JC=new Pr,this.JC.ad(this),this.Xd=17,this.rs=!1,this.lA="default";var n=this;null!==e.document.body?io(this):e.document.addEventListener("DOMContentLoaded",function t(){e.document.removeEventListener("DOMContentLoaded",t,!1),io(n)},!1),this.dc=new nt(Qr),this.Tb=this.Pb=0,this.Ek=this.Ub=this.dd=this.Ib=null,this.NG(),this.kp=null,this.MG(),this.sb=new ft(NaN,NaN).freeze(),this.Db=1,this.mw=new ft(NaN,NaN).freeze(),this.nw=NaN,this.Gw=1e-4,this.Dw=100,this.Nc=new St,this.wx=new ft(NaN,NaN).freeze(),this.ew=new vt(NaN,NaN,NaN,NaN).freeze(),this.Zw=new Pt(0,0,0,0).freeze(),this.$w=Kr,this.ex=!0,this.Ww=this.Uw=null,this.Nm=Ir,this.No=m,this.Il=Ir,this.hp=m,this.ow=this.lw=b,this.Oe=!0,this.ms=!1,this.Gg=new rt(Dh),this.Cl=new ut(Kc,vt),this.Ur=!0,this.pr=250,this.Io=-1,this.Lv=new Pt(16,16,16,16).freeze(),this.Sr=this.cg=!1,this.bp=!0,this.aj=new an,this.Hd=new an,this.cc=new an,this.xh=this.Qi=null,this.Sp=!1,this.Ez=this.Fz=null,this.mz=e.PointerEvent&&(s.zq||s.Aq||s.rB)&&e.navigator&&!1!==e.navigator.msPointerEnabled,ds(this),this.Ap=new rt(Fc),this.$l=new rt(Tf),this.tp=new rt(Kc),this.rb=new rt(Dh),this.tw=!0,this.qx=Wr,this.CD=!1,this.tx=Br,this.zz=this.Cz=this.wA=null,this.Sv="",this.Mr="auto",this.Ui=this.wj=this.kj=this.Jw=this.lj=this.mj=this.nj=this.Ti=this.Yi=this.Ri=null,this.fA=!1,this.jA={},this.Dp=[null,null],this.wz=null,this.hr=this.Dz=this.rA=this.pE=this.vj=!1,this.OD=!0,this.Yz=this.je=!1,this.ye=null;var i=this;this.VD=function(t){if(t.ea===i.ea&&i.ab){i.ab=!1;try{""===t.Df&&t.Oc===$t&&zo(i,t.object,t.propertyName)}finally{i.ab=!0}}},this.WD=function(t){!function(t,e){if(e.ea===t.ea){var n=e.Oc,i=e.propertyName;if(n===Qt&&"S"===i[0])if("StartingFirstTransaction"===i)(n=t.ob).rf.each(function(e){e.ad(t)}),n.mg.each(function(e){e.ad(t)}),n.ng.each(function(e){e.ad(t)}),t.je||t.sh||(t.Sr=!0,t.bp&&(t.cg=!0));else if("StartingUndo"===i||"StartingRedo"===i){var r=t.Ra;r.of&&!t.lb&&r.Yh(),t.Ja("ChangingSelection")}else"StartedTransaction"===i&&(r=t.Ra).of&&!t.lb&&r.Yh();else if(t.ab){t.ab=!1;try{var o=e.Df;if(""!==o)if(n===$t){if("linkFromKey"===o){var a=t.gg(N=e.object);if(null!==a){var l=e.newValue,h=t.Se(l);a.$=h}}else if("linkToKey"===o)null!==(a=t.gg(N=e.object))&&(h=t.Se(l=e.newValue),a.ba=h);else if("linkFromPortId"===o){if(null!==(a=t.gg(N=e.object))){var u=e.newValue;"string"==typeof u&&(a.hg=u)}}else if("linkToPortId"===o)null!==(a=t.gg(N=e.object))&&"string"==typeof(u=e.newValue)&&(a.jh=u);else if("nodeGroupKey"===o){var c=t.Nh(N=e.object);if(null!==c){var f=e.newValue;if(void 0!==f){var p=t.Se(f);c.Ka=p instanceof Tf?p:null}else c.Ka=null}}else if("linkLabelKeys"===o){if(null!==(a=t.gg(N=e.object))){var d=e.oldValue,y=e.newValue;if(s.isArray(d))for(var v=s.cb(d),g=0;g<v;g++){var m=s.La(d,g);null!==(h=t.Se(m))&&(h.Xb=null)}if(s.isArray(y))for(v=s.cb(y),g=0;g<v;g++)m=s.La(y,g),null!==(h=t.Se(m))&&(h.Xb=a)}}else if("nodeParentKey"===o){var b=e.object,x=t.Se(e.newValue);if(null!==(k=t.Xx(b))){var w=k.Qn();null!==w?null===x?t.remove(w):t.ee?w.$=x:w.ba=x:ts(t,x,k)}}else if("parentLinkCategory"===o){var k=t.Xx(b=e.object),P=e.newValue;null!==k&&"string"==typeof P&&null!==(w=k.Qn())&&(w.Kd=P)}else if("nodeCategory"===o){var S=t.Nh(N=e.object);P=e.newValue,null!==S&&"string"==typeof P&&(S.Kd=P)}else if("linkCategory"===o){var C=t.gg(N=e.object);P=e.newValue,null!==C&&"string"==typeof P&&(C.Kd=P)}else if("nodeDataArray"===o){var T=e.oldValue;os(t,T);var M=e.newValue;Wo(t,M)}else"linkDataArray"===o&&(os(t,T=e.oldValue),es(t,M=e.newValue));t.Gi=!0}else n===te?(M=e.newValue,"nodeDataArray"===o&&s.Qa(M)?Yo(t,M):"linkDataArray"===o&&s.Qa(M)?ns(t,M):"linkLabelKeys"===o&&kn(M)&&(a=t.gg(e.object),h=t.Se(M),null!==a&&null!==h&&(h.Xb=a)),t.Gi=!0):n===ee?(T=e.oldValue,"nodeDataArray"===o&&s.Qa(T)?ss(t,T):"linkDataArray"===o&&s.Qa(T)?ss(t,T):"linkLabelKeys"===o&&kn(T)&&null!==(h=t.Se(T))&&(h.Xb=null),t.Gi=!0):n===Qt&&("SourceChanged"===o?null!==e.object?zo(t,e.object,e.propertyName):(t.JK(),t.vH()):"ModelDisplaced"===o&&t.zm());else if(n===$t){var N,j=e.propertyName;(N=e.object)===t.ea?"nodeKeyProperty"!==j&&"nodeCategoryProperty"!==j&&"linkFromKeyProperty"!==j&&"linkToKeyProperty"!==j&&"linkFromPortIdProperty"!==j&&"linkToPortIdProperty"!==j&&"linkLabelKeysProperty"!==j&&"nodeIsGroupProperty"!==j&&"nodeGroupKeyProperty"!==j&&"nodeParentKeyProperty"!==j&&"linkCategoryProperty"!==j||t.na.ub||t.zm():zo(t,N,j),t.Gi=!0}else if(n===te||n===ee)(function(t,e){var n=e.Oc===te,i=n?e.Uj:e.Wj,r=n?e.newValue:e.oldValue,o=t.Zm.oa(e.object);if(Array.isArray(o))for(var s=0;s<o.length;s++){var a=o[s];if(n)ml(a,r,i);else{var l=i;if(!(0>l)){var h=l;gl(a)&&h++,a.zf(h,!0),bl(a,h,l)}}}})(t,e),t.Gi=!0;else if(n===Qt){"FinishedUndo"!==i&&"FinishedRedo"!==i||(t.Ja("ChangedSelection"),Co(t)),r=t.Ra,"RolledBackTransaction"===i&&r.Yh(),t.Sr=!0,t.lg(),0===t.na.Ki&&Cr(r),"CommittedTransaction"===i&&t.na.$z&&(t.rh=Math.min(t.rh,t.na.Lj-1));var A=e.nG;A&&(Bo(t),t.ty.clear()),!t.fA&&A&&(t.fA=!0,s.setTimeout(function(){t.eb.standardMouseOver(),t.fA=!1},10))}}finally{t.ab=!0}}}}(i,t)},this.NE=!0,this.rh=-2,this.Vi=new ut(Object,Dh),this.gk=new ut(Object,Kc),this.Zm=new ut(Object,Array),this.Cp=new ut("string",Array),this.iA=new nt(sh),this.dj=!1,this.ml=this.ll=this.Bv=this.sf=!0,this.Dv=this.Cv=!1,this.Iv=this.Gv=this.ul=this.tl=this.sl=this.rl=this.pl=this.ql=this.ol=this.Fv=this.wl=this.nl=this.vl=!0,this.th=this.LD=!1,this.Hv=this.Ev=this.jw=this.iw=!0,this.bx=this.Yw=16,this.nA=this.Xw=!1,this.yt=this.ax=null,this.oA=this.pA=0,this.uf=new Pt(5).freeze(),this.ix=new rt(Dh).freeze(),this.Ew=999999999,this.kw=new rt(Dh).freeze(),this.Jl=this.Wm=this.rk=!0,this.Gl=this.qk=!1,this.we=null,this.xl=!0,this.sh=!1,this.HH=new rt(Kc),this.AD=new rt(cf),this.Wd=null,this.aE=1,this.sE=0,this.Fh={scale:1,position:new ft,bounds:new vt,isScroll:!1},this.ME=new vt(NaN,NaN,NaN,NaN).freeze(),this.Zv=new vt(NaN,NaN,NaN,NaN).freeze(),this.uw=!1,this.aw=null,this.Qw=new rt(Os),oo(this),this.zw=this.gw=this.Kw=this.fD=this.eD=this.gD=this.xk=this.El=this.oj=null,no(this),this.Ed=null,this.fw=!1,this.Qo=null,this.ob=new xr,this.ob.initializeStandardTools(),this.eb=this.mu=this.ob,this.yb=new Gn,this.ea=new En,this.vj=!0,this.Yb=new Af,this.vj=!1,this.rD=this.Iz=null,this.ud=1,this.Hk=null;var r=s.vfo.split(".");!0!==s.Qx.licenseKey&&"1"===r[0]&&7>parseInt(r[1],10)&&(s.trace("Warning: You have entered a license key for GoJS version 1.7 or later, but this library is version "+s.vfo+". This license key will do nothing until you upgrade to GoJS 1.7 or later."),s.Qx.licenseKey=!0),this.ji=1,this.wk=0,this.ww=new ft,this.yA=500,this.Kv=new ft,this.Ht=null,this.uk=!1,this.preventDefault=this.Gy=this.Lq=this.Mq=this.Kq=this.Jq=this.ko=this.mo=this.lo=this.io=this.jo=this.vC=this.mC=this.nC=this.oC=this.Wl=this.ut=this.Vl=this.tt=null,this.qw=!1,this.Hl=new js,void 0!==t&&As(this,t),this.ed=!1}function no(t){t.oj=new ut("string",Dh);var e=new Fc,n=new Il;n.bind(new Rn("text","",_n)),e.add(n),t.gD=e,t.oj.add("",e),e=new Fc,(n=new Il).stroke="brown",n.bind(new Rn("text","",_n)),e.add(n),t.oj.add("Comment",e),(e=new Fc).il=!1,e.HA=!1,(n=new Nl).Kb="Ellipse",n.fill="black",n.stroke=null,n.Ea=new yt(3,3).Oa(),e.add(n),t.oj.add("LinkLabel",e),t.El=new ut("string",Tf),(e=new Tf).Py="GROUPPANEL",e.type=Ga,(n=new Il).font="bold 12pt sans-serif",n.bind(new Rn("text","",_n)),e.add(n),(n=new tl(Ua)).name="GROUPPANEL";var i=new Nl;i.Kb="Rectangle",i.fill="rgba(128,128,128,0.2)",i.stroke="black",n.add(i),(i=new jf).padding=new Pt(5,5,5,5).Oa(),n.add(i),e.add(n),t.eD=e,t.El.add("",e),t.xk=new ut("string",Kc),e=new Kc,(n=new Nl).Ue=!0,e.add(n),(n=new Nl).ar="Standard",n.fill="black",n.stroke=null,n.mb=0,e.add(n),t.fD=e,t.xk.add("",e),e=new Kc,(n=new Nl).Ue=!0,n.stroke="brown",e.add(n),t.xk.add("Comment",e),(e=new Lc).type=Ua,(n=new Nl).fill=null,n.stroke="dodgerblue",n.mb=3,e.add(n),(n=new jf).margin=new Pt(1.5,1.5,1.5,1.5).Oa(),e.add(n),t.Kw=e,t.gw=e,(e=new Lc).type=Ya,(n=new Nl).Ue=!0,n.fill=null,n.stroke="dodgerblue",n.mb=3,e.add(n),t.zw=e}function io(t){var n=s.createElement("p");n.style.width="100%",n.style.height="200px",n.style.boxSizing="content-box";var i=s.createElement("div");i.style.position="absolute",i.style.visibility="hidden",i.style.width="200px",i.style.height="150px",i.style.overflow="hidden",i.style.boxSizing="content-box",i.appendChild(n),e.document.body.appendChild(i);var r=n.offsetWidth;i.style.overflow="scroll",r===(n=n.offsetWidth)&&(n=i.clientWidth),e.document.body.removeChild(i),0!=(i=r-n)||s.iG||(i=11),t.Xd=i,(i=s.createElement("div")).dir="rtl",i.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",i.textContent="A",e.document.body.appendChild(i),r="reverse",0<i.scrollLeft?r="default":(i.scrollLeft=1,0===i.scrollLeft&&(r="negative")),e.document.body.removeChild(i),t.lA=r}function ro(t){if(null!==t.Ib){var e=t.Ub;if(0!==e.clientWidth&&0!==e.clientHeight){var n=t.Gl?t.Xd:0,i=t.qk?t.Xd:0,r=t.ud;t.ud=t.computePixelRatio(),t.ud!==r&&(t.ms=!0,t.Ve()),e.clientWidth===t.Pb+n&&e.clientHeight===t.Tb+i||(t.Wm=!0,t.Oe=!0,null!==(e=t.Yb)&&e.my&&t.im===Ir&&(t.Sr=!0,e.L()),t.je||t.Ve())}}}function oo(t){var e=new Qr;e.name="Background",t.$t(e),(e=new Qr).name="",t.$t(e),(e=new Qr).name="Foreground",t.$t(e),(e=new Qr).name="Adornment",e.Yc=!0,t.$t(e),(e=new Qr).name="Tool",e.Yc=!0,e.fG=!0,t.$t(e),(e=new Qr).name="Grid",e.Jf=!1,e.tg=!1,e.Yc=!0,t.XH(e,t.pm("Background"))}function so(t){t.Ed=new tl(Za),t.Ed.name="GRID";var e=new Nl;e.Kb="LineH",e.stroke="lightgray",e.mb=.5,e.interval=1,t.Ed.add(e),(e=new Nl).Kb="LineH",e.stroke="gray",e.mb=.5,e.interval=5,t.Ed.add(e),(e=new Nl).Kb="LineH",e.stroke="gray",e.mb=1,e.interval=10,t.Ed.add(e),(e=new Nl).Kb="LineV",e.stroke="lightgray",e.mb=.5,e.interval=1,t.Ed.add(e),(e=new Nl).Kb="LineV",e.stroke="gray",e.mb=.5,e.interval=5,t.Ed.add(e),(e=new Nl).Kb="LineV",e.stroke="gray",e.mb=1,e.interval=10,t.Ed.add(e),(e=new Dh).add(t.Ed),e.Nf="Grid",e.Co=0,e.hy=!1,e.eG=!1,e.tg=!1,e.uy="GRID",t.add(e),t.rb.remove(e),t.Ed.visible=!1}function ao(){this.ca.isEnabled?this.ca.AI(this):Do(this.ca)}function lo(t){this.ca.isEnabled?(this.ca.nA=!0,this.ca.pA=t.target.scrollTop,this.ca.oA=t.target.scrollLeft):Do(this.ca)}function ho(t){if(t.LF.H()){var e=t.LF.copy();return e.yx(t.padding),e}for(var n=!0,i=t.dc.o,r=i.length,o=0;o<r;o++)if((s=i[o]).visible&&(!s.Yc||s.fG))for(var s,a=(s=s.rb.o).length,l=0;l<a;l++){var h=s[l];h.hy&&h.isVisible()&&(h=h.aa).H()&&(n?(n=!1,e=h.copy()):e.Zh(h))}return n&&(e=new vt(0,0,0,0)),e.yx(t.padding),e}function uo(t,e){if((e||t.sh)&&!t.ed&&null!==t.Ib&&!t.Ra.of&&t.kd.H()){t.ed=!0;var n=t.Nm;e&&t.Il!==Ir&&(n=t.Il);var i=n!==Ir?co(t,n):t.scale,r=(n=t.wb.copy(),t.Pb/i),o=t.Tb/i,s=null,a=t.Ra;a.zc&&(s=t.sb.copy()),t.position.Xa();var l=t.No;e&&!l.Xc()&&t.hp.Xc()&&(l=t.hp),fo(t,t.sb,t.kd,r,o,l,e),t.position.freeze(),null!==s&&Dr(a,s,t.sb),r=t.scale,t.scale=i,t.ed=!1,(i=t.wb).Wc(n)||t.dv(n,i,r,t.scale,!1)}}function co(t,e){var n=t.yb.Ox;if(null===t.Ib)return n;if(t.rk&&hs(t,t.Kh()),!(i=t.kd).H())return n;var i,r=i.width,o=t.Pb,s=t.Tb,a=o/r,l=s/(i=i.height);return e===Rr?((r=Math.min(l,a))>n&&(r=n),r<t.Sh&&(r=t.Sh),r>t.Rh&&(r=t.Rh),r):e===Vr?((r=l>a?(s-t.Xd)/i:(o-t.Xd)/r)>n&&(r=n),r<t.Sh&&(r=t.Sh),r>t.Rh&&(r=t.Rh),r):t.scale}function fo(t,e,n,i,r,o,s){var a=e.x,l=e.y;(s||t.VB===Kr)&&(o.Xc()&&(i>n.width&&(a=n.x+(o.x*n.width+o.offsetX)-(o.x*i-o.offsetX)),r>n.height&&(l=n.y+(o.y*n.height+o.offsetY)-(o.y*r-o.offsetY))),s=i-n.width,i<n.width+(o=t.Ny).left+o.right?(a=Math.min(a+i/2,n.right+Math.max(s,o.right)-i/2),a=Math.max(a,n.left-Math.max(s,o.left)+i/2),a-=i/2):a>n.left?a=n.left:a<n.right-i&&(a=n.right-i),i=r-n.height,r<n.height+o.top+o.bottom?(l=Math.min(l+r/2,n.bottom+Math.max(i,o.bottom)-r/2),l=Math.max(l,n.top-Math.max(i,o.top)+r/2),l-=r/2):l>n.top?l=n.top:l<n.bottom-r&&(l=n.bottom-r)),e.x=isFinite(a)?a:-t.padding.left,e.y=isFinite(l)?l:-t.padding.top,null!==t.GG&&(t=t.GG(t,e),e.x=t.x,e.y=t.y)}function po(t,e,n,i){for(void 0===n&&(n=null),void 0===i&&(i=null),Co(t),t=t.dc.$n;t.next();){var r=t.value;if(r.visible&&!r.Yc&&null!==(r=r.Je(e,n,i)))return r}return null}function yo(t,e,n,i,r){i.g=e,i.event=n,r?xo(t,n,i):(i.te=e.cc.te,i.ha=e.cc.ha),t=0,n.ctrlKey&&(t+=1),n.altKey&&(t+=2),n.shiftKey&&(t+=4),n.metaKey&&(t+=8),i.xd=t,i.button=n.button,void 0===n.buttons||s.Mu||(i.buttons=n.buttons),s.Qh&&0===n.button&&n.ctrlKey&&(i.button=2),i.Vk=!1,i.up=!1,i.Ee=1,i.Uk=0,i.Cc=!1,i.bubbles=!1,i.timestamp=Date.now(),i.Ou=!1,i.Qf=vo(n),i.Ne=null}function vo(t){var e=t.target.ca;if(!e){var n=t.path;n||"function"!=typeof t.lI||(n=t.lI()),n&&n[0]&&(e=n[0].ca)}return e||null}function go(t,e,n,i){var r=t.Hd;return t.Hd=t.cc,t.cc=r,r.g=t,xo(t,n,r),r.button=0,r.buttons=1,n=0,e.ctrlKey&&(n+=1),e.altKey&&(n+=2),e.shiftKey&&(n+=4),e.metaKey&&(n+=8),r.xd=n,r.Vk=!0,r.up=!1,r.Ee=1,r.Uk=0,r.Cc=!1,r.bubbles=!0,r.event=e,r.timestamp=Date.now(),r.Ou=i,r.Qf=vo(e),r.Ne=null,i||(t.aj=r.copy()),Ui=null,r}function mo(t,n,i,r){var o=t.Hd;t.Hd=t.cc,t.cc=o;var s=null;return o.g=t,null!==i?((s=e.document.elementFromPoint(i.clientX,i.clientY))&&s.ca?s=s.ca:(i=void 0!==n.targetTouches?n.targetTouches[0]:n,s=t),o.Qf=s,xo(t,i,o)):null!==t.Hd?(o.ha=t.Hd.ha,o.te=t.Hd.te,o.Qf=t.Hd.Qf):null!==t.aj&&(o.ha=t.aj.ha,o.te=t.aj.te,o.Qf=t.aj.Qf),o.button=0,o.buttons=1,t=0,n.ctrlKey&&(t+=1),n.altKey&&(t+=2),n.shiftKey&&(t+=4),n.metaKey&&(t+=8),o.xd=t,o.Vk=!1,o.up=!1,o.Ee=1,o.Uk=0,o.Cc=!1,o.bubbles=!1,o.event=n,o.timestamp=Date.now(),o.Ou=r,o.Ne=null,o}function bo(t,e,n){return e.bubbles?(r&&r.$F&&s.trace("NOT handled "+n.type+" "+e.toString()),!0):(r&&r.$F&&s.trace("handled "+n.type+" "+t.eb.name+" "+e.toString()),void 0!==n.stopPropagation&&n.stopPropagation(),n.preventDefault(),n.cancelBubble=!0,!1)}function xo(t,e,n){var i=t.Ib,r=t.Pb,o=t.Tb,a=0,l=0;null!==i&&(i=i.getBoundingClientRect(),a=e.clientX-r/i.width*i.left,l=e.clientY-o/i.height*i.top),n.te.n(a,l),null!==t.Nc?(e=s.Fb(a,l),t.Nc.Oh(e),n.ha.assign(e),s.A(e)):n.ha.n(a,l)}function wo(t,e,n,i){var r=null;if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;r=e.targetTouches[n]}else{if(null===t.Dp[0])return;r=t.Dp[n]}n=t.Ib,e=t.Pb,t=t.Tb;var o=0,s=0;null!==n&&null!==r&&(n=n.getBoundingClientRect(),o=r.clientX-e/n.width*n.left,s=r.clientY-t/n.height*n.top),i.n(o,s)}function ko(t){t.je||Co(t),t.rk&&hs(t,t.Kh())}function Po(t,e){t.Ra.of||t.ed||!t.Wm||Do(t)||(e&&Co(t),uo(t,!1))}function So(t){if(!t.je&&(t.cg=!1,null!==t.Ub)){t.je=!0;var e=t.Ra,n=t.iA;if(!e.np&&0!==n.length){for(var i=n.o,r=i.length,o=0;o<r;o++){var a=i[o];Da(a,!1),a.K()}n.clear()}0<(n=t.AD).count&&(n.each(function(t){t.tC()}),n.clear()),i=n=!1,e.of&&(i=!0,n=t.lb,t.lb=!0),e.zc||ro(t),Po(t,!1),null!==t.Ed&&(t.Ed.visible&&!t.fw&&(Ro(t),t.fw=!0),!t.Ed.visible&&t.fw&&(t.fw=!1)),Co(t),r=!1,t.sh&&!t.xl||(t.sh?fs(t,!t.Sr):(t.Nb("Initial Layout"),!1===e.isEnabled&&e.Yh(),fs(t,!1)),r=!0),t.Sr=!1,Co(t),t.rA||e.of||ko(t),Po(t,!0),r&&(t.sh||function(t){var e=t.dc.o;if(t.Pf(e,e.length,t),t.Il!==Ir?t.scale=co(t,t.Il):t.Nm!==Ir?t.scale=co(t,t.Nm):(e=t.jJ,isFinite(e)&&0<e&&(t.scale=e)),(e=t.iJ).H())t.position=e;else{(e=s.P()).uo(t.kd,t.hJ);var n=s.vg(0,0,(n=t.wb).width,n.height),i=s.P();i.uo(n,t.kJ),i.n(e.x-i.x,e.y-i.y),t.position=i,s.Lb(n),s.A(i),s.A(e),Ao(t),Po(t,!0),uo(t,!0)}t.Ja("InitialLayoutCompleted"),Ro(t)}(t),t.Ja("LayoutCompleted")),Co(t),r&&!t.sh&&(t.sh=!0,t.jd("Initial Layout"),t.lb||t.na.clear(),s.setTimeout(function(){t.Gi=!1},1)),jo(t),Cr(e),t.He(t.dd),i&&(t.lb=n),t.je=!1}}function Co(t){if((t.je||!t.Ra.of)&&0!==t.Gg.count){for(var e=0;23>e;e++){var n=t.Gg.j;if(null===n||0===t.Gg.count)break;t.Gg=new rt(Dh),t.tC(n,t.Gg),r&&22===e&&s.trace("failure to validate parts")}t.rg.each(function(t){t instanceof Tf&&0!=(65536&t.Ca)!=0&&(t.Ca^=65536)})}}function To(t,e){for(var n=s.nb(),i=s.nb(),r=e.uc;r.next();){var o=r.value;o.isVisible()&&(o instanceof Tf?(Ea(o)||La(o)||jc(o))&&To(t,o):o instanceof Kc?o.$===e||o.ba===e?i.push(o):n.push(o):(ma(o,1/0,1/0),o.rc()))}r=n.length;for(var a=0;a<r;a++)ma(o=n[a],1/0,1/0),o.rc();for(s.ya(n),ma(e,1/0,1/0),e.rc(),r=i.length,a=0;a<r;a++)ma(o=i[a],1/0,1/0),o.rc();s.ya(i)}function Mo(t,e,n,i,r,o,a,l,h,u){null===t.Ub&&s.k("No div specified"),null===t.Ib&&s.k("No canvas specified"),void 0===a&&(a=null),void 0===l&&(l=null),void 0===h&&(h=!1),void 0===u&&(u=!1),Oo(t),t.dd.De(!0),_o(t),t.Yz=!0;var c=t.Db;t.Db=r;var f=t.dc.o,p=f.length;try{var d=new vt(o.x,o.y,i.width/r,i.height/r),y=d.copy();y.yx(n),Ro(t,y),Co(t),t.Pf(f,p,t,d);var v=t.ud;e.setTransform(1,0,0,1,0,0),e.scale(v,v),e.clearRect(0,0,i.width,i.height),null!==l&&""!==l&&(e.fillStyle=l,e.fillRect(0,0,i.width,i.height));var g,m=s.hh();if(m.reset(),m.translate(n.left,n.top),m.scale(r),0===o.x&&0===o.y||m.translate(-o.x,-o.y),e.setTransform(m.m11,m.m12,m.m21,m.m22,m.dx,m.dy),s.mf(m),No(t,e),null!==a){var b=new rt(Dh),x=a.j;for(x.reset();x.next();){var w=x.value;!1===u&&"Grid"===w.layer.name||null===w||b.add(w)}g=function(n){var i=h;if(n.visible&&0!==n.Lc&&(void 0===i&&(i=!0),i||!n.Yc)){var r=(i=n.rb.o).length;if(0!==r){1!==n.Lc&&(e.globalAlpha=n.Lc),(n=n.Pw).length=0;for(var o=t.scale,s=0;s<r;s++){var a=i[s];if(Oc(a)&&b.contains(a)){if(a instanceof Kc){var l=a;if(l.ic&&n.push(l),!1===l.Uf)continue}1<(l=a.aa).width*o||1<l.height*o?a.He(e,t):Uh(a,e)}}e.globalAlpha=1}}}}else if(!h&&u){var k=t.Vn.Y,P=k.layer;g=function(n){n===P?k.He(e,t):n.He(e,t,h)}}else g=function(n){n.He(e,t,h)};for(n=0;n<p;n++)g(f[n]);t.Yz=!1,t.Hl?t.Hl.Im(t)&&t.aw():t.dp=function(){return new ft(0,0)}}finally{t.Db=c,t.dd.De(!0),_o(t),t.Pf(f,p,t),Ro(t)}}function No(t,e){var n=t.Ek;null!==n&&(void 0!==n.imageSmoothingEnabled&&e.Sy(!!n.imageSmoothingEnabled),void 0!==(n=n.defaultFont)&&null!==n&&(e.font=n))}function jo(t){if(0===t.na.Ki&&0!==t.Cl.count){for(;0<t.Cl.count;){var e=t.Cl;for(t.Cl=new ut(Kc,vt),e=e.j;e.next();){var n=e.key;af(n,e.value),n.Te()}}t.ra()}}function Ao(t){!1===t.Wm&&(t.Wm=!0)}function _o(t){!1===t.Jl&&(t.Jl=!0)}function Oo(t){!1!==t.ms&&(t.ms=!1,Eo(t,t.Pb,t.Tb))}function Eo(t,e,n){var i=t.Ib,r=e*(o=t.ud),o=n*o;i.width===r&&i.height===o||(i.width=r,i.height=o,i.style.width=e+"px",i.style.height=n+"px",t.Oe=!0,t.dd.De(!0))}function Do(t){var e=t.Ib;if(null===e)return!0;var n=t.Ub,i=t.Pb,r=t.Tb,o=t.ME.copy();if(!o.H())return!0;var a=!1,l=t.Gl?t.Xd:0,h=t.qk?t.Xd:0,u=n.clientWidth||i+l;n=n.clientHeight||r+h,u===i+l&&n===r+h||(t.Gl=!1,t.qk=!1,h=l=0,t.Pb=u,t.Tb=n,a=t.ms=!0),t.Wm=!1;var c=t.kd,f=0,p=0,d=0,y=0,v=(u=(w=t.wb).width,n=w.height,t.Ny);t.LA.Xc()?(c.width>u&&(f=v.left,p=v.right),c.height>n&&(d=v.top,y=v.bottom)):(f=v.left,p=v.right,d=v.top,y=v.bottom),v=c.width+f+p;var g=c.height+d+y,m=(f=c.x-f,w.x),b=(p=c.right+p,w.right+l),x=(d=c.y-d,w.y),w=(y=c.bottom+y,w.bottom+h),k="1px",P="1px",S=(c=t.scale,!(v<u+l)),C=!(g<n+h);t.VB===Kr&&(S||C)&&(S&&t.jB&&t.Be&&(k=1,f+1<m&&(k=Math.max((m-f)*c+t.Pb,k)),p>b+1&&(k=Math.max((p-b)*c+t.Pb,k)),u+l+1<v&&(k=Math.max((v-u+l)*c+t.Pb,k)),k=k.toString()+"px"),C&&t.kB&&t.Ce&&(P=1,d+1<x&&(P=Math.max((x-d)*c+t.Tb,P)),y>w+1&&(P=Math.max((y-w)*c+t.Tb,P)),n+h+1<g&&(P=Math.max((g-n+h)*c+t.Tb,P)),P=P.toString()+"px"));var T="1px"!==P;if((S="1px"!==k)&&T||!S&&!T||(C=!(g<n+h),T&&(b-=t.Xd),S&&(w-=t.Xd),v<u+l||!t.jB||!t.Be||(k=1,f+1<m&&(k=Math.max((m-f)*c+t.Pb,k)),p>b+1&&(k=Math.max((p-b)*c+t.Pb,k)),u+1<v&&(k=Math.max((v-u)*c+t.Pb,k)),k=k.toString()+"px"),l=(S="1px"!==k)!==t.qk?t.Tb-t.Xd:t.Tb,C&&t.kB&&t.Ce&&(P=1,d+1<x&&(P=Math.max((x-d)*c+l,P)),y>w+1&&(P=Math.max((y-w)*c+l,P)),n+1<g&&(P=Math.max((g-n)*c+l,P)),P=P.toString()+"px"),T="1px"!==P),t.Xw&&S===t.qk&&T===t.Gl)return i===t.Pb&&r===t.Tb||t.lg(),!1;if(S!==t.qk&&(t.Tb="1px"===k?t.Tb+t.Xd:Math.max(t.Tb-t.Xd,1),a=!0),t.qk=S,t.yt.style.width=k,T!==t.Gl&&(t.Pb="1px"===P?t.Pb+t.Xd:Math.max(t.Pb-t.Xd,1),a=!0,t.rs&&(l=s.P(),T?(e.style.left=t.Xd+"px",t.position=l.n(t.sb.x+t.Xd/t.scale,t.sb.y)):(e.style.left="0px",t.position=l.n(t.sb.x-t.Xd/t.scale,t.sb.y)),s.A(l))),t.Gl=T,t.yt.style.height=P,l=(e=t.ax).scrollLeft,t.jB&&t.Be&&(u+1<v?l=(t.position.x-f)*c:f+1<m?l=e.scrollWidth-e.clientWidth:p>b+1&&(l=t.position.x*c)),t.rs)switch(t.lA){case"negative":l=-(e.scrollWidth-l-e.clientWidth);break;case"reverse":l=e.scrollWidth-l-e.clientWidth}return e.scrollLeft=l,t.kB&&t.Ce&&(n+1<g?e.scrollTop=(t.position.y-d)*c:d+1<x?e.scrollTop=e.scrollHeight-e.clientHeight:y>w+1&&(e.scrollTop=t.position.y*c)),a&&(t.ms=!0),n=t.Tb,e.style.width=(u=t.Pb)+(t.Gl?t.Xd:0)+"px",e.style.height=n+(t.qk?t.Xd:0)+"px",t.nA=!1,i===u&&r===n&&!t.Ra.zc||(t.dv(o,w=t.wb,c,t.scale,a),!1)}function Lo(t,e,n){var i=e.layer;null!==i&&i.g===t&&(e.jb=!1,e.Zg=!1,e.L(jh),n&&e.Nn(),0<=(n=i.zf(-1,e,!1))&&t.od(ee,"parts",i,e,null,n,null),null!==(t=e.py)&&t(e,i,null))}function Fo(t,e,n){if(s.l(e,Qr,eo,"addLayer:layer"),null!==e.g&&e.g!==t&&s.k("Cannot share a Layer with another Diagram: "+e+" of "+e.g),null===n?null!==e.g&&s.k("Cannot add an existing Layer to this Diagram again: "+e):(s.l(n,Qr,eo,"addLayer:existingLayer"),n.g!==t&&s.k("Existing Layer must be in this Diagram: "+n+" not in "+n.g),e===n&&s.k("Cannot move a Layer before or after itself: "+e)),e.g!==t){e=e.name,n=(t=t.dc).count;for(var i=0;i<n;i++)t.fa(i).name===e&&s.k("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function Io(t,e,n){if(t.ed||t.je)t.Db=n,(n=t.Ra).zc&&Lr(n,e,t.Db);else if(t.ed=!0,null===t.Ib)t.Db=n;else{var i=t.wb.copy(),r=t.Pb,o=t.Tb;i.width=t.Pb/e,i.height=t.Tb/e;var a=t.Jm.x,l=t.Jm.y,h=t.LA;isNaN(a)&&(h.Pj()?h.Mj(I)?a=0:h.Mj(R)&&(a=r-1):a=h.Xc()?h.x*(r-1):r/2),isNaN(l)&&(h.Pj()?h.Mj(F)?l=0:h.Mj(V)&&(l=o-1):l=h.Xc()?h.y*(o-1):o/2),null!==t.VG&&(n=t.VG(t,n)),n<t.Sh&&(n=t.Sh),n>t.Rh&&(n=t.Rh),r=s.Fb(t.sb.x+a/e-a/n,t.sb.y+l/e-l/n),t.position=r,s.A(r),t.Db=n,t.dv(i,t.wb,e,n,!1),t.ed=!1,uo(t,!1),(n=t.Ra).zc&&Lr(n,e,t.Db),t.ra(),Ao(t)}}function Ro(t,e){void 0===e&&(e=null);var n=t.Ed;if(null!==n&&n.visible){for(var i=s.Gm(),r=1,o=1,a=n.xa.o,l=a.length,h=0;h<l;h++){var u=a[h],c=u.interval;2>c||(sl(u.Kb)?o=o*c/Je(o,c):r=r*c/Je(r,c))}if(i.n(o*(a=n.ay).width,r*a.height),a=o=h=l=0,null!==e)l=e.width,h=e.height,o=e.x,a=e.y;else{for((r=s.Sf()).n((o=t.wb).x,o.y,o.width,o.height),a=t.Qw.j;a.next();)(o=a.value.wb).H()&&kt(r,o.x,o.y,o.width,o.height);if(!r.H())return void s.Lb(r);l=r.width,h=r.height,o=r.x,a=r.y,s.Lb(r)}n.width=l+2*i.width,n.height=h+2*i.height,r=s.P(),Ke(o,a,0,0,i.width,i.height,r),r.offset(-i.width,-i.height),s.Zk(i),n.Y.location=r,s.A(r)}}function Vo(t){if(0<(t=t.selection).count){for(var e=t.Fc(),n=e.length,i=0;i<n;i++)e[i].jb=!1;t.Xa(),t.clear(),t.freeze()}}function Bo(t){var e=t.Gi;t.NE!==e&&(t.NE=e,t.Ja("Modified"))}function zo(t,e,n){if("string"==typeof n){if(null!==(i=t.Nh(e)))i.Ob(n),t.ea instanceof In&&null!==(i=t.gg(e))&&i.Ob(n);else{for(var i=null,r=t.Zm.j;r.next();){for(var o=r.value,a=0;a<o.length;a++){var l=o[a].MI(e);null!==l&&(null===i&&(i=s.nb()),i.push(l))}if(null!==i)break}if(null!==i){for(r=0;r<i.length;r++)i[r].Ob(n);s.ya(i)}}e===t.ea.fl&&t.vH(n)}}function qo(t,e){var n=e.ej;if(s.isArray(n)){var i=t.Zm.oa(n);if(null===i)(i=[]).push(e),t.Zm.add(n,i);else{for(n=0;n<i.length;n++)if(i[n]===e)return;i.push(e)}}}function Go(t,e){var n=e.ej;if(s.isArray(n)){var i=t.Zm.oa(n);if(null!==i)for(var r=0;r<i.length;r++)if(i[r]===e){i.splice(r,1),0===i.length&&t.Zm.remove(n);break}}}function Ho(t,e){for(var n=e.xa.o,i=n.length,r=0;r<i;r++){var o=n[r];o instanceof sh&&Uo(t,o)}}function Uo(t,e){var n=e.element;if(null!==n&&n instanceof HTMLImageElement){var i=e.af;if(null!==i&&(i.ep instanceof Event&&null!==e.bf&&e.bf(e,i.ep),!0===i.ps&&(null!==e.zi&&e.zi(e,i.mA),null!==e.g&&e.g.iA.add(e))),null===(i=t.Cp.oa(n=n.src)))(i=[]).push(e),t.Cp.add(n,i);else{for(n=0;n<i.length;n++)if(i[n]===e)return;i.push(e)}}}function Ko(t,e){for(var n=e.xa.o,i=n.length,r=0;r<i;r++){var o=n[r];o instanceof sh&&Jo(t,o)}}function Jo(t,e){if(null!==(n=e.element)&&n instanceof HTMLImageElement){var n,i=t.Cp.oa(n=n.src);if(null!==i)for(var r=0;r<i.length;r++)if(i[r]===e){i.splice(r,1),0===i.length&&t.Cp.remove(n);break}}}function Wo(t,e){if(null!==e){for(var n=t.ea,i=n instanceof En,r=s.cb(e),o=0;o<r;o++){var a=s.La(e,o);n.ke(a)?Yo(t,a,!1):i&&ns(t,a)}if(i||n instanceof In){for(o=0;o<r;o++)a=s.La(e,o),n.ke(a)&&$o(t,a);if(i)for(n=t.links;n.next();)Jc(n.value)}us(t,!1)}}function Yo(t,e,n){if(void 0!==e&&null!==e&&!t.na.ub&&!t.Vi.contains(e)){void 0===n&&(n=!0);var i=t.eB(e),r=Qo(t,e,i);if(null!==r&&(yl(r),null!==(r=r.copy()))){var o=t.Xe;t.Xe=!0,r.Pi=i,r.Sd=e,t.add(r),r.Sd=null,r.data=e,n&&$o(t,e),t.Xe=o}}}s.ka("Layer",Qr),Qr.prototype.ad=function(t){this.ca=t},Qr.prototype.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var n=0,i=0,r=0,o=0,a=0,l=this.rb.j;l.next();){var h=l.value;h instanceof Tf?r++:h instanceof Fc?i++:h instanceof Kc?o++:h instanceof Lc?a++:n++}if(l="",0<n&&(l+=n+" Parts "),0<i&&(l+=i+" Nodes "),0<r&&(l+=r+" Groups "),0<o&&(l+=o+" Links "),0<a&&(l+=a+" Adornments "),1<t)for(t=this.rb.j;t.next();)l+="\n    "+(n=t.value).toString(),null!==(i=n.data)&&s.Nd(i)&&(l+=" #"+s.Nd(i)),n instanceof Fc?l+=" "+_n(i):n instanceof Kc&&(l+=" "+_n(n.$)+" "+_n(n.ba));return e+" "+this.rb.count+": "+l},Qr.prototype.findObjectAt=Qr.prototype.Je=function(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!1===this.Ul)return null;r&&!t.H()&&s.k("findObjectAt: Point must have a real value, not: "+t.toString());var i=!1;null!==this.g&&this.g.wb.Pa(t)&&(i=!0);for(var o=s.P(),a=this.rb.o,l=a.length;l--;){var h=a[l];if((!0!==i||!1!==Oc(h))&&h.isVisible()&&(o.assign(t),dt(o,h.Hh),null!==(h=h.Je(o,e,n))&&(null!==e&&(h=e(h)),null!==h&&(null===n||n(h)))))return s.A(o),h}return s.A(o),null},Qr.prototype.findObjectsAt=Qr.prototype.ru=function(t,e,n,i){if(void 0===e&&(e=null),void 0===n&&(n=null),i instanceof nt||i instanceof rt||(i=new rt(fa)),!1===this.Ul)return i;r&&!t.H()&&s.k("findObjectsAt: Point must have a real value, not: "+t.toString());var o=!1;null!==this.g&&this.g.wb.Pa(t)&&(o=!0);for(var a=s.P(),l=this.rb.o,h=l.length;h--;){var u=l[h];if((!0!==o||!1!==Oc(u))&&u.isVisible()){a.assign(t),dt(a,u.Hh);var c=u;u.ru(a,e,n,i)&&(null!==e&&(c=e(c)),null===c||null!==n&&!n(c)||(i instanceof rt&&i.add(c),i instanceof nt&&i.add(c)))}}return s.A(a),i},Qr.prototype.findObjectsIn=Qr.prototype.Xk=function(t,e,n,i,o){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),o instanceof nt||o instanceof rt||(o=new rt(fa)),!1===this.Ul)return o;r&&!t.H()&&s.k("findObjectsIn: Rect must have a real value, not: "+t.toString());var a=!1;null!==this.g&&this.g.wb.Sk(t)&&(a=!0);for(var l=this.rb.o,h=l.length;h--;){var u=l[h];if((!0!==a||!1!==Oc(u))&&u.isVisible()){var c=u;u.Xk(t,e,n,i,o)&&(null!==e&&(c=e(c)),null===c||null!==n&&!n(c)||(o instanceof rt&&o.add(c),o instanceof nt&&o.add(c)))}}return o},Qr.prototype.$A=function(t,e,n,i,r,o,s){if(!1===this.Ul)return r;for(var a=this.rb.o,l=a.length;l--;){var h=a[l];if((!0!==s||!1!==Oc(h))&&o(h)&&h.isVisible()){var u=h;h.Xk(t,e,n,i,r)&&(null!==e&&(u=e(u)),null===u||null!==n&&!n(u)||(r instanceof rt&&r.add(u),r instanceof nt&&r.add(u)))}}return r},Qr.prototype.findObjectsNear=Qr.prototype.Pn=function(t,e,n,i,o,a){if(void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=!0),!1!==o&&!0!==o&&((o instanceof nt||o instanceof rt)&&(a=o),o=!0),a instanceof nt||a instanceof rt||(a=new rt(fa)),!1===this.Ul)return a;r&&!t.H()&&s.k("findObjectsNear: Point must have a real value, not: "+t.toString());var l=!1;null!==this.g&&this.g.wb.Pa(t)&&(l=!0);for(var h=s.P(),u=s.P(),c=this.rb.o,f=c.length;f--;){var p=c[f];if((!0!==l||!1!==Oc(p))&&p.isVisible()){h.assign(t),dt(h,p.Hh),u.n(t.x+e,t.y),dt(u,p.Hh);var d=p;p.Pn(h,u,n,i,o,a)&&(null!==n&&(d=n(d)),null===d||null!==i&&!i(d)||(a instanceof rt&&a.add(d),a instanceof nt&&a.add(d)))}}return s.A(h),s.A(u),a},(n=Qr.prototype).Pf=function(t,e){if(this.visible){var n;n=void 0===e?t.wb:e;for(var i=this.rb.o,r=i.length,o=0;o<r;o++){var s=i[o];if(s.QD=o,!(s instanceof Kc&&!1===s.Uf)){if(s instanceof Lc){var a=s;if(null!==s.gf)continue}if(wt(s.aa,n))for(s.Pf(!0),Lh(s),s=s.zx;s.next();)ma(a=s.value,1/0,1/0),a.rc(),a.Pf(!0);else s.Pf(!1),null!==s.zx&&0<s.zx.count&&Lh(s)}}}},n.He=function(t,e,n){if(this.visible&&0!==this.Lc&&(void 0===n&&(n=!0),n||!this.Yc)){var i=(n=this.rb.o).length;if(0!==i){1!==this.Lc&&(t.globalAlpha=this.Lc);var r=this.Pw;r.length=0;for(var o=e.scale,s=0;s<i;s++){var a=n[s];if(Oc(a)){if(a instanceof Kc){var l=a;if(l.ic&&r.push(l),!1===l.Uf)continue}1<(l=a.aa).width*o||1<l.height*o?a.He(t,e):Uh(a,t)}}t.globalAlpha=1}}},n.i=function(t,e,n,i,r){var o=this.g;null!==o&&o.od($t,t,this,e,n,i,r)},n.uq=function(t,e,n){var i=this.rb;if(e.xw=this,t>=i.count)t=i.count;else if(i.fa(t)===e)return-1;return i.be(t,e),e.Fu(n),null!==(i=this.g)&&(n?i.ra():i.uq(e)),to(this,t,e),t},n.zf=function(t,e,n){if(!n&&e.layer!==this&&null!==e.layer)return e.layer.zf(t,e,n);var i=this.rb;if(0>t||t>=i.length){if(0>(t=i.indexOf(e)))return-1}else if(i.fa(t)!==e&&0>(t=i.indexOf(e)))return-1;return e.Gu(n),i.pd(t),null!==(i=this.g)&&(n?i.ra():i.zf(e)),e.xw=null,t},n.clear=function(){for(var t=this.rb.Fc(),e=t.length,n=0;n<e;n++)t[n].Pf(!1),this.zf(-1,t[n],!1)},s.w(Qr,{Hi:"parts"},function(){return this.rb.j}),s.w(Qr,{xM:"partsBackwards"},function(){return this.rb.$n}),s.w(Qr,{g:"diagram"},function(){return this.ca}),s.defineProperty(Qr,{name:"name"},function(){return this.$b},function(t){s.h(t,"string",Qr,"name");var e=this.$b;if(e!==t){var n=this.g;if(null!==n)for(""===e&&s.k("Cannot rename default Layer to: "+t),n=n.ao;n.next();)n.value.name===t&&s.k("Layer.name is already present in this diagram: "+t);for(this.$b=t,this.i("name",e,t),t=this.rb.j;t.next();)t.value.Nf=this.$b}}),s.defineProperty(Qr,{opacity:"opacity"},function(){return this.Lc},function(t){var e=this.Lc;e!==t&&(s.h(t,"number",Qr,"opacity"),(0>t||1<t)&&s.ua(t,"0 <= value <= 1",Qr,"opacity"),this.Lc=t,this.i("opacity",e,t),null!==(t=this.g)&&t.ra())}),s.defineProperty(Qr,{Yc:"isTemporary"},function(){return this.Zz},function(t){var e=this.Zz;e!==t&&(s.h(t,"boolean",Qr,"isTemporary"),this.Zz=t,this.i("isTemporary",e,t))}),s.defineProperty(Qr,{visible:"visible"},function(){return this.BA},function(t){var e=this.BA;if(e!==t){for(s.h(t,"boolean",Qr,"visible"),this.BA=t,this.i("visible",e,t),e=this.rb.j;e.next();)e.value.Pd(t);null!==(t=this.g)&&t.ra()}}),s.defineProperty(Qr,{tg:"pickable"},function(){return this.Ul},function(t){var e=this.Ul;e!==t&&(s.h(t,"boolean",Qr,"pickable"),this.Ul=t,this.i("pickable",e,t))}),s.defineProperty(Qr,{fG:"isBoundsIncluded"},function(){return this.Wz},function(t){this.Wz!==t&&(this.Wz=t,null!==this.g&&this.g.Qc())}),s.defineProperty(Qr,{Pk:"allowCopy"},function(){return this.ll},function(t){var e=this.ll;e!==t&&(s.h(t,"boolean",Qr,"allowCopy"),this.ll=t,this.i("allowCopy",e,t))}),s.defineProperty(Qr,{Cn:"allowDelete"},function(){return this.ml},function(t){var e=this.ml;e!==t&&(s.h(t,"boolean",Qr,"allowDelete"),this.ml=t,this.i("allowDelete",e,t))}),s.defineProperty(Qr,{Dx:"allowTextEdit"},function(){return this.vl},function(t){var e=this.vl;e!==t&&(s.h(t,"boolean",Qr,"allowTextEdit"),this.vl=t,this.i("allowTextEdit",e,t))}),s.defineProperty(Qr,{Ax:"allowGroup"},function(){return this.nl},function(t){var e=this.nl;e!==t&&(s.h(t,"boolean",Qr,"allowGroup"),this.nl=t,this.i("allowGroup",e,t))}),s.defineProperty(Qr,{Ex:"allowUngroup"},function(){return this.wl},function(t){var e=this.wl;e!==t&&(s.h(t,"boolean",Qr,"allowUngroup"),this.wl=t,this.i("allowUngroup",e,t))}),s.defineProperty(Qr,{eu:"allowLink"},function(){return this.ol},function(t){var e=this.ol;e!==t&&(s.h(t,"boolean",Qr,"allowLink"),this.ol=t,this.i("allowLink",e,t))}),s.defineProperty(Qr,{Dn:"allowRelink"},function(){return this.ql},function(t){var e=this.ql;e!==t&&(s.h(t,"boolean",Qr,"allowRelink"),this.ql=t,this.i("allowRelink",e,t))}),s.defineProperty(Qr,{fm:"allowMove"},function(){return this.pl},function(t){var e=this.pl;e!==t&&(s.h(t,"boolean",Qr,"allowMove"),this.pl=t,this.i("allowMove",e,t))}),s.defineProperty(Qr,{Bx:"allowReshape"},function(){return this.rl},function(t){var e=this.rl;e!==t&&(s.h(t,"boolean",Qr,"allowReshape"),this.rl=t,this.i("allowReshape",e,t))}),s.defineProperty(Qr,{fu:"allowResize"},function(){return this.sl},function(t){var e=this.sl;e!==t&&(s.h(t,"boolean",Qr,"allowResize"),this.sl=t,this.i("allowResize",e,t))}),s.defineProperty(Qr,{Cx:"allowRotate"},function(){return this.tl},function(t){var e=this.tl;e!==t&&(s.h(t,"boolean",Qr,"allowRotate"),this.tl=t,this.i("allowRotate",e,t))}),s.defineProperty(Qr,{Jf:"allowSelect"},function(){return this.ul},function(t){var e=this.ul;e!==t&&(s.h(t,"boolean",Qr,"allowSelect"),this.ul=t,this.i("allowSelect",e,t))}),s.ka("Diagram",eo),eo.prototype.clear=eo.prototype.clear=function(){var t=null;null!==this.Ed&&(t=this.Ed.Y),this.ea.clear();for(var e=this.dc.length,n=0;n<e;n++)this.dc.o[n].clear();this.Gg.clear(),this.Cl.clear(),this.Ap.clear(),this.$l.clear(),this.tp.clear(),this.rb.clear(),this.Vi.clear(),this.gk.clear(),this.Zm.clear(),this.ix.Xa(),this.ix.clear(),this.ix.freeze(),this.kw.Xa(),this.kw.clear(),this.kw.freeze(),Hn=this.Qo=null,Un="",this.Zv=new vt(NaN,NaN,NaN,NaN).freeze(),null!==t&&(this.add(t),this.rb.remove(t)),this.ra()},eo.prototype.reset=eo.prototype.reset=function(){this.ed=!0,this.clear(),this.dc=new nt(Qr),this.NG(),this.MG(),this.sb=new ft(NaN,NaN).freeze(),this.Db=1,this.mw=new ft(NaN,NaN).freeze(),this.nw=NaN,this.Gw=1e-4,this.Dw=100,this.wx=new ft(NaN,NaN).freeze(),this.ew=new vt(NaN,NaN,NaN,NaN).freeze(),this.Zw=new Pt(0,0,0,0).freeze(),this.$w=Kr,this.ex=!0,this.Ww=this.Uw=null,this.Nm=Ir,this.No=m,this.Il=Ir,this.hp=m,this.ow=this.lw=b,this.pr=250,this.Lv=new Pt(16,16,16,16).freeze(),this.tw=!0,this.qx=Wr,this.tx=Br,this.Mr="auto",this.Ui=this.wj=this.kj=this.Jw=this.lj=this.mj=this.nj=this.Ti=this.Yi=this.Ri=null,this.dj=!1,this.ml=this.ll=this.Bv=this.sf=!0,this.Dv=this.Cv=!1,this.Hv=this.Ev=this.jw=this.iw=this.Iv=this.Gv=this.ul=this.tl=this.sl=this.rl=this.pl=this.ql=this.ol=this.Fv=this.wl=this.nl=this.vl=!0,this.bx=this.Yw=16,this.uf=new Pt(5).freeze(),this.Ew=999999999,this.we=null,this.uw=!1,no(this),this.Ed=null,this.ob=new xr,this.ob.initializeStandardTools(),this.eb=this.mu=this.ob,this.yb=new Gn,this.vj=!0,oo(this),this.Yb=new Af,this.vj=!1,this.ea=new En,this.sh=!1,this.bp=!0,this.ed=this.cg=!1,this.ra(),this.xh=this.Qi=null,ds(this),this.Sv=""},eo.prototype.qc=function(t){t.Qe===eo?this.im=t:s.ak(this,t)},eo.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.Hj&&this.Hj.id&&(e=this.Hj.id),e='Diagram "'+e+'"',0>=t)return e;for(var n=this.dc.j;n.next();)e+="\n  "+n.value.toString(t-1);return e},eo.fromDiv=function(t){var n=t;return"string"==typeof t&&(n=e.document.getElementById(t)),n instanceof HTMLDivElement&&n.ca instanceof eo?n.ca:null},s.defineProperty(eo,{Hj:"div"},function(){return this.Ub},function(t){if(null!==t&&s.l(t,HTMLDivElement,eo,"div"),this.Ub!==t){uh=[];var n=this.Ub;null!==n?(n.ca=void 0,n.innerHTML="",null!==this.Ib&&(this.Ib.removeEventListener("touchstart",this.oC,!1),this.Ib.removeEventListener("touchmove",this.nC,!1),this.Ib.removeEventListener("touchend",this.mC,!1),this.Ib.$d.ca=null),null!==(n=this.ob)&&(n.rf.each(function(t){t.cancelWaitAfter()}),n.mg.each(function(t){t.cancelWaitAfter()}),n.ng.each(function(t){t.cancelWaitAfter()})),n.cancelWaitAfter(),this.eb.doCancel(),this.dd=this.Ib=null,e.removeEventListener("resize",this.vC,!1),e.removeEventListener("mousemove",this.jo,!0),e.removeEventListener("mousedown",this.io,!0),e.removeEventListener("mouseup",this.lo,!0),e.removeEventListener("wheel",this.mo,!0),e.removeEventListener("mouseout",this.ko,!0)):this.sh=!1,this.Ub=null,null!==t&&((n=t.ca)&&(n.Hj=null),As(this,t),this.ro())}}),eo.prototype.computePixelRatio=function(){if(null!==this.Hk)return this.Hk;var t=this.dd;return(e.devicePixelRatio||1)/(t.za.webkitBackingStorePixelRatio||t.za.mozBackingStorePixelRatio||t.za.msBackingStorePixelRatio||t.za.oBackingStorePixelRatio||t.za.backingStorePixelRatio||1)},eo.prototype.doMouseMove=function(){this.eb.doMouseMove()},eo.prototype.doMouseDown=function(){this.eb.doMouseDown()},eo.prototype.doMouseUp=function(){this.eb.doMouseUp()},eo.prototype.doMouseWheel=function(){this.eb.doMouseWheel()},eo.prototype.doKeyDown=function(){this.eb.doKeyDown()},eo.prototype.doKeyUp=function(){this.eb.doKeyUp()},eo.prototype.doFocus=function(){this.focus()},eo.prototype.focus=eo.prototype.focus=function(){if(this.Ib)if(this.oK)this.Ib.focus();else{var t=e.scrollX||e.pageXOffset,n=e.scrollY||e.pageYOffset;this.Ib.focus(),e.scrollTo(t,n)}},eo.prototype.diagramScroll=eo.prototype.AI=function(t){if(this.nA&&null!==this.Ib){this.Xw=!0;var e,n=(u=this.kd).x-(l=this.Ny).left,i=u.y-l.top,r=u.width+l.left+l.right,o=u.height+l.top+l.bottom,a=u.right+l.right,l=u.bottom+l.bottom,h=(y=this.wb).x,u=y.y,c=y.width,f=y.height,p=y.right,d=y.bottom,y=this.scale;if(e=t.scrollLeft,this.rs)switch(this.lA){case"negative":e=e+t.scrollWidth-t.clientWidth;break;case"reverse":e=t.scrollWidth-e-t.clientWidth}var v=e;c<r||f<o?(e=s.Fb(this.position.x,this.position.y),this.Be&&this.oA!==v&&(e.x=v/y+n,this.oA=v),this.Ce&&this.pA!==t.scrollTop&&(e.y=t.scrollTop/y+i,this.pA=t.scrollTop),this.position=e,s.A(e),this.Wm=this.Xw=!1):(e=s.P(),t.NH&&this.Be&&(n<h&&(this.position=e.n(v+n,this.position.y)),a>p&&(this.position=e.n(-(this.ax.scrollWidth-this.Pb)+v-this.Pb/y+a,this.position.y))),t.OH&&this.Ce&&(i<u&&(this.position=e.n(this.position.x,t.scrollTop+i)),l>d&&(this.position=e.n(this.position.x,-(this.ax.scrollHeight-this.Tb)+t.scrollTop-this.Tb/y+l))),s.A(e),_o(this),this.Wm=this.Xw=!1,a=(u=this.kd).right,p=(y=this.wb).right,l=u.bottom,d=y.bottom,n=u.x,h=y.x,i=u.y,u=y.y,c>=r&&n>=h&&a<=p&&(this.yt.style.width="1px"),f>=o&&i>=u&&l<=d&&(this.yt.style.height="1px"))}},eo.prototype.computeBounds=eo.prototype.Kh=function(){return 0<this.Gg.count&&Co(this),ho(this)},eo.prototype.computePartsBounds=function(t,e){void 0===e&&(e=!1);for(var n=null,i=t.j;i.next();){var r=i.value;!e&&r instanceof Kc||(r.lf(),null===n?n=r.aa.copy():n.Zh(r.aa))}return null===n?new vt(NaN,NaN,0,0):n},eo.prototype.zoomToFit=eo.prototype.zoomToFit=function(){this.scale=co(this,Rr)},eo.prototype.zoomToRect=function(t,e){void 0===e&&(e=Rr);var n=t.width,i=t.height;if(!(0===n||0===i||isNaN(n)&&isNaN(i))){var r=1;if(e===Rr||e===Vr)if(isNaN(n))r=this.wb.height*this.scale/i;else if(isNaN(i))r=this.wb.width*this.scale/n;else{r=this.Pb;var o=this.Tb;r=e===Vr?o/i>r/n?(o-(this.qk?this.Xd:0))/i:(r-(this.Gl?this.Xd:0))/n:Math.min(o/i,r/n)}this.scale=r,this.position=new ft(t.x,t.y)}},s.defineProperty(eo,{qB:null},function(){return this.ed},function(t){this.ed=t}),eo.prototype.alignDocument=function(t,e){this.rk&&hs(this,this.Kh());var n=this.kd,i=this.wb;this.position=new ft(n.x+(t.x*n.width+t.offsetX)-(e.x*i.width-e.offsetX),n.y+(t.y*n.height+t.offsetY)-(e.y*i.height-e.offsetY))},eo.prototype.findPartAt=eo.prototype.su=function(t,e){var n=e?po(this,t,function(t){return t.Y},function(t){return t.canSelect()}):po(this,t,function(t){return t.Y});return n instanceof Dh?n:null},eo.prototype.findObjectAt=eo.prototype.Je=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),Co(this);for(var i=this.dc.$n;i.next();){var r=i.value;if(r.visible&&null!==(r=r.Je(t,e,n)))return r}return null},eo.prototype.findObjectsAt=eo.prototype.ru=function(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),i instanceof nt||i instanceof rt||(i=new rt(fa)),Co(this);for(var r=this.dc.$n;r.next();){var o=r.value;o.visible&&o.ru(t,e,n,i)}return i},eo.prototype.findObjectsIn=eo.prototype.Xk=function(t,e,n,i,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),r instanceof nt||r instanceof rt||(r=new rt(fa)),Co(this);for(var o=this.dc.$n;o.next();){var s=o.value;s.visible&&s.Xk(t,e,n,i,r)}return r},eo.prototype.$A=function(t,e,n,i,r,o){var s=new rt(fa);Co(this);for(var a=this.dc.$n;a.next();){var l=a.value;l.visible&&l.$A(t,e,n,i,s,r,o)}return s},eo.prototype.findObjectsNear=eo.prototype.Pn=function(t,e,n,i,r,o){void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof nt||r instanceof rt)&&(o=r),r=!0),o instanceof nt||o instanceof rt||(o=new rt(fa)),Co(this);for(var s=this.dc.$n;s.next();){var a=s.value;a.visible&&a.Pn(t,e,n,i,r,o)}return o},eo.prototype.acceptEvent=function(t){var e=this.Hd;return this.Hd=this.cc,this.cc=e,yo(this,this,t,e,t instanceof MouseEvent),e},eo.prototype.xJ=function(t){if(!this.ca.isEnabled)return!1;var e=this.ca.cc;switch(yo(this.ca,this.ca,t,e,!1),e.key=String.fromCharCode(t.which),e.Vk=!0,t.which){case 8:e.key="Backspace";break;case 33:e.key="PageUp";break;case 34:e.key="PageDown";break;case 35:e.key="End";break;case 36:e.key="Home";break;case 37:e.key="Left";break;case 38:e.key="Up";break;case 39:e.key="Right";break;case 40:e.key="Down";break;case 45:e.key="Insert";break;case 46:e.key="Del";break;case 48:e.key="0";break;case 187:case 61:case 107:e.key="Add";break;case 189:case 173:case 109:e.key="Subtract";break;case 27:e.key="Esc"}return this.ca.doKeyDown(),bo(this.ca,e,t)},eo.prototype.yJ=function(t){if(!this.ca.isEnabled)return!1;var e=this.ca.cc;switch(yo(this.ca,this.ca,t,e,!1),e.key=String.fromCharCode(t.which),e.up=!0,t.which){case 8:e.key="Backspace";break;case 33:e.key="PageUp";break;case 34:e.key="PageDown";break;case 35:e.key="End";break;case 36:e.key="Home";break;case 37:e.key="Left";break;case 38:e.key="Up";break;case 39:e.key="Right";break;case 40:e.key="Down";break;case 45:e.key="Insert";break;case 46:e.key="Del"}return this.ca.doKeyUp(),bo(this.ca,e,t)},eo.prototype.dp=function(t){if(null===(i=this.Ib))return new ft(0,0);var e=this.Pb,n=this.Tb,i=i.getBoundingClientRect();return e=t.clientX-e/i.width*i.left,t=t.clientY-n/i.height*i.top,null!==this.Nc?(dt(t=new ft(e,t),this.Nc),t):new ft(e,t)},eo.prototype.invalidateDocumentBounds=eo.prototype.Qc=function(){this.rk||(this.rk=!0,this.Ve(!0))},eo.prototype.redraw=eo.prototype.ro=function(){this.ed||this.je||(this.ra(),Ao(this),_o(this),this.Qc(),this.lg())},eo.prototype.isUpdateRequested=function(){return this.cg},eo.prototype.delayInitialization=function(t){void 0===t&&(t=null);var e=this.Ra,n=e.isEnabled;e.Yh(),e.isEnabled=!1,So(this),this.sh=!1,e.isEnabled=n,null!==t&&s.setTimeout(t,1)},eo.prototype.requestUpdate=eo.prototype.Ve=function(t){if(void 0===t&&(t=!1),!0!==this.cg&&!(this.ed||!1===t&&this.je)){this.cg=!0;var e=this;requestAnimationFrame(function(){e.cg&&e.lg()})}},eo.prototype.maybeUpdate=eo.prototype.lg=function(){this.bp&&!this.cg||(this.bp&&(this.bp=!1),So(this))},s.w(eo,{Zn:null},function(){return this.sh}),eo.prototype.tC=function(t,e){for(t.reset();t.next();){var n=t.value;!n.qe()||n instanceof Tf||(n.ym()?(ma(n,1/0,1/0),n.rc()):e.add(n))}for(t.reset();t.next();)(n=t.value)instanceof Tf&&n.isVisible()&&To(this,n);for(t.reset();t.next();)(n=t.value)instanceof Kc&&n.isVisible()&&(n.ym()?(ma(n,1/0,1/0),n.rc()):e.add(n));for(t.reset();t.next();)(n=t.value)instanceof Lc&&n.isVisible()&&(n.ym()?(ma(n,1/0,1/0),n.rc()):e.add(n))},eo.prototype.Pf=function(t,e,n,i){var r=this.Ra;if(this.Jl||r.of)for(r=0;r<e;r++)t[r].Pf(n,i)},eo.prototype.He=function(t,e){void 0===e&&(e=null),null===this.Ub&&s.k("No div specified");var n=this.Ib;if(null===n&&s.k("No canvas specified"),!(l=this.Ra).zc&&(Oo(this),"0"!==this.Ub.style.opacity)){var i=t!==this.dd,o=this.dc.o,a=this;if(this.Pf(o,h=o.length,a),i)t.De(!0),_o(this);else if(!this.Oe&&null===e&&!l.sk)return;var l,h=this.sb,u=this.Db,c=Math.round(h.x*u)/u,f=Math.round(h.y*u)/u;for((l=this.Nc).reset(),1!==u&&l.scale(u),0===h.x&&0===h.y||l.translate(-c,-f),u=this.ud,s.Xn?(n.width=n.width,t.De(!0),t.scale(u,u)):(t.setTransform(1,0,0,1,0,0),t.scale(u,u),t.clearRect(0,0,this.Pb,this.Tb)),t.setTransform(1,0,0,1,0,0),t.scale(u,u),t.transform(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),r&&r.Dj&&r.zF(this,t),n=null!==e?function(n){var i=e;if(n.visible&&0!==n.Lc){var r=n.rb.o,o=r.length;if(0!==o){1!==n.Lc&&(t.globalAlpha=n.Lc),(n=n.Pw).length=0;for(var s=a.scale,l=0;l<o;l++){var h=r[l];if(Oc(h)&&!i.contains(h)){if(h instanceof Kc){var u=h;if(u.ic&&n.push(u),!1===u.Uf)continue}1<(u=h.aa).width*s||1<u.height*s?h.He(t,a):Uh(h,t)}}t.globalAlpha=1}}}:function(e){e.He(t,a)},No(this,t),h=o.length,c=0;c<h;c++)t.setTransform(1,0,0,1,0,0),t.scale(u,u),t.transform(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),n(o[c]);this.Hl?this.Hl.Im(this)&&this.aw():this.dp=function(){return new ft(0,0)},r&&(r.WA||r.Dj)&&r.VA(t,this,l),i?(this.dd.De(!0),_o(this)):this.Oe=this.Jl=!1}},eo.prototype.getRenderingHint=eo.prototype.Kj=function(t){return this.Ek[t]},eo.prototype.setRenderingHint=eo.prototype.sK=function(t,e){this.Ek[t]=e,this.ro()},eo.prototype.resetRenderingHints=eo.prototype.NG=function(){this.Ek=new h,this.Ek.drawShadows=!0,this.Ek.textGreeking=!0,this.Ek.viewportOptimizations=!(s.iG||s.zq||s.Aq),this.Ek.temporaryPixelRatio=!0,this.Ek.pictureRatioOptimization=!0},eo.prototype.getInputOption=eo.prototype.Cu=function(t){return this.kp[t]},eo.prototype.setInputOption=function(t,e){this.kp[t]=e},eo.prototype.resetInputOptions=eo.prototype.MG=function(){this.kp=new h,this.kp.extraTouchArea=10,this.kp.extraTouchThreshold=10,this.kp.hasGestureZoom=!0},eo.prototype.setProperties=function(t){s.nv(this,t)},eo.prototype.ra=function(t){if(void 0===t&&(t=null),null===t)this.Oe=!0,this.Ve();else{var e=this.wb;null!==t&&t.H()&&e.jg(t)&&(this.Oe=!0,this.Ve())}for(e=this.Qw.j;e.next();)e.value.ra(t)},eo.prototype.dG=function(t,e){if(!0!==this.Oe){this.Oe=!0;var n=!0===this.Kj("temporaryPixelRatio");if(!0===this.Kj("viewportOptimizations")&&this.VB!==Jr&&this.Ny.Tx(0,0,0,0)&&e.width===t.width&&e.height===t.height){var i=this.scale,o=s.Sf(),a=Math.max(t.x,e.x),l=Math.max(t.y,e.y),h=Math.min(t.x+t.width,e.x+e.width),u=Math.min(t.y+t.height,e.y+e.height);if(o.x=a,o.y=l,o.width=Math.max(0,h-a)*i,o.height=Math.max(0,u-l)*i,0<o.width&&0<o.height){if(!this.je&&(this.cg=!1,null!==this.Ub)&&(this.je=!0,jo(this),this.kd.H()||hs(this,this.Kh()),null!==(m=this.Ib))){var c=this.ud,f=(l=this.Pb*c,h=this.Tb*c,a=this.scale*c,i=Math.round(Math.round(e.x*a)-Math.round(t.x*a)),a=Math.round(Math.round(e.y*a)-Math.round(t.y*a)),this.rD);(u=this.Iz).width!==l&&(u.width=l),u.height!==h&&(u.height=h),f.clearRect(0,0,l,h),u=190*this.ud;var p=70*this.ud,d=Math.max(i,0),y=Math.max(a,0),v=Math.floor(l-d),g=Math.floor(h-y);f.Sy(!1),f.drawImage(m.$d,d,y,v,g,0,0,v,g),this.Hl.Im(this)&&f.clearRect(0,0,u,p);var m=s.nb(),b=(f=s.nb(),g=Math.abs(i),v=Math.abs(a),0===d?0:l-g);d=s.Fb(b,0),g=s.Fb(g+b,h),f.push(new vt(Math.min(d.x,g.x),Math.min(d.y,g.y),Math.abs(d.x-g.x),Math.abs(d.y-g.y)));var x=this.Nc;x.reset(),x.scale(c,c),1!==this.Db&&x.scale(this.Db),(0!==(c=this.sb).x||0!==c.y)&&isFinite(c.x)&&isFinite(c.y)&&x.translate(-c.x,-c.y),dt(d,x),dt(g,x),m.push(new vt(Math.min(d.x,g.x),Math.min(d.y,g.y),Math.abs(d.x-g.x),Math.abs(d.y-g.y))),d.n(0,b=0===y?0:h-v),g.n(l,v+b),f.push(new vt(Math.min(d.x,g.x),Math.min(d.y,g.y),Math.abs(d.x-g.x),Math.abs(d.y-g.y))),dt(d,x),dt(g,x),m.push(new vt(Math.min(d.x,g.x),Math.min(d.y,g.y),Math.abs(d.x-g.x),Math.abs(d.y-g.y))),this.Hl.Im(this)&&(d.n(l=0<i?0:-i,h=0<a?0:-a),g.n(u+l,p+h),f.push(new vt(Math.min(d.x,g.x),Math.min(d.y,g.y),Math.abs(d.x-g.x),Math.abs(d.y-g.y))),dt(d,x),dt(g,x),m.push(new vt(Math.min(d.x,g.x),Math.min(d.y,g.y),Math.abs(d.x-g.x),Math.abs(d.y-g.y)))),s.A(d),s.A(g),Po(this,!1),function(t,e,n,i,o){if(null===t.Ub&&s.k("No div specified"),null===(h=t.Ib)&&s.k("No canvas specified"),!t.Ra.zc){var a=t.dd;if(t.Oe){Oo(t);var l=t.ud;s.Xn?(h.width=h.width,a.De(!0)):(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,t.Pb*l,t.Tb*l)),a.Sy(!1),a.drawImage(t.Iz.$d,0<i?0:Math.round(-i),0<o?0:Math.round(-o)),o=t.sb;var h=t.Db,u=Math.round(o.x*h)/h,c=Math.round(o.y*h)/h;for((i=t.Nc).reset(),1!==h&&i.scale(h),0===o.x&&0===o.y||i.translate(-u,-c),a.save(),a.beginPath(),o=n.length,h=0;h<o;h++)0!==(u=n[h]).width&&0!==u.height&&a.rect(Math.floor(u.x),Math.floor(u.y),Math.ceil(u.width),Math.ceil(u.height));for(a.clip(),a.setTransform(1,0,0,1,0,0),a.scale(l,l),a.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),r&&r.Dj&&r.zF(t,a),t.Pf(n=t.dc.o,o=n.length,t),No(t,a),h=0;h<o;h++)$r(n[h],a,t,e);a.restore(),a.De(!0),r&&(r.WA||r.Dj)&&r.VA(a,t,i),t.Hl?t.Hl.Im(t)&&t.aw():t.dp=function(){return new ft(0,0)},t.Jl=!1,t.Oe=!1,t.Gy()}}}(this,m,f,i,a),s.ya(m),s.ya(f),this.je=!1}}else this.lg();s.Lb(o),n&&(this.Hk=1,this.lg(),this.Hk=null,this.Gy())}else n?(this.Hk=1,this.lg(),this.Hk=null,this.Gy()):this.lg()}},eo.prototype.add=eo.prototype.add=function(t){if(s.l(t,Dh,eo,"add:part"),(e=t.g)!==this){null!==e&&s.k("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),this.hr&&(t.Nl="Tool");var e,n=t.Nf;null===(e=this.pm(n))&&(e=this.pm("")),null===e&&s.k('Cannot add a Part when unable find a Layer named "'+n+'" and there is no default Layer'),t.layer!==e&&(0<=(n=e.uq(99999999,t,t.g===this))&&this.od(te,"parts",e,null,t,null,n),e.Yc||this.Qc(),t.L(Nh),null!==(n=t.py)&&n(t,null,e))}},eo.prototype.uq=function(t){if(t instanceof Fc){if(this.Ap.add(t),t instanceof Tf){var e=t.Ka;null===e?this.$l.add(t):e.gn.add(t),null!==(e=t.Yb)&&(e.g=this)}}else t instanceof Kc?this.tp.add(t):t instanceof Lc||this.rb.add(t);var n=this;hl(t,function(t){Ho(n,t)}),(t instanceof Lc||t instanceof Tf&&null!==t.Rb)&&t.K(),null!==(e=t.data)&&(t instanceof Lc||(t instanceof Kc?this.gk.add(e,t):this.Vi.add(e,t)),hl(t,function(t){qo(n,t)})),!0!==La(t)&&!0!==jc(t)||this.Gg.add(t),Hh(t,!0,this),Dc(t)?(t.aa.H()&&this.ra(Vh(t,t.aa)),this.Qc()):t.isVisible()&&t.aa.H()&&this.ra(Vh(t,t.aa)),this.Ve()},eo.prototype.zf=function(t){if(t.iu(),t instanceof Fc){if(this.Ap.remove(t),t instanceof Tf){var e=t.Ka;null===e?this.$l.remove(t):e.gn.remove(t),null!==(e=t.Yb)&&(e.g=null)}}else t instanceof Kc?this.tp.remove(t):t instanceof Lc||this.rb.remove(t);var n=this;hl(t,function(t){Ko(n,t)}),null!==(e=t.data)&&(t instanceof Lc||(t instanceof Kc?this.gk.remove(e):this.Vi.remove(e)),hl(t,function(t){Go(n,t)})),this.Gg.remove(t),Dc(t)?(t.aa.H()&&this.ra(Vh(t,t.aa)),this.Qc()):t.isVisible()&&t.aa.H()&&this.ra(Vh(t,t.aa)),this.Ve()},eo.prototype.remove=eo.prototype.remove=function(t){s.l(t,Dh,eo,"remove:part"),Lo(this,t,!0)},eo.prototype.removeParts=eo.prototype.RB=function(t,e){if(s.isArray(t))for(var n=s.cb(t),i=0;i<n;i++){var r=s.La(t,i);e&&!r.canDelete()||this.remove(r)}else for((r=new rt(Dh)).Vc(t),n=r.j;n.next();)r=n.value,e&&!r.canDelete()||this.remove(r)},eo.prototype.copyParts=eo.prototype.hq=function(t,e,n){return this.yb.hq(t,e,n)},eo.prototype.moveParts=eo.prototype.moveParts=function(t,e,n){s.l(e,ft,eo,"moveParts:offset");var i=this.ob;if(null!==i){null===(i=i.Ge)&&(i=new Xn).ad(this);var r=new ut(Dh);if(null!==t)t=t.j;else{for(t=this.Hi;t.next();)ti(i,r,t.value,n);for(t=this.rg;t.next();)ti(i,r,t.value,n);t=this.links}for(;t.next();)ti(i,r,t.value,n);i.moveParts(r,e,n)}},eo.prototype.addLayer=eo.prototype.$t=function(t){Fo(this,t,null),t.ad(this);var e=this.dc,n=e.count-1;if(!t.Yc)for(;0<=n&&e.fa(n).Yc;)n--;e.be(n+1,t),null!==this.ye&&this.od(te,"layers",this,null,t,null,n+1),this.ra(),this.Qc()},eo.prototype.addLayerBefore=eo.prototype.XH=function(t,e){Fo(this,t,e),t.ad(this);var n=this.dc,i=n.indexOf(t);0<=i&&(n.remove(t),null!==this.ye&&this.od(ee,"layers",this,t,null,i,null));for(var r=n.count,o=0;o<r;o++)if(n.fa(o)===e){n.be(o,t);break}null!==this.ye&&this.od(te,"layers",this,null,t,null,o),this.ra(),0>i&&this.Qc()},eo.prototype.addLayerAfter=function(t,e){Fo(this,t,e),t.ad(this);var n=this.dc,i=n.indexOf(t);0<=i&&(n.remove(t),null!==this.ye&&this.od(ee,"layers",this,t,null,i,null));for(var r=n.count,o=0;o<r;o++)if(n.fa(o)===e){n.be(o+1,t);break}null!==this.ye&&this.od(te,"layers",this,null,t,null,o+1),this.ra(),0>i&&this.Qc()},eo.prototype.removeLayer=function(t){if(s.l(t,Qr,eo,"removeLayer:layer"),t.g!==this&&s.k("Cannot remove a Layer from another Diagram: "+t+" of "+t.g),""!==t.name){var e=this.dc,n=e.indexOf(t);if(e.remove(t)){for(e=t.rb.copy().j;e.next();){var i=e.value,r=i.Nf;i.Nf=r!==t.name?r:""}null!==this.ye&&this.od(ee,"layers",this,t,null,n,null),this.ra(),this.Qc()}}},eo.prototype.findLayer=eo.prototype.pm=function(t){for(var e=this.ao;e.next();){var n=e.value;if(n.name===t)return n}return null},eo.prototype.addModelChangedListener=eo.prototype.ZH=function(t){s.h(t,"function",eo,"addModelChangedListener:listener"),null===this.xh&&(this.xh=new nt("function")),this.xh.add(t),this.ea.Bn(t)},eo.prototype.removeModelChangedListener=function(t){s.h(t,"function",eo,"removeModelChangedListener:listener"),null!==this.xh&&(this.xh.remove(t),0===this.xh.count&&(this.xh=null)),this.ea.gv(t)},eo.prototype.addChangedListener=eo.prototype.Bn=function(t){s.h(t,"function",eo,"addChangedListener:listener"),null===this.Qi&&(this.Qi=new nt("function")),this.Qi.add(t)},eo.prototype.removeChangedListener=eo.prototype.gv=function(t){s.h(t,"function",eo,"removeChangedListener:listener"),null!==this.Qi&&(this.Qi.remove(t),0===this.Qi.count&&(this.Qi=null))},eo.prototype.Gx=function(t){if(this.lb||this.na.ZF(t),t.Oc!==Qt&&(this.Gi=!0),null!==this.Qi)for(var e=this.Qi,n=e.length,i=0;i<n;i++)e.fa(i)(t)},eo.prototype.raiseChangedEvent=eo.prototype.od=function(t,e,n,i,r,o,s){void 0===o&&(o=null),void 0===s&&(s=null);var a=new hn;a.g=this,a.Oc=t,a.propertyName=e,a.object=n,a.oldValue=i,a.Wj=o,a.newValue=r,a.Uj=s,this.Gx(a)},eo.prototype.raiseChanged=eo.prototype.i=function(t,e,n,i,r){this.od($t,t,this,e,n,i,r)},s.w(eo,{Ra:"animationManager"},function(){return this.JC}),s.w(eo,{na:"undoManager"},function(){return this.ye.na}),s.defineProperty(eo,{lb:"skipsUndoManager"},function(){return this.vj},function(t){s.h(t,"boolean",eo,"skipsUndoManager"),this.vj=t,this.ye.vj=t}),s.defineProperty(eo,{SA:"delaysLayout"},function(){return this.Dz},function(t){this.Dz=t}),eo.prototype.Fn=function(t,e){if(null!==t&&t.g===this){var n=this.Xe;try{this.Xe=!0;var i=t.Oc;if(i===$t){var r,o=t.object,a=t.propertyName,l=t.oa(e);s.Ua(o,a,l),o instanceof fa&&null!==(d=o.Y)&&d.pe(),this.Gi=!0}else if(i===te){var h=t.object,u=t.Uj;if(o=t.newValue,h instanceof tl){if("number"==typeof u&&o instanceof fa){r=o;var c=h;e?c.zf(u):c.be(u,r),null!==(d=h.Y)&&d.pe()}else if("number"==typeof u&&o instanceof Tl){var f=o;c=h,e?f.Ke?c.LG(u):c.JG(u):(f.Ke?c.oe(f.index):c.ne(f.index)).gq(f)}}else if(h instanceof Qr){var p=!0===t.Wj;if("number"==typeof u&&o instanceof Dh){var d=o,y=h;e?(d.jb=!1,d.Zg=!1,d.pe(),y.zf(p?u:-1,d,p)):y.uq(u,d,p)}}else if(h instanceof eo){if("number"==typeof u&&o instanceof Qr){var v=o;e?this.dc.pd(u):((i=v).ad(this),this.dc.be(u,i))}}else s.k("unknown ChangedEvent.Insert object: "+t.toString());this.Gi=!0}else i===ee?(u=t.Wj,o=t.oldValue,(h=t.object)instanceof tl?"number"==typeof u&&o instanceof fa?(c=h,e?c.be(u,o):c.zf(u)):"number"==typeof u&&o instanceof Tl&&(f=o,c=h,e?(f.Ke?c.oe(f.index):c.ne(f.index)).gq(f):f.Ke?c.LG(u):c.JG(u)):h instanceof Qr?(p=!0===t.Uj,"number"==typeof u&&o instanceof Dh&&(d=o,y=h,e?y.uq(u,d,p):(d.jb=!1,d.Zg=!1,d.pe(),y.zf(p?u:-1,d,p)))):h instanceof eo?"number"==typeof u&&o instanceof Qr&&(v=o,e?((i=v).ad(this),this.dc.be(u,i)):this.dc.pd(u)):s.k("unknown ChangedEvent.Remove object: "+t.toString()),this.Gi=!0):i!==Qt&&s.k("unknown ChangedEvent: "+t.toString())}finally{this.Xe=n}}},eo.prototype.startTransaction=eo.prototype.Nb=function(t){return this.na.Nb(t)},eo.prototype.commitTransaction=eo.prototype.jd=function(t){return this.na.jd(t)},eo.prototype.rollbackTransaction=eo.prototype.Am=function(){return this.na.Am()},eo.prototype.commit=function(t,e){var n=e;void 0===n&&(n="");var i=this.lb;null===n&&(this.lb=!0,n=""),this.na.Nb(n);var r=!1;try{t(this),r=!0}finally{r?this.na.jd(n):this.na.Am(),this.lb=i}},eo.prototype.updateAllTargetBindings=eo.prototype.vH=function(t){void 0===t&&(t="");for(var e=this.Hi;e.next();)e.value.Ob(t);for(e=this.rg;e.next();)e.value.Ob(t);for(e=this.links;e.next();)e.value.Ob(t)},eo.prototype.updateAllRelationshipsFromData=eo.prototype.JK=function(){for(var t=this.ea,e=new rt,n=t.qg,i=0;i<n.length;i++)e.add(o=n[i]);var r=[];for(this.rg.each(function(t){null===t.data||e.contains(t.data)||r.push(t.data)}),this.Hi.each(function(t){null===t.data||e.contains(t.data)||r.push(t.data)}),r.forEach(function(e){Sn(t,e,!1)}),i=0;i<n.length;i++){var o,s=this.Nh(o=n[i]);null===s&&Pn(t,o,!1)}if(t instanceof En){var a=new rt;for(n=t.$g,i=0;i<n.length;i++)a.add(o=n[i]);var l=[];for(this.links.each(function(t){null===t.data||a.contains(t.data)||l.push(t.data)}),l.forEach(function(e){Ln(t,e,!1)}),i=0;i<n.length;i++)null===(s=this.gg(o=n[i]))&&Dn(t,o,!1)}for(i=this.Hi;i.next();)(s=i.value).updateRelationshipsFromData();for(i=this.rg;i.next();)i.value.updateRelationshipsFromData();for(i=this.links;i.next();)(s=i.value).updateRelationshipsFromData()},eo.prototype.dv=function(t,e,n,i,r){t.O(e)||(void 0===r&&(r=!1),r||Ao(this),_o(this),null===(i=this.Yb)||!i.my||this.im!==Ir||r||t.width===e.width&&t.height===e.height||i.L(),i=this.eb,!0===this.th&&i instanceof xr&&(this.U.ha=this.qC(this.U.te),wr(i,this)),this.ed||this.dG(t,e),Ro(this),this.Fh.scale=n,this.Fh.position.x=t.x,this.Fh.position.y=t.y,this.Fh.bounds.set(t),this.Fh.isScroll=r,this.Ja("ViewportBoundsChanged",this.Fh,t),this.uB&&this.links.each(function(t){t.Nj&&t.aa.jg(e)&&t.ec()}))},eo.prototype.clearSelection=eo.prototype.Ix=function(){var t=0<this.selection.count;t&&this.Ja("ChangingSelection"),Vo(this),t&&this.Ja("ChangedSelection")},eo.prototype.select=eo.prototype.select=function(t){null!==t&&(s.l(t,Dh,eo,"select:part"),t.layer.g===this&&(!t.jb||1<this.selection.count)&&(this.Ja("ChangingSelection"),Vo(this),t.jb=!0,this.Ja("ChangedSelection")))},eo.prototype.selectCollection=eo.prototype.ZG=function(t){if(this.Ja("ChangingSelection"),Vo(this),s.isArray(t))for(var e=s.cb(t),n=0;n<e;n++){var i=s.La(t,n);i instanceof Dh||s.k("Diagram.selectCollection given something that is not a Part: "+i),i.jb=!0}else for(t=t.j;t.next();)(i=t.value)instanceof Dh||s.k("Diagram.selectCollection given something that is not a Part: "+i),i.jb=!0;this.Ja("ChangedSelection")},eo.prototype.clearHighlighteds=eo.prototype.fI=function(){var t=this.vm;if(0<t.count){for(var e=t.Fc(),n=e.length,i=0;i<n;i++)e[i].Zg=!1;t.Xa(),t.clear(),t.freeze()}},eo.prototype.highlight=function(t){null!==t&&t.layer.g===this&&(s.l(t,Dh,eo,"highlight:part"),!t.Zg||1<this.vm.count)&&(this.fI(),t.Zg=!0)},eo.prototype.highlightCollection=function(t){for(var e=new rt(Dh).Vc(t),n=this.vm.copy().Iy(e).j;n.next();)(t=n.value).Zg=!1;for(e=e.j;e.next();)(t=e.value)instanceof Dh||s.k("Diagram.highlightCollection given something that is not a Part: "+t),t.Zg=!0},eo.prototype.scroll=eo.prototype.scroll=function(t,e,n){void 0===n&&(n=1);var i="up"===e||"down"===e,r=0;if("pixel"===t)r=n;else if("line"===t)r=n*(i?this.mv:this.lv);else if("page"===t)t=i?this.wb.height:this.wb.width,0!=(t*=this.scale)&&(r=Math.max(t-(i?this.mv:this.lv),0),r*=n);else{if("document"===t)return r=this.kd,i=this.wb,n=s.P(),"up"===e?this.position=n.n(i.x,r.y):"left"===e?this.position=n.n(r.x,i.y):"down"===e?this.position=n.n(i.x,r.bottom-i.height):"right"===e&&(this.position=n.n(r.right-i.width,i.y)),void s.A(n);s.k("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}r/=this.scale,n=this.position.copy(),"up"===e?n.y=this.position.y-r:"down"===e?n.y=this.position.y+r:"left"===e?n.x=this.position.x-r:"right"===e?n.x=this.position.x+r:s.k("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),this.position=n},eo.prototype.scrollToRect=eo.prototype.WG=function(t){var e=this.wb;e.Sk(t)||((t=t.jm).x-=e.width/2,t.y-=e.height/2,this.position=t)},eo.prototype.centerRect=eo.prototype.eF=function(t){var e=this.wb;(t=t.jm).x-=e.width/2,t.y-=e.height/2,this.position=t},eo.prototype.transformDocToView=eo.prototype.pC=function(t){var e=this.Nc;e.reset(),1!==this.Db&&e.scale(this.Db);var n=this.sb;return(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&e.translate(-n.x,-n.y),t.copy().transform(this.Nc)},eo.prototype.transformViewToDoc=eo.prototype.qC=function(t){var e=this.Nc;e.reset(),1!==this.Db&&e.scale(this.Db);var n=this.sb;return(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&e.translate(-n.x,-n.y),dt(t.copy(),this.Nc)},eo.None=Ir=s.s(eo,"None",0),eo.Uniform=Rr=s.s(eo,"Uniform",1),eo.UniformToFill=Vr=s.s(eo,"UniformToFill",2),eo.CycleAll=Br=s.s(eo,"CycleAll",10),eo.CycleNotDirected=zr=s.s(eo,"CycleNotDirected",11),eo.CycleNotDirectedFast=qr=s.s(eo,"CycleNotDirectedFast",12),eo.CycleNotUndirected=Gr=s.s(eo,"CycleNotUndirected",13),eo.CycleDestinationTree=Hr=s.s(eo,"CycleDestinationTree",14),eo.CycleSourceTree=Ur=s.s(eo,"CycleSourceTree",15),eo.DocumentScroll=Kr=s.s(eo,"DocumentScroll",1),eo.InfiniteScroll=Jr=s.s(eo,"InfiniteScroll",2),eo.TreeParentCollapsed=Wr=s.s(eo,"TreeParentCollapsed",21),eo.AllParentsCollapsed=Yr=s.s(eo,"AllParentsCollapsed",22),eo.AnyParentsCollapsed=Zr=s.s(eo,"AnyParentsCollapsed",23),s.defineProperty(eo,{KK:"validCycle"},function(){return this.tx},function(t){var e=this.tx;e!==t&&(s.Da(t,eo,eo,"validCycle"),this.tx=t,this.i("validCycle",e,t))}),s.w(eo,{ao:"layers"},function(){return this.dc.j}),s.defineProperty(eo,{Mf:"isModelReadOnly"},function(){var t=this.ye;return null!==t&&t.qb},function(t){var e=this.ye;null!==e&&(e.qb=t)}),s.defineProperty(eo,{qb:"isReadOnly"},function(){return this.dj},function(t){var e=this.dj;e!==t&&(s.h(t,"boolean",eo,"isReadOnly"),this.dj=t,this.i("isReadOnly",e,t))}),s.defineProperty(eo,{isEnabled:"isEnabled"},function(){return this.sf},function(t){var e=this.sf;e!==t&&(s.h(t,"boolean",eo,"isEnabled"),this.sf=t,this.i("isEnabled",e,t))}),s.defineProperty(eo,{EA:"allowClipboard"},function(){return this.Bv},function(t){var e=this.Bv;e!==t&&(s.h(t,"boolean",eo,"allowClipboard"),this.Bv=t,this.i("allowClipboard",e,t))}),s.defineProperty(eo,{Pk:"allowCopy"},function(){return this.ll},function(t){var e=this.ll;e!==t&&(s.h(t,"boolean",eo,"allowCopy"),this.ll=t,this.i("allowCopy",e,t))}),s.defineProperty(eo,{Cn:"allowDelete"},function(){return this.ml},function(t){var e=this.ml;e!==t&&(s.h(t,"boolean",eo,"allowDelete"),this.ml=t,this.i("allowDelete",e,t))}),s.defineProperty(eo,{du:"allowDragOut"},function(){return this.Cv},function(t){var e=this.Cv;e!==t&&(s.h(t,"boolean",eo,"allowDragOut"),this.Cv=t,this.i("allowDragOut",e,t))}),s.defineProperty(eo,{XE:"allowDrop"},function(){return this.Dv},function(t){var e=this.Dv;e!==t&&(s.h(t,"boolean",eo,"allowDrop"),this.Dv=t,this.i("allowDrop",e,t))}),s.defineProperty(eo,{Dx:"allowTextEdit"},function(){return this.vl},function(t){var e=this.vl;e!==t&&(s.h(t,"boolean",eo,"allowTextEdit"),this.vl=t,this.i("allowTextEdit",e,t))}),s.defineProperty(eo,{Ax:"allowGroup"},function(){return this.nl},function(t){var e=this.nl;e!==t&&(s.h(t,"boolean",eo,"allowGroup"),this.nl=t,this.i("allowGroup",e,t))}),s.defineProperty(eo,{Ex:"allowUngroup"},function(){return this.wl},function(t){var e=this.wl;e!==t&&(s.h(t,"boolean",eo,"allowUngroup"),this.wl=t,this.i("allowUngroup",e,t))}),s.defineProperty(eo,{Zp:"allowInsert"},function(){return this.Fv},function(t){var e=this.Fv;e!==t&&(s.h(t,"boolean",eo,"allowInsert"),this.Fv=t,this.i("allowInsert",e,t))}),s.defineProperty(eo,{eu:"allowLink"},function(){return this.ol},function(t){var e=this.ol;e!==t&&(s.h(t,"boolean",eo,"allowLink"),this.ol=t,this.i("allowLink",e,t))}),s.defineProperty(eo,{Dn:"allowRelink"},function(){return this.ql},function(t){var e=this.ql;e!==t&&(s.h(t,"boolean",eo,"allowRelink"),this.ql=t,this.i("allowRelink",e,t))}),s.defineProperty(eo,{fm:"allowMove"},function(){return this.pl},function(t){var e=this.pl;e!==t&&(s.h(t,"boolean",eo,"allowMove"),this.pl=t,this.i("allowMove",e,t))}),s.defineProperty(eo,{Bx:"allowReshape"},function(){return this.rl},function(t){var e=this.rl;e!==t&&(s.h(t,"boolean",eo,"allowReshape"),this.rl=t,this.i("allowReshape",e,t))}),s.defineProperty(eo,{fu:"allowResize"},function(){return this.sl},function(t){var e=this.sl;e!==t&&(s.h(t,"boolean",eo,"allowResize"),this.sl=t,this.i("allowResize",e,t))}),s.defineProperty(eo,{Cx:"allowRotate"},function(){return this.tl},function(t){var e=this.tl;e!==t&&(s.h(t,"boolean",eo,"allowRotate"),this.tl=t,this.i("allowRotate",e,t))}),s.defineProperty(eo,{Jf:"allowSelect"},function(){return this.ul},function(t){var e=this.ul;e!==t&&(s.h(t,"boolean",eo,"allowSelect"),this.ul=t,this.i("allowSelect",e,t))}),s.defineProperty(eo,{YE:"allowUndo"},function(){return this.Gv},function(t){var e=this.Gv;e!==t&&(s.h(t,"boolean",eo,"allowUndo"),this.Gv=t,this.i("allowUndo",e,t))}),s.defineProperty(eo,{Fx:"allowZoom"},function(){return this.Iv},function(t){var e=this.Iv;e!==t&&(s.h(t,"boolean",eo,"allowZoom"),this.Iv=t,this.i("allowZoom",e,t))}),s.defineProperty(eo,{kB:"hasVerticalScrollbar"},function(){return this.jw},function(t){var e=this.jw;e!==t&&(s.h(t,"boolean",eo,"hasVerticalScrollbar"),this.jw=t,Ao(this),this.ra(),this.i("hasVerticalScrollbar",e,t),uo(this,!1))}),s.defineProperty(eo,{jB:"hasHorizontalScrollbar"},function(){return this.iw},function(t){var e=this.iw;e!==t&&(s.h(t,"boolean",eo,"hasHorizontalScrollbar"),this.iw=t,Ao(this),this.ra(),this.i("hasHorizontalScrollbar",e,t),uo(this,!1))}),s.defineProperty(eo,{Be:"allowHorizontalScroll"},function(){return this.Ev},function(t){var e=this.Ev;e!==t&&(s.h(t,"boolean",eo,"allowHorizontalScroll"),this.Ev=t,this.i("allowHorizontalScroll",e,t),uo(this,!1))}),s.defineProperty(eo,{Ce:"allowVerticalScroll"},function(){return this.Hv},function(t){var e=this.Hv;e!==t&&(s.h(t,"boolean",eo,"allowVerticalScroll"),this.Hv=t,this.i("allowVerticalScroll",e,t),uo(this,!1))}),s.defineProperty(eo,{lv:"scrollHorizontalLineChange"},function(){return this.Yw},function(t){var e=this.Yw;e!==t&&(s.h(t,"number",eo,"scrollHorizontalLineChange"),0>t&&s.ua(t,">= 0",eo,"scrollHorizontalLineChange"),this.Yw=t,this.i("scrollHorizontalLineChange",e,t))}),s.defineProperty(eo,{mv:"scrollVerticalLineChange"},function(){return this.bx},function(t){var e=this.bx;e!==t&&(s.h(t,"number",eo,"scrollVerticalLineChange"),0>t&&s.ua(t,">= 0",eo,"scrollVerticalLineChange"),this.bx=t,this.i("scrollVerticalLineChange",e,t))}),s.defineProperty(eo,{U:"lastInput"},function(){return this.cc},function(t){r&&s.l(t,an,eo,"lastInput"),this.cc=t}),s.defineProperty(eo,{Pc:"firstInput"},function(){return this.aj},function(t){r&&s.l(t,an,eo,"firstInput"),this.aj=t}),s.defineProperty(eo,{sc:"currentCursor"},function(){return this.Sv},function(t){""===t&&(t=this.Mr);var e=this.Sv;if(e!==t){s.h(t,"string",eo,"currentCursor");var n=this.Ib,i=this.Ub;null!==n&&(this.Sv=t,n.style.cursor=t,i.style.cursor=t,n.style.cursor===e&&(n.style.cursor="-webkit-"+t,i.style.cursor="-webkit-"+t,n.style.cursor===e&&(n.style.cursor="-moz-"+t,i.style.cursor="-moz-"+t,n.style.cursor===e&&(n.style.cursor=t,i.style.cursor=t))))}}),s.defineProperty(eo,{zL:"defaultCursor"},function(){return this.Mr},function(t){""===t&&(t="auto");var e=this.Mr;e!==t&&(s.h(t,"string",eo,"defaultCursor"),this.Mr=t,this.i("defaultCursor",e,t))}),s.defineProperty(eo,{click:"click"},function(){return this.Ri},function(t){var e=this.Ri;e!==t&&(null!==t&&s.h(t,"function",eo,"click"),this.Ri=t,this.i("click",e,t))}),s.defineProperty(eo,{nu:"doubleClick"},function(){return this.Yi},function(t){var e=this.Yi;e!==t&&(null!==t&&s.h(t,"function",eo,"doubleClick"),this.Yi=t,this.i("doubleClick",e,t))}),s.defineProperty(eo,{MA:"contextClick"},function(){return this.Ti},function(t){var e=this.Ti;e!==t&&(null!==t&&s.h(t,"function",eo,"contextClick"),this.Ti=t,this.i("contextClick",e,t))}),s.defineProperty(eo,{FB:"mouseOver"},function(){return this.nj},function(t){var e=this.nj;e!==t&&(null!==t&&s.h(t,"function",eo,"mouseOver"),this.nj=t,this.i("mouseOver",e,t))}),s.defineProperty(eo,{EB:"mouseHover"},function(){return this.mj},function(t){var e=this.mj;e!==t&&(null!==t&&s.h(t,"function",eo,"mouseHover"),this.mj=t,this.i("mouseHover",e,t))}),s.defineProperty(eo,{DB:"mouseHold"},function(){return this.lj},function(t){var e=this.lj;e!==t&&(null!==t&&s.h(t,"function",eo,"mouseHold"),this.lj=t,this.i("mouseHold",e,t))}),s.defineProperty(eo,{TJ:"mouseDragOver"},function(){return this.Jw},function(t){var e=this.Jw;e!==t&&(null!==t&&s.h(t,"function",eo,"mouseDragOver"),this.Jw=t,this.i("mouseDragOver",e,t))}),s.defineProperty(eo,{CB:"mouseDrop"},function(){return this.kj},function(t){var e=this.kj;e!==t&&(null!==t&&s.h(t,"function",eo,"mouseDrop"),this.kj=t,this.i("mouseDrop",e,t))}),s.defineProperty(eo,{lC:"toolTip"},function(){return this.wj},function(t){var e=this.wj;e!==t&&(!r||null===t||t instanceof Lc||t instanceof lr||s.k("Diagram.toolTip must be an Adornment or HTMLInfo."),this.wj=t,this.i("toolTip",e,t))}),s.defineProperty(eo,{contextMenu:"contextMenu"},function(){return this.Ui},function(t){var e=this.Ui;e!==t&&(!r||t instanceof Lc||t instanceof lr||s.k("Diagram.contextMenu must be an Adornment or HTMLInfo."),this.Ui=t,this.i("contextMenu",e,t))}),s.defineProperty(eo,{yb:"commandHandler"},function(){return this.wz},function(t){var e=this.wz;e!==t&&(s.l(t,Gn,eo,"commandHandler"),null!==t.g&&s.k("Cannot share CommandHandlers between Diagrams: "+t.toString()),null!==e&&e.ad(null),this.wz=t,t.ad(this))}),s.defineProperty(eo,{ob:"toolManager"},function(){return this.wA},function(t){var e=this.wA;e!==t&&(s.l(t,xr,eo,"toolManager"),null!==t.g&&s.k("Cannot share ToolManagers between Diagrams: "+t.toString()),null!==e&&e.ad(null),this.wA=t,t.ad(this))}),s.defineProperty(eo,{mu:"defaultTool"},function(){return this.Cz},function(t){var e=this.Cz;e!==t&&(s.l(t,Yn,eo,"defaultTool"),this.Cz=t,this.eb===e&&(this.eb=t))}),s.defineProperty(eo,{eb:"currentTool"},function(){return this.zz},function(t){var e=this.zz;null!==e&&(e.wa&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.mu),null!==t&&(s.l(t,Yn,eo,"currentTool"),this.zz=t,t.ad(this),t.doStart())}),s.w(eo,{selection:"selection"},function(){return this.ix}),s.defineProperty(eo,{KJ:"maxSelectionCount"},function(){return this.Ew},function(t){if((e=this.Ew)!==t)if(s.h(t,"number",eo,"maxSelectionCount"),0<=t&&!isNaN(t)){if(this.Ew=t,this.i("maxSelectionCount",e,t),!this.na.ub&&0<(t=this.selection.count-t)){this.Ja("ChangingSelection");for(var e=this.selection.Fc(),n=0;n<t;n++)e[n].jb=!1;this.Ja("ChangedSelection")}}else s.ua(t,">= 0",eo,"maxSelectionCount")}),s.defineProperty(eo,{WJ:"nodeSelectionAdornmentTemplate"},function(){return this.Kw},function(t){var e=this.Kw;e!==t&&(s.l(t,Lc,eo,"nodeSelectionAdornmentTemplate"),this.Kw=t,this.i("nodeSelectionAdornmentTemplate",e,t))}),s.defineProperty(eo,{bJ:"groupSelectionAdornmentTemplate"},function(){return this.gw},function(t){var e=this.gw;e!==t&&(s.l(t,Lc,eo,"groupSelectionAdornmentTemplate"),this.gw=t,this.i("groupSelectionAdornmentTemplate",e,t))}),s.defineProperty(eo,{EJ:"linkSelectionAdornmentTemplate"},function(){return this.zw},function(t){var e=this.zw;e!==t&&(s.l(t,Lc,eo,"linkSelectionAdornmentTemplate"),this.zw=t,this.i("linkSelectionAdornmentTemplate",e,t))}),s.w(eo,{vm:"highlighteds"},function(){return this.kw}),s.defineProperty(eo,{Gi:"isModified"},function(){var t=this.na;return t.isEnabled?null!==t.Gj||this.qw&&this.rh!==t.Lj:this.qw},function(t){if(this.qw!==t){s.h(t,"boolean",eo,"isModified"),this.qw=t;var e=this.na;!t&&e.isEnabled&&(this.rh=e.Lj),t||Bo(this)}}),s.defineProperty(eo,{ea:"model"},function(){return this.ye},function(t){var e=this.ye;if(e!==t){s.l(t,un,eo,"model"),this.eb.doCancel(),null!==e&&e.na!==t.na&&e.na.jG&&s.k("Do not replace a Diagram.model while a transaction is in progress."),this.Ra.Yh(),this.Ix(),this.sh=!1,this.bp=!0,this.rh=-2,this.cg=!1;var n=this.je;this.je=!0,this.Ra.po("Model"),null!==e&&(null!==this.xh&&this.xh.each(function(t){e.gv(t)}),e.gv(this.WD),e instanceof En&&os(this,e.$g),os(this,e.qg)),this.ye=t,t.Bn(this.VD),Wo(this,t.qg),t instanceof En&&es(this,t.$g),t.gv(this.VD),t.Bn(this.WD),null!==this.xh&&this.xh.each(function(e){t.Bn(e)}),this.je=n,this.ed||this.ra(),null!==e&&(t.na.isEnabled=e.na.isEnabled)}}),s.defineProperty(eo,{ab:null},function(){return this.OD},function(t){this.OD=t}),s.w(eo,{ty:null},function(){return this.HH}),s.defineProperty(eo,{Xe:"skipsModelSourceBindings"},function(){return this.pE},function(t){this.pE=t}),s.defineProperty(eo,{rv:null},function(){return this.rA},function(t){this.rA=t}),eo.prototype.rebuildParts=eo.prototype.zm=function(){for(var t=this.JB.j;t.next();){var e=t.key;(!(n=t.value).qe()||n instanceof Tf)&&s.k('Invalid node template in Diagram.nodeTemplateMap: template for "'+e+'" must be a Node or a simple Part, not a Group or Link: '+n)}for(t=this.iB.j;t.next();)e=t.key,(n=t.value)instanceof Tf||s.k('Invalid group template in Diagram.groupTemplateMap: template for "'+e+'" must be a Group, not a normal Node or Link: '+n);for(t=this.xB.j;t.next();)e=t.key,(n=t.value)instanceof Kc||s.k('Invalid link template in Diagram.linkTemplateMap: template for "'+e+'" must be a Link, not a normal Node or simple Part: '+n);for(t=s.nb(),n=this.selection.j;n.next();)(e=n.value.data)&&t.push(e);for(var n=s.nb(),i=this.vm.j;i.next();)(e=i.value.data)&&n.push(e);for(e=s.nb(),i=this.rg.j;i.next();){var r=i.value;null!==r.data&&(e.push(r.data),e.push(r.location))}for(i=this.links.j;i.next();)null!==(r=i.value).data&&(e.push(r.data),e.push(r.location));for(i=this.Hi.j;i.next();)null!==(r=i.value).data&&(e.push(r.data),e.push(r.location));for((i=this.ea)instanceof En&&os(this,i.$g),os(this,i.qg),Wo(this,i.qg),i instanceof En&&es(this,i.$g),i=0;i<t.length;i++)null!==(r=this.Nh(t[i]))&&(r.jb=!0);for(i=0;i<n.length;i++)null!==(r=this.Nh(n[i]))&&(r.Zg=!0);for(i=0;i<e.length;i+=2)null!==(r=this.Nh(e[i]))&&(r.location=e[i+1]);s.ya(t),s.ya(n),s.ya(e)},eo.prototype.eB=function(t){return this.ea.eB(t)};var Zo=!1,Xo=!1;function Qo(t,e,n){var i=!1,r=t.ea;return r instanceof En&&(i=r.sB(e)),i?null===(e=t.iB.oa(n))&&null===(e=t.iB.oa(""))&&(Xo||(Xo=!0,s.trace('No Group template found for category "'+n+'"'),s.trace("  Using default group template")),e=t.eD):null===(e=t.JB.oa(n))&&null===(e=t.JB.oa(""))&&(Zo||(Zo=!0,s.trace('No Node template found for category "'+n+'"'),s.trace("  Using default node template")),e=t.gD),e}function $o(t,e){var n=t.ea;if(n instanceof En||n instanceof In){var i=n.zb(e);if(void 0!==i){var r=Mn(n,i),o=t.Nh(e);if(null!==r&&null!==o){for(r=r.j;r.next();){var a=r.value;if(n instanceof En){var l=n;if(l.ke(a)){if(o instanceof Tf&&l.Sn(a)===i){var h=o;null!==(a=t.Nh(a))&&(a.Ka=h)}}else{var u=t.gg(a);if(null!==u&&o instanceof Fc&&(h=o,l.tm(a)===i&&(u.$=h),l.um(a)===i&&(u.ba=h),a=l.$k(a),s.isArray(a)))for(l=0;l<s.cb(a);l++)if(s.La(a,l)===i){h.Xb=u;break}}}else n instanceof In&&(u=n).ke(a)&&o instanceof Fc&&(h=o,u.Un(a)===i&&ts(t,h,a=t.Xx(a)))}Tn(n,i)}n instanceof En?void 0!==(n=n.Sn(e))&&(n=t.Se(n))instanceof Tf&&(o.Ka=n):n instanceof In&&void 0!==(n=n.Un(e))&&o instanceof Fc&&(h=o,ts(t,o=t.Se(n),h))}}}function ts(t,e,n){if(null!==e&&null!==n){var i=t.ob.uG,r=e,o=n;if(t.ee){for(e=o.Od;e.next();)if(e.value.ba===o)return}else for(o=e,e=(r=n).Od;e.next();)if(e.value.$===r)return;if((null===i||!Xi(i,r,o,null,!0))&&null!==(e=rs(t,i=t.Bu(n.data)))&&(yl(e),null!==(e=e.copy()))){var s=t.Xe;t.Xe=!0,e.Pi=i,e.Sd=n.data,e.$=r,e.ba=o,t.add(e),e.Sd=null,e.data=n.data,t.Xe=s}}}function es(t,e){if(null!==e){for(var n=s.cb(e),i=0;i<n;i++)ns(t,s.La(e,i));us(t,!1)}}function ns(t,e){if(void 0!==e&&null!==e&&!t.na.ub&&!t.gk.contains(e)){var n=rs(t,i=t.Bu(e));if(null!==n&&(yl(n),null!==(n=n.copy()))){var i,r=t.Xe;if(t.Xe=!0,n.Pi=i,n.Sd=e,""!==(o=(i=t.ea).UI(e))&&(n.hg=o),void 0!==(o=i.tm(e))&&(o=t.Se(o))instanceof Fc&&(n.$=o),""!==(o=i.YI(e))&&(n.jh=o),void 0!==(o=i.um(e))&&(o=t.Se(o))instanceof Fc&&(n.ba=o),i=i.$k(e),s.isArray(i))for(var o=s.cb(i),a=0;a<o;a++){var l=s.La(i,a);null!==(l=t.Se(l))&&(l.Xb=n)}t.add(n),n.Sd=null,n.data=e,t.Xe=r}}}eo.prototype.Bu=function(t){var e=this.ea,n="";return e instanceof En?n=e.Bu(t):e instanceof In&&(n=e.WI(t)),n};var is=!1;function rs(t,e){var n=t.xB.oa(e);return null===n&&null===(n=t.xB.oa(""))&&(is||(is=!0,s.trace('No Link template found for category "'+e+'"'),s.trace("  Using default link template")),n=t.fD),n}function os(t,e){for(var n=s.cb(e),i=0;i<n;i++)ss(t,s.La(e,i))}function ss(t,e){if(void 0!==e&&null!==e){var n=t.Nh(e);if(null!==n){Lo(t,n,!1);var i=t.ea;if(i instanceof En&&n instanceof Fc){var r=i.zb(n.data);if(void 0!==r){for(var o=n.Od;o.next();)Cn(i,r,o.value.data);if(n.Lf&&null!==(o=n.Xb)&&Cn(i,r,o.data),n instanceof Tf)for(n=n.uc;n.next();)i.ke(o=n.value.data)&&Cn(i,r,o)}}else if(i instanceof In&&n instanceof Fc){if(null!==(o=t.gg(n.data))){o.jb=!1,o.Zg=!1;var s=o.layer;if(null!==s){var a=s.zf(-1,o,!1);0<=a&&t.od(ee,"parts",s,o,null,a,null),null!==(a=o.py)&&a(o,s,null)}}for(o=t.ee,n=n.Od;n.next();)s=n.value,i.ke(s=(o?s.ba:s.$).data)&&Cn(i,r,s)}}}}function as(t,e,n){for(var i in n){var r=e[i],o=n[i];if(s.isArray(o)){if(!s.isArray(r)||r.length<o.length)return!1;for(var a=0;a<r.length;a++){var l=o[a];if(void 0!==l&&!ls(t,r[a],l))return!1}}else if(!ls(t,r,o))return!1}return!0}function ls(t,e,n){if("function"==typeof n){if(!n(e))return!1}else if(n instanceof RegExp){if(!e||!n.test(e.toString()))return!1}else if(s.Qa(e)&&s.Qa(n)){if(!as(t,e,n))return!1}else if(e!==n)return!1;return!0}function hs(t,e){t.rk=!1;var n=t.Zv;n.O(e)||(e=e.V(),t.Zv=e,uo(t,!1),t.Ja("DocumentBoundsChanged",null,n.copy()),Ao(t))}function us(t,e){for(var n=t.$l.j;n.next();)cs(t,n.value,e);null!==t.Yb&&(e?t.Yb.Af=!1:t.Yb.L())}function cs(t,e,n){if(null!==e){for(var i=e.gn.j;i.next();)cs(t,i.value,n);null!==e.Yb&&(n?e.Yb.Af=!1:e.Yb.L())}}function fs(t,e){if(t.xl&&!t.Dz){var n=t.ab;t.ab=!0;try{var i=t.na.Ki;0===i&&t.Nb("Layout");var r=t.Ra;1>=i&&!r.of&&!r.zc&&(e||r.po("Layout")),t.xl=!1;for(var o=t.$l.j;o.next();)ps(t,o.value,e,i);var s=t.Yb;s.Af||(!e||s.mG||0===i?(s.doLayout(t),Co(t),s.Af=!0):t.xl=!0)}finally{0===i&&t.jd("Layout"),t.xl=!s.Af,t.ab=n}}}function ps(t,e,n,i){if(null!==e){for(var r=e.gn.j;r.next();)ps(t,r.value,n,i);null===(r=e.Yb)||r.Af||(!n||r.mG||0===i?(e.no=!e.location.H(),r.doLayout(e),e.L(Ah),To(t,e),r.Af=!0):t.xl=!0)}}function ds(t){function e(t){var e=t.toLowerCase(),r=new nt("function");n.add(t,r),n.add(e,r),i.add(t,t),i.add(e,t)}var n=new ut("string",nt),i=new ut("string","string");e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),t.Fz=n,t.Ez=i}function ys(t,e){var n=t.Ez.oa(e);return null!==n?n:t.Ez.oa(e.toLowerCase())}function vs(t,e){var n=t.Fz.oa(e);return null!==n?n:null!==(n=t.Fz.oa(e.toLowerCase()))?n:(s.k("Unknown DiagramEvent name: "+e),null)}function gs(t,e,n,i){if(null===t.Wd&&(t.Wd=new ff),t.Wd.vq||t.Wd.group!==n||t.Wd.gC!==i){if(null===n){(e=t.computeOccupiedArea()).ig(100,100),t.Wd.initialize(e),e=s.Sf();for(var r=t.rg;r.next();){var o=r.value,a=o.layer;null!==a&&a.visible&&!a.Yc&&ms(t,o,i,e)}}else for(0<n.uc.count&&((e=t.computePartsBounds(n.uc,!1)).ig(20,20),t.Wd.initialize(e)),e=s.Sf(),r=n.uc;r.next();)(o=r.value)instanceof Fc&&ms(t,o,i,e);s.Lb(e),t.Wd.group=n,t.Wd.gC=i,t.Wd.vq=!1}else e&&vf(t.Wd);return t.Wd}function ms(t,e,n,i){if(e!==n)if(e.isVisible()&&e.HA&&!e.Lf){n=e.getAvoidableRect(i),i=t.Wd.cq,e=t.Wd.aq;for(var r=n.x+n.width,o=n.y+n.height,s=n.x;s<r;s+=i){for(var a=n.y;a<o;a+=e)yf(t.Wd,s,a);yf(t.Wd,s,o)}for(a=n.y;a<o;a+=e)yf(t.Wd,r,a);yf(t.Wd,r,o)}else if(e instanceof Tf)for(e=e.uc;e.next();)(r=e.value)instanceof Fc&&ms(t,r,n,i)}function bs(t){-1!==t.Io&&(s.clearTimeout(t.Io),t.Io=-1)}function xs(t,e){var n=t.position,i=t.dF;if(0>=i.top&&0>=i.left&&0>=i.right&&0>=i.bottom)return n;var r=t.scale,o=s.vg(0,0,(o=t.wb).width*r,o.height*r),a=s.Fb(0,0);if(e.x>=o.x&&e.x<o.x+i.left){var l=Math.max(t.lv,1);a.x-=l|=0,e.x<o.x+i.left/2&&(a.x-=l),e.x<o.x+i.left/4&&(a.x-=4*l)}else e.x<=o.x+o.width&&e.x>o.x+o.width-i.right&&(l=Math.max(t.lv,1),a.x+=l|=0,e.x>o.x+o.width-i.right/2&&(a.x+=l),e.x>o.x+o.width-i.right/4&&(a.x+=4*l));return e.y>=o.y&&e.y<o.y+i.top?(l=Math.max(t.mv,1),a.y-=l|=0,e.y<o.y+i.top/2&&(a.y-=l),e.y<o.y+i.top/4&&(a.y-=4*l)):e.y<=o.y+o.height&&e.y>o.y+o.height-i.bottom&&(l=Math.max(t.mv,1),a.y+=l|=0,e.y>o.y+o.height-i.bottom/2&&(a.y+=l),e.y>o.y+o.height-i.bottom/4&&(a.y+=4*l)),a.Wc(ie)||(n=new ft(n.x+a.x/r,n.y+a.y/r)),s.Lb(o),s.A(a),n}eo.prototype.findPartForKey=eo.prototype.NI=function(t){if(null===t||void 0===t)return null;var e=this.ea.Ie(t);return null!==e?this.Vi.oa(e):this.ea instanceof En&&null!==(e=this.ea.oq(t))?this.gk.oa(e):null},eo.prototype.findNodeForKey=eo.prototype.Se=function(t){return null===t||void 0===t?null:null===(t=this.ea.Ie(t))?null:(t=this.Vi.oa(t))instanceof Fc?t:null},eo.prototype.findPartForData=eo.prototype.Nh=function(t){if(null===t)return null;var e=this.Vi.oa(t);return null!==e?e:e=this.gk.oa(t)},eo.prototype.findNodeForData=eo.prototype.Xx=function(t){return null===t?null:(t=this.Vi.oa(t))instanceof Fc?t:null},eo.prototype.findLinkForData=eo.prototype.gg=function(t){return null===t?null:this.gk.oa(t)},eo.prototype.findNodesByExample=function(t){for(var e=new rt(Fc),n=this.Ap.j;n.next();){var i=n.value,r=i.data;if(null!==r)for(var o=0;o<arguments.length;o++){var a=arguments[o];if(s.Qa(a)&&as(this,r,a)){e.add(i);break}}}return e.j},eo.prototype.findLinksByExample=function(t){for(var e=new rt(Kc),n=this.tp.j;n.next();){var i=n.value,r=i.data;if(null!==r)for(var o=0;o<arguments.length;o++){var a=arguments[o];if(s.Qa(a)&&as(this,r,a)){e.add(i);break}}}return e.j},s.defineProperty(eo,{mM:"nodeTemplate"},function(){return this.oj.oa("")},function(t){var e=this.oj.oa("");e!==t&&(s.l(t,Dh,eo,"nodeTemplate"),this.oj.add("",t),this.i("nodeTemplate",e,t),this.na.ub||this.zm())}),s.defineProperty(eo,{JB:"nodeTemplateMap"},function(){return this.oj},function(t){var e=this.oj;e!==t&&(s.l(t,ut,eo,"nodeTemplateMap"),this.oj=t,this.i("nodeTemplateMap",e,t),this.na.ub||this.zm())}),s.defineProperty(eo,{SL:"groupTemplate"},function(){return this.El.oa("")},function(t){var e=this.El.oa("");e!==t&&(s.l(t,Tf,eo,"groupTemplate"),this.El.add("",t),this.i("groupTemplate",e,t),this.na.ub||this.zm())}),s.defineProperty(eo,{iB:"groupTemplateMap"},function(){return this.El},function(t){var e=this.El;e!==t&&(s.l(t,ut,eo,"groupTemplateMap"),this.El=t,this.i("groupTemplateMap",e,t),this.na.ub||this.zm())}),s.defineProperty(eo,{aM:"linkTemplate"},function(){return this.xk.oa("")},function(t){var e=this.xk.oa("");e!==t&&(s.l(t,Kc,eo,"linkTemplate"),this.xk.add("",t),this.i("linkTemplate",e,t),this.na.ub||this.zm())}),s.defineProperty(eo,{xB:"linkTemplateMap"},function(){return this.xk},function(t){var e=this.xk;e!==t&&(s.l(t,ut,eo,"linkTemplateMap"),this.xk=t,this.i("linkTemplateMap",e,t),this.na.ub||this.zm())}),s.defineProperty(eo,{rJ:null},function(){return this.th},function(t){this.th=t}),s.defineProperty(eo,{pf:"isMouseCaptured"},function(){return this.LD},function(t){var n=this.Ib;null!==n&&(t?(this.U.bubbles=!1,this.mz?(n.removeEventListener("pointermove",this.Kq,!1),n.removeEventListener("pointerdown",this.Jq,!1),n.removeEventListener("pointerup",this.Mq,!1),n.removeEventListener("pointerout",this.Lq,!1),e.addEventListener("pointermove",this.Kq,!0),e.addEventListener("pointerdown",this.Jq,!0),e.addEventListener("pointerup",this.Mq,!0),e.addEventListener("pointerout",this.Lq,!0)):(n.removeEventListener("mousemove",this.jo,!1),n.removeEventListener("mousedown",this.io,!1),n.removeEventListener("mouseup",this.lo,!1),n.removeEventListener("mouseout",this.ko,!1),e.addEventListener("mousemove",this.jo,!0),e.addEventListener("mousedown",this.io,!0),e.addEventListener("mouseup",this.lo,!0),e.addEventListener("mouseout",this.ko,!0)),n.removeEventListener("wheel",this.mo,!1),e.addEventListener("wheel",this.mo,!0),e.addEventListener("selectstart",this.preventDefault,!1)):(this.mz?(e.removeEventListener("pointermove",this.Kq,!0),e.removeEventListener("pointerdown",this.Jq,!0),e.removeEventListener("pointerup",this.Mq,!0),e.removeEventListener("pointerout",this.Lq,!0),n.addEventListener("pointermove",this.Kq,!1),n.addEventListener("pointerdown",this.Jq,!1),n.addEventListener("pointerup",this.Mq,!1),n.addEventListener("pointerout",this.Lq,!1)):(e.removeEventListener("mousemove",this.jo,!0),e.removeEventListener("mousedown",this.io,!0),e.removeEventListener("mouseup",this.lo,!0),e.removeEventListener("mouseout",this.ko,!0),n.addEventListener("mousemove",this.jo,!1),n.addEventListener("mousedown",this.io,!1),n.addEventListener("mouseup",this.lo,!1),n.addEventListener("mouseout",this.ko,!1)),e.removeEventListener("wheel",this.mo,!0),e.removeEventListener("selectstart",this.preventDefault,!1),n.addEventListener("wheel",this.mo,!1)),this.LD=t)}),s.defineProperty(eo,{position:"position"},function(){return this.sb},function(t){var e=this.sb;if(!e.O(t)){s.l(t,ft,eo,"position");var n=this.wb.copy();if(t=t.copy(),!this.ed&&null!==this.Ib){this.ed=!0;var i=this.scale;fo(this,t,this.kd,this.Pb/i,this.Tb/i,this.No,!1),this.ed=!1}this.sb=t.V(),(t=this.Ra).zc&&Dr(t,e,this.sb),this.ed||this.dv(n,this.wb,this.Db,this.Db,!1)}}),s.defineProperty(eo,{iJ:"initialPosition"},function(){return this.mw},function(t){this.mw.O(t)||(s.l(t,ft,eo,"initialPosition"),this.mw=t.V())}),s.defineProperty(eo,{jJ:"initialScale"},function(){return this.nw},function(t){this.nw!==t&&(s.h(t,"number",eo,"initialScale"),this.nw=t)}),s.defineProperty(eo,{Vn:"grid"},function(){return null===this.Ed&&so(this),this.Ed},function(t){var e=this.Ed;if(e!==t){null===e&&(so(this),e=this.Ed),s.l(t,tl,eo,"grid"),t.type!==Za&&s.k("Diagram.grid must be a Panel of type Panel.Grid");var n=e.R;null!==n&&n.remove(e),this.Ed=t,t.name="GRID",null!==n&&n.add(t),Ro(this),this.ra(),this.i("grid",e,t)}}),s.w(eo,{wb:"viewportBounds"},function(){var t=this.ME;if(null===this.Ib)return t;var e=this.sb,n=this.Db;return t.n(e.x,e.y,Math.max(this.Pb,0)/n,Math.max(this.Tb,0)/n),t}),s.defineProperty(eo,{LF:"fixedBounds"},function(){return this.ew},function(t){var e=this.ew;e.O(t)||(s.l(t,vt,eo,"fixedBounds"),(r&&1/0===t.width||-1/0===t.width||1/0===t.height||-1/0===t.height)&&s.k("fixedBounds width/height must not be Infinity"),this.ew=t=t.V(),this.Qc(),this.i("fixedBounds",e,t))}),s.defineProperty(eo,{Ny:"scrollMargin"},function(){return this.Zw},function(t){"number"==typeof t?t=new Pt(t):s.l(t,Pt,eo,"scrollMargin");var e=this.Zw;e.O(t)||(this.Zw=t=t.V(),this.i("scrollMargin",e,t),this.ro())}),s.defineProperty(eo,{VB:"scrollMode"},function(){return this.$w},function(t){var e=this.$w;e!==t&&(s.Da(t,eo,eo,"scrollMode"),this.$w=t,t===Kr&&uo(this,!1),this.i("scrollMode",e,t))}),s.defineProperty(eo,{oK:"scrollsPageOnFocus"},function(){return this.ex},function(t){var e=this.ex;e!==t&&(s.h(t,"boolean",eo,"scrollsPageOnFocus"),this.ex=t,this.i("scrollsPageOnFocus",e,t))}),s.defineProperty(eo,{GG:"positionComputation"},function(){return this.Uw},function(t){var e=this.Uw;e!==t&&(null!==t&&s.h(t,"function",eo,"positionComputation"),this.Uw=t,uo(this,!1),this.i("positionComputation",e,t))}),s.defineProperty(eo,{VG:"scaleComputation"},function(){return this.Ww},function(t){var e=this.Ww;e!==t&&(null!==t&&s.h(t,"function",eo,"scaleComputation"),this.Ww=t,Io(this,this.scale,this.scale),this.i("scaleComputation",e,t))}),s.w(eo,{kd:"documentBounds"},function(){return this.Zv}),s.defineProperty(eo,{uB:"isVirtualized"},function(){return this.uw},function(t){var e=this.uw;e!==t&&(s.h(t,"boolean",eo,"isVirtualized"),this.uw=t,this.i("isVirtualized",e,t))}),s.defineProperty(eo,{scale:"scale"},function(){return this.Db},function(t){var e=this.Db;s.p(t,eo,"scale"),e!==t&&Io(this,e,t)}),s.defineProperty(eo,{im:"autoScale"},function(){return this.Nm},function(t){var e=this.Nm;e!==t&&(s.Da(t,eo,eo,"autoScale"),this.Nm=t,this.i("autoScale",e,t),t!==Ir&&uo(this,!1))}),s.defineProperty(eo,{VL:"initialAutoScale"},function(){return this.Il},function(t){var e=this.Il;e!==t&&(s.Da(t,eo,eo,"initialAutoScale"),this.Il=t,this.i("initialAutoScale",e,t))}),s.defineProperty(eo,{kJ:"initialViewportSpot"},function(){return this.ow},function(t){var e=this.ow;e!==t&&(s.l(t,Ct,eo,"initialViewportSpot"),t.Xc()||s.k("initialViewportSpot must be a specific Spot: "+t),this.ow=t,this.i("initialViewportSpot",e,t))}),s.defineProperty(eo,{hJ:"initialDocumentSpot"},function(){return this.lw},function(t){var e=this.lw;e!==t&&(s.l(t,Ct,eo,"initialDocumentSpot"),t.Xc()||s.k("initialViewportSpot must be a specific Spot: "+t),this.lw=t,this.i("initialDocumentSpot",e,t))}),s.defineProperty(eo,{Sh:"minScale"},function(){return this.Gw},function(t){s.p(t,eo,"minScale");var e=this.Gw;e!==t&&(0<t?(this.Gw=t,this.i("minScale",e,t),t>this.scale&&(this.scale=t)):s.ua(t,"> 0",eo,"minScale"))}),s.defineProperty(eo,{Rh:"maxScale"},function(){return this.Dw},function(t){s.p(t,eo,"maxScale");var e=this.Dw;e!==t&&(0<t?(this.Dw=t,this.i("maxScale",e,t),t<this.scale&&(this.scale=t)):s.ua(t,"> 0",eo,"maxScale"))}),s.defineProperty(eo,{Jm:"zoomPoint"},function(){return this.wx},function(t){this.wx.O(t)||(s.l(t,ft,eo,"zoomPoint"),this.wx=t=t.V())}),s.defineProperty(eo,{LA:"contentAlignment"},function(){return this.No},function(t){var e=this.No;e.O(t)||(s.l(t,Ct,eo,"contentAlignment"),this.No=t=t.V(),this.i("contentAlignment",e,t),uo(this,!1))}),s.defineProperty(eo,{WL:"initialContentAlignment"},function(){return this.hp},function(t){var e=this.hp;e.O(t)||(s.l(t,Ct,eo,"initialContentAlignment"),this.hp=t=t.V(),this.i("initialContentAlignment",e,t))}),s.defineProperty(eo,{padding:"padding"},function(){return this.uf},function(t){"number"==typeof t?t=new Pt(t):s.l(t,Pt,eo,"padding");var e=this.uf;e.O(t)||(this.uf=t=t.V(),this.Qc(),this.i("padding",e,t))}),s.w(eo,{rg:"nodes"},function(){return this.Ap.j}),s.w(eo,{links:"links"},function(){return this.tp.j}),s.w(eo,{Hi:"parts"},function(){return this.rb.j}),eo.prototype.findTopLevelNodesAndLinks=function(){for(var t=new rt(Dh),e=this.Ap.j;e.next();){var n=e.value;n.Bq&&t.add(n)}for(e=this.tp.j;e.next();)(n=e.value).Bq&&t.add(n);return t.j},eo.prototype.findTopLevelGroups=function(){return this.$l.j},s.defineProperty(eo,{Yb:"layout"},function(){return this.we},function(t){var e=this.we;e!==t&&(s.l(t,Af,eo,"layout"),null!==e&&(e.g=null,e.group=null),this.we=t,t.g=this,t.group=null,this.xl=!0,this.i("layout",e,t),this.Ve())}),eo.prototype.layoutDiagram=function(t){Co(this),t&&us(this,!0),fs(this,!1)},s.defineProperty(eo,{ee:"isTreePathToChildren"},function(){return this.tw},function(t){var e=this.tw;if(e!==t&&(s.h(t,"boolean",eo,"isTreePathToChildren"),this.tw=t,this.i("isTreePathToChildren",e,t),!this.na.ub))for(t=this.rg;t.next();)Gc(t.value)}),eo.prototype.findTreeRoots=function(){for(var t=new nt(Fc),e=this.rg;e.next();){var n=e.value;n.Bq&&null===n.Qn()&&t.add(n)}return t.j},s.defineProperty(eo,{rC:"treeCollapsePolicy"},function(){return this.qx},function(t){var e=this.qx;e!==t&&(t!==Wr&&t!==Yr&&t!==Zr&&s.k("Unknown Diagram.treeCollapsePolicy: "+t),this.qx=t,this.i("treeCollapsePolicy",e,t))}),s.defineProperty(eo,{Ph:null},function(){return this.CD},function(t){this.CD=t}),eo.prototype.addDiagramListener=eo.prototype.xx=function(t,e){s.h(t,"string",eo,"addDiagramListener:name"),s.h(e,"function",eo,"addDiagramListener:listener");var n=vs(this,t);null!==n&&n.add(e)},eo.prototype.removeDiagramListener=eo.prototype.QB=function(t,e){s.h(t,"string",eo,"removeDiagramListener:name"),s.h(e,"function",eo,"addDiagramListener:listener");var n=vs(this,t);null!==n&&n.remove(e)},eo.prototype.raiseDiagramEvent=eo.prototype.Ja=function(t,e,n){r&&s.h(t,"string",eo,"raiseDiagramEvent:name");var i=vs(this,t),o=new ln;if(o.g=this,null!==(t=ys(this,t))&&(o.name=t),void 0!==e&&(o.hC=e),void 0!==n&&(o.LB=n),1===(e=i.length))(i=i.fa(0))(o);else if(0!==e)for(n=i.Fc(),t=0;t<e;t++)(i=n[t])(o);return o.cancel},eo.prototype.isUnoccupied=eo.prototype.Dq=function(t,e){return void 0===e&&(e=null),gs(this,!1,null,e).Dq(t.x,t.y,t.width,t.height)},eo.prototype.computeOccupiedArea=function(){return this.uB?this.wb.copy():this.rk?ho(this):this.kd.copy()},eo.invalidatePositionArray=eo.prototype.oB=function(t){null!==this.Wd&&!this.Wd.vq&&(void 0===t&&(t=null),null===t||t.HA&&!t.Lf)&&(this.Wd.vq=!0)},eo.prototype.simulatedMouseMove=function(t,e,n){if(null!==Ui){var i=Ui.g;n instanceof eo||(n=null);var r=Ki;return n!==r&&(null!==r&&r!==i&&null!==r.ob.Ge&&(bs(r),Ui.gy=!1,r.ob.Ge.doSimulatedDragLeave()),Ki=n,null!==n&&n!==i&&null!==n.ob.Ge&&(ni(),Hi.contains(r=n.ob.Ge)||Hi.add(r),n.ob.Ge.doSimulatedDragEnter())),!(null===n||n===i||!n.XE||n.qb||!n.Zp||(null!==(i=n.ob.Ge)&&(null!==t?e=n.dp(t):null===e&&(e=new ft),n.cc.ha=e,n.cc.Vk=!1,n.cc.up=!1,i.doSimulatedDragOver()),0))}return!1},eo.prototype.simulatedMouseUp=function(t,e,n,i){if(null!==Ui){if(null===i&&(i=e),i!==(e=Ki)){if(null!==e&&e!==Ui.g&&null!==e.ob.Ge)return bs(e),Ui.gy=!1,e.ob.Ge.doSimulatedDragLeave(),!1;Ki=i,null!==i&&null!==i.ob.Ge&&(ni(),Hi.contains(e=i.ob.Ge)||Hi.add(e),i.ob.Ge.doSimulatedDragEnter())}if(null===i)return Ui.doCancel(),!0;if(i!==this)return null!==t&&(n=i.dp(t)),i.cc.ha=n,i.cc.Vk=!1,i.cc.up=!0,null!==(t=i.ob.Ge)&&t.doSimulatedDrop(),null!==(t=Ui)&&(i=t.mayCopy(),t.Tf=i?"Copy":"Move",t.stopTool()),!0}return!1},s.defineProperty(eo,{oL:"autoScrollInterval"},function(){return this.pr},function(t){var e=this.pr;s.p(t,eo,"scale"),e!==t&&(this.pr=t,this.i("autoScrollInterval",e,t))}),s.defineProperty(eo,{dF:"autoScrollRegion"},function(){return this.Lv},function(t){"number"==typeof t?t=new Pt(t):s.l(t,Pt,eo,"autoScrollRegion");var e=this.Lv;e.O(t)||(this.Lv=t=t.V(),this.Qc(),this.i("autoScrollRegion",e,t))}),eo.prototype.doAutoScroll=eo.prototype.UA=function(t){this.Kv.assign(t),xs(this,this.Kv).Wc(this.position)?bs(this):function t(e){-1===e.Io&&(e.Io=s.setTimeout(function(){if(-1!==e.Io){bs(e);var n=e.U.event;if(null!==n){var i=xs(e,e.Kv);i.Wc(e.position)||(e.position=i,e.U.ha=e.qC(e.Kv),i=vo(n),e.simulatedMouseMove(n,null,i)||e.doMouseMove(),e.rk=!0,hs(e,e.Kh()),e.Oe=!0,e.lg(),t(e))}}},e.pr))}(this)},eo.prototype.makeSvg=eo.prototype.makeSVG=function(t){return void 0===t&&(t=new h),t.context="svg",null!==(t=Ns(this,t))?t.Em:null},eo.prototype.makeImage=function(t){void 0===t&&(t=new h);var e=(t.document||document).createElement("img");return e.src=this.FJ(t),e},eo.prototype.makeImageData=eo.prototype.FJ=function(t){void 0===t&&(t=new h);var e,n=Ns(this,t);if(null!==n)switch(e=void 0===(e=t.returnType)?"string":e.toLowerCase()){case"imagedata":return n.Tk.getImageData(0,0,n.width,n.height);case"blob":if(n=n.$d,"function"!=typeof(e=t.callback)){s.k('Error: Diagram.makeImageData called with "returnType: toBlob", but no "callback" function property defined.');break}if("function"==typeof n.toBlob)return n.toBlob(e,t.type,t.details),"toBlob";if("function"==typeof n.msToBlob)return e(n.msToBlob()),"msToBlob";e(null);break;default:return n.toDataURL(t.type,t.details)}return""};var ws,ks,Ps,Ss,Cs,Ts,Ms=!1;function Ns(t,e){if(t.Ra.Yh(),t.lg(),null===t.Ib)return null;"object"!=typeof e&&s.k("properties argument must be an Object.");var n=!1,i=e.size||null,r=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(r="NaN");var o=e.maxSize;void 0===e.maxSize&&(n=!0,o="svg"===e.context?new yt(1/0,1/0):new yt(2e3,2e3));var a=e.position||null,l=e.parts||null,h=void 0===e.padding?1:e.padding,u=e.background||null,c=e.omitTemporary;void 0===c&&(c=!0);var f=e.document||document,p=e.elementFinished||null,d=e.showTemporary;void 0===d&&(d=!c),void 0===(c=e.showGrid)&&(c=d),null!==i&&isNaN(i.width)&&isNaN(i.height)&&(i=null),"number"==typeof h?h=new Pt(h):h instanceof Pt||(h=new Pt(0)),h.left=Math.max(h.left,0),h.right=Math.max(h.right,0),h.top=Math.max(h.top,0),h.bottom=Math.max(h.bottom,0),t.dd.De(!0);var y=new Rt(null,f),v=y.Tk;if(!(i||r||l||a))return y.width=t.Pb+Math.ceil(h.left+h.right),y.height=t.Tb+Math.ceil(h.top+h.bottom),"svg"===e.context?(Mo(t,v=new _t(y.$d,f,p),h,new yt(y.width,y.height),t.Db,t.sb,l,u,d,c),v):(t.Ur=!1,Mo(t,v,h,new yt(y.width,y.height),t.Db,t.sb,l,u,d,c),t.Ur=!0,y);var g=t.yb.Ox,m=new ft(0,0),b=t.kd.copy();if(b.zK(t.padding),d)for(var x=!0,w=(x=t.dc.o).length,k=0;k<w;k++)if((P=x[k]).visible&&P.Yc)for(var P,S=(P=P.rb.o).length,C=0;C<S;C++){var T=P[C];T.hy&&T.isVisible()&&(T=T.aa).H()&&b.Zh(T)}if(m.x=b.x,m.y=b.y,null!==l){var M;for(x=!0,(w=l.j).reset();w.next();)(T=w.value)instanceof Dh&&(null!==(P=T.layer)&&!P.visible||null!==P&&!d&&P.Yc||!T.isVisible()||(T=T.aa).H()&&(x?(x=!1,M=T.copy()):M.Zh(T)));x&&(M=new vt(0,0,0,0)),b.width=M.width,b.height=M.height,m.x=M.x,m.y=M.y}return null!==a&&a.H()&&(m=a,r||(r=g)),x=T=0,null!==h&&(T=h.left+h.right,x=h.top+h.bottom),k=w=0,null!==i&&(w=i.width,k=i.height,isFinite(w)&&(w=Math.max(0,w-T)),isFinite(k)&&(k=Math.max(0,k-x))),M=a=0,null!==i&&null!==r?("NaN"===r&&(r=g),i.H()?(a=w,M=k):isNaN(k)?(a=w,M=b.height*r):(a=b.width*r,M=k)):null!==i?i.H()?(r=Math.min(w/b.width,k/b.height),a=w,M=k):isNaN(k)?(a=w,M=b.height*(r=w/b.width)):(a=b.width*(r=k/b.height),M=k):null!==r?"NaN"===r&&o.H()?(r=Math.min((o.width-T)/b.width,(o.height-x)/b.height))>g?(r=g,a=b.width,M=b.height):(a=o.width,M=o.height):(a=b.width*r,M=b.height*r):(r=g,a=b.width,M=b.height),null!==h?(a+=T,M+=x):h=new Pt(0),null!==o&&(i=o.width,o=o.height,"svg"!==e.context&&n&&!Ms&&(a>i||M>o)&&(s.trace("Diagram.makeImage(data): Diagram width or height is larger than the default max size. ("+Math.ceil(a)+"x"+Math.ceil(M)+" vs 2000x2000) Consider increasing the max size."),Ms=!0),isNaN(i)&&(i=2e3),isNaN(o)&&(o=2e3),isFinite(i)&&(a=Math.min(a,i)),isFinite(o)&&(M=Math.min(M,o))),y.width=Math.ceil(a),y.height=Math.ceil(M),"svg"===e.context?(Mo(t,v=new _t(y.$d,f,p),h,new yt(Math.ceil(a),Math.ceil(M)),r,m,l,u,d,c),v):(t.Ur=!1,Mo(t,v,h,new yt(Math.ceil(a),Math.ceil(M)),r,m,l,u,d,c),t.Ur=!0,y)}function js(){this.wE=null,this.RH="63ad05bbe23a1786468a4c741b6d2",this.Zi=this.RH===this._tk||null}function As(t,n){void 0!==n&&null!==n||s.k("Diagram setup requires an argument DIV."),null!==t.Ub&&s.k("Diagram has already completed setup."),"string"==typeof n?t.Ub=e.document.getElementById(n):n instanceof HTMLDivElement?t.Ub=n:s.k("No DIV or DIV id supplied: "+n),null===t.Ub&&s.k("Invalid DIV id; could not get element with id: "+n),void 0!==t.Ub.ca&&s.k("Invalid div id; div already has a Diagram associated with it."),"static"===e.getComputedStyle(t.Ub,null).position&&(t.Ub.style.position="relative"),t.Ub.style["-webkit-tap-highlight-color"]="rgba(255, 255, 255, 0)",t.Ub.style["-ms-touch-action"]="none",t.Ub.innerHTML="",t.Ub.ca=t,(r=new Rt(t)).$d.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",void 0!==r.style&&(r.style.position="absolute",r.style.top="0px",r.style.left="0px","rtl"===e.getComputedStyle(t.Ub,null).getPropertyValue("direction")&&(t.rs=!0),r.style.zIndex="2",r.style.QM="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none"),t.Pb=t.Ub.clientWidth||1,t.Tb=t.Ub.clientHeight||1,t.Ib=r,t.dd=r.Tk;var i=t.dd;t.ud=t.computePixelRatio(),Eo(t,t.Pb,t.Tb),t.aw=i[s.Wg("7eba17a4ca3b1a8346")][s.Wg("78a118b7")](i,s.Im,4,4),t.Ub.insertBefore(r.$d,t.Ub.firstChild),(r=new Rt(null)).width=1,r.height=1,t.Iz=r,t.rD=r.Tk;var r=s.createElement("div"),o=s.createElement("div");r.style.position="absolute",r.style.overflow="auto",r.style.width=t.Pb+"px",r.style.height=t.Tb+"px",r.style.zIndex="1",o.style.position="absolute",o.style.width="1px",o.style.height="1px",t.Ub.appendChild(r),r.appendChild(o),r.onscroll=ao,r.onmousedown=lo,r.ontouchstart=lo,r.ca=t,r.NH=!0,r.OH=!0,t.ax=r,t.yt=o,t.Gy=s.oF(function(){t.Hk=null,t.ra()},300,!1),t.vC=s.oF(function(){ro(t)},250,!1),t.preventDefault=function(t){return t.preventDefault(),!1},t.jo=function(e){if(t.isEnabled){t.th=!0;var n=t.Hd;s.Xn&&n.Qj?(e.preventDefault(),e.simulated=!0,t.Ht=e):(t.Hd=t.cc,t.cc=n,yo(t,t,e,n,!0),t.simulatedMouseMove(e,null,e.target.ca)||(t.doMouseMove(),t.eb.isBeyondDragSize()&&(t.ji=0),bo(t,n,e)))}},t.io=function(e){if(t.isEnabled){t.th=!0;var n=t.Hd;s.Xn&&null!==t.Ht?(t.Ht=e,e.preventDefault()):s.Xn&&400>e.timeStamp-t.wk?e.preventDefault():t.uk?e.preventDefault():(t.Hd=t.cc,t.cc=n,yo(t,t,e,n,!0),n.Vk=!0,n.Ee=e.detail,(s.zq||s.Aq)&&(e.timeStamp-t.wk<t.yA&&!t.eb.isBeyondDragSize()?t.ji++:t.ji=1,t.wk=e.timeStamp,n.Ee=t.ji),t.aj=n,!0===n.$r.simulated?(e.preventDefault(),e.simulated=!0):(Ui=null,t.doMouseDown(),t.aj=t.aj.copy(),1===e.button?e.preventDefault():bo(t,n,e)))}},t.lo=function(e){if(t.isEnabled)if(t.uk&&2===e.button)e.preventDefault();else if(t.uk&&0===e.button&&(t.uk=!1),t.Sp)e.preventDefault();else{t.th=!0;var n=t.Hd;if(s.Xn){if(400>e.timeStamp-t.wk)return void e.preventDefault();t.wk=e.timeStamp}s.Xn&&null!==t.Ht?(t.Ht=null,e.preventDefault()):(t.Hd=t.cc,t.cc=n,yo(t,t,e,n,!0),n.up=!0,n.Ee=e.detail,(s.zq||s.Aq)&&(n.Ee=t.ji),n.bubbles=e.bubbles,n.Qf=vo(e),t.simulatedMouseUp(e,null,new ft,n.Qf)||(t.doMouseUp(),bs(t),bo(t,n,e)))}},t.mo=function(e){if(t.isEnabled){var n=t.Hd;t.Hd=t.cc,t.cc=n,yo(t,t,e,n,!0),n.bubbles=!0;var i=0,r=0;void 0!==e.wheelDelta&&(r=0<e.wheelDelta?1:-1),void 0!==e.wheelDeltaY&&(r=0<e.wheelDeltaY?1:-1),void 0!==e.wheelDeltaX&&(i=0<e.wheelDeltaX?1:-1),void 0!==e.deltaY&&(r=0<e.deltaY?1:-1),void 0!==e.deltaX&&(i=0<e.deltaX?1:-1),n.Uk=0===r?-i:-r,t.doMouseWheel(),bo(t,n,e)}},t.ko=function(){if(t.isEnabled){t.th=!1;var e=t.eb;e.cancelWaitAfter(),e.standardMouseOver()}},t.oC=function(e){if(t.isEnabled){t.Sp=!1,t.uk=!0;var n=go(t,e,e.targetTouches[0],1<e.touches.length);t.doMouseDown(),bo(t,n,e)}},t.nC=function(e){if(t.isEnabled){var n=null;0<e.targetTouches.length?n=e.targetTouches[0]:0<e.changedTouches.length&&(n=e.changedTouches[0]);var i=mo(t,e,n,1<e.touches.length);t.simulatedMouseMove(n||e,null,i.Qf)||t.doMouseMove(),bo(t,i,e)}},t.mC=function(n){if(t.isEnabled)if(t.Sp)n.preventDefault();else if(!(1<n.touches.length)){var i=null,r=null;0<n.targetTouches.length?r=n.targetTouches[0]:0<n.changedTouches.length&&(r=n.changedTouches[0]);var o=t.Hd;if(t.Hd=t.cc,t.cc=o,o.g=t,o.Ee=1,null!==r){null!==(i=e.document.elementFromPoint(r.clientX,r.clientY))&&i.ca instanceof eo&&i.ca!==t&&xo(i.ca,r,o),xo(t,r,o);var s=r.screenX,a=r.screenY,l=t.ww;n.timeStamp-t.wk<t.yA&&!(25<Math.abs(l.x-s)||25<Math.abs(l.y-a))?t.ji++:t.ji=1,o.Ee=t.ji,t.wk=n.timeStamp,t.ww.n(s,a)}s=0,n.ctrlKey&&(s+=1),n.altKey&&(s+=2),n.shiftKey&&(s+=4),n.metaKey&&(s+=8),o.xd=s,o.button=0,o.buttons=1,o.Vk=!1,o.up=!0,o.Uk=0,o.Cc=!1,o.bubbles=!1,o.event=n,o.timestamp=Date.now(),o.Qf=null===i?vo(n):i.ca?i.ca:null,o.Ne=null,t.simulatedMouseUp(r||n,null,new ft,o.Qf)||t.doMouseUp(),bo(t,o,n),t.uk=!1}},t.Jq=function(e){if(t.isEnabled){t.th=!0,void 0===(n=t.jA)[e.pointerId]&&(n[e.pointerId]=e);var n,i=!1;if(null!==(n=t.Dp)[0]&&n[0].pointerId===e.pointerId)n[0]=e;else if(null!==n[1]&&n[1].pointerId===e.pointerId)n[1]=e,i=!0;else if(null===n[0])n[0]=e;else{if(null!==n[1])return void e.preventDefault();n[1]=e,i=!0}"touch"!==e.pointerType&&"pen"!==e.pointerType||(t.Sp=!1,t.uk=!0),n=go(t,e,e,i),"touch"!==e.pointerType&&(n.button=e.button,void 0===e.buttons||s.Mu||(n.buttons=e.buttons),s.Qh&&0===e.button&&e.ctrlKey&&(n.button=2)),t.doMouseDown(),1===e.button?e.preventDefault():bo(t,n,e)}},t.Kq=function(e){if(t.isEnabled){t.th=!0;var n=t.Dp;if(null!==n[0]&&n[0].pointerId===e.pointerId)n[0]=e;else{if(null!==n[1]&&n[1].pointerId===e.pointerId)return void(n[1]=e);if(null!==n[0])return;n[0]=e}n[0].pointerId===e.pointerId&&(n=mo(t,e,e,null!==n[1]),"touch"!==e.pointerType&&(n.button=e.button,void 0===e.buttons||s.Mu||(n.buttons=e.buttons),s.Qh&&0===e.button&&e.ctrlKey&&(n.button=2)),t.simulatedMouseMove(e,null,n.Qf)||(t.doMouseMove(),bo(t,n,e)))}},t.Mq=function(n){if(t.isEnabled){t.th=!0;var i="touch"===n.pointerType||"pen"===n.pointerType,r=t.jA;if(i&&t.Sp)delete r[n.pointerId],n.preventDefault();else if(null!==(r=t.Dp)[0]&&r[0].pointerId===n.pointerId){r[0]=null,r=t.Hd,t.Hd=t.cc,t.cc=r;var o=e.document.elementFromPoint(n.clientX,n.clientY);null!==o&&o.ca instanceof eo&&o.ca!==t&&xo(o.ca,n,r),xo(t,n,r),r.g=t;var a=t.ww,l=i?25:10;n.timeStamp-t.wk<t.yA&&!(Math.abs(a.x-n.screenX)>l||Math.abs(a.y-n.screenY)>l)?t.ji++:t.ji=1,r.Ee=t.ji,t.wk=n.timeStamp,t.ww.n(n.screenX,n.screenY),a=0,n.ctrlKey&&(a+=1),n.altKey&&(a+=2),n.shiftKey&&(a+=4),n.metaKey&&(a+=8),r.xd=a,r.button=n.button,void 0===n.buttons||s.Mu||(r.buttons=n.buttons),s.Qh&&0===n.button&&n.ctrlKey&&(r.button=2),r.Vk=!1,r.up=!0,r.Uk=0,r.Cc=!1,r.bubbles=!0,r.event=n,r.timestamp=Date.now(),r.Qf=null===o?vo(n):o.ca?o.ca:null,r.Ne=null,t.simulatedMouseUp(n,null,new ft,r.Qf)||(t.doMouseUp(),bs(t),bo(t,r,n),i&&(t.uk=!1))}else null!==r[1]&&r[1].pointerId===n.pointerId&&(r[1]=null)}},t.Lq=function(e){if(t.isEnabled){t.th=!1;var n=t.jA;n[e.pointerId]&&delete n[e.pointerId],null!==(n=t.Dp)[0]&&n[0].pointerId===e.pointerId&&(n[0]=null),null!==n[1]&&n[1].pointerId===e.pointerId&&(n[1]=null),"touch"!==e.pointerType&&"pen"!==e.pointerType&&((e=t.eb).cancelWaitAfter(),e.standardMouseOver())}},i.De(!0),function(t){var n=t.Ib;t.mz?(n.addEventListener("pointerdown",t.Jq,!1),n.addEventListener("pointermove",t.Kq,!1),n.addEventListener("pointerup",t.Mq,!1),n.addEventListener("pointerout",t.Lq,!1)):(n.addEventListener("touchstart",t.oC,!1),n.addEventListener("touchmove",t.nC,!1),n.addEventListener("touchend",t.mC,!1),n.addEventListener("mousemove",t.jo,!1),n.addEventListener("mousedown",t.io,!1),n.addEventListener("mouseup",t.lo,!1),n.addEventListener("mouseout",t.ko,!1)),n.addEventListener("wheel",t.mo,!1),n.addEventListener("keydown",t.xJ,!1),n.addEventListener("keyup",t.yJ,!1),n.addEventListener("selectstart",function(t){return t.preventDefault(),!1},!1),n.addEventListener("contextmenu",function(t){return t.preventDefault(),!1},!1),n.addEventListener("gesturechange",function(e){t.ob.rq===qi&&e.preventDefault()},!1),e.addEventListener("resize",t.vC,!1)}(t)}function _s(t){1<arguments.length&&s.k("Palette constructor can only take one optional argument, the DIV HTML element or its id."),eo.call(this,t),this.du=!0,this.fm=!1,this.qb=!0,this.LA=x,this.Yb=new Vf}function Os(t){1<arguments.length&&s.k("Overview constructor can only take one optional argument, the DIV HTML element or its id."),eo.call(this,t),this.Ra.isEnabled=!1,this.ed=!0,this.Dk=null,this.bw=!0,this.sK("drawShadows",!1);var e=new Dh,n=new Nl;n.stroke="magenta",n.mb=2,n.fill="transparent",n.name="BOXSHAPE",e.il=!0,e.Py="BOXSHAPE",e.uy="BOXSHAPE",e.SG="BOXSHAPE",e.cursor="move",e.add(n),this.Om=e,(n=new Lc).type=Ha,n.Of=P;var i=new jf;i.Ue=!0,n.add(i),(i=new Nl).Gh=P,i.Kb="Rectangle",i.Ea=new yt(64,64),i.cursor="se-resize",i.alignment=M,n.add(i),e.QG=n,this.Cn=this.Pk=!1,this.Jf=this.fu=!0,this.dF=new Pt(0,0,0,0),this.tA=new Rt(null),this.QH=this.tA.Tk,this.ob.Ge=new Ds,this.ob.TG=new Ls;var r=this;this.click=function(){var t=r.Dk;if(null!==t){var e=t.wb,n=r.U.ha;t.position=new ft(n.x-e.width/2,n.y-e.height/2)}},this.CG=function(){Es(r)},this.BG=function(){null!==r.Dk&&(r.Qc(),r.ra())},this.im=Rr,this.ed=!1}function Es(t){var e=t.Jh;if(null!==e&&null!==(n=t.Dk)){t.Oe=!0;var n=n.wb,i=e.to,r=s.Gm();r.n(n.width,n.height),i.Ea=r,s.Zk(r),t=2/t.scale,i instanceof Nl&&(i.mb=t),e.location=new ft(n.x-t/2,n.y-t/2)}}function Ds(){Xn.call(this),this.Tl=null}function Ls(){ir.call(this)}function Fs(){this.pg=this.nd=this.Qd=this.Rc=0}function Is(t){1<arguments.length&&s.k("Brush constructor can take at most one optional argument, the Brush type."),s.xc(this),this.J=!1,void 0===t?(this.da=ws,this.Lo="black"):"string"==typeof t?(this.da=ws,r&&!Rs(t)&&s.k('Color "'+t+'" is not a valid color string for Brush constructor'),this.Lo=t):(r&&s.Da(t,Is,Is,"constructor:type"),this.da=t,this.Lo="black");var e=this.da;e===ks?(this.Mp=x,this.Zo=T):this.Zo=this.Mp=e===Ps?P:g,this.lx=0,this.cw=NaN,this.qh=this.Tw=this.ph=null,this.xz=this.Mo=0}eo.inherit=function(t,e){s.h(t,"function",eo,"inherit"),s.h(e,"function",eo,"inherit"),e.PH&&s.k("Cannot inherit from "+s.xf(e)),s.Ta(t,e)},js.prototype.Im=function(t){if(t.dd.setTransform(t.ud,0,0,t.ud,0,0),null===this.Zi){var n="f",i=e[s.Wg("76a715b2f73f148a")][s.Wg("72ba13b5")];if(t=s.Wg,this.Zi=!0,e[t("7da7")]&&e[t("7da7")][t("76a115b6ed251eaf4692")]){var r;if(!(6>(r=t(r=e[t("7da7")][t("76a115b6ed251eaf4692")]).split(t("39e9"))).length)){var o=t(r[1]).split(".");if("7da71ca0"===r[4]){var a=t(s[t("6cae19")]).split(".");if(o[0]>a[0]||o[0]===a[0]&&o[1]>=a[1]){for(a=i[t("76ad18b4f73e")],o=i[t("73a612b6fb191d")](t("35e7"))+2;o<a;o++)n+=i[o];if(0>(i=n[t("73a612b6fb191d")](t(r[2])))&&t(r[2])!==t("7da71ca0ad381e90")&&(i=n[t("73a612b6fb191d")](t("76a715b2ef3e149757"))),0>i&&(i=n[t("73a612b6fb191d")](t("76a715b2ef3e149757"))),(this.Zi=!(0<=i&&i<n[t("73a612b6fb191d")](t("35"))))&&"#"===(n=t(r[2]))[0]){for(i=e.document[t("79ba13b2f7333e8846865a7d00")]("div"),o=r[0].replace(/[A-Za-z]/g,"");4>o.length;)o+="9";if(o=o.substr(o.length-4),r=""+["gsh","gsf"][parseInt(o.substr(0,1),10)%2],r+=["Header","Background","Display","Feedback"][parseInt(o.substr(0,1),10)%4],i[t("79a417a0f0181a8946")]=r,e.document[t("78a712aa")]){if(e.document[t("78a712aa")][t("7bb806b6ed32388c4a875b")](i),o=e[t("7dad0290ec3b0b91578e5b40007031bf")](i)[t("7dad0283f1390b81519f4645156528bf")](t("78a704b7e62456904c9b12701b6532a8")),e.document[t("78a712aa")][t("68ad1bbcf533388c4a875b")](i),o)if(-1!==o.indexOf(parseInt(n[1]+n[2],16))&&-1!==o.indexOf(parseInt(n[3]+n[4],16)))this.Zi=!1;else if(s.Mu||s.zq||s.Aq||s.rB)for(r="."+r,o=0;o<document.styleSheets.length;o++)for(var l in t=document.styleSheets[o].rules||document.styleSheets[o].cssRules)if(r===t[l].selectorText){this.Zi=!1;break}}else this.Zi=null,this.Zi=!1}}}}}else{for(a=i[t("76ad18b4f73e")],o=i[t("73a612b6fb191d")](t("35e7"))+2;o<a;o++)n+=i[o];i=n[t("73a612b6fb191d")](t("7da71ca0ad381e90")),this.Zi=!(0<=i&&i<n[t("73a612b6fb191d")](t("35")))}}return 0<this.Zi&&this!==this.wE},js.prototype.t=function(){this.wE=null},s.Ta(_s,eo),s.ka("Palette",_s),s.Ta(Os,eo),s.ka("Overview",Os),Os.prototype.computePixelRatio=function(){return 1},Os.prototype.He=function(){if(null===this.Ub&&s.k("No div specified"),null===this.Ib&&s.k("No canvas specified"),this.Oe&&null!==(c=this.Dk)&&!c.Ra.of){Oo(this),(null!==(e=c.Vn)&&e.visible&&isNaN(e.width)||isNaN(e.height))&&Ro(c);var t=this.Ib,e=this.dd,n=this.tA,i=this.QH;n.width=t.width,n.height=t.height,e.De(!0),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height);var o=this.Nc;o.reset(),1!==this.scale&&o.scale(this.scale),0===this.position.x&&0===this.position.y||o.translate(-this.position.x,-this.position.y),e.scale(this.ud,this.ud),e.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy);for(var a=this.bw,l=this.wb,h=c.dc.o,u=h.length,c=0;c<u;c++){var f=e,p=l,d=a;if((y=h[c]).visible&&0!==y.Lc&&(void 0===d&&(d=!0),d||!y.Yc)){1!==y.Lc&&(f.globalAlpha=y.Lc),d=this.scale;for(var y,v=(y=y.rb.o).length,g=0;g<v;g++){var m=y[g],b=m.aa;b.jg(p)&&(1<b.width*d||1<b.height*d?m.He(f,this):Uh(m,f))}f.globalAlpha=1}}for(i.drawImage(t.$d,0,0),r&&r.Dj&&(i.fillStyle="red",i.fillRect(0,n.height/2,n.width,4)),n=(t=this.dc.o).length,c=0;c<n;c++)t[c].He(e,this);r&&(r.WA||r.Dj)&&r.VA(e,this,o),this.Oe=this.Jl=!1}},s.defineProperty(Os,{KB:"observed"},function(){return this.Dk},function(t){var e=this.Dk;null!==t&&s.l(t,eo,Os,"observed"),t instanceof Os&&s.k("Overview.observed Diagram may not be an Overview itself: "+t),e!==t&&(null!==e&&(this.remove(this.Jh),e.QB("ViewportBoundsChanged",this.CG),e.QB("DocumentBoundsChanged",this.BG),e.Qw.remove(this)),this.Dk=t,null!==t&&(t.xx("ViewportBoundsChanged",this.CG),t.xx("DocumentBoundsChanged",this.BG),t.Qw.add(this),this.add(this.Jh),Es(this)),this.Qc(),this.i("observed",e,t))}),s.defineProperty(Os,{Jh:"box"},function(){return this.Om},function(t){var e=this.Om;e!==t&&(this.Om=t,this.remove(e),this.add(this.Om),Es(this),this.i("box",e,t))}),s.defineProperty(Os,{OL:"drawsTemporaryLayers"},function(){return this.bw},function(t){this.bw!==t&&(this.bw=t,this.ro())}),Os.prototype.Kh=function(){var t=this.Dk;return null===t?re:t.kd},Os.prototype.dG=function(){var t;!0!==this.Oe&&(this.Oe=!0,(t=this).ed||t.je||!1!==t.cg||(t.cg=!0,requestAnimationFrame(function(){if(t.cg&&!t.je&&(t.cg=!1,null!==t.Ub)){if(t.je=!0,Co(t),t.kd.H()||hs(t,t.Kh()),null===t.Ub&&s.k("No div specified"),null===t.Ib&&s.k("No canvas specified"),t.Oe&&null!==(e=t.Dk)&&!e.Ra.of&&!e.Ra.zc){var e,n=t.tA;(e=t.dd).setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.Ib.width,t.Ib.height),e.drawImage(n.$d,0,0),(n=t.Nc).reset(),1!==t.scale&&n.scale(t.scale),0===t.position.x&&0===t.position.y||n.translate(-t.position.x,-t.position.y),e.scale(t.ud,t.ud),e.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy);for(var i=(n=t.dc.o).length,r=0;r<i;r++)n[r].He(e,t);t.Jl=!1,t.Oe=!1}t.je=!1}})))},Os.prototype.dv=function(t,e,n,i,r){this.ed||(_o(this),this.ra(),Ao(this),this.Qc(),Es(this),this.Fh.scale=n,this.Fh.position.x=t.x,this.Fh.position.y=t.y,this.Fh.bounds.set(t),this.Fh.isScroll=r,this.Ja("ViewportBoundsChanged",this.Fh,t))},s.Ta(Ds,Xn),Ds.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||!t.fm||!t.Jf)return!1;var e=t.KB;if(null===e)return!1;if(null===this.findDraggablePart()){var n=e.wb;this.Tl=new ft(n.width/2,n.height/2),e.position=new ft((t=t.Pc.ha).x-this.Tl.x,t.y-this.Tl.y)}return!0},Ds.prototype.doActivate=function(){this.Tl=null,Xn.prototype.doActivate.call(this)},Ds.prototype.moveParts=function(){var t=this.g,e=t.KB;if(null!==e&&null!==(n=t.Jh)){if(null===this.Tl){var n,i=t.Pc.ha;this.Tl=new ft(i.x-(n=n.location).x,i.y-n.y)}e.position=new ft((t=t.U.ha).x-this.Tl.x,t.y-this.Tl.y)}},s.Ta(Ls,ir),Ls.prototype.resize=function(t){var e=this.g.KB;if(null!==e){var n=e.wb.copy();e.position=t.position,(n.width!==t.width||n.height!==t.height)&&0<t.width&&0<t.height&&(e.scale=Math.min(n.width/t.width,n.height/t.height))}},s.ka("Brush",Is),Is.Solid=ws=s.s(Is,"Solid",0),Is.Linear=ks=s.s(Is,"Linear",1),Is.Radial=Ps=s.s(Is,"Radial",2),Is.Pattern=Ss=s.s(Is,"Pattern",4),Is.Lab=Cs=s.s(Is,"Lab",5),Is.HSL=Ts=s.s(Is,"HSL",6),Is.prototype.copy=function(){var t=new Is;return t.da=this.da,t.Lo=this.Lo,t.Mp=this.Mp.V(),t.Zo=this.Zo.V(),t.lx=this.lx,t.cw=this.cw,null!==this.ph&&(t.ph=this.ph.copy()),t.Tw=this.Tw,t},(n=Is.prototype).Oa=function(){return this.freeze(),Object.freeze(this),this},n.freeze=function(){return this.J=!0,null!==this.ph&&this.ph.freeze(),this},n.Xa=function(){return Object.isFrozen(this)&&s.k("cannot thaw constant: "+this),this.J=!1,null!==this.ph&&this.ph.Xa(),this},n.qc=function(t){t.Qe===Is?this.type=t:s.ak(this,t)},n.toString=function(){var t="Brush(";if(this.type===ws)t+=this.color;else if(t=this.type===ks?t+"Linear ":this.type===Ps?t+"Radial ":this.type===Ss?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.Qk)for(var e=this.Qk.j;e.next();)t+=" "+e.key+":"+e.value;return t+")"},Is.prototype.addColorStop=Is.prototype.addColorStop=function(t,e){this.J&&s.qa(this),("number"!=typeof t||!isFinite(t)||1<t||0>t)&&s.ua(t,"0 <= loc <= 1",Is,"addColorStop:loc"),s.h(e,"string",Is,"addColorStop:color"),r&&!Rs(e)&&s.k('Color "'+e+'" is not a valid color string for Brush.addColorStop'),null===this.ph&&(this.ph=new ut("number","string")),this.ph.add(t,e),this.da===ws&&(this.type=ks),this.qh=null},s.defineProperty(Is,{type:"type"},function(){return this.da},function(t){this.J&&s.qa(this,t),s.Da(t,Is,Is,"type"),this.da=t,this.start.de()&&(t===ks?this.start=x:t===Ps&&(this.start=P)),this.end.de()&&(t===ks?this.end=T:t===Ps&&(this.end=P)),this.qh=null}),s.defineProperty(Is,{color:"color"},function(){return this.Lo},function(t){this.J&&s.qa(this,t),r&&!Rs(t)&&s.k('Color "'+t+'" is not a valid color string for Brush.color'),this.Lo=t,this.qh=null}),s.defineProperty(Is,{start:"start"},function(){return this.Mp},function(t){this.J&&s.qa(this,t),s.l(t,Ct,Is,"start"),this.Mp=t.V(),this.qh=null}),s.defineProperty(Is,{end:"end"},function(){return this.Zo},function(t){this.J&&s.qa(this,t),s.l(t,Ct,Is,"end"),this.Zo=t.V(),this.qh=null}),s.defineProperty(Is,{sv:"startRadius"},function(){return this.lx},function(t){this.J&&s.qa(this,t),s.p(t,Is,"startRadius"),0>t&&s.ua(t,">= zero",Is,"startRadius"),this.lx=t,this.qh=null}),s.defineProperty(Is,{ou:"endRadius"},function(){return this.cw},function(t){this.J&&s.qa(this,t),s.p(t,Is,"endRadius"),0>t&&s.ua(t,">= zero",Is,"endRadius"),this.cw=t,this.qh=null}),s.defineProperty(Is,{Qk:"colorStops"},function(){return this.ph},function(t){this.J&&s.qa(this,t),r&&s.l(t,ut,Is,"colorStops"),this.ph=t,this.qh=null}),s.defineProperty(Is,{pattern:"pattern"},function(){return this.Tw},function(t){this.J&&s.qa(this,t),this.Tw=t,this.qh=null}),Is.randomColor=function(t,e){void 0===t&&(t=128),r&&(s.p(t,Is,"randomColor:min"),(0>t||255<t)&&s.ua(t,"0 <= min <= 255",Is,"randomColor:min")),void 0===e&&(e=Math.max(t,255)),r&&(s.p(e,Is,"randomColor:max"),(e<t||255<e)&&s.ua(e,"min <= max <= 255",Is,"randomColor:max"));var n=Math.abs(e-t),i=Math.floor(t+Math.random()*n).toString(16),o=Math.floor(t+Math.random()*n).toString(16);return n=Math.floor(t+Math.random()*n).toString(16),2>i.length&&(i="0"+i),2>o.length&&(o="0"+o),2>n.length&&(n="0"+n),"#"+i+o+n};var Rs,Vs=new Rt(null).Tk;Is.isValidColor=Rs=function(t){if("black"===t)return!0;if(""===t)return!1;r&&s.h(t,"string",Is,"isValidColor"),Vs.fillStyle="#000000";var e=Vs.fillStyle;return Vs.fillStyle=t,Vs.fillStyle!==e||(Vs.fillStyle="#FFFFFF",e=Vs.fillStyle,Vs.fillStyle=t,Vs.fillStyle!==e)};var Bs,zs,qs=new Fs,Gs=new Fs,Hs=new Fs,Us=new Fs;function Ks(t,e){switch(e){case Cs:var n=100*Ws(qs.Rc),i=100*Ws(qs.Qd),r=100*Ws(qs.nd);return Hs.Rc=.4124564*n+.3575761*i+.1804375*r,Hs.Qd=.2126729*n+.7151522*i+.072175*r,Hs.nd=.0193339*n+.119192*i+.9503041*r,Hs.pg=qs.pg,n=ua(Hs.Rc/ha[0]),i=ua(Hs.Qd/ha[1]),r=ua(Hs.nd/ha[2]),Us.Rc=116*i-16,Us.Qd=500*(n-i),Us.nd=200*(i-r),Us.pg=Hs.pg,Us.Rc=Math.min(100,Math.max(0,Us.Rc+100*t)),i=(n=(Us.Rc+16)/116)-Us.nd/200,Hs.Rc=ha[0]*ca(Us.Qd/500+n),Hs.Qd=ha[1]*(Us.Rc>la*aa?Math.pow(n,3):Us.Rc/la),Hs.nd=ha[2]*ca(i),Hs.pg=Us.pg,n=-.969266*Hs.Rc+1.8760108*Hs.Qd+.041556*Hs.nd,i=.0556434*Hs.Rc+-.2040259*Hs.Qd+1.0572252*Hs.nd,qs.Rc=255*Ys((3.2404542*Hs.Rc+-1.5371385*Hs.Qd+-.4985314*Hs.nd)/100),qs.Qd=255*Ys(n/100),qs.nd=255*Ys(i/100),qs.pg=Hs.pg,qs.Rc=Math.round(qs.Rc),255<qs.Rc?qs.Rc=255:0>qs.Rc&&(qs.Rc=0),qs.Qd=Math.round(qs.Qd),255<qs.Qd?qs.Qd=255:0>qs.Qd&&(qs.Qd=0),qs.nd=Math.round(qs.nd),255<qs.nd?qs.nd=255:0>qs.nd&&(qs.nd=0),"rgba("+qs.Rc+", "+qs.Qd+", "+qs.nd+", "+qs.pg+")";case Ts:r=qs.Rc/255;var o=qs.Qd/255,a=qs.nd/255,l=Math.max(r,o,a),h=l-(i=Math.min(r,o,a));if(i=(l+i)/2,0===h)n=r=0;else{switch(l){case r:n=(o-a)/h%6;break;case o:n=(a-r)/h+2;break;case a:n=(r-o)/h+4}0>(n*=60)&&(n+=360),r=h/(1-Math.abs(2*i-1))}return Gs.Rc=Math.round(n),Gs.Qd=Math.round(100*r),Gs.nd=Math.round(100*i),Gs.pg=qs.pg,Gs.nd=Math.min(100,Math.max(0,Gs.nd+100*t)),"hsla("+Gs.Rc+", "+Gs.Qd+"%, "+Gs.nd+"%, "+Gs.pg+")";default:return s.k("Unknown color space: "+e),"rgba(0, 0, 0, 1)"}}function Js(t){Vs.clearRect(0,0,1,1),Vs.fillStyle="#000000";var e=Vs.fillStyle;Vs.fillStyle=t,Vs.fillStyle!==e?(Vs.fillRect(0,0,1,1),t=Vs.getImageData(0,0,1,1).data,qs.Rc=t[0],qs.Qd=t[1],qs.nd=t[2],qs.pg=t[3]/255):(Vs.fillStyle="#FFFFFF",e=Vs.fillStyle,Vs.fillStyle=t,Vs.fillStyle===e&&r&&s.k('Color "'+t+'" is not a valid color string for RGBA color conversion'),qs.Rc=0,qs.Qd=0,qs.nd=0,qs.pg=1)}function Ws(t){return.04045>=(t/=255)?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ys(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}Is.lighten=function(t){return Bs(t)},Is.prototype.lightenBy=function(t,e){this.J&&s.qa(this);var n=void 0===t||"number"!=typeof t?.2:t,i=void 0===e?Cs:e;if(this.type===ws)Js(this.color),this.color=Ks(n,i);else if((this.type===ks||this.type===Ps)&&null!==this.Qk)for(var r=this.Qk.j;r.next();)Js(r.value),this.addColorStop(r.key,Ks(n,i));return this},Is.lightenBy=Bs=function(t,e,n){return e=void 0===e||"number"!=typeof e?.2:e,n=void 0===n?Cs:n,Js(t),Ks(e,n)},Is.darken=function(t){return zs(t)},Is.prototype.darkenBy=function(t,e){this.J&&s.qa(this);var n=void 0===t||"number"!=typeof t?.2:t,i=void 0===e?Cs:e;if(this.type===ws)Js(this.color),this.color=Ks(-n,i);else if((this.type===ks||this.type===Ps)&&null!==this.Qk)for(var r=this.Qk.j;r.next();)Js(r.value),this.addColorStop(r.key,Ks(-n,i));return this},Is.darkenBy=zs=function(t,e,n){return e=void 0===e||"number"!=typeof e?.2:e,n=void 0===n?Cs:n,Js(t),Ks(-e,n)};var Zs,Xs,Qs,$s,ta,ea,na,ia,ra,oa,sa,aa=216/24389,la=24389/27,ha=[95.047,100,108.883];function ua(t){return t>aa?Math.pow(t,1/3):(la*t+16)/116}function ca(t){var e=t*t*t;return e>aa?e:(116*t-16)/la}function fa(){s.xc(this),this.S=4225027,this.Lc=1,this.rj=null,this.$b="",this.lc=this.Mb=null,this.sb=new ft(NaN,NaN).freeze(),this.$e=ge,this.oi=ue,this.ni=ye,this.Nc=new St,this.Ni=new St,this.ij=new St,this.Db=this.Xo=1,this.wg=0,this.Qg=Xs,this.en=oe,this.Fd=new vt(NaN,NaN,NaN,NaN).freeze(),this.bc=new vt(NaN,NaN,NaN,NaN).freeze(),this.fd=new vt(0,0,NaN,NaN).freeze(),this.Z=this.it=this.jt=null,this.Lm=this.ue=m,this.vt=0,this.tj=1,this.wr=0,this.Si=1,this.Lt=null,this.zt=-1/0,this.qn=0,this.rn=ie,this.sn=$h,this.Fr="",this.Hc=this.ma=null,this.Jo=-1,this.wn=this.yg=this.Bl=this.Lp=null,this.kA=Pi,this.mn=null}function pa(t){null===t.ma&&(t.ma=new $a)}function da(t,e,n,i,r,o,s){var a=.001,l=o.length;t.moveTo(e,n),a=r-n,0==(i-=e)&&(i=.001),r=a/i;for(var h=Math.sqrt(i*i+a*a),u=0,c=!0,f=0!==s;.1<=h;){if(f){for(a=o[u++%l],a-=s;0>a;)a+=o[u++%l],c=!c;f=!1}else a=o[u++%l];a>h&&(a=h);var p=Math.sqrt(a*a/(1+r*r));0>i&&(p=-p),e+=p,n+=r*p,c?t.lineTo(e,n):t.moveTo(e,n),h-=a,c=!c}}function ya(t,e,n){var i=t.qm();if(null!==i)for(var r=t.Hc.j;r.next();){var o=r.value,s=null;if(null!==o.$q){if(null===(s=Vn(o,i,t)))continue;o.Wy(t,s,n,null)}else if(o.ly){var a=e.g;null===a||a.Xe||o.Wy(t,a.ea.fl,n,i)}else{var l=i.data;if(null===l)continue;null===(a=e.g)||a.Xe||o.Wy(t,l,n,i)}s===t&&null!==(a=i.Vx(o.Fm))&&o.wH(a,s,n)}}function va(t,e,n,i,r){var o=t.Fd,s=t.ij;s.reset(),Pa(t,s,e,n,i,r),t.ij=s,o.x=e,o.y=n,o.width=i,o.height=r,s.Nu()||s.tH(o)}function ga(t,e,n,i){return!1!==t.tg&&(i.multiply(t.transform),n?t.jg(e,i):t.In(e,i))}function ma(t,e,n,i,r){if(!1!==Ea(t)){var o=(a=t.margin).right+a.left,a=a.top+a.bottom;e=Math.max(e-o,0),n=Math.max(n-a,0),r=r||0,i=Math.max((i||0)-o,0),r=Math.max(r-a,0),o=t.angle,a=0,a=t.Ea;var l=0;t instanceof Nl&&(l=t.mb),90===o||270===o?(e=isFinite(a.height)?a.height+l:e,n=isFinite(a.width)?a.width+l:n):(e=isFinite(a.width)?a.width+l:e,n=isFinite(a.height)?a.height+l:n),a=i||0,l=r||0;var h=t instanceof tl;switch(Ca(t,!0)){case Zs:l=a=0,h&&(n=e=1/0);break;case ta:isFinite(e)&&e>i&&(a=e),isFinite(n)&&n>r&&(l=n);break;case $s:isFinite(e)&&e>i&&(a=e),l=0,h&&(n=1/0);break;case Qs:isFinite(n)&&n>r&&(l=n),a=0,h&&(e=1/0)}var u=t.ah;a>(h=t.qf).width&&u.width<h.width&&(a=h.width),l>h.height&&u.height<h.height&&(l=h.height),i=Math.max(a/t.scale,u.width),r=Math.max(l/t.scale,u.height),h.width<i&&(i=Math.min(u.width,i)),h.height<r&&(r=Math.min(u.height,r)),e=Math.min(h.width,e),n=Math.min(h.height,n),e=Math.max(i,e),n=Math.max(r,n),90!==o&&270!==o||(a=e,e=n,n=a,a=i,i=r,r=a),t.Fd.Xa(),t.ho(e,n,i,r),t.Fd.freeze(),t.Fd.H()||s.k("Non-real measuredBounds has been set. Object "+t+", measuredBounds: "+t.Fd.toString()),Da(t,!1)}}function ba(t,e,n,i,r){var o=t.aa;if(o.x=e,o.y=n,o.width=i,o.height=r,!t.Ea.H()){var s=(n=t.margin).top+n.bottom;switch(n=(o=t.Fd).width+(e=n.right+n.left),o=o.height+s,i+=e,r+=s,e=Ca(t,!0),n===i&&o===r&&(e=Zs),e){case Zs:(n>i||o>r)&&(Da(t,!0),ma(t,n>i?i:n,o>r?r:o));break;case ta:Da(t,!0),ma(t,i,r,0,0);break;case $s:Da(t,!0),ma(t,i,o,0,0);break;case Qs:Da(t,!0),ma(t,n,r,0,0)}}}function xa(t,e,n){var i=t.bc;0===i.width||0===i.height||isNaN(i.x)||isNaN(i.y)||(null!==t.lc&&(wa(t,e,t.lc,!0,!0),t.lc instanceof Is&&t.lc.type===Ps?(e.beginPath(),e.rect(i.x,i.y,i.width,i.height),e.Xg(t.lc)):e.fillRect(i.x,i.y,i.width,i.height)),null!==t.Mb&&(wa(t,e,t.Mb,!0,!1),t.Mb instanceof Is&&t.Mb.type===Ps?(e.beginPath(),e.rect(i.x,i.y,i.width,i.height),e.Xg(t.Mb)):e.fillRect(i.x,i.y,i.width,i.height)),t.Wk(e,n))}function wa(t,e,n,i,r){if(null!==n){var o=1,a=1;if("string"==typeof n)i?e.fillStyle=n:e.strokeStyle=n;else if(n.type===ws)i?e.fillStyle=n.color:e.strokeStyle=n.color;else{var l;if(o=(a=t.Ga).width,a=a.height,r){var h=t.aa;o=h.width,a=h.height}var u=e instanceof Vt;if(u&&n.qh&&(n.type===Ss||n.Mo===o&&n.xz===a))l=n.qh;else{var c=h=0,f=0,p=0,d=0,y=0;if(y=d=0,r&&(o=(h=t.aa).width,a=h.height,d=h.x,y=h.y),h=n.start.x*o+n.start.offsetX,c=n.start.y*a+n.start.offsetY,f=n.end.x*o+n.end.offsetX,p=n.end.y*a+n.end.offsetY,h+=d,f+=d,c+=y,p+=y,n.type===ks)l=e.createLinearGradient(h,c,f,p);else if(n.type===Ps)y=isNaN(n.ou)?Math.max(o,a)/2:n.ou,isNaN(n.sv)?(d=0,y=Math.max(o,a)/2):d=n.sv,l=e.createRadialGradient(h,c,d,f,p,y);else if(n.type===Ss)try{l=e.createPattern(n.pattern,"repeat")}catch(t){l=null}else s.kc(n.type,"Brush type");if(n.type!==Ss&&null!==(r=n.Qk))for(r=r.j;r.next();)l.addColorStop(r.key,r.value);if(u&&(n.qh=l,null!==l&&(n.Mo=o,n.xz=a),null===l&&n.type===Ss&&-1!==n.Mo)){n.Mo=-1;var v=t.g;null!==v&&-1===n.Mo&&s.setTimeout(function(){v.ro()},600)}}i?e.fillStyle=l:e.strokeStyle=l}}}function ka(t){if(0!=(2048&t.S)==1){var e=t.Nc;if(e.reset(),!t.bc.H()||!t.Fd.H())return void _a(t,!1);e.translate(t.bc.x,t.bc.y),e.translate(-t.Fa.x,-t.Fa.y);var n=t.Ga;Pa(t,e,n.x,n.y,n.width,n.height),_a(t,!1),Oa(t,!0)}0!=(4096&t.S)==1&&(null===(e=t.R)?(t.Ni.set(t.Nc),t.Xo=t.scale,Oa(t,!1)):null!==e.Hh&&((n=t.Ni).reset(),e.kh()?n.multiply(e.Ni):null!==e.R&&n.multiply(e.R.Ni),n.multiply(t.Nc),t.Xo=t.scale*e.Xo,Oa(t,!1)))}function Pa(t,e,n,i,r,o){if(1!==t.scale&&e.scale(t.scale),0!==t.angle){var a=P;t.Oj()&&t.Of.Xc()&&(a=t.Of);var l=s.P();if(t instanceof Dh&&t.Cf!==t)for(l.pv((i=(n=t.Cf).Ga).x,i.y,i.width,i.height,a),n.ij.vb(l),l.offset(-n.Fa.x,-n.Fa.y),a=n.R;null!==a&&a!==t;)a.ij.vb(l),l.offset(-a.Fa.x,-a.Fa.y),a=a.R;else l.pv(n,i,r,o,a);e.rotate(t.angle,l.x,l.y),s.A(l)}}function Sa(t){if(!1===La(t)){var e=t.R;null!==e?e.K():t.Oj()&&null!==(e=t.g)&&(e.Gg.add(t),t instanceof Fc&&t.kg(),e.Ve()),Fa(t,!0)}}function Ca(t,e){var n=t.stretch,i=t.R;return null!==i&&i.da===Ka?Ta(t,i.oe(t.Sb),i.ne(t.column),e):null!==i&&i.da===Ua&&i.Ld()===t?Ma(t,ta,e):n===Xs?null!==i?i.da===Ha&&i.Ld()===t?Ma(t,ta,e):Ma(t,(n=i.le)===Xs?Zs:n,e):Ma(t,Zs,e):Ma(t,n,e)}function Ta(t,e,n,i){var r=t.stretch;if(r!==Xs)return Ma(t,r,i);var o=r=null;switch(e.stretch){case Qs:o=!0;break;case ta:o=!0}switch(n.stretch){case $s:r=!0;break;case ta:r=!0}return e=t.R.le,null===r&&(r=e===$s||e===ta),null===o&&(o=e===Qs||e===ta),Ma(t,!0===r&&!0===o?ta:!0===r?$s:!0===o?Qs:Zs,i)}function Ma(t,e,n){if(n)return e;if(e===Zs)return Zs;if((n=t.Ea).H())return Zs;if(t=t.angle,!isNaN(n.width))if(90!==t&&270!==t){if(e===$s)return Zs;if(e===ta)return Qs}else{if(e===Qs)return Zs;if(e===ta)return $s}if(!isNaN(n.height))if(90!==t&&270!==t){if(e===Qs)return Zs;if(e===ta)return $s}else{if(e===$s)return Zs;if(e===ta)return Qs}return e}function Na(t,e){t.S=e?512|t.S:-513&t.S}function ja(t){return 0!=(1024&t.S)}function Aa(t,e){t.S=e?1024|t.S:-1025&t.S}function _a(t,e){t.S=e?2048|t.S:-2049&t.S}function Oa(t,e){t.S=e?4096|t.S:-4097&t.S}function Ea(t){return 0!=(8192&t.S)}function Da(t,e){t.S=e?8192|t.S:-8193&t.S}function La(t){return 0!=(16384&t.S)}function Fa(t,e){t.S=e?16384|t.S:-16385&t.S}function Ia(t){var e=t.Y;if(e instanceof Fc&&(null!==t.yd||t===e.port)){var n=e.g;null===n||n.na.ub||Vc(e,t)}}function Ra(t){var e=t.g;null===e||e.na.ub||(t instanceof tl?t instanceof Fc?t.kg():ll(t,t,function(t){Ia(t)}):Ia(t))}function Va(t,e){if("string"==typeof e)t instanceof Il?t.text=e:t instanceof Nl?t.Kb=e:t instanceof sh?t.source=e:t instanceof tl?null!==(r=o(tl,e))?t.type=r:s.k("Unknown Panel type as an argument to GraphObject.make: "+e):t instanceof Is?null!==(r=o(Is,e))?t.type=r:s.k("Unknown Brush type as an argument to GraphObject.make: "+e):t instanceof We?null!==(r=o(We,e))?t.type=r:s.k("Unknown Geometry type as an argument to GraphObject.make: "+e):t instanceof rn?null!==(r=o(rn,e))?t.type=r:s.k("Unknown PathSegment type as an argument to GraphObject.make: "+e):s.k("Unable to use a string as an argument to GraphObject.make: "+e);else if(e instanceof fa)r=e,t instanceof tl||s.k("A GraphObject can only be added to a Panel, not to: "+t),t.add(r);else if(e instanceof Tl){var n,i=e,r=t;i.Ke&&r.getRowDefinition?n=r.getRowDefinition(i.index):!i.Ke&&r.getColumnDefinition?n=r.getColumnDefinition(i.index):s.k("A RowColumnDefinition can only be added to a Panel, not to: "+t),n.gq(i)}else if(e instanceof a)"function"==typeof t.qc?t.qc(e):s.ak(t,e);else if(e instanceof Rn)t instanceof fa?t.bind(e):t instanceof Tl?t.bind(e):s.k("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(e instanceof nn)t instanceof We?t.nc.add(e):s.k("A PathFigure can only be added to a Geometry, not to: "+t);else if(e instanceof rn)t instanceof nn?t.Eb.add(e):s.k("A PathSegment can only be added to a PathFigure, not to: "+t);else if(e instanceof Af)t instanceof eo?t.Yb=e:t instanceof Tf?t.Yb=e:s.k("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(e))for(r=0;r<e.length;r++)Va(t,e[r]);else if("object"==typeof e&&null!==e)if(t instanceof Is){for(r in n=new h,e)i=parseFloat(r),isNaN(i)?n[r]=e[r]:t.addColorStop(i,e[r]);s.nv(t,n)}else if(t instanceof Tl){for(r in void 0!==e.row?((void 0===(n=e.row)||null===n||1/0===n||isNaN(n)||0>n)&&s.k("Must specify non-negative integer row for RowColumnDefinition "+e+", not: "+n),t.Ke=!0,t.index=n):void 0!==e.column&&((void 0===(n=e.column)||null===n||1/0===n||isNaN(n)||0>n)&&s.k("Must specify non-negative integer column for RowColumnDefinition "+e+", not: "+n),t.Ke=!1,t.index=n),n=new h,e)"row"!==r&&"column"!==r&&(n[r]=e[r]);s.nv(t,n)}else s.nv(t,e);else s.k('Unknown initializer "'+e+'" for object being constructed by GraphObject.make: '+t)}s.Di(fa),s.ka("GraphObject",fa),fa.prototype.cloneProtected=function(t){t.S=6144|this.S,t.Lc=this.Lc,t.$b=this.$b,t.Mb=this.Mb,t.lc=this.lc,t.sb.assign(this.sb),t.$e=this.$e.V(),t.oi=this.oi.V(),t.ni=this.ni.V(),t.ij=this.ij.copy(),t.Db=this.Db,t.wg=this.wg,t.Qg=this.Qg,t.en=this.en.V(),t.Fd.assign(this.Fd),t.bc.assign(this.bc),t.fd.assign(this.fd),t.it=this.it,null!==this.Z&&(t.Z=this.Z.copy()),t.ue=this.ue.V(),t.Lm=this.Lm.V(),t.vt=this.vt,t.tj=this.tj,t.wr=this.wr,t.Si=this.Si,t.Lt=this.Lt,t.zt=this.zt,t.qn=this.qn,t.rn=this.rn.V(),t.sn=this.sn,t.Fr=this.Fr,null!==this.ma&&(t.ma=this.ma.copy()),t.Hc=this.Hc,t.Jo=this.Jo,null!==this.Bl&&(t.Bl=s.km(this.Bl)),null!==this.yg&&(t.yg=this.yg.copy()),t.wn=this.wn},fa.prototype.addCopyProperty=fa.prototype.WH=function(t){var e=this.Bl;if(s.isArray(e)){for(var n=0;n<e.length;n++)if(e[n]===t)return}else this.Bl=e=[];e.push(t)},fa.prototype.Ei=function(t){t.jt=null,t.mn=null,t.K()},fa.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),null!==this.Bl)for(var e=0;e<this.Bl.length;e++){var n=this.Bl[e];t[n]=this[n]}return t},fa.prototype.copy=function(){return this.clone()},fa.prototype.qc=function(t){t.Qe===Kc?0===t.name.indexOf("Orient")?this.Uq=t:s.k("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.Qe===fa?this.stretch=t:s.ak(this,t)},fa.prototype.toString=function(){return s.xf(Object.getPrototypeOf(this))+"#"+s.Nd(this)},fa.None=Zs=s.s(fa,"None",0),fa.Default=Xs=s.s(fa,"Default",0),fa.Vertical=Qs=s.s(fa,"Vertical",4),fa.Horizontal=$s=s.s(fa,"Horizontal",5),fa.Fill=ta=s.s(fa,"Fill",3),fa.Uniform=ea=s.s(fa,"Uniform",1),fa.UniformToFill=na=s.s(fa,"UniformToFill",2),fa.FlipVertical=ia=s.s(fa,"FlipVertical",1),fa.FlipHorizontal=ra=s.s(fa,"FlipHorizontal",2),fa.FlipBoth=oa=s.s(fa,"FlipBoth",3),fa.prototype.ae=function(){if(null===this.Z){var t=new Cf;t.ok=g,t.Mk=g,t.mk=10,t.Kk=10,t.lk=Wh,t.Jk=Wh,t.nk=0,t.Lk=0,this.Z=t}},fa.prototype.raiseChangedEvent=fa.prototype.od=function(t,e,n,i,r,o,s){var a=this.Y;if(null!==a&&(a.qo(t,e,n,i,r,o,s),ja(this)&&n===this&&t===$t&&ya(this,a,e),n===a&&0!=(16777216&a.S)&&null!==a.data))for(n=(t=this.xa.o).length,i=0;i<n;i++)(r=t[i])instanceof tl&&hl(r,function(t){null!==t.data&&0!=(16777216&t.S)&&t.Ob(e)})},fa.prototype.Vx=function(t){return this.Jo===t?this:null},fa.prototype.raiseChanged=fa.prototype.i=function(t,e,n){this.od($t,t,this,e,n)},fa.prototype.JF=function(t,e,n){if(!1===this.tg)return!1;var i=this.Ga;e=t.Kf(e);var r=!1;return n&&(r=f(t.x,t.y,0,0,0,i.height)<e||f(t.x,t.y,0,i.height,i.width,i.height)<e||f(t.x,t.y,i.width,i.height,i.width,0)<e||f(t.x,t.y,i.width,0,0,0)<e),n||(r=f(t.x,t.y,0,0,0,i.height)<e&&f(t.x,t.y,0,i.height,i.width,i.height)<e&&f(t.x,t.y,i.width,i.height,i.width,0)<e&&f(t.x,t.y,i.width,0,0,0)<e),r},fa.prototype.kh=function(){return!0},fa.prototype.containsPoint=fa.prototype.Pa=function(t){r&&s.l(t,ft,fa,"containsPoint:p");var e=s.P();e.assign(t),this.transform.vb(e);var n=this.aa;if(!n.H())return s.A(e),!1;if(null!==(i=this.g)&&i.uk){var i,o=i.Cu("extraTouchThreshold"),a=i.Cu("extraTouchArea"),l=a/2,h=this.Ga,u=1/(i=this.Jj()*i.scale);if(h.width*i<o&&h.height*i<o)return t=y(n.x-l*u,n.y-l*u,n.width+a*u,n.height+a*u,e.x,e.y),s.A(e),t}return(this instanceof Lc||this instanceof Nl?y(n.x-5,n.y-5,n.width+10,n.height+10,e.x,e.y):n.Pa(e))?(o=!1,o=!(this.yg&&!this.yg.Pa(e))&&(!(null===this.lc||!n.Pa(e))||!(null===this.Mb||!this.fd.Pa(t))||this.Rk(t)),s.A(e),o):(s.A(e),!1)},fa.prototype.Rk=function(t){var e=this.Ga;return y(0,0,e.width,e.height,t.x,t.y)},fa.prototype.containsRect=fa.prototype.Sk=function(t){if(r&&s.l(t,vt,fa,"containsRect:r"),0===this.angle)return this.aa.Sk(t);var e=s.vg(0,0,(e=this.Ga).width,e.height),n=this.transform,i=!1,o=s.Fb(t.x,t.y);return e.Pa(n.Oh(o))&&(o.n(t.x,t.bottom),e.Pa(n.Oh(o))&&(o.n(t.right,t.bottom),e.Pa(n.Oh(o))&&(o.n(t.right,t.y),e.Pa(n.Oh(o))&&(i=!0)))),s.A(o),s.Lb(e),i},fa.prototype.containedInRect=fa.prototype.In=function(t,e){if(r&&s.l(t,vt,fa,"containedInRect:r"),void 0===e)return t.Sk(this.aa);var n=this.Ga,i=!1,o=s.Fb(0,0);return t.Pa(e.vb(o))&&(o.n(0,n.height),t.Pa(e.vb(o))&&(o.n(n.width,n.height),t.Pa(e.vb(o))&&(o.n(n.width,0),t.Pa(e.vb(o))&&(i=!0)))),s.A(o),i},fa.prototype.intersectsRect=fa.prototype.jg=function(t,e){if(r&&s.l(t,vt,fa,"intersectsRect:r"),void 0===e&&(e=this.transform,0===this.angle))return t.jg(this.aa);var n=this.Ga,i=e,o=s.Fb(0,0),a=s.Fb(0,n.height),l=s.Fb(n.width,n.height),h=s.Fb(n.width,0),u=!1;if(t.Pa(i.vb(o))||t.Pa(i.vb(a))||t.Pa(i.vb(l))||t.Pa(i.vb(h)))u=!0;else{n=s.vg(0,0,n.width,n.height);var c=s.Fb(t.x,t.y);n.Pa(i.Oh(c))?u=!0:(c.n(t.x,t.bottom),n.Pa(i.Oh(c))?u=!0:(c.n(t.right,t.bottom),n.Pa(i.Oh(c))?u=!0:(c.n(t.right,t.y),n.Pa(i.Oh(c))&&(u=!0)))),s.A(c),s.Lb(n),!u&&(ze(t,o,a)||ze(t,a,l)||ze(t,l,h)||ze(t,h,o))&&(u=!0)}return s.A(o),s.A(a),s.A(l),s.A(h),u},fa.prototype.getDocumentPoint=fa.prototype.fb=function(t,e){if(void 0===e&&(e=new ft),t instanceof Ct){t.de()&&s.k("getDocumentPoint:s Spot must be specific: "+t.toString());var n=this.Ga;e.n(t.x*n.width+t.offsetX,t.y*n.height+t.offsetY)}else e.set(t);return this.Hh.vb(e),e},fa.prototype.getDocumentAngle=fa.prototype.sm=function(){var t;return 1===(t=this.Hh).m11&&0===t.m12?t=0:0>(t=180*Math.atan2(t.m12,t.m11)/Math.PI)&&(t+=360),t},fa.prototype.getDocumentScale=fa.prototype.Jj=function(){if(0!=(4096&this.S)==0)return this.Xo;var t=this.Db;return null!==this.R?t*this.R.Jj():t},fa.prototype.getLocalPoint=fa.prototype.PF=function(t,e){return void 0===e&&(e=new ft),e.assign(t),this.Hh.Oh(e),e},fa.prototype.getNearestIntersectionPoint=fa.prototype.QF=function(t,e,n){return this.Tn(t.x,t.y,e.x,e.y,n)},(n=fa.prototype).Tn=function(t,e,n,i,r){var o=this.transform,s=1/(o.m11*o.m22-o.m12*o.m21),a=o.m22*s,l=-o.m12*s,h=-o.m21*s,u=o.m11*s,c=s*(o.m21*o.dy-o.m22*o.dx),f=s*(o.m12*o.dx-o.m11*o.dy);return null!==this.gm?Ve((o=this.aa).left,o.top,o.right,o.bottom,t,e,n,i,r):(s=t*a+e*h+c,t=t*l+e*u+f,e=n*a+i*h+c,n=n*l+i*u+f,r.n(0,0),n=Ve(0,0,(i=this.Ga).width,i.height,s,t,e,n,r),r.transform(o),n)},n.ho=function(){},n.Oj=function(){return!1},n.rc=function(t,e,n,i,r){this.cj();var o=s.Sf();if(o.assign(this.bc),this.bc.Xa(),!1===La(this)){var a=this.bc;a.x=t,a.y=e,a.width=n,a.height=i}else this.Cj(t,e,n,i);this.bc.freeze(),this.yg=void 0===r?null:r,n=!1,void 0!==r?n=!0:null!==this.R&&(r=this.R.fd,i=this.Fa,null!==this.gm&&(i=this.bc),n=e+i.height,i=t+i.width,n=!(0<=t+.05&&i<=r.width+.05&&0<=e+.05&&n<=r.height+.05),this instanceof Il&&(this.Cw>(t=this.fd).height||this.tf.Pe>t.width))&&(n=!0),this.S=n?256|this.S:-257&this.S,this.bc.H()||s.k("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.bc.toString()),this.zy(o,this.bc),Fa(this,!1),s.Lb(o)},n.Cj=function(){},n.zy=function(t,e){var n=this.Y;null!==n&&null!==n.g&&(n.to!==this&&n.RG!==this&&n.TB!==this||_c(n,!0),this.ra(),mt(t,e)||(n.cl(),this.$s(n)))},n.$s=function(t){null!==this.yd&&(_c(t,!0),t instanceof Fc&&Vc(t,this))},s.defineProperty(fa,{vo:"shadowVisible"},function(){return this.wn},function(t){var e=this.wn;e!==t&&(r&&null!==t&&s.h(t,"boolean",fa,"shadowVisible"),this.wn=t,this.ra(),this.i("shadowVisible",e,t))}),fa.prototype.He=function(t,e){if(this.visible&&0!==(c=this.bc).width&&0!==c.height&&!isNaN(c.x)&&!isNaN(c.y)){var n=this.opacity,i=1;if(1!==n){if(0===n)return;t.globalAlpha=(i=t.globalAlpha)*n}if(t instanceof _t){t:if(this.visible){var o=null,a=t.ny;if(this instanceof tl&&(this.type===Ja||this.type===Wa))xa(this,t,e);else{var l=this.bc;if(0!==l.width&&0!==l.height&&!isNaN(l.x)&&!isNaN(l.y)){var h=this.transform,u=this.R;0!=(4096&this.S)==1&&ka(this);var c=0!=(256&this.S),f=!1;if(this instanceof Il&&(t.font=this.font),c){if(f=u.kh()?u.Ga:u.aa,null!==this.yg)var p=(v=this.yg).x,d=v.y,y=v.width,v=v.height;else p=Math.max(l.x,f.x),d=Math.max(l.y,f.y),y=Math.min(l.right,f.right)-p,v=Math.min(l.bottom,f.bottom)-d;if(p>l.width+l.x||l.x>f.width+f.x||d>l.height+l.y||l.y>f.height+f.y)break t;f=!0,It(t,1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(p,d,y,v),t.clip()}if(this.Oj()){var g=this;if(!g.isVisible())break t}t.Mh.ac=[1,0,0,1,0,0],this instanceof Il&&1<this.wB&&It(t,1,0,0,1,0,0),p=!1,this.Oj()&&this.dl&&e.Kj("drawShadows")&&(t.fC((d=this.vn).x*e.scale*e.ud,d.y*e.scale*e.ud,g.Pg),t.wo(),t.shadowColor=g.un),g=!1,this.Y&&e.Kj("drawShadows")&&(g=this.Y.dl),!0===this.vo?(t.wo(),!1===p&&g&&(It(t,1,0,0,1,0,0),t.kb(),p=!0)):!1===this.vo&&t.Cm(),null!==this.lc&&(wa(this,t,this.lc,!0,!0),!1===p&&g&&(It(t,1,0,0,1,0,0),t.kb(),p=!0),this.lc instanceof Is&&this.lc.type===Ps?(t.beginPath(),t.rect(l.x,l.y,l.width,l.height),t.Xg(this.lc)):t.fillRect(l.x,l.y,l.width,l.height)),this instanceof tl?It(t,h.m11,h.m12,h.m21,h.m22,h.dx,h.dy):t.Mh.ac=[h.m11,h.m12,h.m21,h.m22,h.dx,h.dy],null!==this.Mb&&(!1===p&&g&&(It(t,1,0,0,1,0,0),t.kb(),p=!0),h=l=0,d=(y=this.Ga).width,y=y.height,v=0,this instanceof Nl&&(l=(y=this.Za.ib).x,h=y.y,d=y.width,y=y.height,v=this.Rg),wa(this,t,this.Mb,!0,!1),this.Mb instanceof Is&&this.Mb.type===Ps?(t.beginPath(),t.rect(l-v/2,h-v/2,d+v,y+v),t.Xg(this.Mb)):t.fillRect(l-v/2,h-v/2,d+v,y+v)),g&&(null!==this.Mb||null!==this.lc||null!==u&&0!=(512&u.S)||null!==u&&(u.type===Ua||u.type===Ha)&&u.Ld()!==this)?(Na(this,!0),null===this.vo&&t.Cm()):Na(this,!1),this.Wk(t,e),g&&0!=(512&this.S)==1&&t.wo(),this.Oj()&&g&&t.Cm(),c&&(t.restore(),f&&t.yf.pop()),this instanceof tl&&(o=t.yf.pop()),!0===p&&t.yf.pop(),this instanceof Il&&1<this.wB&&(o=t.yf.pop()),null!==t.BF&&(null===o&&(a===t.ny?(It(t,1,0,0,1,0,0),o=t.yf.pop()):o=t.ny),t.BF(this,o))}}}}else{if(this instanceof tl&&(this.type===Ja||this.type===Wa))return xa(this,t,e),void(1!==n&&(t.globalAlpha=i));if(this instanceof Kc&&this.Wu(!1),r&&r.Dj&&r.FI(t,this),o=this.transform,a=this.R,0!=(4096&this.S)==1&&ka(this),u=0!=(256&this.S),t.eq&&(u=!1),this instanceof Il&&(t.font=this.font),u){if(r&&r.AF&&s.trace("clip"+this.toString()),f=a.kh()?a.Ga:a.aa,null!==this.yg?(l=(p=this.yg).x,h=p.y,g=p.width,p=p.height):(l=Math.max(c.x,f.x),h=Math.max(c.y,f.y),g=Math.min(c.right,f.right)-l,p=Math.min(c.bottom,f.bottom)-h),l>c.width+c.x||c.x>f.width+f.x||h>c.height+c.y||c.y>f.height+f.y)return void(1!==n&&(t.globalAlpha=i));r&&r.AF&&r.HI(t,l,h,g,p),t.save(),t.beginPath(),t.rect(l,h,g,p),t.clip()}if(this.Oj()){if(!this.isVisible())return void(1!==n&&(t.globalAlpha=i));this.dl&&e.Kj("drawShadows")&&(t.fC((f=this.vn).x*e.scale*e.ud,f.y*e.scale*e.ud,this.Pg),t.wo(),t.shadowColor=this.un)}f=!1,this.Y&&e.Kj("drawShadows")&&(f=this.Y.dl),!0===this.vo?t.wo():!1===this.vo&&t.Cm(),null!==this.lc&&(wa(this,t,this.lc,!0,!0),this.lc instanceof Is&&this.lc.type===Ps?(t.beginPath(),t.rect(c.x,c.y,c.width,c.height),t.Xg(this.lc)):t.fillRect(c.x,c.y,c.width,c.height)),o.Nu()||t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),f&&(null!==a&&0!=(512&a.S)||null!==a&&(a.type===Ua||a.type===Ha)&&a.Ld()!==this)&&null===this.vo&&t.Cm(),null!==this.Mb&&(l=c=0,h=(g=this.Ga).width,g=g.height,p=0,this instanceof Nl&&(c=(g=this.Za.ib).x,l=g.y,h=g.width,g=g.height,p=this.Rg),wa(this,t,this.Mb,!0,!1),this.Mb instanceof Is&&this.Mb.type===Ps?(t.beginPath(),t.rect(c-p/2,l-p/2,h+p,g+p),t.Xg(this.Mb)):t.fillRect(c-p/2,l-p/2,h+p,g+p)),r&&r.Dj&&r.GI(t,this),f&&(null!==this.Mb||null!==this.lc||null!==a&&0!=(512&a.S)||null!==a&&(a.type===Ua||a.type===Ha)&&a.Ld()!==this)?(Na(this,!0),null===this.vo&&t.Cm()):Na(this,!1),this.Wk(t,e),f&&0!=(512&this.S)==1&&t.wo(),this.Oj()&&f&&t.Cm(),u?(t.restore(),t.De(this instanceof tl)):o.Nu()||t.transform(o.m22*(a=1/(o.m11*o.m22-o.m12*o.m21)),-o.m12*a,-o.m21*a,o.m11*a,a*(o.m21*o.dy-o.m22*o.dx),a*(o.m12*o.dx-o.m11*o.dy))}1!==n&&(t.globalAlpha=i)}},fa.prototype.Wk=function(){},fa.prototype.isContainedBy=fa.prototype.xm=function(t){if(t instanceof tl)t:{if(this!==t&&null!==t)for(var e=this.R;null!==e;){if(e===t){t=!0;break t}e=e.R}t=!1}else t=!1;return t},fa.prototype.isVisibleObject=fa.prototype.Sj=function(){if(!this.visible)return!1;var t=this.R;return null===t||t.Sj()},fa.prototype.isEnabledObject=fa.prototype.Ju=function(){for(var t=this instanceof tl?this:this.R;null!==t&&t.isEnabled;)t=t.R;return null===t},s.defineProperty(fa,{CF:"enabledChanged"},function(){return null!==this.ma?this.ma.Yr:null},function(t){pa(this);var e=this.ma.Yr;e!==t&&(null!==t&&s.h(t,"function",fa,"enabledChanged"),this.ma.Yr=t,this.i("enabledChanged",e,t))}),(n=fa.prototype).K=function(t){if(void 0===t&&(t=!1),!0!==Ea(this)){Da(this,!0),Fa(this,!0);var e=this.R;null===e||t||e.K()}},n.xq=function(){!0!==Ea(this)&&(Da(this,!0),Fa(this,!0))},n.cj=function(){0!=(2048&this.S)==0&&(_a(this,!0),Oa(this,!0))},n.nB=function(){Oa(this,!0)},n.ra=function(){var t=this.Y;null!==t&&t.ra()},s.defineProperty(fa,{Uq:"segmentOrientation"},function(){return this.sn},function(t){var e=this.sn;e!==t&&(r&&s.Da(t,Kc,fa,"segmentOrientation"),this.sn=t,this.K(),this.i("segmentOrientation",e,t),t===$h&&(this.angle=0))}),s.defineProperty(fa,{We:"segmentIndex"},function(){return this.zt},function(t){r&&s.h(t,"number",fa,"segmentIndex"),t=Math.round(t);var e=this.zt;e!==t&&(this.zt=t,this.K(),this.i("segmentIndex",e,t))}),s.defineProperty(fa,{WB:"segmentFraction"},function(){return this.qn},function(t){r&&s.h(t,"number",fa,"segmentFraction"),isNaN(t)?t=0:0>t?t=0:1<t&&(t=1);var e=this.qn;e!==t&&(this.qn=t,this.K(),this.i("segmentFraction",e,t))}),s.defineProperty(fa,{XB:"segmentOffset"},function(){return this.rn},function(t){var e=this.rn;e.O(t)||(r&&s.l(t,ft,fa,"segmentOffset"),this.rn=t=t.V(),this.K(),this.i("segmentOffset",e,t))}),s.defineProperty(fa,{stretch:"stretch"},function(){return this.Qg},function(t){var e=this.Qg;e!==t&&(r&&s.Da(t,fa,fa,"stretch"),this.Qg=t,this.K(),this.i("stretch",e,t))}),s.defineProperty(fa,{name:"name"},function(){return this.$b},function(t){var e=this.$b;e!==t&&(r&&s.h(t,"string",fa,"name"),this.$b=t,null!==this.Y&&(this.Y.Sl=null),this.i("name",e,t))}),s.defineProperty(fa,{opacity:"opacity"},function(){return this.Lc},function(t){var e=this.Lc;e!==t&&(s.h(t,"number",fa,"opacity"),(0>t||1<t)&&s.ua(t,"0 <= value <= 1",fa,"opacity"),this.Lc=t,this.i("opacity",e,t),e=this.Y,null!==(t=this.g)&&null!==e&&t.ra(Vh(e,e.aa)))}),s.defineProperty(fa,{visible:"visible"},function(){return 0!=(1&this.S)},function(t){var e=0!=(1&this.S);e!==t&&(r&&s.h(t,"boolean",fa,"visible"),this.S^=1,this.i("visible",e,t),null!==(e=this.R)?e.K():this.Oj()&&this.Pd(t),this.ra(),Ra(this))}),s.defineProperty(fa,{tg:"pickable"},function(){return 0!=(2&this.S)},function(t){var e=0!=(2&this.S);e!==t&&(r&&s.h(t,"boolean",fa,"pickable"),this.S^=2,this.i("pickable",e,t))}),s.defineProperty(fa,{QI:"fromLinkableDuplicates"},function(){return 0!=(4&this.S)},function(t){var e=0!=(4&this.S);e!==t&&(r&&s.h(t,"boolean",fa,"fromLinkableDuplicates"),this.S^=4,this.i("fromLinkableDuplicates",e,t))}),s.defineProperty(fa,{RI:"fromLinkableSelfNode"},function(){return 0!=(8&this.S)},function(t){var e=0!=(8&this.S);e!==t&&(r&&s.h(t,"boolean",fa,"fromLinkableSelfNode"),this.S^=8,this.i("fromLinkableSelfNode",e,t))}),s.defineProperty(fa,{CK:"toLinkableDuplicates"},function(){return 0!=(16&this.S)},function(t){var e=0!=(16&this.S);e!==t&&(r&&s.h(t,"boolean",fa,"toLinkableDuplicates"),this.S^=16,this.i("toLinkableDuplicates",e,t))}),s.defineProperty(fa,{DK:"toLinkableSelfNode"},function(){return 0!=(32&this.S)},function(t){var e=0!=(32&this.S);e!==t&&(r&&s.h(t,"boolean",fa,"toLinkableSelfNode"),this.S^=32,this.i("toLinkableSelfNode",e,t))}),s.defineProperty(fa,{Ue:"isPanelMain"},function(){return 0!=(64&this.S)},function(t){var e=0!=(64&this.S);e!==t&&(r&&s.h(t,"boolean",fa,"isPanelMain"),this.S^=64,this.K(),this.i("isPanelMain",e,t))}),s.defineProperty(fa,{Hu:"isActionable"},function(){return 0!=(128&this.S)},function(t){var e=0!=(128&this.S);e!==t&&(r&&s.h(t,"boolean",fa,"isActionable"),this.S^=128,this.i("isActionable",e,t))}),s.defineProperty(fa,{gm:"areaBackground"},function(){return this.lc},function(t){var e=this.lc;e!==t&&(r&&null!==t&&s.hu(t,"GraphObject.areaBackground"),t instanceof Is&&t.freeze(),this.lc=t,this.ra(),this.i("areaBackground",e,t))}),s.defineProperty(fa,{background:"background"},function(){return this.Mb},function(t){var e=this.Mb;e!==t&&(r&&null!==t&&s.hu(t,"GraphObject.background"),t instanceof Is&&t.freeze(),this.Mb=t,this.ra(),this.i("background",e,t))}),s.w(fa,{Y:"part"},function(){if(this.Oj())return this;if(null!==this.mn)return this.mn;var t;for(t=this.R;t;){if(t instanceof Dh)return this.mn=t;t=t.R}return null}),s.w(fa,{R:"panel"},function(){return this.rj}),fa.prototype.Bm=function(t){this.rj=t},s.w(fa,{layer:"layer"},function(){var t=this.Y;return null!==t?t.layer:null},{configurable:!0}),s.w(fa,{g:"diagram"},function(){var t=this.Y;return null!==t?t.g:null},{configurable:!0}),s.defineProperty(fa,{position:"position"},function(){return this.sb},function(t){r&&s.l(t,ft,fa,"position");var e=t.x,n=t.y,i=this.sb,o=i.x,a=i.y;(o===e||isNaN(o)&&isNaN(e))&&(a===n||isNaN(a)&&isNaN(n))?this.cC():(t=t.V(),this.bC(t,i)&&this.i("position",i,t))}),fa.prototype.cC=function(){},fa.prototype.bC=function(t){return this.sb=t,Sa(this),this.cj(),!0},fa.prototype.Uy=function(t,e){this.sb.n(t,e),this.cj()},s.w(fa,{aa:"actualBounds"},function(){return this.bc}),s.defineProperty(fa,{scale:"scale"},function(){return this.Db},function(t){var e=this.Db;e!==t&&(r&&s.p(t,fa,"scale"),0>=t&&s.k("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.Db=t,this.cj(),this.K(),this.i("scale",e,t))}),s.defineProperty(fa,{angle:"angle"},function(){return this.wg},function(t){var e=this.wg;e!==t&&(r&&s.p(t,fa,"angle"),0>(t%=360)&&(t+=360),e!==t&&(this.wg=t,Ra(this),this.K(),this.cj(),this.i("angle",e,t)))}),s.defineProperty(fa,{Ea:"desiredSize"},function(){return this.$e},function(t){r&&s.l(t,yt,fa,"desiredSize");var e=t.width,n=t.height,i=this.$e,o=i.width,a=i.height;(o===e||isNaN(o)&&isNaN(e))&&(a===n||isNaN(a)&&isNaN(n))||(this.$e=t=t.V(),this.K(),this instanceof Nl&&this.Te(),this.i("desiredSize",i,t),ja(this)&&null!==(t=this.Y)&&(ya(this,t,"width"),ya(this,t,"height")))}),s.defineProperty(fa,{width:"width"},function(){return this.$e.width},function(t){var e=this.$e.width;e===t||isNaN(e)&&isNaN(t)||(r&&s.h(t,"number",fa,"width"),e=this.$e,this.$e=t=new yt(t,this.$e.height).freeze(),this.K(),this instanceof Nl&&this.Te(),this.i("desiredSize",e,t),ja(this)&&null!==(t=this.Y)&&ya(this,t,"width"))}),s.defineProperty(fa,{height:"height"},function(){return this.$e.height},function(t){var e=this.$e.height;e===t||isNaN(e)&&isNaN(t)||(r&&s.h(t,"number",fa,"height"),e=this.$e,this.$e=t=new yt(this.$e.width,t).freeze(),this.K(),this instanceof Nl&&this.Te(),this.i("desiredSize",e,t),ja(this)&&null!==(t=this.Y)&&ya(this,t,"height"))}),s.defineProperty(fa,{ah:"minSize"},function(){return this.oi},function(t){var e=this.oi;e.O(t)||(r&&s.l(t,yt,fa,"minSize"),t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),this.oi=t,this.K(),this.i("minSize",e,t))}),s.defineProperty(fa,{qf:"maxSize"},function(){return this.ni},function(t){var e=this.ni;e.O(t)||(r&&s.l(t,yt,fa,"maxSize"),t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),this.ni=t,this.K(),this.i("maxSize",e,t))}),s.w(fa,{Fa:"measuredBounds"},function(){return this.Fd}),s.w(fa,{Ga:"naturalBounds"},function(){return this.fd},{configurable:!0}),s.defineProperty(fa,{margin:"margin"},function(){return this.en},function(t){"number"==typeof t?t=new Pt(t):r&&s.l(t,Pt,fa,"margin");var e=this.en;e.O(t)||(this.en=t=t.V(),this.K(),this.i("margin",e,t))}),s.w(fa,{transform:null},function(){return 0!=(2048&this.S)==1&&ka(this),this.Nc}),s.w(fa,{Hh:null},function(){return 0!=(4096&this.S)==1&&ka(this),this.Ni}),s.defineProperty(fa,{alignment:"alignment"},function(){return this.ue},function(t){var e=this.ue;e.O(t)||(r&&s.l(t,Ct,fa,"alignment"),t.de()&&!t.ld()&&s.k("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.ue=t=t.V(),Sa(this),this.i("alignment",e,t))}),s.defineProperty(fa,{column:"column"},function(){return this.wr},function(t){r&&s.p(t,fa,"column"),t=Math.round(t);var e=this.wr;e!==t&&(0>t&&s.ua(t,">= 0",fa,"column"),this.wr=t,this.K(),this.i("column",e,t))}),s.defineProperty(fa,{kI:"columnSpan"},function(){return this.Si},function(t){r&&s.h(t,"number",fa,"columnSpan"),t=Math.round(t);var e=this.Si;e!==t&&(1>t&&s.ua(t,">= 1",fa,"columnSpan"),this.Si=t,this.K(),this.i("columnSpan",e,t))}),s.defineProperty(fa,{Sb:"row"},function(){return this.vt},function(t){r&&s.p(t,fa,"row"),t=Math.round(t);var e=this.vt;e!==t&&(0>t&&s.ua(t,">= 0",fa,"row"),this.vt=t,this.K(),this.i("row",e,t))}),s.defineProperty(fa,{rowSpan:"rowSpan"},function(){return this.tj},function(t){r&&s.h(t,"number",fa,"rowSpan"),t=Math.round(t);var e=this.tj;e!==t&&(1>t&&s.ua(t,">= 1",fa,"rowSpan"),this.tj=t,this.K(),this.i("rowSpan",e,t))}),s.defineProperty(fa,{Vy:"spanAllocation"},function(){return this.Lt},function(t){var e=this.Lt;e!==t&&(null!==t&&s.h(t,"function",fa,"spanAllocation"),this.Lt=t,this.K(),this.i("spanAllocation",e,t))}),s.defineProperty(fa,{Gh:"alignmentFocus"},function(){return this.Lm},function(t){var e=this.Lm;e.O(t)||(r&&s.l(t,Ct,fa,"alignmentFocus"),!t.de()||t.ld()||t.O(g)&&this instanceof Fc||s.k("GraphObject.alignmentFocus must be a real Spot or Spot.Default, not: "+t),this.Lm=t=t.V(),this.K(),this.i("alignmentFocus",e,t))}),s.defineProperty(fa,{yd:"portId"},function(){return this.it},function(t){var e=this.it;if(e!==t){r&&null!==t&&s.h(t,"string",fa,"portId");var n=this.Y;if(null===n||n instanceof Fc||(s.k("Cannot set portID on a Link: "+t),n=null),null!==e&&null!==n&&Uc(n,this),this.it=t,null!==t&&n){n.bl=!0,null===n.Ae&&Hc(n);var i=this.yd;null!==i&&n.Ae.add(i,this)}this.i("portId",e,t)}}),s.defineProperty(fa,{Hb:"toSpot"},function(){return null!==this.Z?this.Z.Mk:g},function(t){this.ae();var e=this.Z.Mk;e.O(t)||(r&&s.l(t,Ct,fa,"toSpot"),t=t.V(),this.Z.Mk=t,this.i("toSpot",e,t),Ia(this))}),s.defineProperty(fa,{Hm:"toEndSegmentLength"},function(){return null!==this.Z?this.Z.Kk:10},function(t){this.ae();var e=this.Z.Kk;e!==t&&(r&&s.h(t,"number",fa,"toEndSegmentLength"),0>t&&s.ua(t,">= 0",fa,"toEndSegmentLength"),this.Z.Kk=t,this.i("toEndSegmentLength",e,t),Ia(this))}),s.defineProperty(fa,{uv:"toEndSegmentDirection"},function(){return null!==this.Z?this.Z.Jk:Wh},function(t){this.ae();var e=this.Z.Jk;e!==t&&(s.On("GraphObject.toEndSegmentDirection","2.0"),r&&s.Da(t,Fc,fa,"toEndSegmentDirection"),this.Z.Jk=t,this.i("toEndSegmentDirection",e,t),Ia(this))}),s.defineProperty(fa,{vv:"toShortLength"},function(){return null!==this.Z?this.Z.Lk:0},function(t){this.ae();var e=this.Z.Lk;e!==t&&(r&&s.h(t,"number",fa,"toShortLength"),this.Z.Lk=t,this.i("toShortLength",e,t),Ia(this))}),s.defineProperty(fa,{nH:"toLinkable"},function(){return null!==this.Z?this.Z.St:null},function(t){this.ae();var e=this.Z.St;e!==t&&(r&&null!==t&&s.h(t,"boolean",fa,"toLinkable"),this.Z.St=t,this.i("toLinkable",e,t))}),s.defineProperty(fa,{EK:"toMaxLinks"},function(){return null!==this.Z?this.Z.Tt:1/0},function(t){this.ae();var e=this.Z.Tt;e!==t&&(r&&s.h(t,"number",fa,"toMaxLinks"),0>t&&s.ua(t,">= 0",fa,"toMaxLinks"),this.Z.Tt=t,this.i("toMaxLinks",e,t))}),s.defineProperty(fa,{Gb:"fromSpot"},function(){return null!==this.Z?this.Z.ok:g},function(t){this.ae();var e=this.Z.ok;e.O(t)||(r&&s.l(t,Ct,fa,"fromSpot"),t=t.V(),this.Z.ok=t,this.i("fromSpot",e,t),Ia(this))}),s.defineProperty(fa,{rm:"fromEndSegmentLength"},function(){return null!==this.Z?this.Z.mk:10},function(t){this.ae();var e=this.Z.mk;e!==t&&(r&&s.h(t,"number",fa,"fromEndSegmentLength"),0>t&&s.ua(t,">= 0",fa,"fromEndSegmentLength"),this.Z.mk=t,this.i("fromEndSegmentLength",e,t),Ia(this))}),s.defineProperty(fa,{zu:"fromEndSegmentDirection"},function(){return null!==this.Z?this.Z.lk:Wh},function(t){this.ae();var e=this.Z.lk;e!==t&&(s.On("GraphObject.fromEndSegmentDirection","2.0"),r&&s.Da(t,Fc,fa,"fromEndSegmentDirection"),this.Z.lk=t,this.i("fromEndSegmentDirection",e,t),Ia(this))}),s.defineProperty(fa,{Au:"fromShortLength"},function(){return null!==this.Z?this.Z.nk:0},function(t){this.ae();var e=this.Z.nk;e!==t&&(r&&s.h(t,"number",fa,"fromShortLength"),this.Z.nk=t,this.i("fromShortLength",e,t),Ia(this))}),s.defineProperty(fa,{MF:"fromLinkable"},function(){return null!==this.Z?this.Z.as:null},function(t){this.ae();var e=this.Z.as;e!==t&&(r&&null!==t&&s.h(t,"boolean",fa,"fromLinkable"),this.Z.as=t,this.i("fromLinkable",e,t))}),s.defineProperty(fa,{cB:"fromMaxLinks"},function(){return null!==this.Z?this.Z.bs:1/0},function(t){this.ae();var e=this.Z.bs;e!==t&&(r&&s.h(t,"number",fa,"fromMaxLinks"),0>t&&s.ua(t,">= 0",fa,"fromMaxLinks"),this.Z.bs=t,this.i("fromMaxLinks",e,t))}),s.defineProperty(fa,{cursor:"cursor"},function(){return this.Fr},function(t){var e=this.Fr;e!==t&&(s.h(t,"string",fa,"cursor"),this.Fr=t,this.i("cursor",e,t))}),s.defineProperty(fa,{click:"click"},function(){return null!==this.ma?this.ma.Ri:null},function(t){pa(this);var e=this.ma.Ri;e!==t&&(null!==t&&s.h(t,"function",fa,"click"),this.ma.Ri=t,this.i("click",e,t))}),s.defineProperty(fa,{nu:"doubleClick"},function(){return null!==this.ma?this.ma.Yi:null},function(t){pa(this);var e=this.ma.Yi;e!==t&&(null!==t&&s.h(t,"function",fa,"doubleClick"),this.ma.Yi=t,this.i("doubleClick",e,t))}),s.defineProperty(fa,{MA:"contextClick"},function(){return null!==this.ma?this.ma.Ti:null},function(t){pa(this);var e=this.ma.Ti;e!==t&&(null!==t&&s.h(t,"function",fa,"contextClick"),this.ma.Ti=t,this.i("contextClick",e,t))}),s.defineProperty(fa,{Yu:"mouseEnter"},function(){return null!==this.ma?this.ma.Rs:null},function(t){pa(this);var e=this.ma.Rs;e!==t&&(null!==t&&s.h(t,"function",fa,"mouseEnter"),this.ma.Rs=t,this.i("mouseEnter",e,t))}),s.defineProperty(fa,{Zu:"mouseLeave"},function(){return null!==this.ma?this.ma.Ss:null},function(t){pa(this);var e=this.ma.Ss;e!==t&&(null!==t&&s.h(t,"function",fa,"mouseLeave"),this.ma.Ss=t,this.i("mouseLeave",e,t))}),s.defineProperty(fa,{FB:"mouseOver"},function(){return null!==this.ma?this.ma.nj:null},function(t){pa(this);var e=this.ma.nj;e!==t&&(null!==t&&s.h(t,"function",fa,"mouseOver"),this.ma.nj=t,this.i("mouseOver",e,t))}),s.defineProperty(fa,{EB:"mouseHover"},function(){return null!==this.ma?this.ma.mj:null},function(t){pa(this);var e=this.ma.mj;e!==t&&(null!==t&&s.h(t,"function",fa,"mouseHover"),this.ma.mj=t,this.i("mouseHover",e,t))}),s.defineProperty(fa,{DB:"mouseHold"},function(){return null!==this.ma?this.ma.lj:null},function(t){pa(this);var e=this.ma.lj;e!==t&&(null!==t&&s.h(t,"function",fa,"mouseHold"),this.ma.lj=t,this.i("mouseHold",e,t))}),s.defineProperty(fa,{RJ:"mouseDragEnter"},function(){return null!==this.ma?this.ma.Ps:null},function(t){pa(this);var e=this.ma.Ps;e!==t&&(null!==t&&s.h(t,"function",fa,"mouseDragEnter"),this.ma.Ps=t,this.i("mouseDragEnter",e,t))}),s.defineProperty(fa,{SJ:"mouseDragLeave"},function(){return null!==this.ma?this.ma.Qs:null},function(t){pa(this);var e=this.ma.Qs;e!==t&&(null!==t&&s.h(t,"function",fa,"mouseDragLeave"),this.ma.Qs=t,this.i("mouseDragLeave",e,t))}),s.defineProperty(fa,{CB:"mouseDrop"},function(){return null!==this.ma?this.ma.kj:null},function(t){pa(this);var e=this.ma.kj;e!==t&&(null!==t&&s.h(t,"function",fa,"mouseDrop"),this.ma.kj=t,this.i("mouseDrop",e,t))}),s.defineProperty(fa,{RE:"actionDown"},function(){return null!==this.ma?this.ma.er:null},function(t){pa(this);var e=this.ma.er;e!==t&&(null!==t&&s.h(t,"function",fa,"actionDown"),this.ma.er=t,this.i("actionDown",e,t))}),s.defineProperty(fa,{SE:"actionMove"},function(){return null!==this.ma?this.ma.fr:null},function(t){pa(this);var e=this.ma.fr;e!==t&&(null!==t&&s.h(t,"function",fa,"actionMove"),this.ma.fr=t,this.i("actionMove",e,t))}),s.defineProperty(fa,{TE:"actionUp"},function(){return null!==this.ma?this.ma.gr:null},function(t){pa(this);var e=this.ma.gr;e!==t&&(null!==t&&s.h(t,"function",fa,"actionUp"),this.ma.gr=t,this.i("actionUp",e,t))}),s.defineProperty(fa,{QE:"actionCancel"},function(){return null!==this.ma?this.ma.dr:null},function(t){pa(this);var e=this.ma.dr;e!==t&&(null!==t&&s.h(t,"function",fa,"actionCancel"),this.ma.dr=t,this.i("actionCancel",e,t))}),s.defineProperty(fa,{lC:"toolTip"},function(){return null!==this.ma?this.ma.wj:null},function(t){pa(this);var e=this.ma.wj;e!==t&&(!r||null===t||t instanceof Lc||t instanceof lr||s.k("GraphObject.toolTip must be an Adornment or HTMLInfo."),this.ma.wj=t,this.i("toolTip",e,t))}),s.defineProperty(fa,{contextMenu:"contextMenu"},function(){return null!==this.ma?this.ma.Ui:null},function(t){pa(this);var e=this.ma.Ui;e!==t&&(!r||t instanceof Lc||t instanceof lr||s.k("GraphObject.contextMenu must be an Adornment or HTMLInfo."),this.ma.Ui=t,this.i("contextMenu",e,t))}),fa.prototype.bind=fa.prototype.bind=function(t){t.Sg=this;var e=this.qm();null!==e&&dl(e)&&s.k("Cannot add a Binding to a template that has already been copied: "+t),null===this.Hc&&(this.Hc=new nt(Rn)),this.Hc.add(t)},fa.prototype.findTemplateBinder=fa.prototype.qm=function(){for(var t=this instanceof tl?this:this.R;null!==t;){if(null!==t.zl)return t;t=t.R}return null},fa.prototype.setProperties=function(t){s.nv(this,t)},fa.make=sa=function(t,e){var n=arguments,r=null,o=null;if("function"==typeof t)o=t;else if("string"==typeof t){var a=Qa.oa(t);"function"==typeof a?(r=a(n=s.km(arguments)),s.Qa(r)||s.k('GraphObject.make invoked object builder "'+t+'", but it did not return an Object')):o=i[t]}for(null===r&&(void 0!==o&&null!==o&&o.constructor||s.k("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+t),r=new o),a=1,r instanceof eo&&1<n.length&&("string"==typeof(o=n[1])||o instanceof HTMLDivElement)&&(As(r,o),a++);a<n.length;a++)void 0===(o=n[a])?s.k("Undefined value at argument "+a+" for object being constructed by GraphObject.make: "+r):Va(r,o);return r};var Ba,za,qa,Ga,Ha,Ua,Ka,Ja,Wa,Ya,Za,Xa,Qa=new ut("string","function");function $a(){this.Yr=this.Ui=this.wj=this.dr=this.gr=this.fr=this.er=this.kj=this.Qs=this.Ps=this.lj=this.mj=this.nj=this.Ss=this.Rs=this.Ti=this.Yi=this.Ri=null}function tl(t){fa.call(this),void 0===t?this.da=qa:(s.Da(t,tl,tl,"type"),this.da=t),this.xa=new nt(fa),this.uf=oe,this.da===Za&&(this.Yn=!0),this.Jr=m,this.Xi=Xs,this.da===Ka&&el(this),this.Wp=ea,this.js=de,this.ks=ie,this.fs=0,this.es=100,this.hs=10,this.gs=0,this.zl=this.Sd=this.pk=this.Tm=this.Vm=null,this.xs=NaN,this.Ig=this.ej=null,this.op="category",this.Hg=null,this.yj=new vt(NaN,NaN,NaN,NaN),this.Ik=this.wt=this.Xl=null,this.dk=""}function el(t){t.hk=oe,t.fi=1,t.Wi=null,t.Rm=null,t.ei=1,t.di=null,t.Qm=null,t.hd=[],t.cd=[],t.pn=kl,t.Pm=kl,t.xj=0,t.hj=0}function nl(t,e){e.S=6144|t.S,e.Lc=t.Lc,e.Mb=t.Mb,e.lc=t.lc,e.$e=t.$e.V(),e.oi=t.oi.V(),e.ni=t.ni.V(),e.ij=t.ij.copy(),e.Db=t.Db,e.wg=t.wg,e.Qg=t.Qg,e.en=t.en.V(),e.ue=t.ue.V(),e.Lm=t.Lm.V(),e.qn=t.qn,e.rn=t.rn.V(),e.sn=t.sn,null!==t.yg&&(e.yg=t.yg.copy()),e.wn=t.wn,t instanceof Il&&(e.Yd=t.Yd,e.Bc=t.Bc,e.Bg=t.Bg,e.Yl=t.Yl,e.Ag=t.Ag,e.bm=t.bm,e.Ym=t.Ym,e.vk=t.vk,e.tk=t.tk,e.pj=t.pj,e.Aj=t.Aj,e.tf.kk=null,e.vi=t.vi,e.wi=t.wi,e.wh=t.wh,e.rp=t.rp,e.Fg=t.Fg,e.Eg=t.Eg,e.Dg=t.Dg,e.Um=t.Um)}function il(t,e,n,i){for(var r=i.length,o=t.aa,s=!0,a=0;a<r;a++){var l=i[a];if(void 0!==l)if(s)s=!1;else if(0!==l.hb){if(n){if(l.position>o.height)continue}else if(l.position>o.width)continue;var h=l.Wq;isNaN(h)&&(h=n?t.fi:t.ei);var u=l.Vq;null===u&&(u=n?t.Wi:t.di),0!==h&&null!==u&&(wa(t,e,u,!1,!1),e.beginPath(),u=l.position+h,n?u>o.height&&(h-=u-o.height):u>o.width&&(h-=u-o.width),l=l.position+h/2,e.lineWidth=h,u=t.padding,n?(l+=u.top,h=u.left,u=o.width-u.right,e.moveTo(h,l),e.lineTo(u,l)):(l+=u.left,h=u.top,u=o.height-u.bottom,e.moveTo(l,h),e.lineTo(l,u)),e.stroke())}}}function rl(t,e,n,i,r){for(var o=i.length,s=t.aa,a=0;a<o;a++){var l=i[a];if(void 0!==l&&null!==l.background&&l.RA!==r&&0!==l.hb){var h=n?s.height:s.width;if(!(l.position>h)){var u=l.jf(),c=l.Wq;isNaN(c)&&(c=n?t.fi:t.ei);var f=l.Vq;null===f&&(f=n?t.Wi:t.di),null===f&&(c=0),u-=c,(c=l.position+c)+(u+=l.hb)>h&&(u=h-c),0>=u||(h=t.padding,wa(t,e,l.background,!0,!1),n?e.fillRect(h.left,c+h.top,s.width-(h.left+h.right),u):e.fillRect(c+h.left,h.top,u,s.height-(h.top+h.bottom)))}}}}function ol(t,e,n){if(0!=t%e)return!1;e=n.length;for(var i=0;i<e;i++)if(0==t%n[i])return!1;return!0}function sl(t){return"LineV"===t||"BarV"===t}function al(t){return null!==t.Y?t.Y.Cf:null}function ll(t,e,n){if(n(t,e),e instanceof tl)for(var i=(e=e.xa.o).length,r=0;r<i;r++)ll(t,e[r],n)}function hl(t,e){!function t(e,n,i){i(n);for(var r=(n=n.xa.o).length,o=0;o<r;o++){var s=n[o];s instanceof tl&&t(e,s,i)}}(t,t,e)}function ul(t,e,n,i){for(var r=t.xa.o,o=r.length;o--;){var s=r[o];if(s.visible){var a=s.aa,l=t.Ga;a.x>l.width||a.y>l.height||0>a.x+a.width||0>a.y+a.height||(s instanceof tl&&ul(s,e,n,i),null!==e&&(s=e(s)),null===s||null!==n&&!n(s)||i.add(s))}}}function cl(t){var e=null;return t instanceof Nl&&((e=t.C)===m&&(e=null),null!==(t=t.wf)&&null===e&&(e=t.C)),null===e&&(e=b),e}function fl(t){var e=null;return t instanceof Nl&&((e=t.D)===m&&(e=null),null!==(t=t.wf)&&null===e&&(e=t.D)),null===e&&(e=M),e}function pl(t,e){t.S=e?16777216|t.S:-16777217&t.S}function dl(t){return null!==(t=t.zl)&&t.J}function yl(t){var e=t.zl;if(null===e)null!==t.data&&s.k("Template cannot have .data be non-null: "+t),t.zl=e=new nt(Rn);else if(e.J)return;var n=new nt(fa);pl(t,!1),ll(t,t,function(t,i){var r=i.Hc;if(null!==r)for(Aa(i,!1),r=r.j;r.next();){var o=r.value;o.mode===An&&Aa(i,!0);var s=o.$q;null!==s&&("/"===s&&pl(t,!0),null!==(s=Vn(o,t,i))&&(n.add(s),null===s.Lp&&(s.Lp=new nt(Rn)),s.Lp.add(o))),e.add(o)}if(i instanceof tl&&i.type===Ka){if(0<i.hd.length)for(o=(r=i.hd).length,s=0;s<o;s++){var a=r[s];if(void 0!==a&&null!==a.Hc)for(var l=a.Hc.j;l.next();){var h=l.value;h.Sg=a,h.Pt=2,h.Tp=a.index,e.add(h)}}if(0<i.cd.length)for(o=(r=i.cd).length,s=0;s<o;s++)if(void 0!==(a=r[s])&&null!==a.Hc)for(l=a.Hc.j;l.next();)(h=l.value).Sg=a,h.Pt=1,h.Tp=a.index,e.add(h)}});for(var i=n.j;i.next();){var o=i.value;if(null!==o.Lp){Aa(o,!0);for(var a=o.Lp.j;a.next();){var l=a.value;null===o.Hc&&(o.Hc=new nt(Rn)),o.Hc.add(l)}}o.Lp=null}for(i=e.j;i.next();)if(null!==(a=(o=i.value).Sg)){o.Sg=null;var h=o.tv,u=h.indexOf(".");0<u&&a instanceof tl&&(l=h.substring(0,u),h=h.substr(u+1),null!==(u=a.Md(l))?(a=u,o.tv=h):s.trace('Warning: unable to find GraphObject named "'+l+'" for Binding: '+o.toString())),a instanceof Tl?(o.Fm=s.Nd(a.R),a.R.Jo=o.Fm):(o.Fm=s.Nd(a),a.Jo=o.Fm)}e.freeze(),t instanceof Dh&&(t.qe()&&t.lf(),r&&!vl&&ll(t,t,function(t,n){if(n instanceof tl&&(n.type===Ua||n.type===Ha||n.type===Xa)&&1>=n.elements.count&&!(n instanceof Dh)){if(1===n.elements.count){var i=null!==n.el;if(!i)for(var r=e.j;r.next();)if("itemArray"===r.value.tv){i=!0;break}}i||(s.trace("Auto, Spot, or Graduated Panel should not have zero or one elements: "+n.toString()+" in "+t.toString()),vl=!0)}}))}fa.getBuilders=function(){var t,e=new ut("string","function");for(t in Qa)if(t!==t.toLowerCase()){var n=Qa.oa(t);"function"==typeof n&&e.add(t,n)}return e.freeze(),e},fa.defineBuilder=Ba=function(t,e){s.h(t,"string",fa,"defineBuilder:name"),s.h(e,"function",fa,"defineBuilder:func");var n=t.toLowerCase();""!==t&&"none"!==n&&t!==n||s.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+t),Qa.add(t,e)},fa.takeBuilderArgument=za=function(t,e,n){void 0===n&&(n=null);var i=t[1];if("function"==typeof n?n(i):"string"==typeof i)return t.splice(1,1),i;if(void 0===e)throw Error("no "+("function"==typeof n?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e},Ba("Button",function(){var t=new Is(ks);t.addColorStop(0,"white"),t.addColorStop(1,"lightgray");var e=new Is(ks);return e.addColorStop(0,"white"),e.addColorStop(1,"dodgerblue"),(t=sa(tl,Ua,{Hu:!0,CF:function(t,e){var n=t.Md("ButtonBorder");null!==n&&(n.fill=e?t._buttonFillNormal:t._buttonFillDisabled)},_buttonFillNormal:t,_buttonStrokeNormal:"gray",_buttonFillOver:e,_buttonStrokeOver:"blue",_buttonFillDisabled:"darkgray"},sa(Nl,{name:"ButtonBorder",Kb:"Rectangle",C:new Ct(0,0,2.761423749153968,2.761423749153968),D:new Ct(1,1,-2.761423749153968,-2.761423749153968),fill:t,stroke:"gray"}))).Yu=function(t,e){if(e.Ju()){var n=e.Md("ButtonBorder");if(n instanceof Nl){var i=e._buttonFillOver;e._buttonFillNormal=n.fill,n.fill=i,i=e._buttonStrokeOver,e._buttonStrokeNormal=n.stroke,n.stroke=i}}},t.Zu=function(t,e){if(e.Ju()){var n=e.Md("ButtonBorder");n instanceof Nl&&(n.fill=e._buttonFillNormal,n.stroke=e._buttonStrokeNormal)}},t}),Ba("TreeExpanderButton",function(){var t=sa("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},sa(Nl,{name:"ButtonIcon",Kb:"MinusLine",Ea:fe},new Rn("figure","isTreeExpanded",function(t,e){var n=e.R;return t?n._treeExpandedFigure:n._treeCollapsedFigure}).yy()),{visible:!1},new Rn("visible","isTreeLeaf",function(t){return!t}).yy());return t.click=function(t,e){var n=e.Y;if(n instanceof Lc&&(n=n.gf),n instanceof Fc){var i=n.g;if(null!==i){if(i=i.yb,n.Dc){if(!i.canCollapseTree(n))return}else if(!i.canExpandTree(n))return;t.Cc=!0,n.Dc?i.collapseTree(n):i.expandTree(n)}}},t}),Ba("SubGraphExpanderButton",function(){var t=sa("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},sa(Nl,{name:"ButtonIcon",Kb:"MinusLine",Ea:fe},new Rn("figure","isSubGraphExpanded",function(t,e){var n=e.R;return t?n._subGraphExpandedFigure:n._subGraphCollapsedFigure}).yy()));return t.click=function(t,e){var n=e.Y;if(n instanceof Lc&&(n=n.gf),n instanceof Tf){var i=n.g;if(null!==i){if(i=i.yb,n.md){if(!i.canCollapseSubGraph(n))return}else if(!i.canExpandSubGraph(n))return;t.Cc=!0,n.md?i.collapseSubGraph(n):i.expandSubGraph(n)}}},t}),Ba("ToolTip",function(){var t=new Lc(Ua),e=new Nl;return e.name="Border",e.fill="#FFFFE0",e.stroke="#CCCCCC",t.add(e),t}),Ba("ContextMenu",function(){return new Lc(Ga)}),Ba("ContextMenuButton",function(){var t=sa("Button");t.stretch=$s;var e=t.Md("ButtonBorder");return e instanceof Nl&&(e.Kb="Rectangle",e.C=new Ct(0,0,2,3),e.D=new Ct(1,1,-2,-2)),t}),Ba("PanelExpanderButton",function(t){var e=za(t,"COLLAPSIBLE"),n=sa("Button",{_buttonExpandedFigure:"TriangleUp",_buttonCollapsedFigure:"TriangleDown"},sa(Nl,"TriangleUp",{name:"ButtonIcon",Ea:new yt(6,4)},new Rn("figure","visible",function(t){return t?n._buttonExpandedFigure:n._buttonCollapsedFigure}).yy(e)));return(t=n.Md("ButtonBorder"))instanceof Nl&&(t.stroke=null,t.fill="transparent"),n.click=function(t,n){var i=n.g;if(null!==i&&!i.qb){var r=n.qm();null===r&&(r=n.Y),null!==r&&null!==(r=r.Md(e))&&(i.Nb("Collapse/Expand Panel"),r.visible=!r.visible,i.jd("Collapse/Expand Panel"))}},n}),Ba("CheckBoxButton",function(t){var e=za(t);return(t=sa("Button",{"ButtonBorder.fill":"white","ButtonBorder.stroke":"gray",width:14,height:14},sa(Nl,{name:"ButtonIcon",SI:"M0 4 L3 9 9 0",mb:2,stretch:ta,dB:ea,visible:!1},""!==e?new Rn("visible",e).GJ():[]))).click=function(t,n){var i=t.g;if(!(null===i||i.qb||""!==e&&i.ea.qb)){t.Cc=!0;var r=n.Md("ButtonIcon");i.Nb("checkbox"),r.visible=!r.visible,"function"==typeof n._doClick&&n._doClick(t,n),i.jd("checkbox")}},t}),Ba("CheckBox",function(t){t=za(t),t=sa("CheckBoxButton",t,{name:"Button",margin:new Pt(0,1,0,0)});var e=sa(tl,"Horizontal",t,{Hu:!0,margin:1,_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillDisabled:t._buttonFillDisabled,Yu:t.Yu,Zu:t.Zu,click:t.click,_buttonClick:t.click});return t.Yu=null,t.Zu=null,t.click=null,e}),$a.prototype.copy=function(){var t=new $a;return t.Ri=this.Ri,t.Yi=this.Yi,t.Ti=this.Ti,t.Rs=this.Rs,t.Ss=this.Ss,t.nj=this.nj,t.mj=this.mj,t.lj=this.lj,t.Ps=this.Ps,t.Qs=this.Qs,t.kj=this.kj,t.er=this.er,t.fr=this.fr,t.gr=this.gr,t.dr=this.dr,t.wj=this.wj,t.Ui=this.Ui,t.Yr=this.Yr,t},s.Ta(tl,fa),s.Di(tl),s.ka("Panel",tl),tl.prototype.cloneProtected=function(t){if(fa.prototype.cloneProtected.call(this,t),t.da=this.da,t.uf=this.uf.V(),t.Jr=this.Jr.V(),t.Xi=this.Xi,t.da===Ka){t.hk=this.hk.V(),t.fi=this.fi,t.Wi=this.Wi,t.Rm=this.Rm,t.ei=this.ei,t.di=this.di,t.Qm=this.Qm;var e=[];if(0<this.hd.length)for(var n=this.hd,i=n.length,r=0;r<i;r++)if(void 0!==n[r]){var o=n[r].copy();o.Bm(t),e[r]=o}if(t.hd=e,e=[],0<this.cd.length)for(i=(n=this.cd).length,r=0;r<i;r++)void 0!==n[r]&&((o=n[r].copy()).Bm(t),e[r]=o);t.cd=e,t.pn=this.pn,t.Pm=this.Pm,t.xj=this.xj,t.hj=this.hj}t.Wp=this.Wp,t.js=this.js.V(),t.ks=this.ks.V(),t.fs=this.fs,t.es=this.es,t.hs=this.hs,t.gs=this.gs,t.Vm=this.Vm,t.pk=this.pk,t.Sd=this.Sd,t.zl=this.zl,t.xs=this.xs,t.ej=this.ej,t.Ig=this.Ig,t.op=this.op,t.yj.assign(this.yj),t.dk=this.dk,null!==this.wt&&(t.wt=this.wt)},tl.prototype.Ei=function(t){fa.prototype.Ei.call(this,t),t.xa=this.xa;for(var e=t.xa.o,n=e.length,i=0;i<n;i++)e[i].rj=t;t.Xl=null},tl.prototype.copy=function(){var t=fa.prototype.copy.call(this);if(null!==t){for(var e=this.xa.o,n=e.length,i=0;i<n;i++){var r=e[i].copy(),o=t;r.Bm(o),r.mn=null;var s=o.xa,a=s.count;if(s.be(a,r),null!==(s=o.Y)){s.Sl=null,null!==r.yd&&s instanceof Fc&&(s.bl=!0);var l=o.g;null!==l&&l.na.ub||s.od(te,"elements",o,null,r,null,a)}}return t}return null},tl.prototype.qc=function(t){t.Qe===tl?this.type=t:fa.prototype.qc.call(this,t)},tl.prototype.toString=function(){return"Panel("+this.type+")#"+s.Nd(this)},tl.Position=qa=s.s(tl,"Position",0),tl.Horizontal=s.s(tl,"Horizontal",1),tl.Vertical=Ga=s.s(tl,"Vertical",2),tl.Spot=Ha=s.s(tl,"Spot",3),tl.Auto=Ua=s.s(tl,"Auto",4),tl.Table=Ka=s.s(tl,"Table",5),tl.Viewbox=s.s(tl,"Viewbox",6),tl.TableRow=Ja=s.s(tl,"TableRow",7),tl.TableColumn=Wa=s.s(tl,"TableColumn",8),tl.Link=Ya=s.s(tl,"Link",9),tl.Grid=Za=s.s(tl,"Grid",10),tl.Graduated=Xa=s.s(tl,"Graduated",11),s.defineProperty(tl,{type:"type"},function(){return this.da},function(t){var e=this.da;e!==t&&(r&&s.Da(t,tl,tl,"type"),e!==Ja&&e!==Wa||s.k("Cannot change Panel.type when it is already a TableRow or a TableColumn: "+t),this.da=t,this.da===Za?this.Yn=!0:this.da===Ka&&el(this),this.K(),this.i("type",e,t))}),s.w(tl,{elements:"elements"},function(){return this.xa.j}),s.w(tl,{Ga:"naturalBounds"},function(){return this.fd}),s.defineProperty(tl,{padding:"padding"},function(){return this.uf},function(t){"number"==typeof t?(0>t&&s.ua(t,">= 0",tl,"padding"),t=new Pt(t)):(s.l(t,Pt,tl,"padding"),0>t.left&&s.ua(t.left,">= 0",tl,"padding:value.left"),0>t.right&&s.ua(t.right,">= 0",tl,"padding:value.right"),0>t.top&&s.ua(t.top,">= 0",tl,"padding:value.top"),0>t.bottom&&s.ua(t.bottom,">= 0",tl,"padding:value.bottom"));var e=this.uf;e.O(t)||(this.uf=t=t.V(),this.K(),this.i("padding",e,t))}),s.defineProperty(tl,{om:"defaultAlignment"},function(){return this.Jr},function(t){var e=this.Jr;e.O(t)||(r&&s.l(t,Ct,tl,"defaultAlignment"),this.Jr=t=t.V(),this.K(),this.i("defaultAlignment",e,t))}),s.defineProperty(tl,{le:"defaultStretch"},function(){return this.Xi},function(t){var e=this.Xi;e!==t&&(s.Da(t,fa,tl,"defaultStretch"),this.Xi=t,this.K(),this.i("defaultStretch",e,t))}),s.defineProperty(tl,{FL:"defaultSeparatorPadding"},function(){return void 0===this.hk?oe:this.hk},function(t){if(void 0!==this.hk){"number"==typeof t?t=new Pt(t):r&&s.l(t,Pt,tl,"defaultSeparatorPadding");var e=this.hk;e.O(t)||(this.hk=t=t.V(),this.K(),this.i("defaultSeparatorPadding",e,t))}}),s.defineProperty(tl,{DL:"defaultRowSeparatorStroke"},function(){return void 0===this.Wi?null:this.Wi},function(t){var e=this.Wi;e!==t&&(null===t||"string"==typeof t||t instanceof Is)&&(t instanceof Is&&t.freeze(),this.Wi=t,this.ra(),this.i("defaultRowSeparatorStroke",e,t))}),s.defineProperty(tl,{EL:"defaultRowSeparatorStrokeWidth"},function(){return void 0===this.fi?1:this.fi},function(t){if(void 0!==this.fi){var e=this.fi;e!==t&&isFinite(t)&&0<=t&&(this.fi=t,this.K(),this.i("defaultRowSeparatorStrokeWidth",e,t))}}),s.defineProperty(tl,{CL:"defaultRowSeparatorDashArray"},function(){return void 0===this.Rm?null:this.Rm},function(t){if(void 0!==this.Rm){var e=this.Rm;if(e!==t){if(null===t||Array.isArray(t)||s.kc(t,"Array",tl,"defaultRowSeparatorDashArray:value"),null!==t){for(var n=t.length,i=0,r=0;r<n;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||s.k("defaultRowSeparatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}this.Rm=t,this.ra(),this.i("defaultRowSeparatorDashArray",e,t)}}}),s.defineProperty(tl,{xL:"defaultColumnSeparatorStroke"},function(){return void 0===this.di?null:this.di},function(t){if(void 0!==this.di){var e=this.di;e!==t&&(null===t||"string"==typeof t||t instanceof Is)&&(t instanceof Is&&t.freeze(),this.di=t,this.ra(),this.i("defaultColumnSeparatorStroke",e,t))}}),s.defineProperty(tl,{yL:"defaultColumnSeparatorStrokeWidth"},function(){return void 0===this.ei?1:this.ei},function(t){if(void 0!==this.ei){var e=this.ei;e!==t&&isFinite(t)&&0<=t&&(this.ei=t,this.K(),this.i("defaultColumnSeparatorStrokeWidth",e,t))}}),s.defineProperty(tl,{wL:"defaultColumnSeparatorDashArray"},function(){return void 0===this.Qm?null:this.Qm},function(t){if(void 0!==this.Qm){var e=this.Qm;if(e!==t){if(null===t||Array.isArray(t)||s.kc(t,"Array",tl,"defaultColumnSeparatorDashArray:value"),null!==t){for(var n=t.length,i=0,r=0;r<n;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||s.k("defaultColumnSeparatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}this.Qm=t,this.ra(),this.i("defaultColumnSeparatorDashArray",e,t)}}}),s.defineProperty(tl,{SM:"viewboxStretch"},function(){return this.Wp},function(t){var e=this.Wp;e!==t&&(s.Da(t,fa,tl,"viewboxStretch"),this.Wp=t,this.K(),this.i("viewboxStretch",e,t))}),s.defineProperty(tl,{ay:"gridCellSize"},function(){return this.js},function(t){var e=this.js;if(!e.O(t)){s.l(t,yt,tl,"gridCellSize"),t.H()&&0!==t.width&&0!==t.height||s.k("Invalid Panel.gridCellSize: "+t),this.js=t.V();var n=this.g;null!==n&&this===n.Vn&&Ro(n),this.ra(),this.i("gridCellSize",e,t)}}),s.defineProperty(tl,{WF:"gridOrigin"},function(){return this.ks},function(t){var e=this.ks;if(!e.O(t)){s.l(t,ft,tl,"gridOrigin"),t.H()||s.k("Invalid Panel.gridOrigin: "+t),this.ks=t.V();var n=this.g;null!==n&&this===n.Vn&&Ro(n),this.ra(),this.i("gridOrigin",e,t)}}),s.defineProperty(tl,{al:"graduatedMin"},function(){return this.fs},function(t){s.p(t,tl,"graduatedMin");var e=this.fs;e!==t&&(this.fs=t,this.K(),this.i("graduatedMin",e,t),ja(this)&&null!==(t=this.Y)&&ya(this,t,"graduatedRange"))}),s.defineProperty(tl,{gB:"graduatedMax"},function(){return this.es},function(t){s.p(t,tl,"graduatedMax");var e=this.es;e!==t&&(this.es=t,this.K(),this.i("graduatedMax",e,t),ja(this)&&null!==(t=this.Y)&&ya(this,t,"graduatedRange"))}),s.w(tl,{Du:"graduatedRange"},function(){return this.gB-this.al}),s.defineProperty(tl,{hB:"graduatedTickUnit"},function(){return this.hs},function(t){s.p(t,tl,"graduatedTickUnit");var e=this.hs;e!==t&&0<t&&(this.hs=t,this.K(),this.i("graduatedTickUnit",e,t))}),s.defineProperty(tl,{VF:"graduatedTickBase"},function(){return this.gs},function(t){s.p(t,tl,"graduatedTickBase");var e=this.gs;e!==t&&(this.gs=t,this.K(),this.i("graduatedTickBase",e,t))}),(n=tl.prototype).$s=function(t){fa.prototype.$s.call(this,t);for(var e=this.xa.o,n=e.length,i=0;i<n;i++)e[i].$s(t)},n.Wk=function(t,e){if(this.da===Za){var n=this.Jj()*e.scale;0>=n&&(n=1);var i=(o=this.ay).width,o=o.height,a=(l=this.Ga).width,l=l.height,h=Math.ceil(a/i),u=Math.ceil(l/o),c=this.WF;t.save(),t.beginPath(),t.rect(0,0,a,l),t.clip();for(var f=[],p=this.xa.o,d=p.length,y=0;y<d;y++){var v=p[y],g=[];if(f.push(g),v.visible){v=sl(v.Kb);for(var m=y+1;m<d;m++)(w=p[m]).visible&&sl(w.Kb)===v&&2<=(w=w.interval)&&g.push(w)}}for(d=(p=this.xa.o).length,y=0;y<d;y++){var b=p[y];if(b.visible&&!(2>i*(g=b.interval)*n)){if(m=1,1!==(v=b.opacity)){if(0===v)continue;t.globalAlpha=(m=t.globalAlpha)*v}var w=f[y],k=!1,P=!0,S=b.jH;if(null!==S&&(k=!0,P=t.YA(S,b.If)),"LineV"===b.Kb&&null!==b.stroke){t.lineWidth=b.mb,wa(this,t,b.stroke,!1,!1),t.beginPath();for(var C=Math.floor(-c.x/i),T=C;T<=C+h;T++){var M=T*i+c.x;0<=M&&M<=a&&ol(T,g,w)&&(k&&!P?da(t,M,0,M,l,S,b.If):(t.moveTo(M,0),t.lineTo(M,l)))}t.stroke()}else if("LineH"===b.Kb&&null!==b.stroke){for(t.lineWidth=b.mb,wa(this,t,b.stroke,!1,!1),t.beginPath(),T=C=Math.floor(-c.y/o);T<=C+u;T++)0<=(M=T*o+c.y)&&M<=l&&ol(T,g,w)&&(k&&!P?da(t,0,M,a,M,S,b.If):(t.moveTo(0,M),t.lineTo(a,M)));t.stroke()}else if("BarV"===b.Kb&&null!==b.fill)for(wa(this,t,b.fill,!0,!1),b=b.width,isNaN(b)&&(b=i),T=C=Math.floor(-c.x/i);T<=C+h;T++)0<=(M=T*i+c.x)&&M<=a&&ol(T,g,w)&&t.fillRect(M,0,b,l);else if("BarH"===b.Kb&&null!==b.fill)for(wa(this,t,b.fill,!0,!1),b=b.height,isNaN(b)&&(b=o),T=C=Math.floor(-c.y/o);T<=C+u;T++)0<=(M=T*o+c.y)&&M<=l&&ol(T,g,w)&&t.fillRect(0,M,a,b);k&&t.TA(),1!==v&&(t.globalAlpha=m)}}t.restore(),t.De(!1)}else if(this.da===Xa){for(n=(i=this.Ga).width,i=i.height,t.save(),t.beginPath(),t.rect(-1,-1,n+1,i+1),t.clip(),(n=this.Ld()).He(t,e),0>=(i=this.Jj()*e.scale)&&(i=1),o=n.aa,l=this.Vm,h=(a=this.xa.o).length,u=0;u<h;u++)if(f=(c=l[u]).length,(d=a[u]).visible&&d!==n&&0!==c.length)if(d instanceof Nl){if(!(2>this.hB*d.interval*n.wf.vu/this.Du*i))for(y=d.Fa,g=d.mb*d.scale,(v=d.Gh).de()&&(v=x),p=0;p<f;p++)w=c[p][0],k=o,C=c[p][1],T=y,b=g,P=v,(S=(m=d).Nc).reset(),S.translate(w.x+k.x,w.y+k.y),S.rotate(C+m.angle,0,0),S.translate(-T.width*P.x+P.offsetX+b/2,-T.height*P.y+P.offsetY+b/2),S.scale(m.scale,m.scale),_a(m,!1),m.Ni.set(m.Nc),m.Xo=m.scale,Oa(m,!1),d.He(t,e),d.Nc.reset()}else if(d instanceof Il)for(null===this.Ik&&(this.Ik=new Il),nl(d,y=this.Ik),p=0;p<f;p++)3<(w=c[p]).length&&(v=w[6],y.Yd=w[2],y.wg=w[3],y.xe=w[4],y.tf=w[5],y.fd=w[8],y.rc(v.x,v.y,v.width,v.height),g=o,m=w[7],w=w[8],(k=(d=y).Nc).reset(),k.translate(v.x+g.x,v.y+g.y),k.translate(-m.x,-m.y),Pa(d,k,w.x,w.y,w.width,w.height),_a(d,!1),d.Ni.set(d.Nc),d.Xo=d.scale,Oa(d,!1),y.He(t,e));t.restore(),t.De(!0)}else{for(this.da===Ka&&(t.lineCap="butt",rl(this,t,!0,this.hd,!0),rl(this,t,!1,this.cd,!0),il(this,t,!0,this.hd),il(this,t,!1,this.cd),rl(this,t,!0,this.hd,!1),rl(this,t,!1,this.cd,!1)),(n=this.yq)&&(t.save(),r&&this.type!==Ha&&s.trace("Warning: Panel.isClipping set on non-Spot Panel: "+this.toString())),i=this.Ld(),a=(o=this.xa.o).length,l=0;l<a;l++)h=o[l],n&&h===i&&(t.eq=!0),h.He(t,e),n&&h===i&&(t.eq=!1);n&&(t.restore(),t.De(!0)),r&&r.JI&&this instanceof Kc&&r.II(t,e,this)}},n.Tn=function(t,e,n,i,r){var o=this.kh(),a=this.transform,l=1/(a.m11*a.m22-a.m12*a.m21),h=a.m22*l,u=-a.m12*l,c=-a.m21*l,f=a.m11*l,p=l*(a.m21*a.dy-a.m22*a.dx),d=l*(a.m12*a.dx-a.m11*a.dy);if(null!==this.gm)return Ve((a=this.aa).left,a.top,a.right,a.bottom,t,e,n,i,r);if(null!==this.background)o=t*h+e*c+p,l=t*u+e*f+d,t=n*h+i*c+p,h=n*u+i*f+d,r.n(0,0),n=Ve(0,0,(n=this.Ga).width,n.height,o,l,t,h,r),r.transform(a);else{o||(h=1,c=u=0,f=1,d=p=0),l=t*h+e*c+p,t=t*u+e*f+d,r.n(h=n*h+i*c+p,i=n*u+i*f+d),u=(h-l)*(h-l)+(i-t)*(i-t),n=!1,d=(f=this.xa.o).length,c=s.P(),p=null,e=1/0;var y=null;this.yq&&(y=s.P(),(n=(p=this.Ld()).Tn(l,t,h,i,y))&&(e=(l-y.x)*(l-y.x)+(t-y.y)*(t-y.y)));for(var v=0;v<d;v++){var g=f[v];g.visible&&g!==p&&g.Tn(l,t,h,i,c)&&(n=!0,(g=(l-c.x)*(l-c.x)+(t-c.y)*(t-c.y))<u&&(u=g,r.set(c)))}this.yq&&(e>u&&r.set(y),s.A(y)),s.A(c),o&&r.transform(a)}return n},n.K=function(t){fa.prototype.K.call(this,t),t=null,this.da!==Ua&&this.da!==Ya||(t=this.Ld());for(var e=this.xa.o,n=e.length,i=0;i<n;i++){var r=e[i];if((r===t||r.Ue)&&r.K(!0),!r.Ea.H()){var o=Ca(r,!1);(r instanceof jf||r instanceof tl||r instanceof Il||o!==Zs)&&r.K(!0)}}},n.xq=function(){if(!1===Ea(this)){Da(this,!0),Fa(this,!0);for(var t=this.xa.o,e=t.length,n=0;n<e;n++)t[n].xq()}},n.cj=function(){if(0!=(2048&this.S)==0){_a(this,!0),Oa(this,!0);for(var t=this.xa.o,e=t.length,n=0;n<e;n++)t[n].nB()}},n.nB=function(){Oa(this,!0);for(var t=this.xa.o,e=t.length,n=0;n<e;n++)t[n].nB()},n.ho=function(t,e,n,i){var o=this.yj;o.width=0,o.height=0;var a=this.Ea,l=this.ah;void 0===n&&(n=l.width,i=l.height),n=Math.max(n,l.width),i=Math.max(i,l.height);var h=this.qf;isNaN(a.width)||(t=Math.min(a.width,h.width)),isNaN(a.height)||(e=Math.min(a.height,h.height)),t=Math.max(n,t),e=Math.max(i,e);var u=this.padding;t=Math.max(t-u.left-u.right,0),e=Math.max(e-u.top-u.bottom,0);var c=this.xa.o;if(0!==c.length){var f=this.da.$b;switch(f){case"Position":var p=t,d=e,y=n,v=i,g=c.length;o.x=0,o.y=0,o.width=0,o.height=0;for(var m=al(this),b=0;b<g;b++){var w=c[b];if(w.visible||w===m){var k=w.margin,S=k.right+k.left,C=k.top+k.bottom;ma(w,p,d,y,v);var T=w.Fa,M=Math.max(T.width+S,0),N=Math.max(T.height+C,0),j=w.position.x,A=w.position.y;if(isFinite(j)||(j=0),isFinite(A)||(A=0),w instanceof Nl&&w.hG){var _=w.mb/2;j-=_,A-=_}kt(o,j,A,M,N)}}break;case"Vertical":for(var O=t,E=n,D=c.length,L=s.nb(),F=al(this),I=0;I<D;I++){var R=c[I];if(R.visible||R===F){var V=Ca(R,!1);if(V!==Zs&&V!==Qs)L.push(R);else{var B=R.margin,z=B.right+B.left,q=B.top+B.bottom;ma(R,O,1/0,E,0);var G=R.Fa,H=Math.max(G.width+z,0),U=Math.max(G.height+q,0);o.width=Math.max(o.width,H),o.height+=U}}}var K=L.length;if(0!==K){for(this.Ea.width?O=Math.min(this.Ea.width,this.qf.width):0!==o.width&&(O=Math.min(o.width,this.qf.width)),I=0;I<K;I++)((R=L[I]).visible||R===F)&&(z=(B=R.margin).right+B.left,q=B.top+B.bottom,ma(R,O,1/0,E,0),G=R.Fa,H=Math.max(G.width+z,0),U=Math.max(G.height+q,0),o.width=Math.max(o.width,H),o.height+=U);s.ya(L)}break;case"Horizontal":for(var J=e,W=i,Y=c.length,Z=s.nb(),X=al(this),Q=0;Q<Y;Q++){var $=c[Q];if($.visible||$===X){var tt=Ca($,!1);if(tt!==Zs&&tt!==$s)Z.push($);else{var et=$.margin,it=et.right+et.left,rt=et.top+et.bottom;ma($,1/0,J,0,W);var ot=$.Fa,st=Math.max(ot.width+it,0),at=Math.max(ot.height+rt,0);o.width+=st,o.height=Math.max(o.height,at)}}}var lt=Z.length;if(0!==lt){for(this.Ea.height?J=Math.min(this.Ea.height,this.qf.height):0!==o.height&&(J=Math.min(o.height,this.qf.height)),Q=0;Q<lt;Q++)(($=Z[Q]).visible||$===X)&&(it=(et=$.margin).right+et.left,rt=et.top+et.bottom,ma($,1/0,J,0,W),ot=$.Fa,st=Math.max(ot.width+it,0),at=Math.max(ot.height+rt,0),o.width+=st,o.height=Math.max(o.height,at));s.ya(Z)}break;case"Spot":t:{var ht=t,ut=e,ct=n,pt=i,dt=c.length,yt=this.Ld(),mt=yt.margin,bt=0,xt=0,wt=mt.right+mt.left,Pt=mt.top+mt.bottom;ma(yt,ht,ut,ct,pt);for(var St=(Dt=yt.Fa).width,Ct=Dt.height,Tt=Math.max(St+wt,0),Mt=Math.max(Ct+Pt,0),Nt=this.yq,jt=s.vg(-mt.left,-mt.top,Tt,Mt),At=!0,_t=al(this),Ot=0;Ot<dt;Ot++){var Et=c[Ot];if(Et!==yt&&(Et.visible||Et===_t)){bt=(mt=Et.margin).right+mt.left,xt=mt.top+mt.bottom,ma(Et,ht,ut,0,0);var Dt=Et.Fa,Lt=(Tt=Math.max(Dt.width+bt,0),Mt=Math.max(Dt.height+xt,0),Et.alignment);Lt.ld()&&(Lt=this.om),Lt.Xc()||(Lt=P);var Ft=Et.Gh;Ft.ld()&&(Ft=P);var It,Rt,Vt=null;if(Et instanceof tl&&""!==Et.dk&&(Et.rc(0,0,Dt.width,Dt.height),(Vt=Et.Md(Et.dk))===Et&&(Vt=null)),null!==Vt){for(var Bt=Vt.Ga,zt=Vt.margin,qt=s.Fb(Ft.x*Bt.width+Ft.offsetX-zt.left,Ft.y*Bt.height+Ft.offsetY-zt.top);Vt!==Et;)Vt.transform.vb(qt),Vt=Vt.R;It=Lt.x*St+Lt.offsetX-qt.x,Rt=Lt.y*Ct+Lt.offsetY-qt.y,s.A(qt)}else It=Lt.x*St+Lt.offsetX-(Ft.x*Dt.width-Ft.offsetX)-mt.left,Rt=Lt.y*Ct+Lt.offsetY-(Ft.y*Dt.height-Ft.offsetY)-mt.top;At?(At=!1,o.x=It,o.y=Rt,o.width=Tt,o.height=Mt):kt(o,It,Rt,Tt,Mt)}}At?o.assign(jt):Nt?o.bG(jt.x,jt.y,jt.width,jt.height):kt(o,jt.x,jt.y,jt.width,jt.height),s.Lb(jt);var Gt=yt.stretch;switch(Gt===Xs&&(Gt=Ca(yt,!1)),Gt){case Zs:break t;case ta:if(!isFinite(ht)&&!isFinite(ut))break t;break;case $s:if(!isFinite(ht))break t;break;case Qs:if(!isFinite(ut))break t}for(St=(Dt=yt.Fa).width,Ct=Dt.height,Tt=Math.max(St+wt,0),Mt=Math.max(Ct+Pt,0),jt=s.vg(-(mt=yt.margin).left,-mt.top,Tt,Mt),Ot=0;Ot<dt;Ot++)(Et=c[Ot])===yt||!Et.visible&&Et!==_t||(bt=(mt=Et.margin).right+mt.left,xt=mt.top+mt.bottom,Dt=Et.Fa,Tt=Math.max(Dt.width+bt,0),Mt=Math.max(Dt.height+xt,0),(Lt=Et.alignment).ld()&&(Lt=this.om),Lt.Xc()||(Lt=P),(Ft=Et.Gh).ld()&&(Ft=P),At?(At=!1,o.x=Lt.x*St+Lt.offsetX-(Ft.x*Dt.width-Ft.offsetX)-mt.left,o.y=Lt.y*Ct+Lt.offsetY-(Ft.y*Dt.height-Ft.offsetY)-mt.top,o.width=Tt,o.height=Mt):kt(o,Lt.x*St+Lt.offsetX-(Ft.x*Dt.width-Ft.offsetX)-mt.left,Lt.y*Ct+Lt.offsetY-(Ft.y*Dt.height-Ft.offsetY)-mt.top,Tt,Mt));At?o.assign(jt):Nt?o.bG(jt.x,jt.y,jt.width,jt.height):kt(o,jt.x,jt.y,jt.width,jt.height),s.Lb(jt)}break;case"Auto":var Ht=t,Ut=e,Kt=n,Jt=i,Wt=c.length,Yt=this.Ld(),Zt=Ht,Xt=Ut,Qt=(de=Yt.margin).right+de.left,$t=de.top+de.bottom;ma(Yt,Ht,Ut,Kt,Jt);var te=Yt.Fa,ee=0,ne=null;Yt instanceof Nl&&(ee=(ne=Yt).mb*ne.scale);var ie=Math.max(te.width+Qt,0),re=Math.max(te.height+$t,0),oe=(be=cl(Yt)).x*ie+be.offsetX,se=be.y*re+be.offsetY,ae=(me=fl(Yt)).x*ie+me.offsetX,le=me.y*re+me.offsetY;isFinite(Ht)&&(Zt=Math.max(Math.abs(oe-ae)-ee,0)),isFinite(Ut)&&(Xt=Math.max(Math.abs(se-le)-ee,0));var he=s.Gm();he.n(0,0);for(var ce=al(this),fe=0;fe<Wt;fe++){var pe=c[fe];if(pe!==Yt&&(pe.visible||pe===ce)){var de,ve=(de=pe.margin).right+de.left,ge=de.top+de.bottom;ma(pe,Zt,Xt,0,0),te=pe.Fa,ie=Math.max(te.width+ve,0),re=Math.max(te.height+ge,0),he.n(Math.max(ie,he.width),Math.max(re,he.height))}}if(1===Wt)o.width=ie,o.height=re,s.Zk(he);else{var me,be=cl(Yt),xe=0,we=0;(me=fl(Yt)).x!==be.x&&me.y!==be.y&&(xe=he.width/Math.abs(me.x-be.x),we=he.height/Math.abs(me.y-be.y)),s.Zk(he),ee=0,null!==ne&&(ee=ne.mb*ne.scale,Ol(ne)===ea&&(xe=we=Math.max(xe,we))),xe+=Math.abs(be.offsetX)+Math.abs(me.offsetX)+ee,we+=Math.abs(be.offsetY)+Math.abs(me.offsetY)+ee;var ke=Yt.stretch;switch(ke===Xs&&(ke=Ca(Yt,!1)),ke){case Zs:Jt=Kt=0;break;case ta:isFinite(Ht)&&(xe=Ht),isFinite(Ut)&&(we=Ut);break;case $s:isFinite(Ht)&&(xe=Ht),Jt=0;break;case Qs:Kt=0,isFinite(Ut)&&(we=Ut)}Yt.xq(),ma(Yt,xe,we,Kt,Jt),o.width=Yt.Fa.width+Qt,o.height=Yt.Fa.height+$t}break;case"Table":for(var Pe=t,Se=e,Ce=n,Me=i,Ne=c.length,je=s.nb(),Ae=s.nb(),_e=0;_e<Ne;_e++){var Oe=(wn=c[_e])instanceof tl?wn:null;if(null===Oe||Oe.type!==Ja&&Oe.type!==Wa||!wn.visible)je.push(wn);else{r&&(Oe.Ea.H()&&s.k(Oe.toString()+" TableRow/TableColumn Panels cannot set a desiredSize: "+Oe.Ea.toString()),Oe.ah.O(ue)||s.k(Oe.toString()+" TableRow/TableColumn Panels cannot set a minSize: "+Oe.ah.toString()),Oe.qf.O(ye)||s.k(Oe.toString()+" TableRow/TableColumn Panels cannot set a maxSize: "+Oe.qf.toString())),Ae.push(Oe);for(var Ee=Oe.xa.o,De=Ee.length,Le=0;Le<De;Le++){var Fe=Ee[Le];Oe.type===Ja?Fe.Sb=wn.Sb:Oe.type===Wa&&(Fe.column=wn.column),je.push(Fe)}}}0===(Ne=je.length)&&(this.oe(0),this.ne(0));var Ie=[];for(_e=0;_e<Ne;_e++)Da(wn=je[_e],!0),Fa(wn,!0),Ie[wn.Sb]||(Ie[wn.Sb]=[]),Ie[wn.Sb][wn.column]||(Ie[wn.Sb][wn.column]=[]),Ie[wn.Sb][wn.column].push(wn);s.ya(je);var Re=s.nb(),Ve=s.nb(),Be=s.nb(),ze={count:0},qe={count:0},Ge=Pe,He=Se,Ue=this.hd;for(Ne=Ue.length,_e=0;_e<Ne;_e++)void 0!==(Bn=Ue[_e])&&(Bn.hb=0);for(Ne=(Ue=this.cd).length,_e=0;_e<Ne;_e++)void 0!==(Bn=Ue[_e])&&(Bn.hb=0);var Ke=Ie.length,Je=0;for(_e=0;_e<Ke;_e++)Ie[_e]&&(Je=Math.max(Je,Ie[_e].length));var We=Math.min(this.xj,Ke-1),Ye=Math.min(this.hj,Je-1),Ze=0,Xe=(Ke=Ie.length,al(this));for(_e=0;_e<Ke;_e++)if(Ie[_e])for(Je=Ie[_e].length,Le=(Pn=this.oe(_e)).hb=0;Le<Je;Le++)if(Ie[_e][Le]){var Qe=this.ne(Le);void 0===Re[Le]&&(Qe.hb=0,Re[Le]=!0);for(var $e=Ie[_e][Le],tn=$e.length,en=0;en<tn;en++)if((wn=$e[en]).visible||wn===Xe){var nn=1<wn.tj||1<wn.Si;nn&&(_e<We||Le<Ye||Ve.push(wn));var rn=(kn=wn.margin).right+kn.left,on=kn.top+kn.bottom,sn=Ta(wn,Pn,Qe,!1),an=wn.Ea,ln=!isNaN(an.height),hn=!isNaN(an.width)&&ln;if(nn||sn===Zs||hn||_e<We||Le<Ye||(void 0!==ze[Le]||sn!==ta&&sn!==$s||(ze[Le]=-1,ze.count++),void 0!==qe[_e]||sn!==ta&&sn!==Qs||(qe[_e]=-1,qe.count++),Be.push(wn)),ma(wn,1/0,1/0,0,0),!(_e<We||Le<Ye)){var un=wn.Fa,cn=Math.max(un.width+rn,0),fn=Math.max(un.height+on,0);if(1===wn.tj&&(sn===Zs||sn===$s)){var pn=(Bn=this.oe(_e)).jf();(Ze=Math.max(fn-Bn.hb,0))+pn>He&&(Ze=Math.max(He-pn,0));var dn=0===Bn.hb;Bn.hb+=Ze,He=Math.max(He-(Ze+(dn?pn:0)),0)}1!==wn.Si||sn!==Zs&&sn!==Qs||(pn=(Bn=this.ne(Le)).jf(),(Ze=Math.max(cn-Bn.hb,0))+pn>Ge&&(Ze=Math.max(Ge-pn,0)),dn=0===Bn.hb,Bn.hb+=Ze,Ge=Math.max(Ge-(Ze+(dn?pn:0)),0)),nn&&wn.xq()}}}s.ya(Re);var yn=0,vn=0;for(Ne=this.fq,_e=0;_e<Ne;_e++){var gn=this.cd[_e];void 0!==gn&&(yn+=gn.Ya,0!==gn.Ya&&(yn+=gn.jf()))}for(Ne=this.Tq,_e=0;_e<Ne;_e++){var mn=this.hd[_e];void 0!==mn&&(vn+=mn.Ya,0!==mn.Ya&&(vn+=mn.jf()))}Ge=Math.max(Pe-yn,0);var bn=He=Math.max(Se-vn,0),xn=Ge;for(Ne=Be.length,_e=0;_e<Ne;_e++){var wn,kn,Pn=this.oe((wn=Be[_e]).Sb),Sn=(Qe=this.ne(wn.column),wn.Fa);rn=(kn=wn.margin).right+kn.left,on=kn.top+kn.bottom,ze[wn.column]=0===Qe.hb&&void 0!==ze[wn.column]?Math.max(Sn.width+rn,ze[wn.column]):null,qe[wn.Sb]=0===Pn.hb&&void 0!==qe[wn.Sb]?Math.max(Sn.height+on,qe[wn.Sb]):null}var Cn,Tn=0,Mn=0;for(Cn in qe)"count"!==Cn&&(Tn+=qe[Cn]);for(Cn in ze)"count"!==Cn&&(Mn+=ze[Cn]);var Nn=s.Gm();for(_e=0;_e<Ne;_e++)if((wn=Be[_e]).visible||wn===Xe){Pn=this.oe(wn.Sb),Qe=this.ne(wn.column);var jn=0;isFinite(Qe.width)?jn=Qe.width:(jn=isFinite(Ge)&&null!==ze[wn.column]?0===Mn?Qe.hb+Ge:ze[wn.column]/Mn*xn:null!==ze[wn.column]?Ge:Qe.hb||Ge,jn=Math.max(0,jn-Qe.jf()));var An=0;switch(isFinite(Pn.height)?An=Pn.height:(An=isFinite(He)&&null!==qe[wn.Sb]?0===Tn?Pn.hb+He:qe[wn.Sb]/Tn*bn:null!==qe[wn.Sb]?He:Pn.hb||He,An=Math.max(0,An-Pn.jf())),Nn.n(Math.max(Qe.Th,Math.min(jn,Qe.se)),Math.max(Pn.Th,Math.min(An,Pn.se))),sn=Ta(wn,Pn,Qe,!1)){case $s:Nn.height=Math.max(Nn.height,Pn.hb+He);break;case Qs:Nn.width=Math.max(Nn.width,Qe.hb+Ge)}rn=(kn=wn.margin).right+kn.left,on=kn.top+kn.bottom,wn.xq(),ma(wn,Nn.width,Nn.height,Qe.Th,Pn.Th),un=wn.Fa,cn=Math.max(un.width+rn,0),fn=Math.max(un.height+on,0),isFinite(Ge)&&(cn=Math.min(cn,Nn.width)),isFinite(He)&&(fn=Math.min(fn,Nn.height));var _n=0;_n=Pn.hb,Pn.hb=Math.max(Pn.hb,fn),Ze=Pn.hb-_n,He=Math.max(He-Ze,0),_n=Qe.hb,Qe.hb=Math.max(Qe.hb,cn),Ze=Qe.hb-_n,Ge=Math.max(Ge-Ze,0)}s.ya(Be);var On=s.Gm();if(0!==(Ne=Ve.length)){var En=s.nb(),Dn=s.nb();for(_e=0;_e<Ke;_e++)if(Ie[_e])for(Je=Ie[_e].length,Pn=this.oe(_e),En[_e]=Pn.hb,Le=0;Le<Je;Le++)Ie[_e][Le]&&(Qe=this.ne(Le),Dn[Le]=Qe.hb)}for(_e=0;_e<Ne;_e++)if((wn=Ve[_e]).visible||wn===Xe){switch(Pn=this.oe(wn.Sb),Qe=this.ne(wn.column),Nn.n(Math.max(Qe.Th,Math.min(Pe,Qe.se)),Math.max(Pn.Th,Math.min(Se,Pn.se))),sn=Ta(wn,Pn,Qe,!1)){case ta:0!==Dn[Qe.index]&&(Nn.width=Math.min(Nn.width,Dn[Qe.index])),0!==En[Pn.index]&&(Nn.height=Math.min(Nn.height,En[Pn.index]));break;case $s:0!==Dn[Qe.index]&&(Nn.width=Math.min(Nn.width,Dn[Qe.index]));break;case Qs:0!==En[Pn.index]&&(Nn.height=Math.min(Nn.height,En[Pn.index]))}isFinite(Qe.width)&&(Nn.width=Qe.width),isFinite(Pn.height)&&(Nn.height=Pn.height),On.n(0,0);for(var Ln=1;Ln<wn.tj&&!(wn.Sb+Ln>=this.Tq);Ln++)Bn=this.oe(wn.Sb+Ln),Ze=sn===ta||sn===Qs?Math.max(Bn.Th,0===En[wn.Sb+Ln]?Bn.se:Math.min(En[wn.Sb+Ln],Bn.se)):Math.max(Bn.Th,isNaN(Bn.vf)?Bn.se:Math.min(Bn.vf,Bn.se)),On.height+=Ze;for(Ln=1;Ln<wn.Si&&!(wn.column+Ln>=this.fq);Ln++)Bn=this.ne(wn.column+Ln),Ze=sn===ta||sn===$s?Math.max(Bn.Th,0===Dn[wn.column+Ln]?Bn.se:Math.min(Dn[wn.column+Ln],Bn.se)):Math.max(Bn.Th,isNaN(Bn.vf)?Bn.se:Math.min(Bn.vf,Bn.se)),On.width+=Ze;Nn.width+=On.width,Nn.height+=On.height,rn=(kn=wn.margin).right+kn.left,on=kn.top+kn.bottom,ma(wn,Nn.width,Nn.height,Ce,Me),un=wn.Fa,cn=Math.max(un.width+rn,0),fn=Math.max(un.height+on,0);var Fn=0;for(Ln=0;Ln<wn.tj&&!(wn.Sb+Ln>=this.Tq);Ln++)Fn+=(Bn=this.oe(wn.Sb+Ln)).total||0;if(Fn<fn){var In=fn-Fn,Rn=fn-Fn;if(null!==wn.Vy){var Vn=wn.Vy;for(Ln=0;Ln<wn.tj&&!(0>=In)&&!(wn.Sb+Ln>=this.Tq);Ln++){var Bn,zn=(Bn=this.oe(wn.Sb+Ln)).Ya||0,qn=Vn(wn,Bn,Rn);r&&"number"!=typeof qn&&s.k(wn+" spanAllocation does not return a number: "+qn),Bn.hb=Math.min(Bn.se,zn+qn),Bn.Ya!==zn&&(In-=Bn.Ya-zn)}}for(;0<In&&(zn=Bn.Ya||0,isNaN(Bn.height)&&Bn.se>zn&&(Bn.hb=Math.min(Bn.se,zn+In),Bn.Ya!==zn&&(In-=Bn.Ya-zn)),0!==Bn.index);)Bn=this.oe(Bn.index-1)}var Gn=0;for(Ln=0;Ln<wn.Si&&!(wn.column+Ln>=this.fq);Ln++)Gn+=(Bn=this.ne(wn.column+Ln)).total||0;if(Gn<cn){if(In=cn-Gn,Rn=cn-Gn,null!==wn.Vy)for(Vn=wn.Vy,Ln=0;Ln<wn.Si&&!(0>=In)&&!(wn.column+Ln>=this.fq);Ln++)zn=(Bn=this.ne(wn.column+Ln)).Ya||0,qn=Vn(wn,Bn,Rn),r&&"number"!=typeof qn&&s.k(wn+" spanAllocation does not return a number: "+qn),Bn.hb=Math.min(Bn.se,zn+qn),Bn.Ya!==zn&&(In-=Bn.Ya-zn);for(;0<In&&(zn=Bn.Ya||0,isNaN(Bn.width)&&Bn.se>zn&&(Bn.hb=Math.min(Bn.se,zn+In),Bn.Ya!==zn&&(In-=Bn.Ya-zn)),0!==Bn.index);)Bn=this.ne(Bn.index-1)}}s.ya(Ve),s.Zk(On),s.Zk(Nn),void 0!==En&&s.ya(En),void 0!==Dn&&s.ya(Dn);var Hn=0,Un=0,Kn=(sn=Ca(this,!0),this.Ea),Jn=this.qf,Wn=vn=yn=0,Yn=0;for(Ne=this.fq,_e=0;_e<Ne;_e++)void 0!==this.cd[_e]&&(Bn=this.ne(_e),isFinite(Bn.width)?(Wn+=Bn.width,Wn+=Bn.jf()):Ml(Bn)===wl?(Wn+=Bn.Ya,Wn+=Bn.jf()):0!==Bn.Ya&&(yn+=Bn.Ya,yn+=Bn.jf()));Hn=isFinite(Kn.width)?Math.min(Kn.width,Jn.width):sn!==Zs&&isFinite(Pe)?Pe:yn,Hn=Math.max(Hn,this.ah.width),Hn=Math.max(Hn-Wn,0);var Zn=Math.max(Hn/yn,1);for(isFinite(Zn)||(Zn=1),_e=0;_e<Ne;_e++)void 0!==this.cd[_e]&&(Bn=this.ne(_e),isFinite(Bn.width)||Ml(Bn)===wl||(Bn.hb=Bn.Ya*Zn),Bn.position=o.width,0!==Bn.Ya&&(o.width+=Bn.Ya,o.width+=Bn.jf()));for(Ne=this.Tq,_e=0;_e<Ne;_e++)void 0!==this.hd[_e]&&(Bn=this.oe(_e),isFinite(Bn.height)?(Yn+=Bn.height,Yn+=Bn.jf()):Ml(Bn)===wl?(Yn+=Bn.Ya,Yn+=Bn.jf()):0!==Bn.Ya&&(vn+=Bn.Ya,0!==Bn.Ya&&(vn+=Bn.jf())));Un=isFinite(Kn.height)?Math.min(Kn.height,Jn.height):sn!==Zs&&isFinite(Se)?Se:vn,Un=Math.max(Un,this.ah.height),Un=Math.max(Un-Yn,0);var Xn=Math.max(Un/vn,1);for(isFinite(Xn)||(Xn=1),_e=0;_e<Ne;_e++)void 0!==this.hd[_e]&&(Bn=this.oe(_e),isFinite(Bn.height)||Ml(Bn)===wl||(Bn.hb=Bn.Ya*Xn),Bn.position=o.height,0!==Bn.Ya&&(o.height+=Bn.Ya,0!==Bn.Ya&&(o.height+=Bn.jf())));for(Ne=Ae.length,_e=0;_e<Ne;_e++){var Qn=Ae[_e];Qn.type===Ja?(jn=o.width,An=(Bn=this.oe(Qn.Sb)).hb):(jn=(Bn=this.ne(Qn.column)).hb,An=o.height),Qn.Fd.n(0,0,jn,An),Da(Qn,!1),Ie[Qn.Sb]||(Ie[Qn.Sb]=[]),Ie[Qn.Sb][Qn.column]||(Ie[Qn.Sb][Qn.column]=[]),Ie[Qn.Sb][Qn.column].push(Qn)}s.ya(Ae),this.wt=Ie;break;case"Viewbox":var $n=t,ti=e,ei=n,ni=i;1<c.length&&s.k("Viewbox Panel cannot contain more than one GraphObject.");var ii=c[0];ii.Db=1,ii.xq(),ma(ii,1/0,1/0,ei,ni);var ri=ii.Fa,oi=ii.margin,si=oi.right+oi.left,ai=oi.top+oi.bottom;if(isFinite($n)||isFinite(ti)){var li=ii.scale,hi=ri.width,ui=ri.height,ci=Math.max($n-si,0),fi=Math.max(ti-ai,0),pi=1;this.Wp===ea?0!==hi&&0!==ui&&(pi=Math.min(ci/hi,fi/ui)):0!==hi&&0!==ui&&(pi=Math.max(ci/hi,fi/ui)),0===pi&&(pi=1e-4),ii.Db*=pi,li!==ii.scale&&(Da(ii,!0),ma(ii,1/0,1/0,ei,ni))}ri=ii.Fa,o.width=isFinite($n)?$n:Math.max(ri.width+si,0),o.height=isFinite(ti)?ti:Math.max(ri.height+ai,0);break;case"Link":var di=c.length;if(this instanceof Lc||this instanceof Kc){var yi=null;if(this instanceof Kc&&(yi=this),this instanceof Lc&&(yi=this.gf),yi instanceof Kc){var vi=yi;if(0===di)gt(Ji=this.Ga,0,0),(Ki=this.Fa).n(0,0,0,0);else{var gi=this instanceof Lc?null:yi.path,mi=yi.so,bi=this.yj;bi.assign(mi),bi.x=0,bi.y=0;var xi=vi.points,wi=yi.ta;this.Wu(!1);var ki=mi.width,Pi=mi.height;this.jj.n(mi.x,mi.y),null===this.oh&&(this.oh=new nt(vt)),this.oh.clear(),null!==gi&&(_l(gi,ki,Pi,this),bi.Zh(Ki=gi.Fa),this.oh.add(Ki));for(var Si=s.hh(),Ci=s.P(),Ti=s.P(),Mi=0;Mi<di;Mi++){var Ni=c[Mi];if(Ni!==gi)if(Ni.Ue&&Ni instanceof Nl)_l(Ni,ki,Pi,this),bi.Zh(Ki=Ni.Fa),this.oh.add(Ki);else if(2>wi)ma(Ni,1/0,1/0),bi.Zh(Ki=Ni.Fa),this.oh.add(Ki);else{var ji=Ni.We,Ai=Ni.WB,_i=Ni.Gh;_i.de()&&(_i=P);var Oi=Ni.Uq,Ei=Ni.XB,Di=0,Li=0,Fi=0;if(ji<-wi||ji>=wi){var Ii=vi.xG,Ri=vi.wG;Oi!==$h&&(Fi=vi.computeAngle(Ni,Oi,Ri),Ni.wg=Fi),Di=Ii.x-mi.x,Li=Ii.y-mi.y}else{var Vi,Bi;if(0<=ji)Vi=xi.fa(ji),Bi=ji<wi-1?xi.fa(ji+1):Vi;else{var zi=wi+ji;Vi=xi.fa(zi),Bi=0<zi?xi.fa(zi-1):Vi}if(Vi.Wc(Bi)){var qi,Gi;0<=ji?(qi=0<ji?xi.fa(ji-1):Vi,Gi=ji<wi-2?xi.fa(ji+2):Bi):(qi=zi<wi-1?xi.fa(zi+1):Vi,Gi=1<zi?xi.fa(zi-2):Bi);var Hi=qi.Kf(Vi),Ui=Bi.Kf(Gi);Ri=Hi>Ui+10?0<=ji?qi.Wb(Vi):Vi.Wb(qi):Ui>Hi+10?0<=ji?Bi.Wb(Gi):Gi.Wb(Bi):0<=ji?qi.Wb(Gi):Gi.Wb(qi)}else Ri=0<=ji?Vi.Wb(Bi):Bi.Wb(Vi);Oi!==$h&&(Fi=vi.computeAngle(Ni,Oi,Ri),Ni.wg=Fi),Di=Vi.x+(Bi.x-Vi.x)*Ai-mi.x,Li=Vi.y+(Bi.y-Vi.y)*Ai-mi.y}ma(Ni,1/0,1/0);var Ki=Ni.Fa,Ji=Ni.Ga,Wi=0;Ni instanceof Nl&&(Wi=Ni.mb);var Yi=Ji.width+Wi,Zi=Ji.height+Wi;Si.reset(),Si.translate(-Ki.x,-Ki.y),Si.scale(Ni.scale,Ni.scale),Si.rotate(Oi===$h?Ni.angle:Ri,Yi/2,Zi/2),Oi!==au&&Oi!==cu||Si.rotate(90,Yi/2,Zi/2),Oi!==lu&&Oi!==fu||Si.rotate(-90,Yi/2,Zi/2),Oi===pu&&(45<Ri&&135>Ri||225<Ri&&315>Ri)&&Si.rotate(-Ri,Yi/2,Zi/2);var Xi=new vt(0,0,Yi,Zi);Ci.uo(Xi,_i),Si.vb(Ci);var Qi=Wi/2*Ni.scale-Ci.x,$i=Wi/2*Ni.scale-Ci.y;Ti.assign(Ei),isNaN(Ti.x)&&(Ti.x=0<=ji?Yi/2+3:-(Yi/2+3)),isNaN(Ti.y)&&(Ti.y=-(Zi/2+3)),Ti.rotate(Ri),Di+=Ti.x,Li+=Ti.y,Xi.set(Ki),Xi.x=Di+Qi,Xi.y=Li+$i,this.oh.add(Xi),bi.Zh(Xi)}}if(this instanceof Kc)for(var tr=this.Bf;tr.next();)ma(tr.value,1/0,1/0);this.yj=bi;var er=this.jj;er.n(er.x+bi.x,er.y+bi.y),gt(o,bi.width||0,bi.height||0),s.mf(Si),s.A(Ci),s.A(Ti)}}}break;case"Grid":break;case"Graduated":var nr=t,ir=e,rr=n,or=i,sr=this.Ld();this.Tm=[];var ar=sr.margin,lr=ar.right+ar.left,hr=ar.top+ar.bottom;ma(sr,nr,ir,rr,or);var ur,cr=sr.Fa,fr=cr.height,pr=Math.max(cr.width+lr,0),dr=Math.max(fr+hr,0),yr=new vt(-ar.left,-ar.top,pr,dr);this.Tm.push(yr),o.assign(yr);for(var vr=sr.wf,gr=sr.mb,mr=vr.Zx,br=vr.uu,xr=vr.vu,wr=mr.length,kr=0,Pr=0,Sr=s.nb(),Cr=0;Cr<wr;Cr++){for(var Tr=mr[Cr],Mr=[],Nr=(Pr=kr=0,Tr.length),jr=0;jr<Nr;jr+=2){var Ar=Tr[jr],_r=Tr[jr+1];0!==jr&&(0>(lo=180*Math.atan2(_r-Pr,Ar-kr)/Math.PI)&&(lo+=360),Mr.push(lo)),kr=Ar,Pr=_r}Sr.push(Mr)}if(null===this.pk){for(var Or=[],Er=this.xa.o,Dr=Er.length,Lr=0;Lr<Dr;Lr++){var Fr=Er[Lr],Ir=[];if(Or.push(Ir),Fr.visible)for(var Rr=Fr.interval,Vr=0;Vr<Dr;Vr++){var Br=Er[Vr];if(Br.visible&&Fr!==Br&&!(Fr instanceof Nl&&!(Br instanceof Nl)||Fr instanceof Il&&!(Br instanceof Il))){var zr=Br.interval;zr>Rr&&Ir.push(zr)}}}this.pk=Or}ur=this.pk;var qr=this.xa.o,Gr=qr.length,Hr=0,Ur=0,Kr=xr;this.Vm=[];for(var Jr=[],Wr=0;Wr<Gr;Wr++){var Yr=qr[Wr];if(Jr=[],Yr.visible&&Yr!==sr){var Zr=Yr.interval,Xr=this.hB;if(!(2>Xr*Zr*xr/this.Du)){var Qr=ur[Wr],$r=br[0][0],to=0,eo=0,no=(Ur=xr*Yr.UF-1e-4,Kr=xr*Yr.SF+1e-4,Xr*Zr);if((ro=this.VF)<this.al)var io,ro=ro+(io=0==(io=(this.al-ro)/no)%1?io:Math.floor(io+1))*no;else ro>this.al+no&&(ro-=(io=Math.floor((ro-this.al)/no))*no);for(;ro<=this.gB;){var oo;t:{for(var so=Qr.length,ao=0;ao<so;ao++)if(Te((ro-this.VF)%(Qr[ao]*this.hB),0)){oo=!1;break t}oo=!0}if(oo&&((Hr=(ro-this.al)*xr/this.Du)>xr&&(Hr=xr),Ur<=Hr&&Hr<=Kr)){for(var lo=Sr[to][eo],ho=br[to][eo];to<br.length;){for(;Hr>$r&&eo<br[to].length-1;)lo=Sr[to][++eo],$r+=ho=br[to][eo];if(Hr<=$r)break;lo=Sr[++to][eo=0],$r+=ho=br[to][eo]}var uo=mr[to],co=uo[2*eo],fo=uo[2*eo+1],po=(Hr-($r-ho))/ho,yo=new ft(co+(uo[2*eo+2]-co)*po+gr/2-vr.ib.x,fo+(uo[2*eo+3]-fo)*po+gr/2-vr.ib.y);yo.scale(sr.scale,sr.scale);var vo=lo,go=Sr[to];if(1e-4>po?0<eo?vo=go[eo-1]:Te(uo[0],uo[uo.length-2])&&Te(uo[1],uo[uo.length-1])&&(vo=go[go.length-1]):.9999<po&&(eo+1<go.length?vo=go[eo+1]:Te(uo[0],uo[uo.length-2])&&Te(uo[1],uo[uo.length-1])&&(vo=go[0])),lo!==vo&&(180<Math.abs(lo-vo)&&(lo<vo?lo+=360:vo+=360),lo=(lo+vo)/2%360),Yr instanceof Il){var mo=null!==Yr.TF?Yr.TF(ro):(+ro.toFixed(2)).toString();r&&s.h(mo,"string"),""!==mo&&Jr.push([yo,lo,mo])}else Jr.push([yo,lo])}ro+=no}}}this.Vm.push(Jr)}s.ya(Sr);for(var bo=this.Vm,xo=c.length,wo=0;wo<xo;wo++){var ko=c[wo],Po=bo[wo];if(ko.visible&&ko!==sr&&0!==Po.length){if(ko instanceof Nl){var So=ko,Co=Po,To=o,Mo=So.Gh;Mo.de()&&(Mo=x);var No=So.angle;So.wg=0,ma(So,1/0,1/0),So.wg=No;var jo=So.Fa,Ao=jo.width,_o=jo.height,Oo=s.vg(0,0,Ao,_o),Eo=s.P();Eo.uo(Oo,Mo),s.Lb(Oo);for(var Do=-Eo.x,Lo=-Eo.y,Fo=new vt,Io=Co.length,Ro=0;Ro<Io;Ro++)for(var Vo=Co[Ro],Bo=Vo[0].x,zo=Vo[0].y,qo=Vo[1],Go=0;4>Go;Go++){switch(Go){case 0:Eo.n(Do,Lo);break;case 1:Eo.n(Do+Ao,Lo);break;case 2:Eo.n(Do,Lo+_o);break;case 3:Eo.n(Do+Ao,Lo+_o)}Eo.rotate(qo+So.angle),Eo.offset(Bo,zo),0===Ro&&0===Go?Fo.n(Eo.x,Eo.y,0,0):Fo.Mi(Eo),Eo.offset(-Bo,-zo),Eo.rotate(-qo-So.angle)}s.A(Eo),this.Tm.push(Fo),kt(To,Fo.x,Fo.y,Fo.width,Fo.height)}else if(ko instanceof Il){var Ho=ko,Uo=Po,Ko=o;null===this.Ik&&(this.Ik=new Il);var Jo=this.Ik;nl(Ho,Jo);var Wo=Ho.Gh;Wo.de()&&(Wo=x);for(var Yo=Ho.Uq,Zo=Ho.XB,Xo=null,Qo=0,$o=0,ts=0,es=0,ns=Uo.length,is=0;is<ns;is++){var rs=Uo[is];Qo=rs[0].x,$o=rs[0].y,ts=rs[1],Yo!==$h&&(es=Kc.computeAngle(Yo,ts),Jo.wg=es),Jo.text=rs[2],ma(Jo,1/0,1/0);var os=Jo.Fa,ss=Jo.Ga,as=ss.width,ls=ss.height,hs=s.hh();hs.reset(),hs.translate(-os.x,-os.y),hs.scale(Jo.scale,Jo.scale),hs.rotate(Yo===$h?Jo.angle:ts,as/2,ls/2),Yo!==au&&Yo!==cu||hs.rotate(90,as/2,ls/2),Yo!==lu&&Yo!==fu||hs.rotate(-90,as/2,ls/2),Yo===pu&&(45<ts&&135>ts||225<ts&&315>ts)&&hs.rotate(-ts,as/2,ls/2);var us=s.vg(0,0,as,ls),cs=s.P();cs.uo(us,Wo),hs.vb(cs);var fs=-cs.x,ps=-cs.y,ds=s.P();ds.assign(Zo),isNaN(ds.x)&&(ds.x=as/2+3),isNaN(ds.y)&&(ds.y=-(ls/2+3)),ds.rotate(ts);var ys=new vt(Qo+=ds.x+fs,$o+=ds.y+ps,os.width,os.height),vs=new vt(os.x,os.y,os.width,os.height),gs=new vt(ss.x,ss.y,ss.width,ss.height),ms=new oh;ms.gq(Jo.tf),rs.push(es),rs.push(Jo.xe),rs.push(ms),rs.push(ys),rs.push(vs),rs.push(gs),0===is?Xo=ys.copy():Xo.Zh(ys),s.A(ds),s.A(cs),s.Lb(us),s.mf(hs)}this.Tm.push(Xo),kt(Ko,Xo.x,Xo.y,Xo.width,Xo.height)}Da(ko,!1)}}break;case"TableRow":case"TableColumn":s.k(this.toString()+" is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel.");break;default:s.k("Unknown panel type: "+f)}}var bs=this.padding,xs=(xs=o.width)+(bs.left+bs.right),ws=(ws=o.height)+(bs.top+bs.bottom);isFinite(a.width)&&(xs=a.width),isFinite(a.height)&&(ws=a.height),xs=Math.min(h.width,xs),ws=Math.min(h.height,ws),xs=Math.max(l.width,xs),ws=Math.max(l.height,ws),xs=Math.max(n,xs),ws=Math.max(i,ws),o.width=xs,o.height=ws,gt(this.fd,xs,ws),va(this,0,0,xs,ws)},tl.prototype.findMainElement=tl.prototype.Ld=function(){if(null===this.Xl){var t=this.xa.o,e=t.length;if(0===e)return null;for(var n=0;n<e;n++){var i=t[n];if(!0===i.Ue)return this.Xl=i}this.Xl=t[0]}return this.Xl},tl.prototype.Cj=function(t,e,n,i){var r=this.yj,o=this.xa.o,a=s.vg(0,0,0,0);if(0===o.length){var l=this.aa;l.x=t,l.y=e,l.width=n,l.height=i}else{if(!this.Ea.H()){var h=Ca(this,!0),u=this.Fd,c=u.width,f=u.height,p=this.margin,d=p.left+p.right,v=p.top+p.bottom;switch(c===n&&f===i&&(h=Zs),h){case Zs:(c>n||f>i)&&(this.K(),ma(this,c>n?n:c,f>i?i:f));break;case ta:this.K(!0),ma(this,n+d,i+v,0,0);break;case $s:this.K(!0),ma(this,n+d,f+v,0,0);break;case Qs:this.K(!0),ma(this,c+d,i+v,0,0)}}(l=this.aa).x=t,l.y=e,l.width=n,l.height=i;var m=this.da.$b;switch(m){case"Position":for(var b=o.length,x=r.x-this.padding.left,w=r.y-this.padding.top,k=0;k<b;k++){var S=o[k],C=S.Fa,T=S.margin,M=S.position.x,N=S.position.y;if(a.x=isNaN(M)?-x:M-x,a.y=isNaN(N)?-w:N-w,S instanceof Nl&&S.hG){var j=S.mb/2;a.x-=j,a.y-=j}a.x+=T.left,a.y+=T.top,a.width=C.width,a.height=C.height,S.visible&&S.rc(a.x,a.y,a.width,a.height)}break;case"Vertical":for(var A=o.length,_=this.padding.left,O=this.lG,E=O?r.height:this.padding.top,D=0;D<A;D++){var L=_,F=o[D];if(F.visible){var I=F.Fa,R=F.margin,V=R.left+R.right,B=_+this.padding.right,z=I.width,q=Ca(F,!1);(isNaN(F.Ea.width)&&q===ta||q===$s)&&(z=Math.max(r.width-V-B,0));var G=z+V+B,H=F.alignment;H.ld()&&(H=this.om),H.Xc()||(H=P),O&&(E-=I.height+R.bottom+R.top),F.rc(L+H.offsetX+R.left+(r.width*H.x-G*H.x),E+H.offsetY+R.top,z,I.height),O||(E+=I.height+R.bottom+R.top)}}break;case"Horizontal":for(var U=o.length,K=this.padding.top,J=this.lG,W=J?r.width:this.padding.left,Y=0;Y<U;Y++){var Z=K,X=o[Y];if(X.visible){var Q=X.Fa,$=X.margin,tt=$.top+$.bottom,et=K+this.padding.bottom,nt=Q.height,it=Ca(X,!1);(isNaN(X.Ea.height)&&it===ta||it===Qs)&&(nt=Math.max(r.height-tt-et,0));var rt=nt+tt+et,ot=X.alignment;ot.ld()&&(ot=this.om),ot.Xc()||(ot=P),J&&(W-=Q.width+$.left+$.right),X.rc(W+ot.offsetX+$.left,Z+ot.offsetY+$.top+(r.height*ot.y-rt*ot.y),Q.width,nt),J||(W+=Q.width+$.left+$.right)}}break;case"Spot":var st=o.length,at=this.Ld(),lt=at.Fa,ht=lt.width,ut=lt.height,ct=this.padding,pt=ct.left,dt=ct.top;a.x=pt-r.x,a.y=dt-r.y,at.rc(a.x,a.y,ht,ut);for(var yt=0;yt<st;yt++){var gt=o[yt];if(gt!==at){var bt=gt.Fa,xt=bt.width,wt=bt.height,Pt=gt.alignment;Pt.ld()&&(Pt=this.om),Pt.Xc()||(Pt=P);var St=gt.Gh;St.ld()&&(St=P);var Ct=null;if(gt instanceof tl&&""!==gt.dk&&(Ct=gt.Md(gt.dk))===gt&&(Ct=null),null!==Ct){for(var Tt=Ct.Ga,Mt=s.Fb(St.x*Tt.width+St.offsetX,St.y*Tt.height+St.offsetY);Ct!==gt;)Ct.transform.vb(Mt),Ct=Ct.R;a.x=Pt.x*ht+Pt.offsetX-Mt.x,a.y=Pt.y*ut+Pt.offsetY-Mt.y,s.A(Mt)}else a.x=Pt.x*ht+Pt.offsetX-(St.x*xt-St.offsetX),a.y=Pt.y*ut+Pt.offsetY-(St.y*wt-St.offsetY);a.x-=r.x,a.y-=r.y,gt.visible&&gt.rc(pt+a.x,dt+a.y,xt,wt)}}break;case"Auto":var Nt=o.length,jt=this.Ld(),At=jt.Fa,_t=s.Sf();_t.n(0,0,1,1);var Ot=(Ut=jt.margin).left,Et=Ut.top,Dt=this.padding,Lt=Dt.left,Ft=Dt.top;a.x=Ot,a.y=Et,a.width=At.width,a.height=At.height,jt.rc(Lt+a.x,Ft+a.y,a.width,a.height);var It=cl(jt),Rt=fl(jt),Vt=0+It.y*At.height+It.offsetY,Bt=0+Rt.x*At.width+Rt.offsetX,zt=0+Rt.y*At.height+Rt.offsetY;_t.x=0+It.x*At.width+It.offsetX,_t.y=Vt,kt(_t,Bt,zt,0,0),_t.x+=Ot+Lt,_t.y+=Et+Ft;for(var qt=0;qt<Nt;qt++){var Gt=o[qt];if(Gt!==jt){var Ht=Gt.Fa,Ut=Gt.margin,Kt=Math.max(Ht.width+Ut.right+Ut.left,0),Jt=Math.max(Ht.height+Ut.top+Ut.bottom,0),Wt=Gt.alignment;Wt.ld()&&(Wt=this.om),Wt.Xc()||(Wt=P),a.x=_t.width*Wt.x+Wt.offsetX-Kt*Wt.x+Ut.left+_t.x,a.y=_t.height*Wt.y+Wt.offsetY-Jt*Wt.y+Ut.top+_t.y,a.width=_t.width,a.height=_t.height,Gt.visible&&(y(_t.x,_t.y,_t.width,_t.height,a.x,a.y,Ht.width,Ht.height)?Gt.rc(a.x,a.y,Ht.width,Ht.height):Gt.rc(a.x,a.y,Ht.width,Ht.height,new vt(_t.x,_t.y,_t.width,_t.height)))}}s.Lb(_t);break;case"Table":for(var Yt=o.length,Zt=this.padding,Xt=Zt.left,Qt=Zt.top,$t=this.wt,te=0,ee=0,ne=$t.length,ie=0,re=0;re<ne;re++)$t[re]&&(ie=Math.max(ie,$t[re].length));for(var oe=Math.min(this.xj,ne-1);oe!==ne&&(void 0===this.hd[oe]||0===this.hd[oe].Ya);)oe++;oe=Math.min(oe,ne-1);for(var se=-this.hd[oe].sb,ae=Math.min(this.hj,ie-1);ae!==ie&&(void 0===this.cd[ae]||0===this.cd[ae].Ya);)ae++;ae=Math.min(ae,ie-1);var le=-this.cd[ae].sb,he=s.Gm();for(re=0;re<ne;re++)if($t[re]){ie=$t[re].length;var ue=this.oe(re);ee=ue.sb+se+Qt,0!==ue.Ya&&(ee+=ue.jF());for(var ce=0;ce<ie;ce++)if($t[re][ce]){var fe=this.ne(ce);te=fe.sb+le+Xt,0!==fe.Ya&&(te+=fe.jF());for(var pe=$t[re][ce],de=pe.length,ye=0;ye<de;ye++){var ve=pe[ye],ge=ve.Fa,me=ve instanceof tl?ve:null;if(null===me||me.type!==Ja&&me.type!==Wa){he.n(0,0);for(var be=1;be<ve.rowSpan&&!(re+be>=this.Tq);be++){var xe=this.oe(re+be);he.height+=xe.total}for(be=1;be<ve.kI&&!(ce+be>=this.fq);be++){var we=this.ne(ce+be);he.width+=we.total}var ke=fe.Ya+he.width,Pe=ue.Ya+he.height;a.x=te,a.y=ee,a.width=ke,a.height=Pe;var Se=te,Ce=ee,Te=ke,Me=Pe;te+ke>r.width&&(Te=Math.max(r.width-te,0)),ee+Pe>r.height&&(Me=Math.max(r.height-ee,0));var Ne=ve.alignment,je=0,Ae=0,_e=0,Oe=0;if(Ne.ld()){(Ne=this.om).Xc()||(Ne=P),je=Ne.x,Ae=Ne.y,_e=Ne.offsetX,Oe=Ne.offsetY;var Ee=fe.alignment,De=ue.alignment;Ee.Xc()&&(je=Ee.x,_e=Ee.offsetX),De.Xc()&&(Ae=De.y,Oe=De.offsetY)}else je=Ne.x,Ae=Ne.y,_e=Ne.offsetX,Oe=Ne.offsetY;(isNaN(je)||isNaN(Ae))&&(Ae=je=.5,Oe=_e=0);var Le=ge.width,Fe=ge.height,Ie=ve.margin,Re=Ie.left+Ie.right,Ve=Ie.top+Ie.bottom,Be=Ta(ve,ue,fe,!1);!isNaN(ve.Ea.width)||Be!==ta&&Be!==$s||(Le=Math.max(ke-Re,0)),!isNaN(ve.Ea.height)||Be!==ta&&Be!==Qs||(Fe=Math.max(Pe-Ve,0));var ze=ve.qf,qe=ve.ah,Ge=(Le=Math.min(ze.width,Le),Fe=Math.min(ze.height,Fe),Le=Math.max(qe.width,Le),(Fe=Math.max(qe.height,Fe))+Ve);a.x+=a.width*je-(Le+Re)*je+_e+Ie.left,a.y+=a.height*Ae-Ge*Ae+Oe+Ie.top,ve.visible&&(y(Se,Ce,Te,Me,a.x,a.y,ge.width,ge.height)?ve.rc(a.x,a.y,Le,Fe):ve.rc(a.x,a.y,Le,Fe,new vt(Se,Ce,Te,Me)))}else{ve.cj(),ve.bc.Xa();var He=ve.bc,Ue=s.vg(He.x,He.y,He.width,He.height);if(He.x=me.type===Ja?Xt:te,He.y=me.type===Wa?Qt:ee,He.width=ge.width,He.height=ge.height,ve.bc.freeze(),Fa(ve,!1),!mt(Ue,He)){var Ke=ve.Y;null!==Ke&&(Ke.cl(),ve.$s(Ke))}s.Lb(Ue)}}}}for(s.Zk(he),re=0;re<Yt;re++)null===(me=(ve=o[re])instanceof tl?ve:null)||me.type!==Ja&&me.type!==Wa||(He=ve.bc,ve.fd.Xa(),ve.fd.n(0,0,He.width,He.height),ve.fd.freeze());break;case"Viewbox":var Je=o[0],We=Je.Fa,Ye=Je.margin,Ze=Ye.top+Ye.bottom,Xe=Math.max(We.width+(Ye.right+Ye.left),0),Qe=Math.max(We.height+Ze,0),$e=Je.alignment;$e.ld()&&($e=this.om),$e.Xc()||($e=P),a.x=r.width*$e.x-Xe*$e.x+$e.offsetX,a.y=r.height*$e.y-Qe*$e.y+$e.offsetY,a.width=We.width,a.height=We.height,Je.rc(a.x,a.y,a.width,a.height);break;case"Link":var tn=o.length;if(this instanceof Lc||this instanceof Kc){var en=null;this instanceof Kc&&(en=this),this instanceof Lc&&(en=this.gf);var nn=en,rn=this instanceof Lc?null:nn.path;if(null!==this.oh){var on=this.oh.o,sn=0;if(null!==rn&&sn<this.oh.count){var an=on[sn];sn++,rn.rc(an.x-this.yj.x,an.y-this.yj.y,an.width,an.height)}for(var ln=0;ln<tn;ln++){var hn=o[ln];hn!==rn&&sn<this.oh.count&&(an=on[sn],sn++,hn.rc(an.x-this.yj.x,an.y-this.yj.y,an.width,an.height))}}var un=nn.points,cn=un.count;if(2<=cn&&this instanceof Kc)for(var fn=this.Bf;fn.next();){var pn=fn.value,dn=cn,yn=un,vn=pn.We,gn=pn.WB,mn=pn.Gh,bn=pn.Uq,xn=pn.XB,wn=0,kn=0,Pn=0;if(vn<-dn||vn>=dn){var Sn=this.xG,Cn=this.wG;bn!==$h&&(Pn=this.computeAngle(pn,bn,Cn),pn.angle=Pn),wn=Sn.x,kn=Sn.y}else{var Tn=void 0,Mn=void 0;if(0<=vn)Tn=yn.o[vn],Mn=vn<dn-1?yn.o[vn+1]:Tn;else{var Nn=dn+vn;Tn=yn.o[Nn],Mn=0<Nn?yn.o[Nn-1]:Tn}if(Tn.Wc(Mn)){var jn=void 0,An=void 0;0<=vn?(jn=0<vn?yn.o[vn-1]:Tn,An=vn<dn-2?yn.o[vn+2]:Mn):(jn=Nn<dn-1?yn.o[Nn+1]:Tn,An=1<Nn?yn.o[Nn-2]:Mn);var _n=jn.Kf(Tn),On=Mn.Kf(An);Cn=_n>On+10?0<=vn?jn.Wb(Tn):Tn.Wb(jn):On>_n+10?0<=vn?Mn.Wb(An):An.Wb(Mn):0<=vn?jn.Wb(An):An.Wb(jn)}else Cn=0<=vn?Tn.Wb(Mn):Mn.Wb(Tn);bn!==$h&&(Pn=this.computeAngle(pn,bn,Cn),pn.angle=Pn),wn=Tn.x+(Mn.x-Tn.x)*gn,kn=Tn.y+(Mn.y-Tn.y)*gn}if(mn.O(g))pn.location=new ft(wn,kn);else{mn.de()&&(mn=P);var En=s.hh();En.reset(),En.scale(pn.scale,pn.scale),En.rotate(pn.angle,0,0);var Dn=pn.Ga,Ln=s.vg(0,0,Dn.width,Dn.height),Fn=s.P();Fn.uo(Ln,mn),En.vb(Fn);var In=-Fn.x,Rn=-Fn.y,Vn=xn.copy();isNaN(Vn.x)&&(Vn.x=0<=vn?Fn.x+3:-(Fn.x+3)),isNaN(Vn.y)&&(Vn.y=-(Fn.y+3)),Vn.rotate(Cn),wn+=Vn.x,kn+=Vn.y,En.tH(Ln);var Bn=s.Fb(wn+(In+=Ln.x),kn+(Rn+=Ln.y));pn.move(Bn),s.A(Bn),s.A(Fn),s.Lb(Ln),s.mf(En)}}this.Wu(!1)}break;case"Grid":break;case"Graduated":if(null!==this.Tm){var zn=this.Ld(),qn=this.Vm,Gn=this.Tm,Hn=0,Un=Gn[Hn];Hn++,zn.rc(Un.x-r.x,Un.y-r.y,Un.width,Un.height);for(var Kn=o.length,Jn=0;Jn<Kn;Jn++){var Wn=o[Jn];Wn.visible&&Wn!==zn&&0!==qn[Jn].length&&(Un=Gn[Hn],Hn++,Wn.rc(Un.x-r.x,Un.y-r.y,Un.width,Un.height))}this.Tm=null}break;case"TableRow":case"TableColumn":s.k(this.toString()+" is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel.");break;default:s.k("Unknown panel type: "+m)}s.Lb(a)}},tl.prototype.Rk=function(t){var e=this.Ga,n=al(this);if(y(0,0,e.width,e.height,t.x,t.y)){for(var i=(e=this.xa.o).length,r=s.Fb(0,0);i--;){var o=e[i];if((o.visible||o===n)&&(dt(r.set(t),o.transform),o.Pa(r)))return s.A(r),!0}return s.A(r),null!==this.Mb||null!==this.lc}return!1},tl.prototype.Vx=function(t){if(this.Jo===t)return this;for(var e=this.xa.o,n=e.length,i=0;i<n;i++){var r=e[i].Vx(t);if(null!==r)return r}return null},tl.prototype.walkVisualTree=tl.prototype.LK=function(t){!function t(e,n,i){if(i(n),n instanceof tl)for(var r=(n=n.xa.o).length,o=0;o<r;o++)t(e,n[o],i)}(this,this,t)},tl.prototype.findInVisualTree=tl.prototype.qu=function(t){return function t(e,n,i){if(i(n))return n;if(n instanceof tl)for(var r=(n=n.xa.o).length,o=0;o<r;o++){var s=t(e,n[o],i);if(null!==s)return s}return null}(this,this,t)},tl.prototype.findObject=tl.prototype.Md=function(t){if(this.name===t)return this;for(var e=this.xa.o,n=e.length,i=0;i<n;i++){var r=e[i];if(r.name===t)return r;if(r instanceof tl)if(null===r.ej&&null===r.Ig){if(null!==(r=r.Md(t)))return r}else if(gl(r)&&null!==(r=r.xa.first())&&null!==(r=r.Md(t)))return r}return null},(n=tl.prototype).kh=function(){return!(this.type===Ja||this.type===Wa)},n.Je=function(t,e,n){if(!1===this.tg)return null;if(void 0===e&&(e=null),void 0===n&&(n=null),La(this))return null;var i=this.Ga,r=1/this.Jj(),o=this.kh(),a=o?t:dt(s.Fb(t.x,t.y),this.transform),l=10,h=5;if(null!==(c=this.g)&&(h=(l=c.Cu("extraTouchArea"))/2),y(-h*r,-h*r,i.width+l*r,i.height+l*r,a.x,a.y)){if(!this.Yn){var u=(r=this.xa.o).length,c=s.P();if(h=(l=this.yq)?this.Ld():null,l&&(h.kh()?dt(c.set(t),h.transform):c.set(t),!h.Pa(c)))return s.A(c),o||s.A(a),null;for(var f=al(this);u--;){var p=r[u];if((p.visible||p===f)&&(p.kh()?dt(c.set(t),p.transform):c.set(t),!l||p!==h)){var d=null;if(p instanceof tl?d=p.Je(c,e,n):!0===p.tg&&p.Pa(c)&&(d=p),null!==d&&(null!==e&&(d=e(d)),null!==d&&(null===n||n(d))))return s.A(c),o||s.A(a),d}}s.A(c)}return null===this.background&&null===this.gm?(o||s.A(a),null):(t=y(0,0,i.width,i.height,a.x,a.y)?this:null,o||s.A(a),t)}return o||s.A(a),null},n.ru=function(t,e,n,i){if(!1===this.tg)return!1;void 0===e&&(e=null),void 0===n&&(n=null),i instanceof nt||i instanceof rt||(i=new nt(fa));var r=this.Ga,o=this.kh(),a=o?t:dt(s.Fb(t.x,t.y),this.transform);if(y(0,0,r.width,r.height,a.x,a.y)){if(!this.Yn){for(var l=(r=this.xa.o).length,h=s.P(),u=al(this);l--;)if((c=r[l]).visible||c===u){c.kh()?dt(h.set(t),c.transform):h.set(t);var c,f=c;(null!==(c=c instanceof tl?c:null)?c.ru(h,e,n,i):f.Pa(h))&&!1!==f.tg&&(null!==e&&(f=e(f)),null===f||null!==n&&!n(f)||i.add(f))}s.A(h)}return o||s.A(a),null!==this.background||null!==this.gm}return o||s.A(a),!1},n.Xk=function(t,e,n,i,r,o){if(!1===this.tg)return!1;void 0===e&&(e=null),void 0===n&&(n=null);var a=o;if(void 0===o&&(a=s.hh()).reset(),a.multiply(this.transform),this.In(t,a))return ul(this,e,n,r),void 0===o&&s.mf(a),!0;if(this.jg(t,a)){if(!this.Yn)for(var l=al(this),h=this.xa.o,u=h.length;u--;){var c=h[u];if(c.visible||c===l){var f=c.aa,p=this.Ga;f.x>p.width||f.y>p.height||0>f.x+f.width||0>f.y+f.height||(f=c,c=c instanceof tl?c:null,(p=s.hh()).set(a),(null!==c?c.Xk(t,e,n,i,r,p):ga(f,t,i,p))&&(null!==e&&(f=e(f)),null===f||null!==n&&!n(f)||r.add(f)),s.mf(p))}}return void 0===o&&s.mf(a),i}return void 0===o&&s.mf(a),!1},n.Pn=function(t,e,n,i,r,o){if(!1===this.tg)return!1;void 0===n&&(n=null),void 0===i&&(i=null);var a=this.Ga,l=this.kh(),h=l?t:dt(s.Fb(t.x,t.y),this.transform),u=l?e:dt(s.Fb(e.x,e.y),this.transform),c=h.Kf(u),p=0<h.x&&h.x<a.width&&0<h.y&&h.y<a.height||f(h.x,h.y,0,0,0,a.height)<c||f(h.x,h.y,0,a.height,a.width,a.height)<c||f(h.x,h.y,a.width,a.height,a.width,0)<c||f(h.x,h.y,a.width,0,0,0)<c;if(a=0<h.x&&h.x<a.width&&0<h.y&&h.y<a.height&&f(h.x,h.y,0,0,0,a.height)<c&&f(h.x,h.y,0,a.height,a.width,a.height)<c&&f(h.x,h.y,a.width,a.height,a.width,0)<c&&f(h.x,h.y,a.width,0,0,0)<c,l||(s.A(h),s.A(u)),p){if(!this.Yn){h=s.P(),u=s.P(),c=al(this);for(var d=this.xa.o,y=d.length;y--;){var v=d[y];if(v.visible||v===c){var g=v.aa,m=this.Ga;l&&(g.x>m.width||g.y>m.height||0>g.x+g.width||0>g.y+g.height)||(v.kh()?(g=v.transform,dt(h.set(t),g),dt(u.set(e),g)):(h.set(t),u.set(e)),g=v,(null!==(v=v instanceof tl?v:null)?v.Pn(h,u,n,i,r,o):g.JF(h,u,r))&&(null!==n&&(g=n(g)),null===g||null!==i&&!i(g)||o.add(g)))}}s.A(h),s.A(u)}return r?p:a}return!1},tl.prototype.add=tl.prototype.add=function(t){s.l(t,fa,tl,"add:element"),this.be(this.xa.count,t)},tl.prototype.elt=tl.prototype.fa=function(t){return this.xa.fa(t)},tl.prototype.insertAt=tl.prototype.be=function(t,e){e instanceof Dh&&s.k("Cannot add a Part to a Panel: "+e+"; use a Panel instead"),(this===e||this.xm(e))&&(this===e&&s.k("Cannot make a Panel contain itself: "+this.toString()),s.k("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var n=e.R;null!==n&&n!==this&&s.k("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+n.toString()+", cannot be shared by this Panel: "+this.toString()),this.da!==Za||e instanceof Nl||s.k("Can only add Shapes to a Grid Panel, not: "+e),this.da!==Xa||e instanceof Nl||e instanceof Il||s.k("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+e),e.Bm(this),e.mn=null,null!==this.el&&null!==(r=e.data)&&"object"==typeof r&&(null===this.Hg&&(this.Hg=new ut(Object,tl)),this.Hg.add(r,e));var i=this.xa,r=-1;if(n===this){for(var o=-1,a=this.xa.o,l=a.length,h=0;h<l;h++)if(a[h]===e){o=h;break}if(-1!==o){if(o===t||o+1>=i.count&&t>=i.count)return;i.pd(o),r=o}else s.k("element "+e.toString()+" has panel "+n.toString()+" but is not contained by it.")}(0>t||t>i.count)&&(t=i.count),i.be(t,e),(0===t||e.Ue)&&(this.Xl=null),this.K(),e.K(),null!==e.yd?this.bl=!0:e instanceof tl&&!0===e.bl&&(this.bl=!0),this.pk=null,null!==(n=this.Y)&&(n.Sl=null,n.zk=NaN,this.bl&&n instanceof Fc&&(n.bl=!0),n.bl&&n instanceof Fc&&(n.Ae=null),null!==(i=this.g)&&i.na.ub||(-1!==r&&n.od(ee,"elements",this,e,null,r,null),n.od(te,"elements",this,null,e,null,t),this.Ju()||Cl(this,e,!1)))},s.defineProperty(tl,{bl:null},function(){return 0!=(8388608&this.S)},function(t){0!=(8388608&this.S)!==t&&(this.S^=8388608)}),tl.prototype.remove=tl.prototype.remove=function(t){s.l(t,fa,tl,"remove:element");for(var e=this.xa.o,n=e.length,i=-1,r=0;r<n;r++)if(e[r]===t){i=r;break}-1!==i&&this.zf(i,!0)},tl.prototype.removeAt=tl.prototype.pd=function(t){r&&s.p(t,tl,"removeAt:idx"),0<=t&&this.zf(t,!0)},tl.prototype.zf=function(t,e){var n=this.xa,i=n.fa(t);if(i.mn=null,i.Bm(null),null!==this.Hg){var r=i.data;"object"==typeof r&&this.Hg.remove(r)}n.pd(t),Da(this,!1),this.K(),this.Xl===i&&(this.Xl=null),this.pk=null;var o=this.Y;null!==o&&(o.Sl=null,o.zk=NaN,o.pe(),o instanceof Fc&&(i instanceof tl?ll(i,i,function(t,n){Uc(o,n,e)}):Uc(o,i,e)),null!==(n=this.g)&&n.na.ub||o.od(ee,"elements",this,i,null,t,null))},s.w(tl,{Tq:"rowCount"},function(){return void 0===this.hd?0:this.hd.length}),tl.prototype.getRowDefinition=tl.prototype.oe=function(t){r&&s.p(t,tl,"getRowDefinition:idx"),0>t&&s.ua(t,">= 0",tl,"getRowDefinition:idx"),t=Math.round(t);var e=this.hd;if(void 0===e[t]){var n=new Tl;n.Bm(this),n.Ke=!0,n.index=t,e[t]=n}return e[t]},tl.prototype.removeRowDefinition=tl.prototype.LG=function(t){r&&s.p(t,tl,"removeRowDefinition:idx"),0>t&&s.ua(t,">= 0",tl,"removeRowDefinition:idx"),t=Math.round(t);var e=this.hd;this.od(ee,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.K()},s.w(tl,{fq:"columnCount"},function(){return void 0===this.cd?0:this.cd.length}),tl.prototype.getColumnDefinition=tl.prototype.ne=function(t){r&&s.p(t,tl,"getColumnDefinition:idx"),0>t&&s.ua(t,">= 0",tl,"getColumnDefinition:idx"),t=Math.round(t);var e=this.cd;if(void 0===e[t]){var n=new Tl;n.Bm(this),n.Ke=!1,n.index=t,e[t]=n}return e[t]},tl.prototype.removeColumnDefinition=tl.prototype.JG=function(t){r&&s.p(t,tl,"removeColumnDefinition:idx"),0>t&&s.ua(t,">= 0",tl,"removeColumnDefinition:idx"),t=Math.round(t);var e=this.cd;this.od(ee,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.K()},s.defineProperty(tl,{mK:"rowSizing"},function(){return void 0===this.pn?kl:this.pn},function(t){if(void 0!==this.pn){var e=this.pn;e!==t&&(t!==kl&&t!==wl&&s.k("Panel.rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: "+t),this.pn=t,this.K(),this.i("rowSizing",e,t))}}),s.defineProperty(tl,{jI:"columnSizing"},function(){return void 0===this.Pm?kl:this.Pm},function(t){if(void 0!==this.Pm){var e=this.Pm;e!==t&&(t!==kl&&t!==wl&&s.k("Panel.columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: "+t),this.Pm=t,this.K(),this.i("columnSizing",e,t))}}),s.defineProperty(tl,{qH:"topIndex"},function(){return void 0===this.xj?0:this.xj},function(t){if(void 0!==this.xj){var e=this.xj;e!==t&&((!isFinite(t)||0>t)&&s.k("Panel.topIndex must be greater than zero and a real number, not: "+t),this.xj=t,this.K(),this.i("topIndex",e,t))}}),s.defineProperty(tl,{sG:"leftIndex"},function(){return void 0===this.hj?0:this.hj},function(t){if(void 0!==this.hj){var e=this.hj;e!==t&&((!isFinite(t)||0>t)&&s.k("Panel.leftIndex must be greater than zero and a real number, not: "+t),this.hj=t,this.K(),this.i("leftIndex",e,t))}}),tl.prototype.findRowForLocalY=function(t){if(0>t||this.type!==Ka)return-1;for(var e=0,n=this.hd,i=n.length,r=this.xj;r<i;r++){var o=n[r];if(void 0!==o&&t<(e+=o.total))break}return r},tl.prototype.findColumnForLocalX=function(t){if(0>t||this.type!==Ka)return-1;for(var e=0,n=this.cd,i=n.length,r=this.hj;r<i;r++){var o=n[r];if(void 0!==o&&t<(e+=o.total))break}return r},tl.prototype.graduatedPointForValue=function(t,e){if(void 0===e&&(e=new ft(NaN,NaN)),this.type!==Xa)return e.n(NaN,NaN),e;var n=((t=Math.min(Math.max(t,this.al),this.gB))-this.al)/this.Du,i=this.Ld();return i.wf.XI(n,e),i.transform.vb(e)},tl.prototype.graduatedValueForPoint=function(t){if(this.type!==Xa)return NaN;var e=this.Ld(),n=e.wf;return e.transform.Oh(t),n.TI(t)*this.Du+this.al},s.defineProperty(tl,{data:"data"},function(){return this.Sd},function(t){var e=this.Sd;if(e!==t){var n=this instanceof Dh&&!(this instanceof Lc);n&&s.h(t,"object",tl,"data"),yl(this),this.Sd=t;var i=this.g;null!==i&&(n?this instanceof Kc?(null!==e&&i.gk.remove(e),null!==t&&i.gk.add(t,this)):this instanceof Dh&&(null!==e&&i.Vi.remove(e),null!==t&&i.Vi.add(t,this)):null!==(n=this.R)&&null!==n.Hg&&(null!==e&&n.Hg.remove(e),null!==t&&n.Hg.add(t,this))),this.i("data",e,t),null!==i&&i.na.ub||null!==t&&this.Ob()}}),s.defineProperty(tl,{Qu:"itemIndex"},function(){return this.xs},function(t){var e=this.xs;e!==t&&(this.xs=t,this.i("itemIndex",e,t))});var vl=!1;function gl(t){return!!(t.type===Ha||t.type===Ua||t.type===Ya||t.type===Ka&&0<t.xa.length&&(t=t.xa.fa(0),t.Ue&&t instanceof tl&&(t.type===Ja||t.type===Wa)))}function ml(t,e,n){if(!(void 0===e||null===e||0>n)){var i;i=function(t,e){if(null===e)return"";var n=t.op,i="";if("function"==typeof n)i=n(e);else{if("string"!=typeof n||"object"!=typeof e)return"";if(""===n)return"";i=s.xb(e,n)}return void 0===i?"":"string"==typeof i?i:(s.k("Panel.getCategoryForItemData found a non-string category for "+e+": "+i),"")}(t,e);var r=t.wJ,o=null;null!==r&&(o=r.oa(i)),null===o&&(Pl||(Pl=!0,s.trace('No item template Panel found for category "'+i+'" on '+t),s.trace("  Using default item template."),i=new tl,(r=new Il).bind(new Rn("text","",_n)),i.add(r),Sl=i),o=Sl),null!==(i=o)&&(yl(i),0!=(16777216&(i=i.copy()).S)&&null!==(r=t.qm())&&pl(r,!0),"object"==typeof e&&(null===t.Hg&&(t.Hg=new ut(Object,tl)),t.Hg.add(e,i)),r=n,gl(t)&&r++,t.be(r,i),i.Sd=e,bl(t,r,n),i.Sd=null,i.data=e)}}function bl(t,e,n){for(t=t.xa;e<t.length;){var i=t.fa(e);if(i instanceof tl){var r=e,o=n;i.type===Ja?i.Sb=r:i.type===Wa&&(i.column=r),i.Qu=o}e++,n++}}tl.prototype.copyTemplate=function(){var t=this.copy();return t.LK(function(t){t instanceof tl&&(t.zl=null,t.Sd=null);var e=t.Hc;null!==e&&(t.Hc=null,e.each(function(e){t.bind(e.copy())}))}),t},tl.prototype.updateTargetBindings=tl.prototype.Ob=function(t){var e=this.zl;if(null!==e)for(void 0===t&&(t=""),e=e.j;e.next();){var n=e.value,i=n.gH;if((""===t||""===i||i===t)&&(i=n.tv,null!==n.pI||""!==i)){i=this.data;var o=n.$q;if(null!==o?i=""===o?this:"/"===o?this:"."===o?this:".."===o?this:this.Md(o):null!==(a=this.g)&&n.ly&&(i=a.ea.fl),null===i)r&&s.trace("Binding error: missing GraphObject named "+o+" in "+this.toString());else{var a=this,l=n.Fm;if(-1!==l){if(null===(a=this.Vx(l)))continue}else null!==n.Sg&&(a=n.Sg);if("/"===o?i=a.Y:"."===o?i=a:".."===o&&(i=a.R),0!==(o=n.Pt)){if(!(a instanceof tl))continue;l=a,1===o?a=l.ne(n.Tp):2===o&&(a=l.oe(n.Tp))}void 0!==a&&n.wH(a,i)}}}},s.defineProperty(tl,{el:"itemArray"},function(){return this.ej},function(t){var e=this.ej;if(e!==t){r&&null!==t&&!s.isArray(t)&&s.k("Panel.itemArray must be an Array-like object or null, not: "+t);var n=this.g;null!==n&&null!==e&&Go(n,this),this.ej=t,null!==n&&null!==t&&qo(n,this),this.i("itemArray",e,t),null!==n&&n.na.ub||this.PB()}}),tl.prototype.rebuildItemElements=tl.prototype.PB=function(){var t=0;for(gl(this)&&(t=1);this.xa.length>t;)this.zf(this.xa.length-1,!1);if(null!==(t=this.el))for(var e=s.cb(t),n=0;n<e;n++)ml(this,s.La(t,n),n)},tl.prototype.findItemPanelForData=tl.prototype.MI=function(t){return void 0===t||null===t||null===this.Hg?null:(s.h(t,"object",tl,"findItemPanelForData"),this.Hg.oa(t))},s.defineProperty(tl,{ZL:"itemTemplate"},function(){return null===this.Ig?null:this.Ig.oa("")},function(t){if(null===this.Ig){if(null===t)return;this.Ig=new ut("string",tl)}var e=this.Ig.oa("");e!==t&&(s.l(t,tl,tl,"itemTemplate"),(t instanceof Dh||t.Ue)&&s.k("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.Ig.add("",t),this.i("itemTemplate",e,t),null!==(t=this.g)&&t.na.ub||this.PB())}),s.defineProperty(tl,{wJ:"itemTemplateMap"},function(){return this.Ig},function(t){var e=this.Ig;if(e!==t){s.l(t,ut,tl,"itemTemplateMap");for(var n=t.j;n.next();){var i=n.value;(i instanceof Dh||i.Ue)&&s.k("Template in Panel.itemTemplateMap must not be a Part or be Panel.isPanelMain: "+i)}this.Ig=t,this.i("itemTemplateMap",e,t),null!==(t=this.g)&&t.na.ub||this.PB()}}),s.defineProperty(tl,{oG:"itemCategoryProperty"},function(){return this.op},function(t){var e=this.op;e!==t&&("string"!=typeof t&&"function"!=typeof t&&s.kc(t,"string or function",tl,"itemCategoryProperty"),this.op=t,this.i("itemCategoryProperty",e,t))});var xl,wl,kl,Pl=!1,Sl=null;function Cl(t,e,n){if(null!==(i=e.CF)&&i(e,n),e instanceof tl)for(var i=(e=e.xa.o).length,r=0;r<i;r++){var o=e[r];n&&o instanceof tl&&!o.isEnabled||Cl(t,o,n)}}function Tl(){s.xc(this),this.rj=null,this.sw=!0,this.Ic=0,this.vf=NaN,this.Bk=0,this.Ak=1/0,this.ue=m,this.sb=this.Ya=0,this.Hc=null,this.It=xl,this.Qg=Xs,this.Dt=this.Fk=null,this.Et=NaN,this.Mb=this.qi=null,this.Er=!1}function Ml(t){if(t.qv===xl){var e=t.rj;return t.Ke?e.mK:e.jI}return t.qv}function Nl(){fa.call(this),this.bg=this.Za=null,this.$o="None",this.ds=Xs,this.Bc=this.Ud="black",this.Rg=1,this.Op="butt",this.Qp="miter",this.xn=10,this.Pp=null,this.If=0,this.yi=this.xi=m,this.ft=this.et=NaN,this.ns=!1,this.ht=null,this.cp=this.Vp="None",this.Fg=1,this.Eg=0,this.Dg=1}function jl(t,e,n,i){if(!(4>(m=n.length))){for(var r=i.Fa,o=Math.max(1,r.width),a=(r=r.height,n[0]),l=n[1],h=0,u=0,c=0,f=0,p=0,d=0,y=f=0,v=s.nb(),g=2;g<m;g+=2)f=(u=n[g+1])-l,0==(c=(h=n[g])-a)&&(c=.001),p=f/c,d=Math.atan2(f,c),f=Math.sqrt(c*c+f*f),v.push([c,d,p,f]),y+=f,a=h,l=u;a=n[0],l=n[1],c=i.Fa.width,i instanceof Nl&&(c-=i.mb),1>c&&(c=1);for(var m=n=c,b=(u=0!=(h=o/2),c=(f=v[g=0])[0],d=f[1],p=f[2],f=f[3],0);.1<=y;){if(0===b&&(u?(m=n,m-=h,y-=h,u=!1):m=n,0===m&&(m=1)),m>y)return void s.ya(v);m>f?(b=m-f,m=f):b=0;var x=Math.sqrt(m*m/(1+p*p));if(0>c&&(x=-x),t.translate(a+=x,l+=p*x),t.rotate(d),t.translate(-o/2,-r/2),0===b&&i.Wk(t,e),t.translate(o/2,r/2),t.rotate(-d),t.translate(-a,-l),y-=m,f-=m,0!==b){if(++g===v.length)return void s.ya(v);c=(f=v[g])[0],d=f[1],p=f[2],f=f[3],m=b}}s.ya(v)}}function Al(t,e,n,i){if(!(4>(v=e.length))){var r=.001,o=n.length,a=e[0],l=e[1];if(4===v)da(t,a,l,e[2],e[3],n,i);else{t.moveTo(a,l);for(var h=r=0,u=0,c=0,f=0,p=c=0,d=s.nb(),y=2;y<v;y+=2)c=(h=e[y+1])-l,0==(u=(r=e[y])-a)&&(u=.001),f=c/u,c=Math.sqrt(u*u+c*c),d.push([u,f,c]),p+=c,a=r,l=h;a=e[0],l=e[1];for(var v=!0,g=(r=n[(e=0)%o],h=0!==i,u=(c=d[y=0])[0],f=c[1],c=c[2],0);.1<=p;){0===g&&(r=n[e%o],e++,h&&(r-=i%=r,h=!1)),r>p&&(r=p),r>c?(g=r-c,r=c):g=0;var m=Math.sqrt(r*r/(1+f*f));if(0>u&&(m=-m),a+=m,l+=f*m,v?t.lineTo(a,l):t.moveTo(a,l),p-=r,c-=r,0!==g){if(++y===d.length)return void s.ya(d);u=(c=d[y])[0],f=c[1],c=c[2],r=g}else v=!v}s.ya(d)}}}function _l(t,e,n,i){if(!1!==Ea(t)){t.Fd.Xa();var r=t.Rg;0===r&&i instanceof Lc&&i.Bb instanceof Nl&&(r=i.Bb.mb),r*=t.Db,i instanceof Kc&&null!==i.Za?va(t,(e=i.Za.ib).x-r/2,e.y-r/2,e.width+r,e.height+r):i instanceof Lc&&null!==i.gf.Za?va(t,(e=i.gf.Za.ib).x-r/2,e.y-r/2,e.width+r,e.height+r):va(t,-r/2,-r/2,e+r,n+r),t.Fd.freeze(),t.Fd.H()||s.k("Non-real measuredBounds has been set. Object "+t+", measuredBounds: "+t.Fd.toString()),Da(t,!1)}}function Ol(t){var e=t.dB;return null!==t.bg?e===Xs?ta:e:e===Xs?we[t.Kb].le:e}function El(t,e,n,i,r){return(e=(t=n.x-t)*t+(e=n.y-e)*e)<i?(r.x=n.x,r.y=n.y,e):i}function Dl(t,e,n,i,r,o,s,a,l){var h=!1,u=(r-s)*(e-i)-(o-a)*(t-n);return 0!==u&&(l.x=((r*a-o*s)*(t-n)-(r-s)*(t*i-e*n))/u,l.y=((r*a-o*s)*(e-i)-(o-a)*(t*i-e*n))/u,(t>n?t-n:n-t)<(e>i?e-i:i-e)?(r=e<i?e:i,t=e<i?i:e,(l.y>r||Te(l.y,r))&&(l.y<t||Te(l.y,t))&&(h=!0)):(r=t<n?t:n,t=t<n?n:t,(l.x>r||Te(l.x,r))&&(l.x<t||Te(l.x,t))&&(h=!0)),h)}function Ll(t,e,n,i){if(!t.QF(e,n,i))return!1;t=e.x,e=e.y;var r=n.x;n=n.y;var o=i.x;if(i=i.y,t===r){var s=0;return t=0,e<n?(s=e,t=n):(s=n,t=e),i>=s&&i<=t}return t<r?(s=t,t=r):s=r,o>=s&&o<=t}function Fl(t){var e=t.g;null!==e&&e.na.ub||(t.Uq=su,"None"!==t.Vp?(t.We=-1,t.Gh=A):"None"!==t.cp&&(t.We=0,t.Gh=new Ct(1-A.x,A.y)))}function Il(){fa.call(this),this.Yd="",this.Bc="black",this.Bg="13px sans-serif",this.Yl="start",this.Ag=Zs,this.bm=O,this.Ym=!0,this.tk=this.vk=!1,this.pj=Gl,this.Aj=zl,this.Cw=this.xe=0,this.bA=this.cA=null,this.tf=new oh,this.Xr=!1,this.bf=this.ur=this.Qt=this.Zl=this.Rt=null,this.wi=this.vi=0,this.wh=1/0,this.rp=0,this.Fg=1,this.Eg=0,this.Dg=1,this.Um=null}s.defineProperty(tl,{Yn:"isAtomic"},function(){return 0!=(1048576&this.S)},function(t){var e=0!=(1048576&this.S);e!==t&&(s.h(t,"boolean",tl,"isAtomic"),this.S^=1048576,this.i("isAtomic",e,t))}),s.defineProperty(tl,{yq:"isClipping"},function(){return 0!=(2097152&this.S)},function(t){var e=0!=(2097152&this.S);e!==t&&(s.h(t,"boolean",tl,"isClipping"),this.S^=2097152,this.K(),this.i("isClipping",e,t))}),s.defineProperty(tl,{lG:"isOpposite"},function(){return 0!=(33554432&this.S)},function(t){var e=0!=(33554432&this.S);e!==t&&(s.h(t,"boolean",tl,"isOpposite"),this.S^=33554432,this.K(),this.i("isOpposite",e,t))}),s.defineProperty(tl,{isEnabled:"isEnabled"},function(){return 0!=(4194304&this.S)},function(t){var e=0!=(4194304&this.S);if(e!==t){s.h(t,"boolean",tl,"isEnabled");var n=null===this.R||this.R.Ju();this.S^=4194304,this.i("isEnabled",e,t),null!==(e=this.g)&&e.na.ub||n&&Cl(this,this,t)}}),s.defineProperty(tl,{RK:"alignmentFocusName"},function(){return this.dk},function(t){var e=this.dk;e!==t&&(r&&s.h(t,"string",tl,"alignmentFocusName"),this.dk=t,this.K(),this.i("alignmentFocusName",e,t))}),s.ka("RowColumnDefinition",Tl),Tl.prototype.copy=function(){var t=new Tl;return t.sw=this.sw,t.Ic=this.Ic,t.vf=this.vf,t.Bk=this.Bk,t.Ak=this.Ak,t.ue=this.ue,t.Ya=this.Ya,t.sb=this.sb,t.Qg=this.Qg,t.It=this.It,t.Fk=null===this.Fk?null:this.Fk.V(),t.Dt=this.Dt,t.Et=this.Et,t.qi=null,null!==this.qi&&(t.qi=s.km(this.qi)),t.Mb=this.Mb,t.Er=this.Er,t.Hc=this.Hc,t},Tl.prototype.gq=function(t){s.l(t,Tl,Tl,"copyFrom:pd"),t.Ke?this.height=t.height:this.width=t.width,this.Th=t.Th,this.se=t.se,this.alignment=t.alignment,this.stretch=t.stretch,this.qv=t.qv,this.Fk=null===t.Fk?null:t.Fk.V(),this.Vq=t.Vq,this.Wq=t.Wq,this.qi=null,t.qi&&(this.qi=s.km(t.qi)),this.background=t.background,this.RA=t.RA,this.Hc=t.Hc},Tl.prototype.qc=function(t){t.Qe===Tl?this.qv=t:s.ak(this,t)},Tl.prototype.toString=function(){return"RowColumnDefinition "+(this.Ke?"(Row ":"(Column ")+this.index+") #"+s.Nd(this)},Tl.Default=xl=s.s(Tl,"Default",0),Tl.None=wl=s.s(Tl,"None",1),Tl.ProportionalExtra=kl=s.s(Tl,"ProportionalExtra",2),Tl.prototype.Bm=function(t){this.rj=t},Tl.prototype.computeEffectiveSpacingTop=Tl.prototype.jF=function(){var t=0,e=this.rj,n=0,i=this.Ke;if(null!==e)for(var r=i?e.hd.length:e.cd.length,o=0;o<r;o++){var s=i?e.hd[o]:e.cd[o];if(void 0!==s){n=s.index;break}}if(this.index!==n&&(null===(n=this.Vq)&&null!==e&&(n=this.Ke?e.Wi:e.di),null!==n&&(t=this.Wq,isNaN(t)&&(t=null!==e?this.Ke?e.fi:e.ei:0))),null===(n=this.aH)){if(null===e)return t;n=e.hk}return t+(this.Ke?n.top:n.left)},Tl.prototype.computeEffectiveSpacing=Tl.prototype.jf=function(){var t=0,e=this.rj,n=0,i=this.Ke;if(null!==e)for(var r=i?e.hd.length:e.cd.length,o=0;o<r;o++){var s=i?e.hd[o]:e.cd[o];if(void 0!==s){n=s.index;break}}if(this.index!==n&&(null===(n=this.Vq)&&null!==e&&(n=i?e.Wi:e.di),null!==n&&(t=this.Wq,isNaN(t)&&(t=null!==e?i?e.fi:e.ei:0))),null===(i=this.aH)){if(null===e)return t;i=e.hk}return t+(this.Ke?i.top+i.bottom:i.left+i.right)},Tl.prototype.vd=function(t,e,n,i,r){var o=this.rj;if(null!==o&&(o.od($t,t,this,e,n,i,r),null!==this.Hc&&null!==(e=o.g)&&!e.Xe&&null!==(o=o.qm())&&null!==(e=o.data)))for(n=this.Hc.j;n.next();)n.value.Wy(this,e,t,o)},s.w(Tl,{R:"panel"},function(){return this.rj}),s.defineProperty(Tl,{Ke:"isRow"},function(){return this.sw},function(t){this.sw=t}),s.defineProperty(Tl,{index:"index"},function(){return this.Ic},function(t){this.Ic=t}),s.defineProperty(Tl,{height:"height"},function(){return this.vf},function(t){var e=this.vf;e!==t&&(r&&s.h(t,"number",Tl,"height"),0>t&&s.ua(t,">= 0",Tl,"height"),this.vf=t,this.hb=this.Ya,null!==this.R&&this.R.K(),this.vd("height",e,t))}),s.defineProperty(Tl,{width:"width"},function(){return this.vf},function(t){var e=this.vf;e!==t&&(r&&s.h(t,"number",Tl,"width"),0>t&&s.ua(t,">= 0",Tl,"width"),this.vf=t,this.hb=this.Ya,null!==this.R&&this.R.K(),this.vd("width",e,t))}),s.defineProperty(Tl,{Th:"minimum"},function(){return this.Bk},function(t){var e=this.Bk;e!==t&&(r&&s.h(t,"number",Tl,"minimum"),(0>t||!isFinite(t))&&s.ua(t,">= 0",Tl,"minimum"),this.Bk=t,this.hb=this.Ya,null!==this.R&&this.R.K(),this.vd("minimum",e,t))}),s.defineProperty(Tl,{se:"maximum"},function(){return this.Ak},function(t){var e=this.Ak;e!==t&&(r&&s.h(t,"number",Tl,"maximum"),0>t&&s.ua(t,">= 0",Tl,"maximum"),this.Ak=t,this.hb=this.Ya,null!==this.R&&this.R.K(),this.vd("maximum",e,t))}),s.defineProperty(Tl,{alignment:"alignment"},function(){return this.ue},function(t){var e=this.ue;e.O(t)||(r&&s.l(t,Ct,Tl,"alignment"),this.ue=t.V(),null!==this.R&&this.R.K(),this.vd("alignment",e,t))}),s.defineProperty(Tl,{stretch:"stretch"},function(){return this.Qg},function(t){var e=this.Qg;e!==t&&(r&&s.Da(t,fa,Tl,"stretch"),this.Qg=t,null!==this.R&&this.R.K(),this.vd("stretch",e,t))}),s.defineProperty(Tl,{aH:"separatorPadding"},function(){return this.Fk},function(t){"number"==typeof t?t=new Pt(t):null!==t&&r&&s.l(t,Pt,Tl,"separatorPadding");var e=this.Fk;null!==t&&null!==e&&e.O(t)||(null!==t&&(t=t.V()),this.Fk=t,null!==this.R&&this.R.K(),this.vd("separatorPadding",e,t))}),s.defineProperty(Tl,{Vq:"separatorStroke"},function(){return this.Dt},function(t){var e=this.Dt;e!==t&&(null===t||"string"==typeof t||t instanceof Is)&&(t instanceof Is&&t.freeze(),this.Dt=t,null!==this.R&&this.R.K(),this.vd("separatorStroke",e,t))}),s.defineProperty(Tl,{Wq:"separatorStrokeWidth"},function(){return this.Et},function(t){var e=this.Et;e!==t&&(this.Et=t,null!==this.R&&this.R.K(),this.vd("separatorStrokeWidth",e,t))}),s.defineProperty(Tl,{EM:"separatorDashArray"},function(){return this.qi},function(t){var e=this.qi;if(e!==t){if(null===t||Array.isArray(t)||s.kc(t,"Array",Tl,"separatorDashArray:value"),null!==t){for(var n=t.length,i=0,r=0;r<n;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||s.k("separatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}this.qi=t,null!==this.R&&this.R.ra(),this.vd("separatorDashArray",e,t)}}),s.defineProperty(Tl,{background:"background"},function(){return this.Mb},function(t){var e=this.Mb;e!==t&&(null===t||"string"==typeof t||t instanceof Is)&&(t instanceof Is&&t.freeze(),this.Mb=t,null!==this.R&&this.R.ra(),this.vd("background",e,t))}),s.defineProperty(Tl,{RA:"coversSeparators"},function(){return this.Er},function(t){var e=this.Er;e!==t&&(s.h(t,"boolean",Tl,"coversSeparators"),this.Er=t,null!==this.R&&this.R.ra(),this.vd("coversSeparators",e,t))}),s.defineProperty(Tl,{qv:"sizing"},function(){return this.It},function(t){var e=this.It;e!==t&&(r&&s.Da(t,Tl,Tl,"sizing"),this.It=t,null!==this.R&&this.R.K(),this.vd("sizing",e,t))}),s.defineProperty(Tl,{hb:"actual"},function(){return this.Ya},function(t){this.Ya=isNaN(this.vf)?Math.max(Math.min(this.Ak,t),this.Bk):Math.max(Math.min(this.Ak,this.vf),this.Bk)}),s.defineProperty(Tl,{total:"total"},function(){return this.Ya+this.jf()},function(t){this.Ya=isNaN(this.vf)?Math.max(Math.min(this.Ak,t),this.Bk):Math.max(Math.min(this.Ak,this.vf),this.Bk),this.Ya=Math.max(0,this.Ya-this.jf())}),s.defineProperty(Tl,{position:"position"},function(){return this.sb},function(t){this.sb=t}),Tl.prototype.bind=Tl.prototype.bind=function(t){t.Sg=this;var e=this.R;if(null!==e){var n=e.qm();null!==n&&dl(n)&&s.k("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+t+" on "+e)}null===this.Hc&&(this.Hc=new nt(Rn)),this.Hc.add(t)},s.Ta(Nl,fa),s.ka("Shape",Nl),Nl.prototype.cloneProtected=function(t){fa.prototype.cloneProtected.call(this,t),t.Za=this.Za,t.$o=this.$o,t.ds=this.ds,t.bg=this.bg,t.Ud=this.Ud,t.Bc=this.Bc,t.Rg=this.Rg,t.Op=this.Op,t.Qp=this.Qp,t.xn=this.xn,null!==this.Pp&&(t.Pp=s.km(this.Pp)),t.If=this.If,t.xi=this.xi.V(),t.yi=this.yi.V(),t.et=this.et,t.ft=this.ft,t.ns=this.ns,t.ht=this.ht,t.Vp=this.Vp,t.cp=this.cp,t.Fg=this.Fg,t.Eg=this.Eg,t.Dg=this.Dg},Nl.prototype.qc=function(t){t===Zs||t===ea||t===na||t===Xs?this.dB=t:fa.prototype.qc.call(this,t)},Nl.prototype.toString=function(){return"Shape("+("None"!==this.Kb?this.Kb:"None"!==this.ar?this.ar:this.bB)+")#"+s.Nd(this)},Nl.prototype.Wk=function(t,e){if(null!==this.Bc||null!==this.Ud){null!==this.Ud&&wa(this,t,this.Ud,!0,!1),null!==this.Bc&&wa(this,t,this.Bc,!1,!1);var n=this.Rg;0===n&&(o=this.Y)instanceof Lc&&o.type===Ya&&"Selection"===o.Kd&&o.Bb instanceof Nl&&o.gf.Ld()===o.Bb&&(n=o.Bb.mb),t.lineWidth=n,t.lineJoin=this.Qp,t.lineCap=this.Op,t.miterLimit=this.xn;var i=!1;this.Y&&e.Kj("drawShadows")&&(i=this.Y.dl);var r=!0;null!==this.Bc&&null===this.Ud&&(r=!1);var o=!1,a=!0,l=this.jH;if(null!==l&&(o=!0,a=t.YA(l,this.If)),null!==(p=this.Za)){if(p.da===Bt)t.beginPath(),o&&!a?da(t,p.Ac,p.Mc,p.Cb,p.Jb,l,this.If):(t.moveTo(p.Ac,p.Mc),t.lineTo(p.Cb,p.Jb)),null!==this.Ud&&t.Xg(this.Ud),0!==n&&null!==this.Bc&&t.Zj();else if(p.da===zt){var h=p.Ac,u=p.Mc,c=p.Cb,f=p.Jb,p=Math.min(h,c),d=Math.min(u,f);if(h=Math.abs(c-h),u=Math.abs(f-u),null!==this.Ud&&(t.beginPath(),t.rect(p,d,h,u),t.Xg(this.Ud)),null!==this.Bc){var y=c=0,v=0;r&&i&&(c=t.shadowOffsetX,y=t.shadowOffsetY,v=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),o&&!a?((a=s.nb()).push(p),a.push(d),a.push(p+h),a.push(d),a.push(p+h),a.push(d+u),a.push(p),a.push(d+u),a.push(p),a.push(d),t.beginPath(),Al(t,a,l,this.If),t.Zj(),s.ya(a)):0!==n&&(t.beginPath(),t.rect(p,d,h,u),t.Zj()),r&&i&&(t.shadowOffsetX=c,t.shadowOffsetY=y,t.shadowBlur=v)}}else if(p.da===qt)h=p.Ac,u=p.Mc,c=p.Cb,f=p.Jb,p=Math.abs(c-h)/2,d=Math.abs(f-u)/2,h=Math.min(h,c)+p,u=Math.min(u,f)+d,t.beginPath(),t.moveTo(h,u-d),t.bezierCurveTo(h+ne*p,u-d,h+p,u-ne*d,h+p,u),t.bezierCurveTo(h+p,u+ne*d,h+ne*p,u+d,h,u+d),t.bezierCurveTo(h-ne*p,u+d,h-p,u+ne*d,h-p,u),t.bezierCurveTo(h-p,u-ne*d,h-ne*p,u-d,h,u-d),t.closePath(),null!==this.Ud&&t.Xg(this.Ud),o&&!a&&(a=s.nb(),Ae(h,u-d,h+ne*p,u-d,h+p,u-ne*d,h+p,u,.5,a),Ae(h+p,u,h+p,u+ne*d,h+ne*p,u+d,h,u+d,.5,a),Ae(h,u+d,h-ne*p,u+d,h-p,u+ne*d,h-p,u,.5,a),Ae(h-p,u,h-p,u-ne*d,h-ne*p,u-d,h,u-d,.5,a),t.beginPath(),Al(t,a,l,this.If),s.ya(a)),0!==n&&null!==this.Bc&&(r&&i?(c=t.shadowOffsetX,y=t.shadowOffsetY,v=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0,t.Zj(),t.shadowOffsetX=c,t.shadowOffsetY=y,t.shadowBlur=v):t.Zj());else if(p.da===Gt){for(u=(d=p.jk).length,f=0;f<u;f++){h=d.o[f],t.beginPath(),t.moveTo(h.la,h.ja),y=(c=h.Eb.o).length;var g=null;for(v=0;v<y;v++){var m=c[v];switch(m.da){case Kt:t.moveTo(m.F,m.G);break;case Jt:t.lineTo(m.F,m.G);break;case Wt:t.bezierCurveTo(m.Vd,m.ff,m.Ch,m.Og,m.Cb,m.Jb);break;case Yt:t.quadraticCurveTo(m.Vd,m.ff,m.Cb,m.Jb);break;case Zt:if(m.radiusX===m.radiusY)g=Math.PI/180,t.arc(m.Vd,m.ff,m.radiusX,m.Me*g,(m.Me+m.Ef)*g,0>m.Ef);else{var b=(g=on(m,h)).length;if(0===b){t.lineTo(m.pa,m.va);break}for(var x=0;x<b;x++){var w=g[x];0===x&&t.lineTo(w[0],w[1]),t.bezierCurveTo(w[2],w[3],w[4],w[5],w[6],w[7])}}break;case Xt:if(x=b=0,null!==g&&g.type===Zt){if(0===(w=(g=on(g,h)).length)){t.lineTo(m.pa,m.va);break}null!==(g=g[w-1]||null)&&(b=g[6],x=g[7])}else b=null!==g?g.F:h.la,x=null!==g?g.G:h.ja;if(0===(b=(g=sn(m,h,b,x)).length)){t.lineTo(m.pa,m.va);break}for(x=0;x<b;x++)t.bezierCurveTo((w=g[x])[2],w[3],w[4],w[5],w[6],w[7]);break;default:s.k("Segment not of valid type: "+m.da)}m.hi&&t.closePath(),g=m}i?(v=y=c=0,h.mp?(!0===h.Xm&&null!==this.Ud?(t.Xg(this.Ud),r=!0):r=!1,0!==n&&null!==this.Bc&&(r&&(c=t.shadowOffsetX,y=t.shadowOffsetY,v=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),o&&!a||t.Zj(),r&&(t.shadowOffsetX=c,t.shadowOffsetY=y,t.shadowBlur=v))):(r&&(c=t.shadowOffsetX,y=t.shadowOffsetY,v=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),!0===h.Xm&&null!==this.Ud&&t.Xg(this.Ud),0!==n&&null!==this.Bc&&(o&&!a||t.Zj()),r&&(t.shadowOffsetX=c,t.shadowOffsetY=y,t.shadowBlur=v))):(!0===h.Xm&&null!==this.Ud&&t.Xg(this.Ud),0===n||null===this.Bc||o&&!a||t.Zj())}if(o&&!a)for(n=r,a=(r=p.jk).length,p=0;p<a;p++){for(d=r.o[p],t.beginPath(),(u=s.nb()).push(d.la),u.push(d.ja),c=f=d.la,y=h=d.ja,m=(v=d.Eb.o).length,g=0;g<m;g++){switch((b=v[g]).da){case Kt:Al(t,u,l,this.If),u.length=0,u.push(b.F),u.push(b.G),c=f=b.F,y=h=b.G;break;case Jt:u.push(b.F),u.push(b.G),f=b.F,h=b.G;break;case Wt:Ae(f,h,b.Vd,b.ff,b.Ch,b.Og,b.Cb,b.Jb,.5,u),f=b.F,h=b.G;break;case Yt:De(f,h,b.Vd,b.ff,b.Cb,b.Jb,.5,u),f=b.F,h=b.G;break;case Zt:if(0===(w=(x=on(b,d)).length)){u.push(b.pa),u.push(b.va),f=b.pa,h=b.va;break}for(var k=0;k<w;k++){var P=x[k];Ae(f,h,P[2],P[3],P[4],P[5],P[6],P[7],.5,u),f=P[6],h=P[7]}break;case Xt:if(0===(w=(x=sn(b,d,f,h)).length)){u.push(b.pa),u.push(b.va),f=b.pa,h=b.va;break}for(k=0;k<w;k++)Ae(f,h,(P=x[k])[2],P[3],P[4],P[5],P[6],P[7],.5,u),f=P[6],h=P[7];break;default:s.k("Segment not of valid type: "+b.da)}b.hi&&(u.push(c),u.push(y),Al(t,u,l,this.If))}Al(t,u,l,this.If),s.ya(u),null!==this.Bc&&(f=u=d=0,n&&i&&(d=t.shadowOffsetX,u=t.shadowOffsetY,f=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),t.Zj(),n&&i&&(t.shadowOffsetX=d,t.shadowOffsetY=u,t.shadowBlur=f))}}if(o&&t.TA(),null!==this.By){if(ma(o=this.By,1/0,1/0),o.rc(0,0,(l=o.Fa).width,l.height),n=this.wf,t.save(),t.beginPath(),l=s.nb(),n.type===Bt)l.push(n.la),l.push(n.ja),l.push(n.F),l.push(n.G),jl(t,e,l,o);else if(n.type===Gt)for(a=n.nc.j;a.next();){for(p=a.value,l.length=0,l.push(p.la),l.push(p.ja),u=r=p.la,f=d=p.ja,c=(h=p.Eb.o).length,y=0;y<c;y++){switch((v=h[y]).da){case Kt:jl(t,e,l,o),l.length=0,l.push(v.F),l.push(v.G),u=r=v.F,f=d=v.G;break;case Jt:l.push(v.F),l.push(v.G),r=v.F,d=v.G;break;case Wt:Ae(r,d,v.Vd,v.ff,v.Ch,v.Og,v.Cb,v.Jb,.5,l),r=v.F,d=v.G;break;case Yt:De(r,d,v.Vd,v.ff,v.Cb,v.Jb,.5,l),r=v.F,d=v.G;break;case Zt:if(0===(i=(n=on(v,p)).length)){l.push(v.pa),l.push(v.va),r=v.pa,d=v.va;break}for(m=0;m<i;m++)Ae(r,d,(g=n[m])[2],g[3],g[4],g[5],g[6],g[7],.5,l),r=g[6],d=g[7];break;case Xt:if(0===(i=(n=sn(v,p,r,d)).length)){l.push(v.pa),l.push(v.va),r=v.pa,d=v.va;break}for(m=0;m<i;m++)Ae(r,d,(g=n[m])[2],g[3],g[4],g[5],g[6],g[7],.5,l),r=g[6],d=g[7];break;default:s.k("Segment not of valid type: "+v.da)}v.hi&&(l.push(u),l.push(f),jl(t,e,l,o))}jl(t,e,l,o)}else if(n.type===zt)l.push(n.la),l.push(n.ja),l.push(n.F),l.push(n.ja),l.push(n.F),l.push(n.G),l.push(n.la),l.push(n.G),l.push(n.la),l.push(n.ja),jl(t,e,l,o);else if(n.type===qt){if((a=new nn).la=n.F,a.ja=(n.ja+n.G)/2,(r=new rn(Zt)).Me=0,r.Ef=360,r.pa=(n.la+n.F)/2,r.va=(n.ja+n.G)/2,r.radiusX=Math.abs(n.la-n.F)/2,r.radiusY=Math.abs(n.ja-n.G)/2,a.add(r),0===(i=(n=on(r,a)).length))l.push(r.pa),l.push(r.va);else for(r=a.la,d=a.ja,m=0;m<i;m++)Ae(r,d,(g=n[m])[2],g[3],g[4],g[5],g[6],g[7],.5,l),r=g[6],d=g[7];jl(t,e,l,o)}s.ya(l),t.restore(),t.De(!1)}}}},Nl.prototype.getDocumentPoint=Nl.prototype.fb=function(t,e){if(void 0===e&&(e=new ft),t instanceof Ct){t.de()&&s.k("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var n=this.Ga,i=this.mb;e.n(t.x*(n.width+i)-i/2+n.x+t.offsetX,t.y*(n.height+i)-i/2+n.y+t.offsetY)}else e.set(t);return this.Hh.vb(e),e},Nl.prototype.Rk=function(t,e){if(null===(h=this.wf)||null===this.fill&&null===this.stroke)return!1;var n=h.ib,i=this.mb/2;h.type!==Bt||e||(i+=2);var r=s.Sf();if(r.assign(n),r.ig(i+2,i+2),!r.Pa(t))return s.Lb(r),!1;if(n=i+1e-4,h.type===Bt)return null!==this.stroke&&(n=(h.F-h.la)*(t.x-h.la)+(h.G-h.ja)*(t.y-h.ja),!(0>(h.la-h.F)*(t.x-h.F)+(h.ja-h.G)*(t.y-h.G)||0>n)&&(s.Lb(r),Me(h.la,h.ja,h.F,h.G,i,t.x,t.y)));if(h.type===zt){var o=h.la,a=h.ja,l=h.F,h=h.G;if(r.x=Math.min(o,l),r.y=Math.min(a,h),r.width=Math.abs(l-o),r.height=Math.abs(h-a),null===this.fill){if(r.ig(-n,-n),r.Pa(t))return s.Lb(r),!1;r.ig(n,n)}return null!==this.stroke&&r.ig(i,i),n=r.Pa(t),s.Lb(r),n}if(h.type===qt){o=h.la,a=h.ja,l=h.F,h=h.G,i=Math.min(o,l);var u=Math.min(a,h);if(o=Math.abs(l-o)/2,a=Math.abs(h-a)/2,i=t.x-(i+o),u=t.y-(u+a),null===this.fill){if(a-=n,0>=(o-=n)||0>=a||1>=i*i/(o*o)+u*u/(a*a))return s.Lb(r),!1;o+=n,a+=n}return null!==this.stroke&&(o+=n,a+=n),s.Lb(r),!(0>=o||0>=a)&&1>=i*i/(o*o)+u*u/(a*a)}return h.type===Gt?(s.Lb(r),null===this.fill?$e(h,t.x,t.y,i):h.Pa(t,i,1<this.mb,e)):(s.k("Unknown Geometry type: "+h.type),!1)},Nl.prototype.ho=function(t,e,n,i){var o,a=this.Ea,l=this.Rg;t=Math.max(t,0),e=Math.max(e,0),null!==this.bg?o=this.wf.ib:(void 0===(u=we[h=this.Kb])&&("string"==typeof(c=Mh[h])&&(c=Mh[c]),"function"==typeof c?(u=c(null,100,100),we[h]=u):s.k("Unsupported Figure: "+h)),o=u.ib);var h=o.width,u=o.height,c=o.width,f=o.height;switch(Ca(this,!0)){case Zs:i=n=0;break;case ta:c=Math.max(t-l,0),f=Math.max(e-l,0);break;case $s:c=Math.max(t-l,0),i=0;break;case Qs:n=0,f=Math.max(e-l,0)}switch(isFinite(a.width)&&(c=a.width),isFinite(a.height)&&(f=a.height),a=this.qf,o=this.ah,n=Math.max(n,o.width)-l,i=Math.max(i,o.height)-l,c=Math.min(a.width,c),f=Math.min(a.height,f),c=isFinite(c)?Math.max(n,c):Math.max(h,n),f=isFinite(f)?Math.max(i,f):Math.max(u,i),n=Ol(this)){case Zs:break;case ta:h=c,u=f;break;case ea:n=Math.min(c/h,f/u),isFinite(n)||(n=1),h*=n,u*=n;break;default:s.k(n+" is not a valid geometryStretch.")}null!==this.bg?(a=h=Math.max(h,.01),i=u=Math.max(u,.01),n=(o=null!==this.bg?this.bg:this.Za).copy(),a/=(o=o.ib).width,i/=o.height,isFinite(a)||(a=1),isFinite(i)||(i=1),1===a&&1===i||n.scale(a,i),r&&n.freeze(),this.Za=n):null!==this.Za&&Te(this.Za.lp,t-l)&&Te(this.Za.jp,e-l)||(this.Za=Nl.makeGeometry(this,h,u)),o=this.Za.ib,1/0===t||1/0===e?va(this,o.x-l/2,o.y-l/2,0===t&&0===h?0:o.width+l,0===e&&0===u?0:o.height+l):va(this,-l/2,-l/2,c+l,f+l)},Nl.prototype.Cj=function(t,e,n,i){ba(this,t,e,n,i)},Nl.prototype.getNearestIntersectionPoint=Nl.prototype.QF=function(t,e,n){return this.Tn(t.x,t.y,e.x,e.y,n)},Nl.prototype.Tn=function(t,e,n,i,r){var o,a=-(u=this.transform).m12*(c=1/(u.m11*u.m22-u.m12*u.m21)),l=u.m11*c,h=c*(u.m12*u.dx-u.m11*u.dy),u=t*(f=u.m22*c)+e*(p=-u.m21*c)+(o=c*(u.m21*u.dy-u.m22*u.dx)),c=t*a+e*l+h,f=n*f+i*p+o,p=(a=n*a+i*l+h,this.mb/2);if(null===(o=this.Za)&&(ma(this,1/0,1/0),o=this.Za),h=o.ib,l=!1,o.type===Bt)if(1.5>=this.mb)l=Re(o.Ac,o.Mc,o.Cb,o.Jb,u,c,f,a,r);else{var d=0,y=0;if(o.Ac===o.Cb?(d=p,y=0):(e=(o.Jb-o.Mc)/(o.Cb-o.Ac),d=(y=p/Math.sqrt(1+e*e))*e),i=s.nb(),e=new ft,Re(o.Ac+d,o.Mc+y,o.Cb+d,o.Jb+y,u,c,f,a,e)&&i.push(e),e=new ft,Re(o.Ac-d,o.Mc-y,o.Cb-d,o.Jb-y,u,c,f,a,e)&&i.push(e),e=new ft,Re(o.Ac+d,o.Mc+y,o.Ac-d,o.Mc-y,u,c,f,a,e)&&i.push(e),e=new ft,Re(o.Cb+d,o.Jb+y,o.Cb-d,o.Jb-y,u,c,f,a,e)&&i.push(e),0===(e=i.length))return s.ya(i),!1;for(l=!0,y=1/0,d=0;d<e;d++)(T=((f=i[d]).x-u)*(f.x-u)+(f.y-c)*(f.y-c))<y&&(y=T,r.x=f.x,r.y=f.y);s.ya(i)}else if(o.type===zt)l=Ve(e=h.x-p,h.y-p,h.x+h.width+p,h.y+h.height+p,u,c,f,a,r);else if(o.type===qt)t:if(e=h.copy().ig(p,p),0===e.width)l=Re(e.x,e.y,e.x,e.y+e.height,u,c,f,a,r);else if(0===e.height)l=Re(e.x,e.y,e.x+e.width,e.y,u,c,f,a,r);else{var v=e.height/2;if(i=e.x+(t=e.width/2),e=e.y+v,n=9999,u!==f&&(n=(c-a)/(u-f)),9999>Math.abs(n)){if(0>t*t*n*n+v*v-(l=c-e-n*(u-i))*l){r.x=NaN,r.y=NaN,l=!1;break t}a=n*((f=(-t*t*n*l+t*v*(p=Math.sqrt(t*t*n*n+v*v-l*l)))/(v*v+t*t*n*n)+i)-i)+l+e,e=n*((t=(-t*t*n*l-t*v*p)/(v*v+t*t*n*n)+i)-i)+l+e,(i=Math.abs((u-f)*(u-f))+Math.abs((c-a)*(c-a)))<(c=Math.abs((u-t)*(u-t))+Math.abs((c-e)*(c-e)))?(r.x=f,r.y=a):(r.x=t,r.y=e)}else{if(f=v*v,0>(f-=f/(t*t)*(a=u-i)*a)){r.x=NaN,r.y=NaN,l=!1;break t}a=e+(p=Math.sqrt(f)),e-=p,(i=Math.abs(a-c))<(c=Math.abs(e-c))?(r.x=u,r.y=a):(r.x=u,r.y=e)}l=!0}else if(o.type===Gt){var g=0,m=0,b=T=0;for(h=s.P(),y=(d=f-u)*d+(y=a-c)*y,r.x=f,r.y=a,d=0;d<o.nc.count;d++)for(var x=o.nc.o[d],w=x.Eb,k=g=x.la,P=m=x.ja,S=0;S<w.count;S++){var C=w.o[S],T=C.F,M=(b=C.G,!1);switch(N=C.type){case Kt:k=T,P=b;break;case Jt:M=Dl(g,m,T,b,u,c,f,a,h);break;case Wt:var N,j=C.Uh,A=C.Vh;M=Le(g,m,M=C.Ec,N=C.$c,j,A,T,b,u,c,f,a,.5,h);break;case Yt:M=Le(g,m,M=(g+2*C.Ec)/3,N=(m+2*C.$c)/3,j=(2*C.Ec+T)/3,A=(2*C.Ec+T)/3,T,b,u,c,f,a,.5,h);break;case Zt:case Xt:if(0===(j=(N=C.type===Zt?on(C,x):sn(C,x,g,m)).length)){M=Dl(g,m,C.pa,C.va,u,c,f,a,h);break}for(b=0;b<j;b++)v=N[b],0===b&&Dl(g,m,v[0],v[1],u,c,f,a,h)&&(T=El(u,c,h,y,r))<y&&(y=T,l=!0),Le(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],u,c,f,a,.5,h)&&(T=El(u,c,h,y,r))<y&&(y=T,l=!0);T=v[6],b=v[7];break;default:s.k("Unknown Segment type: "+N)}g=T,m=b,M&&(T=El(u,c,h,y,r))<y&&(y=T,l=!0),C.ey&&Dl(g,m,T=k,b=P,u,c,f,a,h)&&(T=El(u,c,h,y,r))<y&&(y=T,l=!0)}u=n-t,c=i-e,0!==(e=Math.sqrt(u*u+c*c))&&(u/=e,c/=e),r.x-=u*p,r.y-=c*p,s.A(h)}else s.k("Unknown Geometry type: "+o.type);return!!l&&(this.transform.vb(r),!0)},Nl.prototype.containedInRect=Nl.prototype.In=function(t,e){if(void 0===e)return t.Sk(this.aa);null===(n=this.Za)&&(ma(this,1/0,1/0),n=this.Za);var n=n.ib,i=this.mb/2,r=!1,o=s.P();return o.n(n.x-i,n.y-i),t.Pa(e.vb(o))&&(o.n(n.x-i,n.bottom+i),t.Pa(e.vb(o))&&(o.n(n.right+i,n.bottom+i),t.Pa(e.vb(o))&&(o.n(n.right+i,n.y-i),t.Pa(e.vb(o))&&(r=!0)))),s.A(o),r},Nl.prototype.intersectsRect=Nl.prototype.jg=function(t,e){if(this.In(t,e)||void 0===e&&(e=this.transform,t.Sk(this.aa)))return!0;var n=s.hh();n.set(e),n.pB();var i=t.left,r=t.right,o=t.top,a=t.bottom,l=s.P();if(l.n(i,o),n.vb(l),this.Rk(l,!0))return s.A(l),!0;if(l.n(r,o),n.vb(l),this.Rk(l,!0))return s.A(l),!0;if(l.n(i,a),n.vb(l),this.Rk(l,!0))return s.A(l),!0;if(l.n(r,a),n.vb(l),this.Rk(l,!0))return s.A(l),!0;var h=s.P(),u=s.P();n.set(e),n.GB(this.transform),n.pB(),h.x=r,h.y=o,h.transform(n),l.x=i,l.y=o,l.transform(n);var c=!1;return Ll(this,l,h,u)?c=!0:(l.x=r,l.y=a,l.transform(n),Ll(this,l,h,u)?c=!0:(h.x=i,h.y=a,h.transform(n),Ll(this,l,h,u)?c=!0:(l.x=i,l.y=o,l.transform(n),Ll(this,l,h,u)&&(c=!0)))),s.A(l),s.mf(n),s.A(h),s.A(u),c},Nl.prototype.JF=function(t,e,n){function i(t,e){for(var n=t.length,i=0;i<n;i+=2)if(e.mq(t[i],t[i+1])>r)return!0;return!1}if(n&&null!==this.fill&&this.Rk(t,!0))return!0;var r=t.Kf(e);if(e=r,1.5<this.mb&&(r=this.mb/2+Math.sqrt(r),r*=r),null===(u=this.Za)&&(ma(this,1/0,1/0),null===(u=this.Za)))return!1;if(!n){var o=(h=u.ib).x,a=h.y,l=h.x+h.width,h=h.y+h.height;if(p(t.x,t.y,o,a)<=r&&p(t.x,t.y,l,a)<=r&&p(t.x,t.y,o,h)<=r&&p(t.x,t.y,l,h)<=r)return!0}if(o=u.Ac,a=u.Mc,l=u.Cb,h=u.Jb,u.type===Bt){if(n=f(t.x,t.y,o,a,l,h),u=(o-l)*(t.x-l)+(a-h)*(t.y-h),n<=(0<=(l-o)*(t.x-o)+(h-a)*(t.y-a)&&0<=u?r:e))return!0}else{if(u.type===zt)return e=!1,n&&(e=f(t.x,t.y,o,a,o,h)<=r||f(t.x,t.y,o,a,l,a)<=r||f(t.x,t.y,l,a,l,h)<=r||f(t.x,t.y,o,h,l,h)<=r),e;if(u.type===qt){e=t.x-(o+l)/2;var u=t.y-(a+h)/2,c=Math.abs(l-o)/2,d=Math.abs(h-a)/2;if(0===c||0===d)return(n=f(t.x,t.y,o,a,l,h))<=r;if(!n)return!(p(e,u,-c,0)>=r||p(e,u,0,-d)>=r||p(e,u,0,d)>=r||p(e,u,c,0)>=r);if((t=function(t,e,n,i){var r=0>n,o=0>i,s=0,a=s=0;t<e?(s=1,a=0):(s=0,a=1);var l=0,h=0,u=0,c=0;if(l=0===s?t:e,u=0===s?n:i,(0===s?r:o)&&(u=-u),h=0===(s=a)?t:e,c=0===s?n:i,(0===s?r:o)&&(c=-c),t=t=0,0<c)if(0<u){for(e=l*l,l*=u,i=-(t=h*h)+(n=h*c),r=-t+Math.sqrt(l*l+n*n),h=i,o=0;9999999999>o&&(h=.5*(i+r))!==i&&h!==r;++o)if(0<(a=(a=l/(h+e))*a+(s=n/(h+t))*s-1))i=h;else{if(!(0>a))break;r=h}u=e*u/(h+e)-u,c=t*c/(h+t)-c,t=Math.sqrt(u*u+c*c)}else t=Math.abs(c-h);else(t=l*u)<(c=l*l-h*h)?(c=t/c,t=h*Math.sqrt(Math.abs(1-c*c)),u=l*c-u,t=Math.sqrt(u*u+t*t)):t=Math.abs(u-l);return t}(c,d,e,u))*t<=r)return!0}else if(u.type===Gt){if(o=(h=u.ib).x,a=h.y,l=h.x+h.width,h=h.y+h.height,t.x>l&&t.x<o&&t.y>h&&t.y<a&&f(t.x,t.y,o,a,o,h)>r&&f(t.x,t.y,o,a,l,a)>r&&f(t.x,t.y,l,h,o,h)>r&&f(t.x,t.y,l,h,l,a)>r)return!1;if(e=Math.sqrt(r),!n){for(n=u.nc,e=0;e<n.count;e++){if(t.mq(c=(o=n.o[e]).la,d=o.ja)>r)return!1;for(l=(a=o.Eb.o).length,h=0;h<l;h++){var y=a[h];switch(y.type){case Kt:case Jt:if(t.mq(c=y.F,d=y.G)>r)return!1;break;case Wt:if(u=s.nb(),Ae(c,d,y.Ec,y.$c,y.Uh,y.Vh,y.F,y.G,.8,u),c=i(u,t),s.ya(u),c)return!1;if(t.mq(c=y.F,d=y.G)>r)return!1;break;case Yt:if(u=s.nb(),De(c,d,y.Ec,y.$c,y.F,y.G,.8,u),c=i(u,t),s.ya(u),c)return!1;if(t.mq(c=y.F,d=y.G)>r)return!1;break;case Zt:case Xt:var v=y.type===Zt?on(y,o):sn(y,o,c,d),g=v.length;if(0===g){if(t.mq(c=y.pa,d=y.va)>r)return!1;break}for(y=null,u=s.nb(),e=0;e<g;e++)if(y=v[e],u.length=0,Ae(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],.8,u),i(u,t))return s.ya(u),!1;s.ya(u),null!==y&&(c=y[6],d=y[7]);break;default:s.k("Unknown Segment type: "+y.type)}}}return!0}if(null===this.fill?$e(u,t.x,t.y,e):u.Pa(t,e,!0))return!0}}return!1},s.defineProperty(Nl,{wf:"geometry"},function(){return null!==this.Za?this.Za:this.bg},function(t){var e=this.Za;if(e!==t){null!==t?(r&&s.l(t,We,Nl,"geometry"),this.bg=this.Za=t.freeze()):this.bg=this.Za=null;var n=this.Y;null!==n&&(n.zk=NaN),this.K(),this.i("geometry",e,t),ja(this)&&null!==(t=this.Y)&&ya(this,t,"geometryString")}}),s.defineProperty(Nl,{SI:"geometryString"},function(){return null===this.wf?"":this.wf.toString()},function(t){var e=(t=Ut(t)).normalize();this.wf=t,this.position=t=s.Fb(-e.x,-e.y),s.A(t)}),s.defineProperty(Nl,{hG:"isGeometryPositioned"},function(){return this.ns},function(t){r&&s.h(t,"boolean",Nl,"isGeometryPositioned");var e=this.ns;e!==t&&(this.ns=t,this.K(),this.i("isGeometryPositioned",e,t))}),Nl.prototype.Te=function(){this.Za=null},s.defineProperty(Nl,{fill:"fill"},function(){return this.Ud},function(t){var e=this.Ud;e!==t&&(r&&null!==t&&s.hu(t,"Shape.fill"),t instanceof Is&&t.freeze(),this.Ud=t,this.ra(),this.i("fill",e,t))}),s.defineProperty(Nl,{stroke:"stroke"},function(){return this.Bc},function(t){var e=this.Bc;e!==t&&(r&&null!==t&&s.hu(t,"Shape.stroke"),t instanceof Is&&t.freeze(),this.Bc=t,this.ra(),this.i("stroke",e,t))}),s.defineProperty(Nl,{mb:"strokeWidth"},function(){return this.Rg},function(t){var e=this.Rg;if(e!==t)if(r&&s.p(t,Nl,"strokeWidth"),0<=t){this.Rg=t,this.K();var n=this.Y;null!==n&&(n.zk=NaN),this.i("strokeWidth",e,t)}else s.ua(t,"value >= 0",Nl,"strokeWidth:value")}),s.defineProperty(Nl,{JM:"strokeCap"},function(){return this.Op},function(t){var e=this.Op;e!==t&&("string"!=typeof t||"butt"!==t&&"round"!==t&&"square"!==t?s.ua(t,'"butt", "round", or "square"',Nl,"strokeCap"):(this.Op=t,this.ra(),this.i("strokeCap",e,t)))}),s.defineProperty(Nl,{LM:"strokeJoin"},function(){return this.Qp},function(t){var e=this.Qp;e!==t&&("string"!=typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?s.ua(t,'"miter", "bevel", or "round"',Nl,"strokeJoin"):(this.Qp=t,this.ra(),this.i("strokeJoin",e,t)))}),s.defineProperty(Nl,{MM:"strokeMiterLimit"},function(){return this.xn},function(t){var e=this.xn;if(e!==t)if(r&&s.p(t,Nl,"strokeMiterLimit"),1<=t){this.xn=t,this.ra();var n=this.Y;null!==n&&(n.zk=NaN),this.i("strokeMiterLimit",e,t)}else s.ua(t,"value >= 1",Nl,"strokeWidth:value")}),s.defineProperty(Nl,{jH:"strokeDashArray"},function(){return this.Pp},function(t){var e=this.Pp;if(e!==t){if(null===t||Array.isArray(t)||s.kc(t,"Array",Nl,"strokeDashArray:value"),null!==t){for(var n=t.length,i=0,r=0;r<n;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||s.k("strokeDashArray:value "+o+" at index "+r+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}this.Pp=t,this.ra(),this.i("strokeDashArray",e,t)}}),s.defineProperty(Nl,{KM:"strokeDashOffset"},function(){return this.If},function(t){var e=this.If;e!==t&&(r&&s.p(t,Nl,"strokeDashOffset"),0<=t&&(this.If=t,this.ra(),this.i("strokeDashOffset",e,t)))}),s.defineProperty(Nl,{Kb:"figure"},function(){return this.$o},function(t){var e=this.$o;if(e!==t){r&&s.h(t,"string",Nl,"figure");var n=Mh[t];"function"==typeof n?n=t:(n=Mh[t.toLowerCase()])||s.k("Unknown Shape.figure: "+t),e!==n&&(null!==(t=this.Y)&&(t.zk=NaN),this.$o=n,this.bg=null,this.Te(),this.K(),this.i("figure",e,n))}}),s.defineProperty(Nl,{ar:"toArrow"},function(){return this.Vp},function(t){var e=this.Vp;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){r&&s.h(t,"string",Nl,"toArrow");var n=Eh(t);null===n?s.k("Unknown Shape.toArrow: "+t):e!==n&&(this.Vp=n,this.bg=null,this.Te(),this.K(),Fl(this),this.i("toArrow",e,n))}}),s.defineProperty(Nl,{bB:"fromArrow"},function(){return this.cp},function(t){var e=this.cp;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){r&&s.h(t,"string",Nl,"fromArrow");var n=Eh(t);null===n?s.k("Unknown Shape.fromArrow: "+t):e!==n&&(this.cp=n,this.bg=null,this.Te(),this.K(),Fl(this),this.i("fromArrow",e,n))}}),s.defineProperty(Nl,{C:"spot1"},function(){return this.xi},function(t){s.l(t,Ct,Nl,"spot1");var e=this.xi;e.O(t)||(this.xi=t=t.V(),this.K(),this.i("spot1",e,t))}),s.defineProperty(Nl,{D:"spot2"},function(){return this.yi},function(t){s.l(t,Ct,Nl,"spot2");var e=this.yi;e.O(t)||(this.yi=t=t.V(),this.K(),this.i("spot2",e,t))}),s.defineProperty(Nl,{Sc:"parameter1"},function(){return this.et},function(t){var e=this.et;e!==t&&(this.et=t,this.Te(),this.K(),this.i("parameter1",e,t))}),s.defineProperty(Nl,{ev:"parameter2"},function(){return this.ft},function(t){var e=this.ft;e!==t&&(this.ft=t,this.Te(),this.K(),this.i("parameter2",e,t))}),s.w(Nl,{Ga:"naturalBounds"},function(){if(null!==this.Za)return this.fd.assign(this.Za.ib),this.fd;var t=this.Ea;return new vt(0,0,t.width,t.height)}),s.defineProperty(Nl,{By:"pathPattern"},function(){return this.ht},function(t){var e=this.ht;e!==t&&(r&&s.l(t,fa,Nl,"pathPattern"),this.ht=t,this.ra(),this.i("pathPattern",e,t))}),s.defineProperty(Nl,{yM:"pathObject"},function(){return this.By},function(t){this.By=t}),s.defineProperty(Nl,{dB:"geometryStretch"},function(){return this.ds},function(t){var e=this.ds;e!==t&&(s.Da(t,fa,Nl,"geometryStretch"),this.ds=t,this.i("geometryStretch",e,t))}),s.defineProperty(Nl,{interval:"interval"},function(){return this.Fg},function(t){var e=this.Fg;if(r&&s.p(t,Nl,"interval"),e!==(t=Math.floor(t))&&0<=t){this.Fg=t;var n=this.g;null!==n&&this.R===n.Vn&&Ro(n),this.K(),null!==(n=this.R)&&n.type===Xa&&(n.pk=null),this.i("interval",e,t)}}),s.defineProperty(Nl,{UF:"graduatedStart"},function(){return this.Eg},function(t){var e=this.Eg;r&&s.p(t,Nl,"graduatedStart"),e!==t&&(0>t?t=0:1<t&&(t=1),this.Eg=t,this.K(),this.i("graduatedStart",e,t))}),s.defineProperty(Nl,{SF:"graduatedEnd"},function(){return this.Dg},function(t){var e=this.Dg;r&&s.p(t,Nl,"graduatedEnd"),e!==t&&(0>t?t=0:1<t&&(t=1),this.Dg=t,this.K(),this.i("graduatedEnd",e,t))}),Nl.makeGeometry=function(t,e,n){var i=null;if("None"!==t.ar)i=ke[t.ar];else if("None"!==t.bB)i=ke[t.bB];else{var r=Mh[t.Kb];"string"==typeof r&&(r=Mh[r]),void 0===r&&s.k("Unknown Shape.figure: "+t.Kb),(i=r(t,e,n)).lp=e,i.jp=n}return null===i&&"function"==typeof(r=Mh.Rectangle)&&(i=r(t,e,n)),i},Nl.getFigureGenerators=function(){var t,e=new ut("string","function");for(t in Mh)if(t!==t.toLowerCase()){var n=Mh[t];"function"==typeof n&&e.add(t,n)}return e.freeze(),e},Nl.defineFigureGenerator=function(t,e){s.h(t,"string",Nl,"defineFigureGenerator:name"),"string"==typeof e?""!==e&&Mh[e]||s.k("Shape.defineFigureGenerator synonym must not be empty or None or not a defined figure name: "+e):s.h(e,"function",Nl,"defineFigureGenerator:func");var n=t.toLowerCase();""!==t&&"none"!==n&&t!==n||s.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+t),Mh[t]=e,Mh[n]=t},Nl.getArrowheadGeometries=function(){var t,e=new ut("string",We);for(t in Oh)if(void 0===ke[t]){var n=Ut(Oh[t],!1);ke[t]=n,(n=t.toLowerCase())!==t&&(ke[n]=t)}for(t in ke)t!==t.toLowerCase()&&(n=ke[t])instanceof We&&e.add(t,n);return e.freeze(),e},Nl.defineArrowheadGeometry=function(t,e){s.h(t,"string",Nl,"defineArrowheadGeometry:name");var n=null;"string"==typeof e?(s.h(e,"string",Nl,"defineArrowheadGeometry:pathstr"),n=Ut(e,!1)):(s.l(e,We,Nl,"defineArrowheadGeometry:pathstr"),n=e);var i=t.toLowerCase();""!==t&&"none"!==i&&t!==i||s.k("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t),ke[t]=n,ke[i]=t},s.Ta(Il,fa),s.ka("TextBlock",Il);var Rl=/[ \u200b\u00ad]/;Il.prototype.cloneProtected=function(t){fa.prototype.cloneProtected.call(this,t),t.Yd=this.Yd,t.Bc=this.Bc,t.Bg=this.Bg,t.Yl=this.Yl,t.Ag=this.Ag,t.bm=this.bm,t.Ym=this.Ym,t.vk=this.vk,t.tk=this.tk,t.pj=this.pj,t.Aj=this.Aj,t.xe=this.xe,t.Cw=this.Cw,t.cA=this.cA,t.bA=this.bA,t.tf.gq(this.tf),t.Xr=this.Xr,t.Rt=this.Rt,t.Zl=this.Zl,t.Qt=this.Qt,t.ur=this.ur,t.bf=this.bf,t.vi=this.vi,t.wi=this.wi,t.wh=this.wh,t.rp=this.rp,t.Fg=this.Fg,t.Eg=this.Eg,t.Dg=this.Dg,t.Um=this.Um},Il.prototype.qc=function(t){t.Qe===Il?this.yH=t:fa.prototype.qc.call(this,t)},Il.prototype.toString=function(){return 22<this.Yd.length?'TextBlock("'+this.Yd.substring(0,20)+'"...)':'TextBlock("'+this.Yd+'")'};var Vl,Bl,zl,ql,Gl,Hl,Ul,Kl=new h,Jl=0,Wl=new h,Yl=0,Zl="...",Xl="",Ql=new Rt(null).Tk;function $l(t,e,n,i){e=e.replace(/^\s+|\s+$/g,"");var r=0,o=0,s=0,a=t.Bg,l=(o=t.vi+t.wi,Math.max(0,nh(t)+o));if(s=t.pj===Hl?ih(a):0,t.xe>=t.wh)return new yt(0,l);if(t.Aj===Vl){if(n.zj=1,o=eh(e,a),0===s||o<=i)return n.Pe=Math.max(n.Pe,o),n.Gf.push(n.Pe),n.Ze.push(e),new yt(o,l);var h=th(t,e),u=th(t,e=e.substr(h.length));for(o=eh(h+u,a);0<u.length&&o<=i;)o=eh(((h+=u)+(u=th(t,e=e.substr(u.length)))).replace(/^\s+|\s+$/g,""),a);for(h+=u.replace(/^\s+|\s+$/g,""),i=Math.max(1,i-s);eh(h,a)>i&&1<h.length;)h=h.substr(0,h.length-1);return s=eh(h+=Zl,a),n.Gf.push(s),n.Pe=s,n.Ze.push(h),new yt(s,l)}var c=0;for(0===e.length&&(c=1,n.Gf.push(0),n.Ze.push(e));0<e.length;){for(h=th(t,e),e=e.substr(h.length);eh(h,a)>i;){for(o=eh(h.substr(0,u=1),a),s=0;o<=i;)s=o,o=eh(h.substr(0,++u),a);if(1===u?(n.Gf[t.xe+c]=o,r=Math.max(r,o)):(n.Gf[t.xe+c]=s,r=Math.max(r,s)),1>--u&&(u=1),n.Ze[t.xe+c]=h.substr(0,u),c++,h=h.substr(u),t.xe+c>t.wh)break}for(o=eh(h+(u=th(t,e)),a);0<u.length&&o<=i;)o=eh(((h+=u)+(u=th(t,e=e.substr(u.length)))).replace(/^\s+|\s+$/g,""),a);if(""!==(h=h.replace(/^\s+|\s+$/g,""))&&("\xad"===h[h.length-1]&&(h=h.substring(0,h.length-1)+"\u2010"),0===u.length?(n.Gf.push(o),r=Math.max(r,o)):(s=eh(h,a),n.Gf.push(s),r=Math.max(r,s)),n.Ze.push(h),t.xe+ ++c>t.wh))break}return n.zj=Math.min(t.wh,c),n.Pe=Math.max(n.Pe,r),new yt(n.Pe,l*n.zj)}function th(t,e){if(t.Aj===ql)return e.substr(0,1);for(var n=e.length,i=0;i<n&&!Rl.test(e.charAt(i));)i++;for(;i<n&&Rl.test(e.charAt(i));)i++;return i>=n?e:e.substr(0,i)}function eh(t,e){return Xl!==e&&(Xl=Ql.font=e),Ql.measureText(t).width}function nh(t){if(null!==t.tf.kk)return t.tf.kk;var e=t.Bg;Xl!==e&&(Xl=Ql.font=e);var n=0;return void 0!==Kl[e]&&5e3>Jl?n=Kl[e]:(n=1.3*Ql.measureText("M").width,Kl[e]=n,Jl++),t.tf.kk=n}function ih(t){Xl!==t&&(Xl=Ql.font=t);var e=0;return void 0!==Wl[t]&&5e3>Yl?e=Wl[t]:(e=Ql.measureText(Zl).width,Wl[t]=e,Yl++),e}function rh(t,e,n){var i=t.Yd.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),r=t.vi+t.wi;if(r=Math.max(0,nh(t)+r),0===i.length)return n.Pe=0,t.xe=1,r;t.ky||0<=(o=i.indexOf("\n",0))&&(i=i.substr(0,o));for(var o=0,s=t.xe=0,a=-1,l=!1;!l;)-1===(a=i.indexOf("\n",s))&&(a=i.length,l=!0),s<=a&&(s=i.substr(s,a-s),t.Aj!==Vl?(n.zj=0,o+=(s=$l(t,s,n,e)).height,t.xe+=n.zj):($l(t,s,n,e),o+=r,t.xe++),t.xe===t.wh&&(l=!0)),s=a+1;return t.Cw=o}function oh(){this.Pe=this.zj=0,this.Gf=[],this.Ze=[],this.kk=null}function sh(){fa.call(this),this.af=null,this.Kt="",this.Gk=me,this.gp=ta,this.zi=this.bf=null,this.fp=P,this.Ag=Zs,this.Rp=null,this.Xz=!1,this.ap=!0,this.Aw=!1,this.Jp=null}Il.getEllipsis=function(){return Zl},Il.setEllipsis=function(t){Zl=t,Wl=new h,Yl=0},Il.None=Vl=s.s(Il,"None",0),Il.WrapFit=Bl=s.s(Il,"WrapFit",1),Il.WrapDesiredSize=zl=s.s(Il,"WrapDesiredSize",2),Il.WrapBreakAll=ql=s.s(Il,"WrapBreakAll",3),Il.OverflowClip=Gl=s.s(Il,"OverflowClip",0),Il.OverflowEllipsis=Hl=s.s(Il,"OverflowEllipsis",1),Il.prototype.K=function(){fa.prototype.K.call(this),this.bA=this.cA=null},s.defineProperty(Il,{font:"font"},function(){return this.Bg},function(t){var e=this.Bg;e!==t&&(r&&(s.h(t,"string",Il,"font"),Ul(t)||s.k('Not a valid font: "'+t+'"')),this.Bg=t,this.tf.kk=null,this.K(),this.i("font",e,t))}),Il.isValidFont=Ul=function(t){var e,n=Ql.font;if(t===n||"10px sans-serif"===t)return!0;Ql.font="10px sans-serif",Ql.font=t;var i=Ql.font;return"10px sans-serif"!==i?(Ql.font=n,!0):(Ql.font="19px serif",e=Ql.font,Ql.font=t,i=Ql.font,Ql.font=n,i!==e)},s.defineProperty(Il,{text:"text"},function(){return this.Yd},function(t){var e=this.Yd;e!==(t=null!==t&&void 0!==t?t.toString():"")&&(this.Yd=t,this.K(),this.i("text",e,t))}),s.defineProperty(Il,{textAlign:"textAlign"},function(){return this.Yl},function(t){var e=this.Yl;e!==t&&(r&&s.h(t,"string",Il,"textAlign"),"start"===t||"end"===t||"left"===t||"right"===t||"center"===t?(this.Yl=t,this.ra(),this.i("textAlign",e,t)):s.ua(t,'"start", "end", "left", "right", or "center"',Il,"textAlign"))}),s.defineProperty(Il,{wu:"flip"},function(){return this.Ag},function(t){var e=this.Ag;e!==t&&(s.Da(t,fa,Il,"flip"),this.Ag=t,this.ra(),this.i("flip",e,t))}),s.defineProperty(Il,{RM:"verticalAlignment"},function(){return this.bm},function(t){var e=this.bm;e.O(t)||(r&&s.l(t,Ct,Il,"verticalAlignment"),t.de()&&s.k("TextBlock.verticalAlignment for "+this+" must be a real Spot, not:"+t),this.bm=t=t.V(),Sa(this),this.i("verticalAlignment",e,t))}),s.w(Il,{Ga:"naturalBounds"},function(){if(!this.fd.H()){var t=$l(this,this.Yd,this.tf,999999).width,e=rh(this,t,this.tf),n=this.Ea;isNaN(n.width)||(t=n.width),isNaN(n.height)||(e=n.height),gt(this.fd,t,e)}return this.fd}),s.defineProperty(Il,{ky:"isMultiline"},function(){return this.Ym},function(t){var e=this.Ym;e!==t&&(r&&s.h(t,"boolean",Il,"isMultiline"),this.Ym=t,this.K(),this.i("isMultiline",e,t))}),s.defineProperty(Il,{YL:"isUnderline"},function(){return this.vk},function(t){var e=this.vk;e!==t&&(r&&s.h(t,"boolean",Il,"isUnderline"),this.vk=t,this.ra(),this.i("isUnderline",e,t))}),s.defineProperty(Il,{XL:"isStrikethrough"},function(){return this.tk},function(t){var e=this.tk;e!==t&&(r&&s.h(t,"boolean",Il,"isStrikethrough"),this.tk=t,this.ra(),this.i("isStrikethrough",e,t))}),s.defineProperty(Il,{yH:"wrap"},function(){return this.Aj},function(t){var e=this.Aj;e!==t&&(r&&s.Da(t,Il,Il,"wrap"),this.Aj=t,this.K(),this.i("wrap",e,t))}),s.defineProperty(Il,{overflow:"overflow"},function(){return this.pj},function(t){var e=this.pj;e!==t&&(r&&s.Da(t,Il,Il,"overflow"),this.pj=t,this.K(),this.i("overflow",e,t))}),s.defineProperty(Il,{stroke:"stroke"},function(){return this.Bc},function(t){var e=this.Bc;e!==t&&(r&&null!==t&&s.hu(t,"TextBlock.stroke"),t instanceof Is&&t.freeze(),this.Bc=t,this.ra(),this.i("stroke",e,t))}),s.w(Il,{wB:"lineCount"},function(){return this.xe}),s.defineProperty(Il,{XA:"editable"},function(){return this.Xr},function(t){var e=this.Xr;e!==t&&(r&&s.h(t,"boolean",Il,"editable"),this.Xr=t,this.i("editable",e,t))}),s.defineProperty(Il,{mH:"textEditor"},function(){return this.Rt},function(t){var e=this.Rt;e!==t&&(!r||t instanceof HTMLElement||t instanceof lr||s.k("TextEditingTool.defaultTextEditor must be an HTMLElement or HTMLInfo."),this.Rt=t,this.i("textEditor",e,t))}),s.defineProperty(Il,{ZA:"errorFunction"},function(){return this.bf},function(t){var e=this.bf;e!==t&&(null!==t&&s.h(t,"function",Il,"errorFunction"),this.bf=t,this.i("errorFunction",e,t))}),s.defineProperty(Il,{interval:"interval"},function(){return this.Fg},function(t){var e=this.Fg;if(r&&s.p(t,Il,"interval"),e!==(t=Math.floor(t))&&0<=t){this.Fg=t,this.K();var n=this.R;null!==n&&n.type===Xa&&(n.pk=null),this.i("interval",e,t)}}),s.defineProperty(Il,{UF:"graduatedStart"},function(){return this.Eg},function(t){var e=this.Eg;r&&s.p(t,Il,"graduatedStart"),e!==t&&(0>t?t=0:1<t&&(t=1),this.Eg=t,this.K(),this.i("graduatedStart",e,t))}),s.defineProperty(Il,{SF:"graduatedEnd"},function(){return this.Dg},function(t){var e=this.Dg;r&&s.p(t,Il,"graduatedEnd"),e!==t&&(0>t?t=0:1<t&&(t=1),this.Dg=t,this.K(),this.i("graduatedEnd",e,t))}),s.defineProperty(Il,{TF:"graduatedFunction"},function(){return this.Um},function(t){var e=this.Um;e!==t&&(null!==t&&s.h(t,"function",Il,"graduatedFunction"),this.Um=t,this.K(),this.i("graduatedFunction",e,t))}),Il.prototype.Wk=function(t,e){if(null!==this.Bc&&0!==this.Yd.length&&null!==this.Bg){var n=this.Ga.width,i=this.Ga.height,r=nh(this),o=t.textAlign=this.Yl,a=e.rs;"start"===o&&(o=a?"right":"left"),"end"===o&&(o=a?"left":"right"),wa(this,t,this.Bc,!0,!1),(this.vk||this.tk)&&wa(this,t,this.Bc,!1,!1);var l=0,h=(a=!1,s.Fb(0,0));this.Hh.vb(h);var u=s.Fb(0,r);this.Hh.vb(u);var c=h.Kf(u);switch(s.A(h),s.A(u),8>c*(h=e.scale)*h&&(a=!0),e.dd!==t&&(a=!1),!1===e.Kj("textGreeking")&&(a=!1),c=this.vi,h=this.wi,this.wu){case ra:t.translate(n,0),t.scale(-1,1);break;case ia:t.translate(0,i),t.scale(1,-1);break;case oa:t.translate(n,i),t.scale(-1,-1)}i>(f=(c+r+h)*(u=this.xe))&&(l=(l=this.bm).y*i-l.y*f+l.offsetY);for(var f=this.tf,p=0;p<u;p++){var d=f.Gf[p],y=f.Ze[p];d>n&&(d=n);var v=y,g=(y=t,l+=c),m=n,b=r,x=o,w=0;a?("left"===x?w=0:"right"===x?w=m-d:"center"===x&&(w=(m-d)/2),y.fillRect(0+w,g+.25*b,d,1)):("left"===x?w=0:"right"===x?w=m:"center"===x&&(w=m/2),y.fillText(v,0+w,g+b-.25*b),0==(v=b/20|0)&&(v=1),"right"===x?w-=d:"center"===x&&(w-=d/2),this.vk&&(y.beginPath(),y.lineWidth=v,y.moveTo(0+w,g+b-.2*b),y.lineTo(0+w+d,g+b-.2*b),y.stroke()),this.tk&&(y.beginPath(),y.lineWidth=v,g=g+b-b/2.2|0,0!=v%2&&(g+=.5),y.moveTo(0+w,g),y.lineTo(0+w+d,g),y.stroke())),l+=r+h}switch(this.wu){case ra:t.scale(-1,1),t.translate(-n,0);break;case ia:t.scale(1,-1),t.translate(0,-i);break;case oa:t.scale(-1,-1),t.translate(-n,-i)}}},Il.prototype.ho=function(t,e,n,i){this.rp=t;var r=this.tf;r.reset();var o=0,s=0;if(isNaN(this.Ea.width)){if(0===(o=this.Yd.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length)o=0;else if(this.ky){for(var a=s=0,l=!1;!l;){var h=o.indexOf("\n",a);-1===h&&(h=o.length,l=!0),(a=eh(o.substr(a,h-a).replace(/^\s+|\s+$/g,""),this.Bg))>s&&(s=a),a=h+1}o=s}else 0<=(s=o.indexOf("\n",0))&&(o=o.substr(0,s)),o=a=eh(o,this.Bg);o=Math.min(o,t/this.scale),o=Math.max(8,o)}else o=this.Ea.width;if(null!==this.R&&(o=Math.min(o,this.R.qf.width)),s=rh(this,o,r),h=s=isNaN(this.Ea.height)?Math.min(s,e/this.scale):this.Ea.height,0!==r.Pe&&1!==r.Ze.length&&this.pj===Hl&&(e=this.Bg,l=this.pj===Hl?ih(e):0,a=this.vi+this.wi,a=Math.max(0,nh(this)+a),!((h=Math.min(this.IJ-1,Math.max(Math.floor(h/a+.01)-1,0)))+1>=r.Ze.length))){for(a=r.Ze[h],l=Math.max(1,t-l);eh(a,e)>l&&1<a.length;)a=a.substr(0,a.length-1);e=eh(a+=Zl,e),r.Ze[h]=a,r.Ze=r.Ze.slice(0,h+1),r.Gf[h]=e,r.Gf=r.Gf.slice(0,h+1),r.zj=r.Ze.length,r.Pe=Math.max(r.Pe,e),this.xe=r.zj}(this.yH===Bl||isNaN(this.Ea.width))&&(o=isNaN(t)?r.Pe:Math.min(t,r.Pe),isNaN(this.Ea.width)&&(o=Math.max(8,o))),o=Math.max(n,o),s=Math.max(i,s),gt(this.fd,o,s),va(this,0,0,o,s)},Il.prototype.Cj=function(t,e,n,i){ba(this,t,e,n,i)},s.defineProperty(Il,{jC:"textValidation"},function(){return this.Zl},function(t){var e=this.Zl;e!==t&&(null!==t&&s.h(t,"function",Il,"textValidation"),this.Zl=t,this.i("textValidation",e,t))}),s.defineProperty(Il,{lH:"textEdited"},function(){return this.Qt},function(t){var e=this.Qt;e!==t&&(null!==t&&s.h(t,"function",Il,"textEdited"),this.Qt=t,this.i("textEdited",e,t))}),s.defineProperty(Il,{GM:"spacingAbove"},function(){return this.vi},function(t){var e=this.vi;e!==t&&(r&&s.h(t,"number",Il,"spacingAbove"),this.vi=t,this.i("spacingAbove",e,t))}),s.defineProperty(Il,{HM:"spacingBelow"},function(){return this.wi},function(t){var e=this.wi;e!==t&&(r&&s.h(t,"number",Il,"spacingBelow"),this.wi=t,this.i("spacingBelow",e,t))}),s.defineProperty(Il,{IJ:"maxLines"},function(){return this.wh},function(t){var e=this.wh;e!==t&&(r&&s.h(t,"number",Il,"maxLines"),0>=(t=Math.floor(t))&&s.ua(t,"> 0",Il,"maxLines"),this.wh=t,this.i("maxLines",e,t),this.K())}),s.w(Il,{hM:"metrics"},function(){return this.tf}),s.defineProperty(Il,{pL:"choices"},function(){return this.ur},function(t){var e=this.ur;e!==t&&(null===t||Array.isArray(t)||s.kc(t,"Array",Il,"choices:value"),this.ur=t,this.i("choices",e,t))}),oh.prototype.reset=function(){this.Pe=this.zj=0,this.kk=null,this.Gf=[],this.Ze=[]},oh.prototype.gq=function(t){this.zj=t.zj,this.kk=t.kk,this.Pe=t.Pe,this.Gf=s.km(t.Gf),this.Ze=s.km(t.Ze)},s.w(oh,{mL:"arrSize"},function(){return this.Gf}),s.w(oh,{nL:"arrText"},function(){return this.Ze}),s.w(oh,{gM:"maxLineWidth"},function(){return this.Pe}),s.w(oh,{RL:"fontHeight"},function(){return this.kk}),s.Ta(sh,fa),s.ka("Picture",sh),sh.prototype.cloneProtected=function(t){fa.prototype.cloneProtected.call(this,t),t.element=this.af,t.Kt=this.Kt,t.Gk=this.Gk.V(),t.gp=this.gp,t.Ag=this.Ag,t.bf=this.bf,t.zi=this.zi,t.fp=this.fp.V(),t.ap=this.ap,t.Jp=this.Jp},sh.prototype.qc=function(t){t===Zs||t===ea||t===na?this.gJ=t:fa.prototype.qc.call(this,t)},sh.prototype.toString=function(){return"Picture("+this.source+")#"+s.Nd(this)};var ah,lh=new h,hh=0,uh=[];function ch(){var t=uh;if(0===t.length)for(var n=e.document.getElementsByTagName("canvas"),i=n.length,r=0;r<i;r++){var o=n[r];o.parentElement&&o.parentElement.ca&&t.push(o.parentElement.ca)}return t}function fh(t,e){t.ps=!0,t.ep=!1;for(var n=null,i=ch(),r=i.length,o=0;o<r;o++){var s=i[o],a=s.Cp.oa(t.src);if(null!==a)for(var l=a.length,h=0;h<l;h++)s.iA.add(n=a[h]),s.Ve(),null===t.mA&&(t.mA=e,null!==n.zi&&n.zi(n,e))}}function ph(t,e){t.ep=e;for(var n=null,i=ch(),r=i.length,o=0;o<r;o++)if(null!==(n=i[o].Cp.oa(t.src))){for(var a=n.length,l=s.nb(),h=0;h<a;h++)l.push(n[h]);for(h=0;h<a;h++)null!==(n=l[h]).bf&&n.bf(n,e);s.ya(l)}}function dh(t,e,n,i){var r=new Rt(null),o=r.Tk,s=1/e;r.width=n/e,r.height=i/e,e=new yh(r.$d,e),o.setTransform(s*(n=t.$p[t.$p.length-1]).Oq,0,0,s*n.Oq,0,0),o.drawImage(n.source,0,0),t.$p.push(e)}function yh(t,e){this.source=t,this.Oq=e}function vh(){this.q=new We,this.fc=null}function gh(t,e,n,i,r,o){null===t.q&&s.k("StreamGeometryContext has been closed"),void 0!==r&&!0===r?(null===t.fc&&s.k("Need to call beginFigure first"),(i=new rn(Kt)).F=e,i.G=n,t.fc.Eb.add(i)):(t.fc=new nn,t.fc.la=e,t.fc.ja=n,t.fc.Ku=i,t.q.nc.add(t.fc)),void 0!==o&&(t.fc.mp=o)}function mh(t){null===t.q&&s.k("StreamGeometryContext has been closed"),null===t.fc&&s.k("Need to call beginFigure first");var e=t.fc.Eb.length;0<e&&t.fc.Eb.fa(e-1).close()}function bh(t){null===t.q&&s.k("StreamGeometryContext has been closed"),null===t.fc&&s.k("Need to call beginFigure first"),0<t.fc.Eb.length&&(t.fc.Ku=!0)}function xh(t,e,n,i,r,o,a,l){void 0===l&&(l=!1),null===t.q&&s.k("StreamGeometryContext has been closed"),null===t.fc&&s.k("Need to call beginFigure first");var h=new rn(Wt);h.Ec=e,h.$c=n,h.Uh=i,h.Vh=r,h.F=o,h.G=a,l&&h.close(),t.fc.Eb.add(h)}function wh(t,e,n,i,r){var o;void 0===o&&(o=!1),null===t.q&&s.k("StreamGeometryContext has been closed"),null===t.fc&&s.k("Need to call beginFigure first");var a=new rn(Yt);a.Ec=e,a.$c=n,a.F=i,a.G=r,o&&a.close(),t.fc.Eb.add(a)}function kh(t,e,n,i,r,o,a,l){var h;void 0===h&&(h=!1),null===t.q&&s.k("StreamGeometryContext has been closed"),null===t.fc&&s.k("Need to call beginFigure first"),e=new rn(Xt,a,l,e,n,i,r,o),h&&e.close(),t.fc.Eb.add(e)}function Ph(t){t=Sh(t);var e=s.nb();e[0]=t[0];for(var n=1,i=1;i<t.length;)e[n]=t[i],e[n+1]=t[i],e[n+2]=t[i+1],i+=2,n+=3;return s.ya(t),e}function Sh(t){var e=Ch(t),n=s.nb(),i=Math.floor(e.length/2),r=e.length-1;t=0==t%2?2:1;for(var o=0;o<r;o++){var a=e[o],l=e[o+1],h=e[(i+o-1)%r],u=e[(i+o+t)%r];n[2*o]=a,n[2*o+1]=Be(a.x,a.y,h.x,h.y,l.x,l.y,u.x,u.y,new ft)}return n[n.length]=n[0],s.ya(e),n}function Ch(t){for(var e=s.nb(),n=1.5*Math.PI,i=0,r=0;r<t;r++)i=2*Math.PI/t*r+n,e[r]=new ft(.5+.5*Math.cos(i),.5+.5*Math.sin(i));return e.push(e[0]),e}sh.clearCache=ah=function(t){void 0===t&&(t=""),s.h(t,"string",sh,"clearCache:url"),""!==t?lh[t]&&(delete lh[t],hh--):(lh=new h,hh=0)},s.defineProperty(sh,{element:"element"},function(){return this.af},function(t){var e=this.af;if(e!==t){if(null===t||t instanceof HTMLImageElement||t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||s.k("Picture.element must be an instance of Image, Canvas, or Video, not: "+t),this.Xz=t instanceof HTMLCanvasElement,this.af=t,null!==t)if(t instanceof HTMLCanvasElement||!0===t.complete)t.ep instanceof Event&&null!==this.bf&&this.bf(this,t.ep),!0===t.ps&&null!==this.zi&&this.zi(this,t.mA),t.ps=!0,this.Ea.H()||(Da(this,!1),this.K());else{var n=this;t.xD||(t.addEventListener("load",function(e){fh(t,e),n.Ea.H()||(Da(n,!1),n.K())}),t.addEventListener("error",function(e){ph(t,e)}),t.xD=!0)}this.i("element",e,t),this.ra()}}),s.defineProperty(sh,{source:"source"},function(){return this.Kt},function(t){var e=this.Kt;if(e!==t){s.h(t,"string",sh,"source"),this.Kt=t;var n=lh,i=this.g;if(void 0!==n[t])var r=n[t].$p[0].source;else{30<hh&&(ah(),n=lh);var o=this;(r=s.createElement("img")).addEventListener("load",function(t){fh(r,t),o.Ea.H()||(Da(o,!1),o.K())}),r.addEventListener("error",function(t){ph(r,t)}),r.xD=!0;var a=this.Jp;null!==a&&(r.crossOrigin=a(this)),r.src=t,n[t]=new function(t){this.$p=[new yh(r,1)]}(0),hh++}null!==i&&Jo(i,this),this.element=r,null!==i&&Uo(i,this),this.K(),this.ra(),this.i("source",e,t)}}),s.defineProperty(sh,{FM:"sourceCrossOrigin"},function(){return this.Jp},function(t){if(this.Jp!==t&&(null!==t&&s.h(t,"function",sh,"sourceCrossOrigin"),this.Jp=t,null!==this.element)){var e=this.element.src;null===t&&"string"==typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this)),this.element.src=e}}),s.defineProperty(sh,{Yj:"sourceRect"},function(){return this.Gk},function(t){var e=this.Gk;e.O(t)||(s.l(t,vt,sh,"sourceRect"),this.Gk=t=t.V(),this.ra(),this.i("sourceRect",e,t))}),s.defineProperty(sh,{gJ:"imageStretch"},function(){return this.gp},function(t){var e=this.gp;e!==t&&(s.Da(t,fa,sh,"imageStretch"),this.gp=t,this.ra(),this.i("imageStretch",e,t))}),s.defineProperty(sh,{wu:"flip"},function(){return this.Ag},function(t){var e=this.Ag;e!==t&&(s.Da(t,fa,sh,"flip"),this.Ag=t,this.ra(),this.i("flip",e,t))}),s.defineProperty(sh,{TL:"imageAlignment"},function(){return this.fp},function(t){s.l(t,Ct,sh,"imageAlignment");var e=this.fp;e.O(t)||(this.fp=t=t.V(),this.K(),this.i("imageAlignment",e,t))}),s.defineProperty(sh,{ZA:"errorFunction"},function(){return this.bf},function(t){var e=this.bf;e!==t&&(null!==t&&s.h(t,"function",sh,"errorFunction"),this.bf=t,this.i("errorFunction",e,t))}),s.defineProperty(sh,{PM:"successFunction"},function(){return this.zi},function(t){var e=this.zi;e!==t&&(null!==t&&s.h(t,"function",sh,"successFunction"),this.zi=t,this.i("successFunction",e,t))}),sh.prototype.Wk=function(t,e){var n=this.af;if(null!==n&&(null!==(i=n.src)&&""!==i||s.k('Element has no source ("src") attribute: '+n),!(n.ep instanceof Event)&&!1!==n.ps)){var i=this.Ga,o=0,a=0,l=(h=this.Xz)?+n.width:n.naturalWidth,h=h?+n.height:n.naturalHeight;if(void 0===l&&n.videoWidth&&(l=n.videoWidth),void 0===h&&n.videoHeight&&(h=n.videoHeight),l=l||i.width,h=h||i.height,0!==l&&0!==h){var u=l,c=h;this.Yj.H()&&(o=this.Gk.x,a=this.Gk.y,l=this.Gk.width,h=this.Gk.height);var f=l,p=h,d=this.fp;switch(g=this.gp){case Zs:if(this.Yj.H())break;f>=i.width&&(o=o+d.offsetX+(f*d.x-i.width*d.x)),p>=i.height&&(a=a+d.offsetY+(p*d.y-i.height*d.y)),l=Math.min(i.width,f),h=Math.min(i.height,p);break;case ta:f=i.width,p=i.height;break;case ea:case na:var y=0;g===ea?(f*=y=Math.min(i.height/p,i.width/f),p*=y):g===na&&(p*=y=Math.max(i.height/p,i.width/f),(f*=y)>=i.width&&(o=(o+d.offsetX+(f*d.x-i.width*d.x)/f)*l),p>=i.height&&(a=(a+d.offsetY+(p*d.y-i.height*d.y)/p)*h),l*=1/(f/i.width),h*=1/(p/i.height),f=i.width,p=i.height)}var v=l*h/(f*(g=this.Jj()*e.scale)*p*g),g=(y=lh[this.source],null);if(n.ps&&void 0!==y&&16<v){2>y.$p.length&&(dh(y,4,u,c),dh(y,16,u,c)),c=(u=y.$p).length,g=u[0];for(var m=0;m<c&&u[m].Oq*u[m].Oq<v;m++)g=u[m]}if(!e.Ur){if(null===this.Rp)if(null===this.af)this.Rp=!1;else{(u=new Rt(null).Tk).drawImage(this.af,0,0);try{u.getImageData(0,0,1,1).data[3]&&(this.Rp=!1),this.Rp=!1}catch(t){this.Rp=!0}}if(this.Rp)return}switch(u=0,f<i.width&&(u=d.offsetX+(i.width*d.x-f*d.x)),c=0,p<i.height&&(c=d.offsetY+(i.height*d.y-p*d.y)),this.wu){case ra:t.translate(Math.min(i.width,f),0),t.scale(-1,1);break;case ia:t.translate(0,Math.min(i.height,p)),t.scale(1,-1);break;case oa:t.translate(Math.min(i.width,f),Math.min(i.height,p)),t.scale(-1,-1)}if(e.Kj("pictureRatioOptimization")&&!e.Yz&&void 0!==y&&null!==g&&1!==g.Oq){t.save(),y=g.Oq;try{t.drawImage(g.source,o/y,a/y,Math.min(g.source.width,l/y),Math.min(g.source.height,h/y),u,c,Math.min(i.width,f),Math.min(i.height,p))}catch(t){r&&this.ap&&s.trace(t.toString()),this.ap=!1}t.restore()}else try{t.drawImage(n,o,a,l,h,u,c,Math.min(i.width,f),Math.min(i.height,p))}catch(t){r&&this.ap&&s.trace(t.toString()),this.ap=!1}switch(this.wu){case ra:t.scale(-1,1),t.translate(-Math.min(i.width,f),0);break;case ia:t.scale(1,-1),t.translate(0,-Math.min(i.height,p));break;case oa:t.scale(-1,-1),t.translate(-Math.min(i.width,f),-Math.min(i.height,p))}}}},s.w(sh,{Ga:"naturalBounds"},function(){return this.fd}),sh.prototype.ho=function(t,e,n,i){var r=this.Ea,o=Ca(this,!0),s=this.af,a=this.Xz;(a||!this.Aw&&s&&s.complete)&&(this.Aw=!0),null===s&&(isFinite(r.width)||(t=0),isFinite(r.height)||(e=0)),isFinite(r.width)||o===ta||o===$s?(isFinite(t)||(t=this.Yj.H()?this.Yj.width:a?+s.width:s.naturalWidth),n=0):null!==s&&!1!==this.Aw&&(t=this.Yj.H()?this.Yj.width:a?+s.width:s.naturalWidth),isFinite(r.height)||o===ta||o===Qs?(isFinite(e)||(e=this.Yj.H()?this.Yj.height:a?+s.height:s.naturalHeight),i=0):null!==s&&!1!==this.Aw&&(e=this.Yj.H()?this.Yj.height:a?+s.height:s.naturalHeight),isFinite(r.width)&&(t=r.width),isFinite(r.height)&&(e=r.height),r=this.qf,o=this.ah,n=Math.max(n,o.width),i=Math.max(i,o.height),t=Math.min(r.width,t),e=Math.min(r.height,e),t=Math.max(n,t),e=Math.max(i,e),null===s||s.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),gt(this.fd,t,e),va(this,0,0,t,e)},sh.prototype.Cj=function(t,e,n,i){ba(this,t,e,n,i)},(n=vh.prototype).reset=function(){this.q=new We,this.fc=null},n.kb=function(t){null===this.q&&s.k("StreamGeometryContext has been closed"),null===this.fc&&s.k("Need to call beginFigure first"),this.fc.dl=t},n.moveTo=function(t,e,n){void 0===n&&(n=!1),null===this.q&&s.k("StreamGeometryContext has been closed"),null===this.fc&&s.k("Need to call beginFigure first");var i=new rn(Kt);i.F=t,i.G=e,n&&i.close(),this.fc.Eb.add(i)},n.lineTo=function(t,e,n){void 0===n&&(n=!1),null===this.q&&s.k("StreamGeometryContext has been closed"),null===this.fc&&s.k("Need to call beginFigure first");var i=new rn(Jt);i.F=t,i.G=e,n&&i.close(),this.fc.Eb.add(i)},n.arcTo=function(t,e,n,i,r,o,a){void 0===o&&(o=0),void 0===a&&(a=!1),null===this.q&&s.k("StreamGeometryContext has been closed"),null===this.fc&&s.k("Need to call beginFigure first");var l=new rn(Zt);l.Me=t,l.Ef=e,l.pa=n,l.va=i,l.radiusX=r,l.radiusY=0!==o?o:r,a&&l.close(),this.fc.Eb.add(l)};var Th,Mh={None:"Rectangle",Rectangle:function(t,e,n){return(t=new We).type=zt,t.la=0,t.ja=0,t.F=e,t.G=n,t},Square:function(t,e,n){return(t=new We).le=ea,t.type=zt,t.la=0,t.ja=0,t.F=Math.min(e,n),t.G=Math.min(e,n),t},Ellipse:function(t,e,n){return(t=new We).type=qt,t.la=0,t.ja=0,t.F=e,t.G=n,t.C=be,t.D=xe,t},Circle:function(t,e,n){return(t=new We).le=ea,t.type=qt,t.la=0,t.ja=0,t.F=Math.min(e,n),t.G=Math.min(e,n),t.C=be,t.D=xe,t},Connector:"Ellipse",TriangleRight:function(t,e,n){t=new We;var i=new nn,r=new rn;return r.F=e,r.G=.5*n,i.Eb.add(r),(e=new rn).F=0,e.G=n,i.Eb.add(e.close()),t.nc.add(i),t.C=new Ct(0,.25),t.D=new Ct(.5,.75),t},TriangleDown:function(t,e,n){t=new We;var i=new nn,r=new rn;return r.F=e,r.G=0,i.Eb.add(r),(r=new rn).F=.5*e,r.G=n,i.Eb.add(r.close()),t.nc.add(i),t.C=new Ct(.25,0),t.D=new Ct(.75,.5),t},TriangleLeft:function(t,e,n){t=new We;var i=new nn;i.la=e,i.ja=n;var r=new rn;return r.F=0,r.G=.5*n,i.Eb.add(r),(n=new rn).F=e,n.G=0,i.Eb.add(n.close()),t.nc.add(i),t.C=new Ct(.5,.25),t.D=new Ct(1,.75),t},TriangleUp:function(t,e,n){t=new We;var i=new nn;i.la=e,i.ja=n;var r=new rn;return r.F=0,r.G=n,i.Eb.add(r),(n=new rn).F=.5*e,n.G=0,i.Eb.add(n.close()),t.nc.add(i),t.C=new Ct(.25,.5),t.D=new Ct(.75,1),t},Line1:function(t,e,n){return(t=new We).type=Bt,t.la=0,t.ja=0,t.F=e,t.G=n,t},Line2:function(t,e,n){return(t=new We).type=Bt,t.la=e,t.ja=0,t.F=0,t.G=n,t},MinusLine:"LineH",LineH:function(t,e,n){return(t=new We).type=Bt,t.la=0,t.ja=n/2,t.F=e,t.G=n/2,t},LineV:function(t,e,n){return(t=new We).type=Bt,t.la=e/2,t.ja=0,t.F=e/2,t.G=n,t},BarH:"Rectangle",BarV:"Rectangle",Curve1:function(t,e,n){return gh(t=s.v(),0,0,!1),xh(t,ne*e,0,1*e,(1-ne)*n,e,n),e=t.q,s.u(t),e},Curve2:function(t,e,n){return gh(t=s.v(),0,0,!1),xh(t,0,ne*n,(1-ne)*e,n,e,n),e=t.q,s.u(t),e},Curve3:function(t,e,n){return gh(t=s.v(),1*e,0,!1),xh(t,1*e,ne*n,ne*e,1*n,0,1*n),e=t.q,s.u(t),e},Curve4:function(t,e,n){return gh(t=s.v(),1*e,0,!1),xh(t,(1-ne)*e,0,0,(1-ne)*n,0,1*n),e=t.q,s.u(t),e},Alternative:"Triangle",Merge:"Triangle",Triangle:function(t,e,n){return gh(t=s.v(),.5*e,0*n,!0),t.lineTo(0*e,1*n),t.lineTo(1*e,1*n,!0),(e=t.q).C=new Ct(.25,.5),e.D=new Ct(.75,1),s.u(t),e},Decision:"Diamond",Diamond:function(t,e,n){return gh(t=s.v(),.5*e,0,!0),t.lineTo(0,.5*n),t.lineTo(.5*e,1*n),t.lineTo(1*e,.5*n,!0),(e=t.q).C=new Ct(.25,.25),e.D=new Ct(.75,.75),s.u(t),e},Pentagon:function(t,e,n){var i=Ch(5);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;5>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.2,.22),e.D=new Ct(.8,.9),s.u(t),e},DataTransmission:"Hexagon",Hexagon:function(t,e,n){var i=Ch(6);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;6>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.07,.25),e.D=new Ct(.93,.75),s.u(t),e},Heptagon:function(t,e,n){var i=Ch(7);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;7>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.2,.15),e.D=new Ct(.8,.85),s.u(t),e},Octagon:function(t,e,n){var i=Ch(8);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;8>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.15,.15),e.D=new Ct(.85,.85),s.u(t),e},Nonagon:function(t,e,n){var i=Ch(9);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;9>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.17,.13),e.D=new Ct(.82,.82),s.u(t),e},Decagon:function(t,e,n){var i=Ch(10);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;10>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.16,.16),e.D=new Ct(.84,.84),s.u(t),e},Dodecagon:function(t,e,n){var i=Ch(12);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;12>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.16,.16),e.D=new Ct(.84,.84),s.u(t),e},FivePointedStar:function(t,e,n){var i=Sh(5);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;10>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.312,.383),e.D=new Ct(.693,.765),s.u(t),e},SixPointedStar:function(t,e,n){var i=Sh(6);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;12>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.17,.251),e.D=new Ct(.833,.755),s.u(t),e},SevenPointedStar:function(t,e,n){var i=Sh(7);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;14>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.363,.361),e.D=new Ct(.641,.709),s.u(t),e},EightPointedStar:function(t,e,n){var i=Sh(8);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;16>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.252,.255),e.D=new Ct(.75,.75),s.u(t),e},NinePointedStar:function(t,e,n){var i=Sh(9);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;18>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.355,.361),e.D=new Ct(.645,.651),s.u(t),e},TenPointedStar:function(t,e,n){var i=Sh(10);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;20>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.281,.261),e.D=new Ct(.723,.748),s.u(t),e},FivePointedBurst:function(t,e,n){var i=Ph(5);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)xh(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.312,.383),e.D=new Ct(.693,.765),s.u(t),e},SixPointedBurst:function(t,e,n){var i=Ph(6);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)xh(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.17,.251),e.D=new Ct(.833,.755),s.u(t),e},SevenPointedBurst:function(t,e,n){var i=Ph(7);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)xh(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.363,.361),e.D=new Ct(.641,.709),s.u(t),e},EightPointedBurst:function(t,e,n){var i=Ph(8);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)xh(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.252,.255),e.D=new Ct(.75,.75),s.u(t),e},NinePointedBurst:function(t,e,n){var i=Ph(9);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)xh(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.355,.361),e.D=new Ct(.645,.651),s.u(t),e},TenPointedBurst:function(t,e,n){var i=Ph(10);gh(t=s.v(),i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)xh(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return s.ya(i),mh(t),(e=t.q).C=new Ct(.281,.261),e.D=new Ct(.723,.748),s.u(t),e},Cloud:function(t,e,n){return gh(t=s.v(),.08034461*e,.1944299*n,!0),xh(t,-.09239631*e,.07836421*n,.1406031*e,-.0542823*n,.2008615*e,.05349299*n),xh(t,.2450511*e,-.00697547*n,.3776197*e,-.01112067*n,.4338609*e,.074219*n),xh(t,.4539471*e,0,.6066018*e,-.02526587*n,.6558228*e,.07004196*n),xh(t,.6914277*e,-.01904177*n,.8921095*e,-.01220843*n,.8921095*e,.08370865*n),xh(t,1.036446*e,.04105738*n,1.020377*e,.3022052*n,.9147671*e,.3194596*n),xh(t,1.04448*e,.360238*n,.992256*e,.5219009*n,.9082935*e,.562044*n),xh(t,1.032337*e,.5771781*n,1.018411*e,.8120651*n,.9212406*e,.8217117*n),xh(t,1.028411*e,.9571472*n,.8556702*e,1.052487*n,.7592566*e,.9156953*n),xh(t,.7431877*e,1.009325*n,.5624123*e,1.021761*n,.5101666*e,.9310455*n),xh(t,.4820677*e,1.031761*n,.3030112*e,1.002796*n,.2609328*e,.9344623*n),xh(t,.2329994*e,1.01518*n,.03213784*e,1.01518*n,.08034461*e,.870098*n),xh(t,-.02812061*e,.9032597*n,-.01205169*e,.6835638*n,.06829292*e,.6545475*n),xh(t,-.01812061*e,.6089503*n,-.00606892*e,.4555777*n,.06427569*e,.4265613*n),xh(t,-.01606892*e,.3892545*n,-.01205169*e,.1944299*n,.08034461*e,.1944299*n),mh(t),(e=t.q).C=new Ct(.1,.1),e.D=new Ct(.9,.9),s.u(t),e},Gate:"Crescent",Crescent:function(t,e,n){return gh(t=s.v(),0,0,!0),xh(t,1*e,0,1*e,1*n,0,1*n),xh(t,.5*e,.75*n,.5*e,.25*n,0,0),mh(t),(e=t.q).C=new Ct(.511,.19),e.D=new Ct(.776,.76),s.u(t),e},FramedRectangle:function(t,e,n){var i=s.v(),r=t?t.Sc:NaN;return t=t?t.ev:NaN,isNaN(r)&&(r=.1),isNaN(t)&&(t=.1),gh(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n,!0),gh(i,r*e,t*n,!1,!0),i.lineTo(r*e,(1-t)*n),i.lineTo((1-r)*e,(1-t)*n),i.lineTo((1-r)*e,t*n,!0),(e=i.q).C=new Ct(r,t),e.D=new Ct(1-r,1-t),s.u(i),e},Delay:"HalfEllipse",HalfEllipse:function(t,e,n){return gh(t=s.v(),0,0,!0),xh(t,ne*e,0,1*e,(.5-ne/2)*n,1*e,.5*n),xh(t,1*e,(.5+ne/2)*n,ne*e,1*n,0,1*n),mh(t),(e=t.q).C=new Ct(0,.2),e.D=new Ct(.75,.8),s.u(t),e},Heart:function(t,e,n){return gh(t=s.v(),.5*e,1*n,!0),xh(t,.1*e,.8*n,0,.5*n,0*e,.3*n),xh(t,0*e,0,.45*e,0,.5*e,.3*n),xh(t,.55*e,0,1*e,0,1*e,.3*n),xh(t,e,.5*n,.9*e,.8*n,.5*e,1*n),mh(t),(e=t.q).C=new Ct(.15,.29),e.D=new Ct(.86,.68),s.u(t),e},Spade:function(t,e,n){return gh(t=s.v(),.5*e,0,!0),t.lineTo(.51*e,.01*n),xh(t,.6*e,.2*n,e,.25*n,e,.5*n),xh(t,e,.8*n,.6*e,.8*n,.55*e,.7*n),xh(t,.5*e,.75*n,.55*e,.95*n,.75*e,n),t.lineTo(.25*e,n),xh(t,.45*e,.95*n,.5*e,.75*n,.45*e,.7*n),xh(t,.4*e,.8*n,0,.8*n,0,.5*n),xh(t,0,.25*n,.4*e,.2*n,.49*e,.01*n),mh(t),(e=t.q).C=new Ct(.19,.26),e.D=new Ct(.8,.68),s.u(t),e},Club:function(t,e,n){gh(t=s.v(),.4*e,.6*n,!0),xh(t,.5*e,.75*n,.45*e,.95*n,.15*e,1*n),t.lineTo(.85*e,n),xh(t,.55*e,.95*n,.5*e,.75*n,.6*e,.6*n);var i=.2,r=.3,o=0,a=4*(Math.SQRT2-1)/3*i;return xh(t,(.5-i+r)*e,(.5+a+o)*n,(.5-a+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),xh(t,(.5+a+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+a+o)*n,(.5+i+r)*e,(.5+o)*n),xh(t,(.5+i+r)*e,(.5-a+o)*n,(.5+a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),xh(t,(.5-a+r)*e,(.5-i+o)*n,(.5-i+r+.05)*e,(.5-a+o-.02)*n,.65*e,.36771243*n),i=.2,r=0,o=-.3,xh(t,(.5+(a=4*(Math.SQRT2-1)/3*i)+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+a+o)*n,(.5+i+r)*e,(.5+o)*n),xh(t,(.5+i+r)*e,(.5-a+o)*n,(.5+a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),xh(t,(.5-a+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-a+o)*n,(.5-i+r)*e,(.5+o)*n),xh(t,(.5-i+r)*e,(.5+a+o)*n,(.5-a+r)*e,(.5+i+o)*n,.35*e,.36771243*n),o=0,xh(t,(.5+(i=.2)+(r=-.3)-.05)*e,(.5-(a=4*(Math.SQRT2-1)/3*i)+o-.02)*n,(.5+a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),xh(t,(.5-a+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-a+o)*n,(.5-i+r)*e,(.5+o)*n),xh(t,(.5-i+r)*e,(.5+a+o)*n,(.5-a+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),xh(t,(.5+a+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+a+o)*n,.4*e,.6*n),mh(t),(e=t.q).C=new Ct(.06,.39),e.D=new Ct(.93,.58),s.u(t),e},Ring:function(t,e,n){t=s.v();var i=4*(Math.SQRT2-1)/3*.5;return gh(t,e,.5*n,!0),xh(t,e,(.5-i)*n,(.5+i)*e,0,.5*e,0),xh(t,(.5-i)*e,0,0,(.5-i)*n,0,.5*n),xh(t,0,(.5+i)*n,(.5-i)*e,n,.5*e,n),xh(t,(.5+i)*e,n,e,(.5+i)*n,e,.5*n),i=4*(Math.SQRT2-1)/3*.4,gh(t,.5*e,.1*n,!0,!0),xh(t,(.5+i)*e,.1*n,.9*e,(.5-i)*n,.9*e,.5*n),xh(t,.9*e,(.5+i)*n,(.5+i)*e,.9*n,.5*e,.9*n),xh(t,(.5-i)*e,.9*n,.1*e,(.5+i)*n,.1*e,.5*n),xh(t,.1*e,(.5-i)*n,(.5-i)*e,.1*n,.5*e,.1*n),(e=t.q).C=new Ct(.146,.146),e.D=new Ct(.853,.853),e.le=ea,s.u(t),e},YinYang:function(t,e,n){var i=.5;i=.5,gh(t=s.v(),.5*e,0,!0),t.arcTo(270,180,.5*e,.5*e,.5*e),xh(t,1*e,i*n,0,i*n,i*e,0,!0);var r=.25;return gh(t,(.5+(i=.1))*e,r*n,!0,!0),t.arcTo(0,-360,.5*e,n*r,i*e),mh(t),gh(t,.5*e,0,!1),t.arcTo(270,-180,.5*e,.5*e,.5*e),t.kb(!1),gh(t,(.5+i)*e,(r=.75)*n,!0),t.arcTo(0,360,.5*e,n*r,i*e),mh(t),(e=t.q).le=ea,s.u(t),e},Peace:function(t,e,n){t=s.v();var i=4*(Math.SQRT2-1)/3*.5;gh(t,e,.5*n,!0),xh(t,e,(.5-i)*n,(.5+i)*e,0,.5*e,0),xh(t,(.5-i)*e,0,0,(.5-i)*n,0,.5*n),xh(t,0,(.5+i)*n,(.5-i)*e,n,.5*e,n),xh(t,(.5+i)*e,n,e,(.5+i)*n,e,.5*n),i=4*(Math.SQRT2-1)/3*.4,gh(t,.5*e,.1*n,!0,!0),xh(t,(.5+i)*e,.1*n,.9*e,(.5-i)*n,.9*e,.5*n),xh(t,.9*e,(.5+i)*n,(.5+i)*e,.9*n,.5*e,.9*n),xh(t,(.5-i)*e,.9*n,.1*e,(.5+i)*n,.1*e,.5*n),xh(t,.1*e,(.5-i)*n,(.5-i)*e,.1*n,.5*e,.1*n),i=.07;var r=0,o=.11*-.707,a=4*(Math.SQRT2-1)/3*i;return gh(t,(.5+i+r)*e,(.5+o)*n,!0),xh(t,(.5+i+r)*e,(.5-a+o)*n,(.5+a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),xh(t,(.5-a+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-a+o)*n,(.5-i+r)*e,(.5+o)*n),xh(t,(.5-i+r)*e,(.5+a+o)*n,(.5-a+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),xh(t,(.5+a+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+a+o)*n,(.5+i+r)*e,(.5+o)*n),i=.07,r=.11*-.707,o=.707*.11,a=4*(Math.SQRT2-1)/3*i,gh(t,(.5+i+r)*e,(.5+o)*n,!0),xh(t,(.5+i+r)*e,(.5-a+o)*n,(.5+a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),xh(t,(.5-a+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-a+o)*n,(.5-i+r)*e,(.5+o)*n),xh(t,(.5-i+r)*e,(.5+a+o)*n,(.5-a+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),xh(t,(.5+a+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+a+o)*n,(.5+i+r)*e,(.5+o)*n),i=.07,r=.707*.11,o=.707*.11,a=4*(Math.SQRT2-1)/3*i,gh(t,(.5+i+r)*e,(.5+o)*n,!0),xh(t,(.5+i+r)*e,(.5-a+o)*n,(.5+a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),xh(t,(.5-a+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-a+o)*n,(.5-i+r)*e,(.5+o)*n),xh(t,(.5-i+r)*e,(.5+a+o)*n,(.5-a+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),xh(t,(.5+a+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+a+o)*n,(.5+i+r)*e,(.5+o)*n),(e=t.q).C=new Ct(.146,.146),e.D=new Ct(.853,.853),e.le=ea,s.u(t),e},NotAllowed:function(t,e,n){var i=.5*ne,r=.5;gh(t=s.v(),.5*e,(.5-r)*n,!0),xh(t,(.5-i)*e,(.5-r)*n,(.5-r)*e,(.5-i)*n,(.5-r)*e,.5*n),xh(t,(.5-r)*e,(.5+i)*n,(.5-i)*e,(.5+r)*n,.5*e,(.5+r)*n),xh(t,(.5+i)*e,(.5+r)*n,(.5+r)*e,(.5+i)*n,(.5+r)*e,.5*n),xh(t,(.5+r)*e,(.5-i)*n,(.5+i)*e,(.5-r)*n,.5*e,(.5-r)*n),r=.4,i=.4*ne;var o=s.P(),a=s.P(),l=s.P(),h=s.P();_e(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.42,o,a,l,h,h);var u=s.P(),c=s.P(),f=s.P();_e(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.58,h,h,f,u,c);var p=s.P(),d=s.P(),y=s.P();_e(.5,.5+r,.5-i,.5+r,.5-r,.5+i,.5-r,.5,.42,p,d,y,h,h);var v=s.P(),g=s.P(),m=s.P();return _e(.5,.5+r,.5-i,.5+r,.5-r,.5+i,.5-r,.5,.58,h,h,m,v,g),gh(t,m.x*e,m.y*n,!0,!0),xh(t,v.x*e,v.y*n,g.x*e,g.y*n,(.5-r)*e,.5*n),xh(t,(.5-r)*e,(.5-i)*n,(.5-i)*e,(.5-r)*n,.5*e,(.5-r)*n),xh(t,o.x*e,o.y*n,a.x*e,a.y*n,l.x*e,l.y*n),t.lineTo(m.x*e,m.y*n),mh(t),gh(t,y.x*e,y.y*n,!0,!0),t.lineTo(f.x*e,f.y*n),xh(t,u.x*e,u.y*n,c.x*e,c.y*n,(.5+r)*e,.5*n),xh(t,(.5+r)*e,(.5+i)*n,(.5+i)*e,(.5+r)*n,.5*e,(.5+r)*n),xh(t,p.x*e,p.y*n,d.x*e,d.y*n,y.x*e,y.y*n),mh(t),s.A(o),s.A(a),s.A(l),s.A(h),s.A(u),s.A(c),s.A(f),s.A(p),s.A(d),s.A(y),s.A(v),s.A(g),s.A(m),e=t.q,s.u(t),e.le=ea,e},Fragile:function(t,e,n){return gh(t=s.v(),0,0,!0),t.lineTo(.25*e,0),t.lineTo(.2*e,.15*n),t.lineTo(.3*e,.25*n),t.lineTo(.29*e,.33*n),t.lineTo(.35*e,.25*n),t.lineTo(.3*e,.15*n),t.lineTo(.4*e,0),t.lineTo(1*e,0),xh(t,1*e,.25*n,.75*e,.5*n,.55*e,.5*n),t.lineTo(.55*e,.9*n),t.lineTo(.7*e,.9*n),t.lineTo(.7*e,1*n),t.lineTo(.3*e,1*n),t.lineTo(.3*e,.9*n),t.lineTo(.45*e,.9*n),t.lineTo(.45*e,.5*n),xh(t,.25*e,.5*n,0,.25*n,0,0),mh(t),(e=t.q).C=new Ct(.25,0),e.D=new Ct(.75,.4),s.u(t),e},HourGlass:function(t,e,n){return gh(t=s.v(),.65*e,.5*n,!0),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(.35*e,.5*n),t.lineTo(0,0),t.lineTo(1*e,0),mh(t),e=t.q,s.u(t),e},Lightning:function(t,e,n){return gh(t=s.v(),0*e,.55*n,!0),t.lineTo(.75*e,0),t.lineTo(.25*e,.45*n),t.lineTo(.9*e,.48*n),t.lineTo(.4*e,1*n),t.lineTo(.65*e,.55*n),mh(t),e=t.q,s.u(t),e},Parallelogram1:function(t,e,n){t=t?t.Sc:NaN,isNaN(t)&&(t=.1);var i=s.v();return gh(i,t*e,0,!0),i.lineTo(1*e,0),i.lineTo((1-t)*e,1*n),i.lineTo(0,1*n),mh(i),(e=i.q).C=new Ct(t,0),e.D=new Ct(1-t,1),s.u(i),e},Input:"Output",Output:function(t,e,n){return gh(t=s.v(),0,1*n,!0),t.lineTo(.1*e,0),t.lineTo(1*e,0),t.lineTo(.9*e,1*n),mh(t),(e=t.q).C=new Ct(.1,0),e.D=new Ct(.9,1),s.u(t),e},Parallelogram2:function(t,e,n){t=t?t.Sc:NaN,isNaN(t)&&(t=.25);var i=s.v();return gh(i,t*e,0,!0),i.lineTo(1*e,0),i.lineTo((1-t)*e,1*n),i.lineTo(0,1*n),mh(i),(e=i.q).C=new Ct(t,0),e.D=new Ct(1-t,1),s.u(i),e},ThickCross:function(t,e,n){t=t?t.Sc:NaN,isNaN(t)&&(t=.25);var i=s.v();return gh(i,(.5-t/2)*e,0,!0),i.lineTo((.5+t/2)*e,0),i.lineTo((.5+t/2)*e,(.5-t/2)*n),i.lineTo(1*e,(.5-t/2)*n),i.lineTo(1*e,(.5+t/2)*n),i.lineTo((.5+t/2)*e,(.5+t/2)*n),i.lineTo((.5+t/2)*e,1*n),i.lineTo((.5-t/2)*e,1*n),i.lineTo((.5-t/2)*e,(.5+t/2)*n),i.lineTo(0,(.5+t/2)*n),i.lineTo(0,(.5-t/2)*n),i.lineTo((.5-t/2)*e,(.5-t/2)*n),mh(i),(e=i.q).C=new Ct(.5-t/2,.5-t/2),e.D=new Ct(.5+t/2,.5+t/2),s.u(i),e},ThickX:function(t,e,n){t=.25/Math.SQRT2;var i=s.v();return gh(i,.3*e,0,!0),i.lineTo(.5*e,.2*n),i.lineTo(.7*e,0),i.lineTo(1*e,.3*n),i.lineTo(.8*e,.5*n),i.lineTo(1*e,.7*n),i.lineTo(.7*e,1*n),i.lineTo(.5*e,.8*n),i.lineTo(.3*e,1*n),i.lineTo(0,.7*n),i.lineTo(.2*e,.5*n),i.lineTo(0,.3*n),mh(i),(e=i.q).C=new Ct(.5-t,.5-t),e.D=new Ct(.5+t,.5+t),s.u(i),e},ThinCross:function(t,e,n){var i=t?t.Sc:NaN;return isNaN(i)&&(i=.1),gh(t=s.v(),(.5-i/2)*e,0,!0),t.lineTo((.5+i/2)*e,0),t.lineTo((.5+i/2)*e,(.5-i/2)*n),t.lineTo(1*e,(.5-i/2)*n),t.lineTo(1*e,(.5+i/2)*n),t.lineTo((.5+i/2)*e,(.5+i/2)*n),t.lineTo((.5+i/2)*e,1*n),t.lineTo((.5-i/2)*e,1*n),t.lineTo((.5-i/2)*e,(.5+i/2)*n),t.lineTo(0,(.5+i/2)*n),t.lineTo(0,(.5-i/2)*n),t.lineTo((.5-i/2)*e,(.5-i/2)*n),mh(t),e=t.q,s.u(t),e},ThinX:function(t,e,n){return gh(t=s.v(),.1*e,0,!0),t.lineTo(.5*e,.4*n),t.lineTo(.9*e,0),t.lineTo(1*e,.1*n),t.lineTo(.6*e,.5*n),t.lineTo(1*e,.9*n),t.lineTo(.9*e,1*n),t.lineTo(.5*e,.6*n),t.lineTo(.1*e,1*n),t.lineTo(0,.9*n),t.lineTo(.4*e,.5*n),t.lineTo(0,.1*n),mh(t),e=t.q,s.u(t),e},RightTriangle:function(t,e,n){return gh(t=s.v(),0,0,!0),t.lineTo(1*e,1*n),t.lineTo(0,1*n),mh(t),(e=t.q).C=new Ct(0,.5),e.D=new Ct(.5,1),s.u(t),e},RoundedIBeam:function(t,e,n){return gh(t=s.v(),0,0,!0),t.lineTo(1*e,0),xh(t,.5*e,.25*n,.5*e,.75*n,1*e,1*n),t.lineTo(0,1*n),xh(t,.5*e,.75*n,.5*e,.25*n,0,0),mh(t),e=t.q,s.u(t),e},RoundedRectangle:function(t,e,n){var i=t?t.Sc:NaN;isNaN(i)&&(i=5),i=Math.min(i,e/3),t=(i=Math.min(i,n/3))*ne;var r=s.v();return gh(r,i,0,!0),r.lineTo(e-i,0),xh(r,e-t,0,e,t,e,i),r.lineTo(e,n-i),xh(r,e,n-t,e-t,n,e-i,n),r.lineTo(i,n),xh(r,t,n,0,n-t,0,n-i),r.lineTo(0,i),xh(r,0,t,t,0,i,0),mh(r),e=r.q,1<t?(e.C=new Ct(0,0,t,t),e.D=new Ct(1,1,-t,-t)):(e.C=b,e.D=M),s.u(r),e},Border:function(t,e,n){var i=t?t.Sc:NaN;return isNaN(i)&&(i=5),i=Math.min(i,e/3),i=Math.min(i,n/3),gh(t=s.v(),i,0,!0),t.lineTo(e-i,0),xh(t,e-0,0,e,0,e,i),t.lineTo(e,n-i),xh(t,e,n-0,e-0,n,e-i,n),t.lineTo(i,n),xh(t,0,n,0,n-0,0,n-i),t.lineTo(0,i),xh(t,0,0,0,0,i,0),mh(t),(e=t.q).C=b,e.D=M,s.u(t),e},SquareIBeam:function(t,e,n){var i=t?t.Sc:NaN;return isNaN(i)&&(i=.2),gh(t=s.v(),0,0,!0),t.lineTo(1*e,0),t.lineTo(1*e,i*n),t.lineTo((.5+i/2)*e,i*n),t.lineTo((.5+i/2)*e,(1-i)*n),t.lineTo(1*e,(1-i)*n),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(0,(1-i)*n),t.lineTo((.5-i/2)*e,(1-i)*n),t.lineTo((.5-i/2)*e,i*n),t.lineTo(0,i*n),mh(t),e=t.q,s.u(t),e},Trapezoid:function(t,e,n){t=t?t.Sc:NaN,isNaN(t)&&(t=.2);var i=s.v();return gh(i,t*e,0,!0),i.lineTo((1-t)*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),mh(i),(e=i.q).C=new Ct(t,0),e.D=new Ct(1-t,1),s.u(i),e},ManualLoop:"ManualOperation",ManualOperation:function(t,e,n){var i=t?t.Sc:NaN;return isNaN(i)&&(i=0),gh(t=s.v(),i,0,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(.9*e,1*n),t.lineTo(.1*e,1*n),mh(t),(e=t.q).C=new Ct(.1,0),e.D=new Ct(.9,1),s.u(t),e},GenderMale:function(t,e,n){t=s.v();var i=.4*ne,r=.4,o=s.P(),a=s.P(),l=s.P(),h=s.P();gh(t,(.5-r)*e,.5*n,!0),xh(t,(.5-r)*e,(.5-i)*n,(.5-i)*e,(.5-r)*n,.5*e,(.5-r)*n),_e(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.44,l,h,a,o,o),xh(t,l.x*e,l.y*n,h.x*e,h.y*n,a.x*e,a.y*n);var u=s.Fb(a.x,a.y);_e(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.56,o,o,a,l,h);var c=s.Fb(a.x,a.y);return t.lineTo((.1*u.x+.855)*e,.1*u.y*n),t.lineTo(.85*e,.1*u.y*n),t.lineTo(.85*e,0),t.lineTo(1*e,0),t.lineTo(1*e,.15*n),t.lineTo((.1*c.x+.9)*e,.15*n),t.lineTo((.1*c.x+.9)*e,(.1*c.y+.05*.9)*n),t.lineTo(c.x*e,c.y*n),xh(t,l.x*e,l.y*n,h.x*e,h.y*n,(.5+r)*e,.5*n),xh(t,(.5+r)*e,(.5+i)*n,(.5+i)*e,(.5+r)*n,.5*e,(.5+r)*n),xh(t,(.5-i)*e,(.5+r)*n,(.5-r)*e,(.5+i)*n,(.5-r)*e,.5*n),i=.35*ne,gh(t,.5*e,(.5-(r=.35))*n,!0,!0),xh(t,(.5-i)*e,(.5-r)*n,(.5-r)*e,(.5-i)*n,(.5-r)*e,.5*n),xh(t,(.5-r)*e,(.5+i)*n,(.5-i)*e,(.5+r)*n,.5*e,(.5+r)*n),xh(t,(.5+i)*e,(.5+r)*n,(.5+r)*e,(.5+i)*n,(.5+r)*e,.5*n),xh(t,(.5+r)*e,(.5-i)*n,(.5+i)*e,(.5-r)*n,.5*e,(.5-r)*n),gh(t,(.5-r)*e,.5*n,!0),s.A(o),s.A(a),s.A(l),s.A(h),s.A(u),s.A(c),(e=t.q).C=new Ct(.202,.257),e.D=new Ct(.692,.839),e.le=ea,s.u(t),e},GenderFemale:function(t,e,n){t=s.v();var i=.375,r=0,o=-.125,a=4*(Math.SQRT2-1)/3*i;return gh(t,(.525+r)*e,(.5+i+o)*n,!0),xh(t,(.5+a+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+a+o)*n,(.5+i+r)*e,(.5+o)*n),xh(t,(.5+i+r)*e,(.5-a+o)*n,(.5+a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),xh(t,(.5-a+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-a+o)*n,(.5-i+r)*e,(.5+o)*n),xh(t,(.5-i+r)*e,(.5+a+o)*n,(.5-a+r)*e,(.5+i+o)*n,(.475+r)*e,(.5+i+o)*n),t.lineTo(.475*e,.85*n),t.lineTo(.425*e,.85*n),t.lineTo(.425*e,.9*n),t.lineTo(.475*e,.9*n),t.lineTo(.475*e,1*n),t.lineTo(.525*e,1*n),t.lineTo(.525*e,.9*n),t.lineTo(.575*e,.9*n),t.lineTo(.575*e,.85*n),t.lineTo(.525*e,.85*n),mh(t),i=.325,r=0,o=-.125,a=4*(Math.SQRT2-1)/3*i,gh(t,(.5+i+r)*e,(.5+o)*n,!0,!0),xh(t,(.5+i+r)*e,(.5+a+o)*n,(.5+a+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),xh(t,(.5-a+r)*e,(.5+i+o)*n,(.5-i+r)*e,(.5+a+o)*n,(.5-i+r)*e,(.5+o)*n),xh(t,(.5-i+r)*e,(.5-a+o)*n,(.5-a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),xh(t,(.5+a+r)*e,(.5-i+o)*n,(.5+i+r)*e,(.5-a+o)*n,(.5+i+r)*e,(.5+o)*n),gh(t,(.525+r)*e,(.5+i+o)*n,!0),(e=t.q).C=new Ct(.232,.136),e.D=new Ct(.782,.611),e.le=ea,s.u(t),e},PlusLine:function(t,e,n){return gh(t=s.v(),0,.5*n,!1),t.lineTo(1*e,.5*n),t.moveTo(.5*e,0),t.lineTo(.5*e,1*n),e=t.q,s.u(t),e},XLine:function(t,e,n){return gh(t=s.v(),0,1*n,!1),t.lineTo(1*e,0),t.moveTo(0,0),t.lineTo(1*e,1*n),e=t.q,s.u(t),e},AsteriskLine:function(t,e,n){t=s.v();var i=.2/Math.SQRT2;return gh(t,i*e,(1-i)*n,!1),t.lineTo((1-i)*e,i*n),t.moveTo(i*e,i*n),t.lineTo((1-i)*e,(1-i)*n),t.moveTo(0*e,.5*n),t.lineTo(1*e,.5*n),t.moveTo(.5*e,0*n),t.lineTo(.5*e,1*n),e=t.q,s.u(t),e},CircleLine:function(t,e,n){var i=.5*ne;return gh(t=s.v(),1*e,.5*n,!1),xh(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),xh(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),xh(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),xh(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),(e=t.q).C=new Ct(.146,.146),e.D=new Ct(.853,.853),e.le=ea,s.u(t),e},Pie:function(t,e,n){t=s.v();var i=4*(Math.SQRT2-1)/3*.5;return gh(t,(.5*Math.SQRT2/2+.5)*e,(.5-.5*Math.SQRT2/2)*n,!0),xh(t,.7*e,0*n,.5*e,0*n,.5*e,0*n),xh(t,(.5-i+0)*e,0*n,0*e,(.5-i+0)*n,0*e,.5*n),xh(t,0*e,(.5+i+0)*n,(.5-i+0)*e,1*n,.5*e,1*n),xh(t,(.5+i+0)*e,1*n,1*e,(.5+i+0)*n,1*e,.5*n),t.lineTo(.5*e,.5*n),mh(t),e=t.q,s.u(t),e},PiePiece:function(t,e,n){var i=ne/Math.SQRT2*.5,r=Math.SQRT2/2,o=1-Math.SQRT2/2;return gh(t=s.v(),e,n,!0),xh(t,e,(1-i)*n,(r+i)*e,(o+i)*n,r*e,o*n),t.lineTo(0,n),mh(t),e=t.q,s.u(t),e},StopSign:function(t,e,n){t=1/(Math.SQRT2+2);var i=s.v();return gh(i,t*e,0,!0),i.lineTo((1-t)*e,0),i.lineTo(1*e,t*n),i.lineTo(1*e,(1-t)*n),i.lineTo((1-t)*e,1*n),i.lineTo(t*e,1*n),i.lineTo(0,(1-t)*n),i.lineTo(0,t*n),mh(i),(e=i.q).C=new Ct(t/2,t/2),e.D=new Ct(1-t/2,1-t/2),s.u(i),e},LogicImplies:function(t,e,n){var i=t?t.Sc:NaN;return isNaN(i)&&(i=.2),gh(t=s.v(),(1-i)*e,0*n,!1),t.lineTo(1*e,.5*n),t.lineTo((1-i)*e,n),t.moveTo(0,.5*n),t.lineTo(e,.5*n),(e=t.q).C=b,e.D=new Ct(.8,.5),s.u(t),e},LogicIff:function(t,e,n){var i=t?t.Sc:NaN;return isNaN(i)&&(i=.2),gh(t=s.v(),(1-i)*e,0*n,!1),t.lineTo(1*e,.5*n),t.lineTo((1-i)*e,n),t.moveTo(0,.5*n),t.lineTo(e,.5*n),t.moveTo(i*e,0),t.lineTo(0,.5*n),t.lineTo(i*e,n),(e=t.q).C=new Ct(.2,0),e.D=new Ct(.8,.5),s.u(t),e},LogicNot:function(t,e,n){return gh(t=s.v(),0,0,!1),t.lineTo(1*e,0),t.lineTo(1*e,1*n),e=t.q,s.u(t),e},LogicAnd:function(t,e,n){return gh(t=s.v(),0,1*n,!1),t.lineTo(.5*e,0),t.lineTo(1*e,1*n),(e=t.q).C=new Ct(.25,.5),e.D=new Ct(.75,1),s.u(t),e},LogicOr:function(t,e,n){return gh(t=s.v(),0,0,!1),t.lineTo(.5*e,1*n),t.lineTo(1*e,0),(e=t.q).C=new Ct(.219,0),e.D=new Ct(.78,.409),s.u(t),e},LogicXor:function(t,e,n){gh(t=s.v(),.5*e,0,!1),t.lineTo(.5*e,1*n),t.moveTo(0,.5*n),t.lineTo(1*e,.5*n);var i=.5*ne;return xh(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),xh(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),xh(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),xh(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),(e=t.q).le=ea,s.u(t),e},LogicTruth:function(t,e,n){return gh(t=s.v(),0,0,!1),t.lineTo(1*e,0),t.moveTo(.5*e,0),t.lineTo(.5*e,1*n),e=t.q,s.u(t),e},LogicFalsity:function(t,e,n){return gh(t=s.v(),0,1*n,!1),t.lineTo(1*e,1*n),t.moveTo(.5*e,1*n),t.lineTo(.5*e,0),e=t.q,s.u(t),e},LogicThereExists:function(t,e,n){return gh(t=s.v(),0,0,!1),t.lineTo(1*e,0),t.lineTo(1*e,.5*n),t.lineTo(0,.5*n),t.moveTo(1*e,.5*n),t.lineTo(1*e,1*n),t.lineTo(0,1*n),e=t.q,s.u(t),e},LogicForAll:function(t,e,n){return gh(t=s.v(),0,0,!1),t.lineTo(.5*e,1*n),t.lineTo(1*e,0),t.moveTo(.25*e,.5*n),t.lineTo(.75*e,.5*n),(e=t.q).C=new Ct(.25,0),e.D=new Ct(.75,.5),s.u(t),e},LogicIsDefinedAs:function(t,e,n){return gh(t=s.v(),0,0,!1),t.lineTo(e,0),t.moveTo(0,.5*n),t.lineTo(e,.5*n),t.moveTo(0,n),t.lineTo(e,n),(e=t.q).C=new Ct(.01,.01),e.D=new Ct(.99,.49),s.u(t),e},LogicIntersect:function(t,e,n){var i=.5*ne;return gh(t=s.v(),0,1*n,!1),t.lineTo(0,.5*n),xh(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),xh(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),t.lineTo(1*e,1*n),(e=t.q).C=new Ct(0,.5),e.D=M,s.u(t),e},LogicUnion:function(t,e,n){var i=.5*ne;return gh(t=s.v(),1*e,0,!1),t.lineTo(1*e,.5*n),xh(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),xh(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),t.lineTo(0,0),(e=t.q).C=b,e.D=new Ct(1,.5),s.u(t),e},Arrow:function(t,e,n){var i=t?t.Sc:NaN,r=t?t.ev:NaN;return isNaN(i)&&(i=.3),isNaN(r)&&(r=.3),gh(t=s.v(),0,(.5-r/2)*n,!0),t.lineTo((1-i)*e,(.5-r/2)*n),t.lineTo((1-i)*e,0),t.lineTo(1*e,.5*n),t.lineTo((1-i)*e,1*n),t.lineTo((1-i)*e,(.5+r/2)*n),t.lineTo(0,(.5+r/2)*n),mh(t),(e=t.q).C=new Ct(0,.5-r/2),i=Be(0,.5+r/2,1,.5+r/2,1-i,1,1,.5,s.P()),e.D=new Ct(i.x,i.y),s.A(i),s.u(t),e},ISOProcess:"Chevron",Chevron:function(t,e,n){return gh(t=s.v(),0,0,!0),t.lineTo(.5*e,0),t.lineTo(1*e,.5*n),t.lineTo(.5*e,1*n),t.lineTo(0,1*n),t.lineTo(.5*e,.5*n),mh(t),e=t.q,s.u(t),e},DoubleArrow:function(t,e,n){return gh(t=s.v(),0,0,!0),t.lineTo(.3*e,.214*n),t.lineTo(.3*e,0),t.lineTo(1*e,.5*n),t.lineTo(.3*e,1*n),t.lineTo(.3*e,.786*n),t.lineTo(0,1*n),mh(t),gh(t,.3*e,.214*n,!1),t.lineTo(.3*e,.786*n),t.kb(!1),e=t.q,s.u(t),e},DoubleEndArrow:function(t,e,n){return gh(t=s.v(),1*e,.5*n,!0),t.lineTo(.7*e,1*n),t.lineTo(.7*e,.7*n),t.lineTo(.3*e,.7*n),t.lineTo(.3*e,1*n),t.lineTo(0,.5*n),t.lineTo(.3*e,0),t.lineTo(.3*e,.3*n),t.lineTo(.7*e,.3*n),t.lineTo(.7*e,0),mh(t),e=t.q,n=Be(0,.5,.3,0,0,.3,.3,.3,s.P()),e.C=new Ct(n.x,n.y),n=Be(.7,1,1,.5,.7,.7,1,.7,n),e.D=new Ct(n.x,n.y),s.A(n),s.u(t),e},IBeamArrow:function(t,e,n){return gh(t=s.v(),1*e,.5*n,!0),t.lineTo(.7*e,1*n),t.lineTo(.7*e,.7*n),t.lineTo(.2*e,.7*n),t.lineTo(.2*e,1*n),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(.2*e,0),t.lineTo(.2*e,.3*n),t.lineTo(.7*e,.3*n),t.lineTo(.7*e,0),mh(t),(e=t.q).C=new Ct(0,.3),n=Be(.7,1,1,.5,.7,.7,1,.7,s.P()),e.D=new Ct(n.x,n.y),s.A(n),s.u(t),e},Pointer:function(t,e,n){return gh(t=s.v(),1*e,.5*n,!0),t.lineTo(0,1*n),t.lineTo(.2*e,.5*n),t.lineTo(0,0),mh(t),(e=t.q).C=new Ct(.2,.35),n=Be(.2,.65,1,.65,0,1,1,.5,s.P()),e.D=new Ct(n.x,n.y),s.A(n),s.u(t),e},RoundedPointer:function(t,e,n){return gh(t=s.v(),1*e,.5*n,!0),t.lineTo(0,1*n),xh(t,.5*e,.75*n,.5*e,.25*n,0,0),mh(t),(e=t.q).C=new Ct(.4,.35),n=Be(.2,.65,1,.65,0,1,1,.5,s.P()),e.D=new Ct(n.x,n.y),s.A(n),s.u(t),e},SplitEndArrow:function(t,e,n){return gh(t=s.v(),1*e,.5*n,!0),t.lineTo(.7*e,1*n),t.lineTo(.7*e,.7*n),t.lineTo(0,.7*n),t.lineTo(.2*e,.5*n),t.lineTo(0,.3*n),t.lineTo(.7*e,.3*n),t.lineTo(.7*e,0),mh(t),(e=t.q).C=new Ct(.2,.3),n=Be(.7,1,1,.5,.7,.7,1,.7,s.P()),e.D=new Ct(n.x,n.y),s.A(n),s.u(t),e},MessageToUser:"SquareArrow",SquareArrow:function(t,e,n){return gh(t=s.v(),1*e,.5*n,!0),t.lineTo(.7*e,1*n),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(.7*e,0),mh(t),(e=t.q).C=b,e.D=new Ct(.7,1),s.u(t),e},Cone1:function(t,e,n){var i=.5*ne,r=.1*ne;return gh(t=s.v(),0,.9*n,!0),t.lineTo(.5*e,0),t.lineTo(1*e,.9*n),xh(t,1*e,(.9+r)*n,(.5+i)*e,1*n,.5*e,1*n),xh(t,(.5-i)*e,1*n,0,(.9+r)*n,0,.9*n),mh(t),(e=t.q).C=new Ct(.25,.5),e.D=new Ct(.75,.97),s.u(t),e},Cone2:function(t,e,n){return gh(t=s.v(),0,.9*n,!0),xh(t,(1-.85/.9)*e,1*n,.85/.9*e,1*n,1*e,.9*n),t.lineTo(.5*e,0),t.lineTo(0,.9*n),mh(t),gh(t,0,.9*n,!1),xh(t,(1-.85/.9)*e,.8*n,.85/.9*e,.8*n,1*e,.9*n),t.kb(!1),(e=t.q).C=new Ct(.25,.5),e.D=new Ct(.75,.82),s.u(t),e},Cube1:function(t,e,n){return gh(t=s.v(),.5*e,1*n,!0),t.lineTo(1*e,.85*n),t.lineTo(1*e,.15*n),t.lineTo(.5*e,0*n),t.lineTo(0*e,.15*n),t.lineTo(0*e,.85*n),mh(t),gh(t,.5*e,1*n,!1),t.lineTo(.5*e,.3*n),t.lineTo(0,.15*n),t.moveTo(.5*e,.3*n),t.lineTo(1*e,.15*n),t.kb(!1),(e=t.q).C=new Ct(0,.3),e.D=new Ct(.5,.85),s.u(t),e},Cube2:function(t,e,n){return gh(t=s.v(),0,.3*n,!0),t.lineTo(0*e,1*n),t.lineTo(.7*e,n),t.lineTo(1*e,.7*n),t.lineTo(1*e,0*n),t.lineTo(.3*e,0*n),mh(t),gh(t,0,.3*n,!1),t.lineTo(.7*e,.3*n),t.lineTo(1*e,0*n),t.moveTo(.7*e,.3*n),t.lineTo(.7*e,1*n),t.kb(!1),(e=t.q).C=new Ct(0,.3),e.D=new Ct(.7,1),s.u(t),e},MagneticData:"Cylinder1",Cylinder1:function(t,e,n){var i=.5*ne,r=.1*ne;return gh(t=s.v(),0,.1*n,!0),xh(t,0,(.1-r)*n,(.5-i)*e,0,.5*e,0),xh(t,(.5+i)*e,0,1*e,(.1-r)*n,1*e,.1*n),t.lineTo(e,.9*n),xh(t,1*e,(.9+r)*n,(.5+i)*e,1*n,.5*e,1*n),xh(t,(.5-i)*e,1*n,0,(.9+r)*n,0,.9*n),t.lineTo(0,.1*n),gh(t,0,.1*n,!1),xh(t,0,(.1+r)*n,(.5-i)*e,.2*n,.5*e,.2*n),xh(t,(.5+i)*e,.2*n,1*e,(.1+r)*n,1*e,.1*n),t.kb(!1),(e=t.q).C=new Ct(0,.2),e.D=new Ct(1,.9),s.u(t),e},Cylinder2:function(t,e,n){var i=.5*ne,r=.1*ne;return gh(t=s.v(),0,.9*n,!0),t.lineTo(0,.1*n),xh(t,0,(.1-r)*n,(.5-i)*e,0,.5*e,0),xh(t,(.5+i)*e,0,1*e,(.1-r)*n,1*e,.1*n),t.lineTo(1*e,.9*n),xh(t,1*e,(.9+r)*n,(.5+i)*e,1*n,.5*e,1*n),xh(t,(.5-i)*e,1*n,0,(.9+r)*n,0,.9*n),gh(t,0,.9*n,!1),xh(t,0,(.9-r)*n,(.5-i)*e,.8*n,.5*e,.8*n),xh(t,(.5+i)*e,.8*n,1*e,(.9-r)*n,1*e,.9*n),t.kb(!1),(e=t.q).C=new Ct(0,.1),e.D=new Ct(1,.8),s.u(t),e},Cylinder3:function(t,e,n){var i=.1*ne,r=.5*ne;return gh(t=s.v(),.1*e,0,!0),t.lineTo(.9*e,0),xh(t,(.9+i)*e,0,1*e,(.5-r)*n,1*e,.5*n),xh(t,1*e,(.5+r)*n,(.9+i)*e,1*n,.9*e,1*n),t.lineTo(.1*e,1*n),xh(t,(.1-i)*e,1*n,0,(.5+r)*n,0,.5*n),xh(t,0,(.5-r)*n,(.1-i)*e,0,.1*e,0),gh(t,.1*e,0,!1),xh(t,(.1+i)*e,0,.2*e,(.5-r)*n,.2*e,.5*n),xh(t,.2*e,(.5+r)*n,(.1+i)*e,1*n,.1*e,1*n),t.kb(!1),(e=t.q).C=new Ct(.2,0),e.D=new Ct(.9,1),s.u(t),e},DirectData:"Cylinder4",Cylinder4:function(t,e,n){var i=.1*ne,r=.5*ne;return gh(t=s.v(),.9*e,0,!0),xh(t,(.9+i)*e,0,1*e,(.5-r)*n,1*e,.5*n),xh(t,1*e,(.5+r)*n,(.9+i)*e,1*n,.9*e,1*n),t.lineTo(.1*e,1*n),xh(t,(.1-i)*e,1*n,0,(.5+r)*n,0,.5*n),xh(t,0,(.5-r)*n,(.1-i)*e,0,.1*e,0),t.lineTo(.9*e,0),gh(t,.9*e,0,!1),xh(t,(.9-i)*e,0,.8*e,(.5-r)*n,.8*e,.5*n),xh(t,.8*e,(.5+r)*n,(.9-i)*e,1*n,.9*e,1*n),t.kb(!1),(e=t.q).C=new Ct(.1,0),e.D=new Ct(.8,1),s.u(t),e},Prism1:function(t,e,n){return gh(t=s.v(),.25*e,.25*n,!0),t.lineTo(.75*e,0),t.lineTo(e,.5*n),t.lineTo(.5*e,n),t.lineTo(0,n),mh(t),gh(t,.25*e,.25*n,!1),t.lineTo(.5*e,n),t.kb(!1),(e=t.q).C=new Ct(.408,.172),e.D=new Ct(.833,.662),s.u(t),e},Prism2:function(t,e,n){return gh(t=s.v(),0,.25*n,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*n),t.lineTo(.75*e,.75*n),t.lineTo(0,1*n),mh(t),gh(t,0,n,!1),t.lineTo(.25*e,.5*n),t.lineTo(e,.25*n),t.moveTo(0,.25*n),t.lineTo(.25*e,.5*n),t.kb(!1),(e=t.q).C=new Ct(.25,.5),e.D=new Ct(.75,.75),s.u(t),e},Pyramid1:function(t,e,n){return gh(t=s.v(),.5*e,0,!0),t.lineTo(e,.75*n),t.lineTo(.5*e,1*n),t.lineTo(0,.75*n),mh(t),gh(t,.5*e,0,!1),t.lineTo(.5*e,1*n),t.kb(!1),(e=t.q).C=new Ct(.25,.367),e.D=new Ct(.75,.875),s.u(t),e},Pyramid2:function(t,e,n){return gh(t=s.v(),.5*e,0,!0),t.lineTo(e,.85*n),t.lineTo(.5*e,1*n),t.lineTo(0,.85*n),mh(t),gh(t,.5*e,0,!1),t.lineTo(.5*e,.7*n),t.lineTo(0,.85*n),t.moveTo(.5*e,.7*n),t.lineTo(1*e,.85*n),t.kb(!1),(e=t.q).C=new Ct(.25,.367),e.D=new Ct(.75,.875),s.u(t),e},Actor:function(t,e,n){var i=.2*ne,r=.1*ne,o=.5,a=.1;return gh(t=s.v(),o*e,(a+.1)*n,!0),xh(t,(o-i)*e,(a+.1)*n,(o-.2)*e,(a+r)*n,(o-.2)*e,a*n),xh(t,(o-.2)*e,(a-r)*n,(o-i)*e,(a-.1)*n,o*e,(a-.1)*n),xh(t,(o+i)*e,(a-.1)*n,(o+.2)*e,(a-r)*n,(o+.2)*e,a*n),xh(t,(o+.2)*e,(a+r)*n,(o+i)*e,(a+.1)*n,o*e,(a+.1)*n),r=ne*(i=.05),gh(t,.5*e,.2*n,!0),t.lineTo(.95*e,.2*n),xh(t,((o=.95)+r)*e,((a=.25)-i)*n,(o+i)*e,(a-r)*n,(o+i)*e,a*n),t.lineTo(1*e,.6*n),t.lineTo(.85*e,.6*n),t.lineTo(.85*e,.35*n),xh(t,((o=.825)+(i=.025))*e,((a=.35)-(r=ne*i))*n,(o+r)*e,(a-i)*n,o*e,(a-i)*n),xh(t,(o-r)*e,(a-i)*n,(o-i)*e,(a-r)*n,(o-i)*e,a*n),t.lineTo(.8*e,1*n),t.lineTo(.55*e,1*n),t.lineTo(.55*e,.7*n),xh(t,((o=.5)+(i=.05))*e,((a=.7)-(r=ne*i))*n,(o+r)*e,(a-i)*n,o*e,(a-i)*n),xh(t,(o-r)*e,(a-i)*n,(o-i)*e,(a-r)*n,(o-i)*e,a*n),t.lineTo(.45*e,1*n),t.lineTo(.2*e,1*n),t.lineTo(.2*e,.35*n),xh(t,((o=.175)+(i=.025))*e,((a=.35)-(r=ne*i))*n,(o+r)*e,(a-i)*n,o*e,(a-i)*n),xh(t,(o-r)*e,(a-i)*n,(o-i)*e,(a-r)*n,(o-i)*e,a*n),t.lineTo(.15*e,.6*n),t.lineTo(0*e,.6*n),t.lineTo(0*e,.25*n),xh(t,((o=.05)-(i=.05))*e,((a=.25)-(r=ne*i))*n,(o-r)*e,(a-i)*n,o*e,(a-i)*n),t.lineTo(.5*e,.2*n),(e=t.q).C=new Ct(.2,.2),e.D=new Ct(.8,.65),s.u(t),e},Card:function(t,e,n){return gh(t=s.v(),1*e,0*n,!0),t.lineTo(1*e,1*n),t.lineTo(0*e,1*n),t.lineTo(0*e,.2*n),t.lineTo(.2*e,0*n),mh(t),(e=t.q).C=new Ct(0,.2),e.D=M,s.u(t),e},Collate:function(t,e,n){return gh(t=s.v(),.5*e,.5*n,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(.5*e,.5*n),gh(t,.5*e,.5*n,!0),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(.5*e,.5*n),(e=t.q).C=new Ct(.25,0),e.D=new Ct(.75,.25),s.u(t),e},CreateRequest:function(t,e,n){t=t?t.Sc:NaN,isNaN(t)&&(t=.1);var i=s.v();return gh(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),mh(i),gh(i,0,t*n,!1),i.lineTo(1*e,t*n),i.moveTo(0,(1-t)*n),i.lineTo(1*e,(1-t)*n),i.kb(!1),(e=i.q).C=new Ct(0,t),e.D=new Ct(1,1-t),s.u(i),e},Database:function(t,e,n){t=s.v();var i=.5*ne,r=.1*ne;return gh(t,1*e,.1*n,!0),t.lineTo(1*e,.9*n),xh(t,1*e,(.9+r)*n,(.5+i)*e,1*n,.5*e,1*n),xh(t,(.5-i)*e,1*n,0,(.9+r)*n,0,.9*n),t.lineTo(0,.1*n),xh(t,0,(.1-r)*n,(.5-i)*e,0,.5*e,0),xh(t,(.5+i)*e,0,1*e,(.1-r)*n,1*e,.1*n),gh(t,1*e,.1*n,!1),xh(t,1*e,(.1+r)*n,(.5+i)*e,.2*n,.5*e,.2*n),xh(t,(.5-i)*e,.2*n,0,(.1+r)*n,0,.1*n),t.moveTo(1*e,.2*n),xh(t,1*e,(.2+r)*n,(.5+i)*e,.3*n,.5*e,.3*n),xh(t,(.5-i)*e,.3*n,0,(.2+r)*n,0,.2*n),t.moveTo(1*e,.3*n),xh(t,1*e,(.3+r)*n,(.5+i)*e,.4*n,.5*e,.4*n),xh(t,(.5-i)*e,.4*n,0,(.3+r)*n,0,.3*n),t.kb(!1),(e=t.q).C=new Ct(0,.4),e.D=new Ct(1,.9),s.u(t),e},StoredData:"DataStorage",DataStorage:function(t,e,n){return gh(t=s.v(),0,0,!0),t.lineTo(.75*e,0),xh(t,1*e,0,1*e,1*n,.75*e,1*n),t.lineTo(0,1*n),xh(t,.25*e,.9*n,.25*e,.1*n,0,0),mh(t),(e=t.q).C=new Ct(.226,0),e.D=new Ct(.81,1),s.u(t),e},DiskStorage:function(t,e,n){t=s.v();var i=.5*ne,r=.1*ne;return gh(t,1*e,.1*n,!0),t.lineTo(1*e,.9*n),xh(t,1*e,(.9+r)*n,(.5+i)*e,1*n,.5*e,1*n),xh(t,(.5-i)*e,1*n,0,(.9+r)*n,0,.9*n),t.lineTo(0,.1*n),xh(t,0,(.1-r)*n,(.5-i)*e,0,.5*e,0),xh(t,(.5+i)*e,0,1*e,(.1-r)*n,1*e,.1*n),gh(t,1*e,.1*n,!1),xh(t,1*e,(.1+r)*n,(.5+i)*e,.2*n,.5*e,.2*n),xh(t,(.5-i)*e,.2*n,0,(.1+r)*n,0,.1*n),t.moveTo(1*e,.2*n),xh(t,1*e,(.2+r)*n,(.5+i)*e,.3*n,.5*e,.3*n),xh(t,(.5-i)*e,.3*n,0,(.2+r)*n,0,.2*n),t.kb(!1),(e=t.q).C=new Ct(0,.3),e.D=new Ct(1,.9),s.u(t),e},Display:function(t,e,n){return gh(t=s.v(),.25*e,0,!0),t.lineTo(.75*e,0),xh(t,1*e,0,1*e,1*n,.75*e,1*n),t.lineTo(.25*e,1*n),t.lineTo(0,.5*n),mh(t),(e=t.q).C=new Ct(.25,0),e.D=new Ct(.75,1),s.u(t),e},DividedEvent:function(t,e,n){t=t?t.Sc:NaN,isNaN(t)?t=.2:.15>t&&(t=.15);var i=s.v(),r=.2*ne;return gh(i,0,.2*n,!0),xh(i,0,(.2-r)*n,(.2-r)*e,0,.2*e,0),i.lineTo(.8*e,0),xh(i,(.8+r)*e,0,1*e,(.2-r)*n,1*e,.2*n),i.lineTo(1*e,.8*n),xh(i,1*e,(.8+r)*n,(.8+r)*e,1*n,.8*e,1*n),i.lineTo(.2*e,1*n),xh(i,(.2-r)*e,1*n,0,(.8+r)*n,0,.8*n),i.lineTo(0,.2*n),gh(i,0,t*n,!1),i.lineTo(1*e,t*n),i.kb(!1),(e=i.q).C=new Ct(0,t),e.D=new Ct(1,1-t),s.u(i),e},DividedProcess:function(t,e,n){t=t?t.Sc:NaN,(isNaN(t)||.1>t)&&(t=.1);var i=s.v();return gh(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),mh(i),gh(i,0,t*n,!1),i.lineTo(1*e,t*n),i.kb(!1),(e=i.q).C=new Ct(0,t),e.D=M,s.u(i),e},Document:function(t,e,n){return n/=.8,gh(t=s.v(),0,.7*n,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(1*e,.7*n),xh(t,.5*e,.4*n,.5*e,1*n,0,.7*n),mh(t),(e=t.q).C=b,e.D=new Ct(1,.6),s.u(t),e},ExternalOrganization:function(t,e,n){t=t?t.Sc:NaN,(isNaN(t)||.2>t)&&(t=.2);var i=s.v();return gh(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),mh(i),gh(i,t*e,0,!1),i.lineTo(0,t*n),i.moveTo(1*e,t*n),i.lineTo((1-t)*e,0),i.moveTo(0,(1-t)*n),i.lineTo(t*e,1*n),i.moveTo((1-t)*e,1*n),i.lineTo(1*e,(1-t)*n),i.kb(!1),(e=i.q).C=new Ct(t/2,t/2),e.D=new Ct(1-t/2,1-t/2),s.u(i),e},ExternalProcess:function(t,e,n){return gh(t=s.v(),.5*e,0,!0),t.lineTo(1*e,.5*n),t.lineTo(.5*e,1*n),t.lineTo(0,.5*n),mh(t),gh(t,.1*e,.4*n,!1),t.lineTo(.1*e,.6*n),t.moveTo(.9*e,.6*n),t.lineTo(.9*e,.4*n),t.moveTo(.6*e,.1*n),t.lineTo(.4*e,.1*n),t.moveTo(.4*e,.9*n),t.lineTo(.6*e,.9*n),t.kb(!1),(e=t.q).C=new Ct(.25,.25),e.D=new Ct(.75,.75),s.u(t),e},File:function(t,e,n){return gh(t=s.v(),0,0,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*n),t.lineTo(1*e,1*n),t.lineTo(0,1*n),mh(t),gh(t,.75*e,0,!1),t.lineTo(.75*e,.25*n),t.lineTo(1*e,.25*n),t.kb(!1),(e=t.q).C=new Ct(0,.25),e.D=M,s.u(t),e},Interrupt:function(t,e,n){return gh(t=s.v(),1*e,.5*n,!0),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(1*e,.5*n),gh(t,1*e,.5*n,!1),t.lineTo(1*e,1*n),gh(t,1*e,.5*n,!1),t.lineTo(1*e,0),(e=t.q).C=new Ct(0,.25),e.D=new Ct(.5,.75),s.u(t),e},InternalStorage:function(t,e,n){var i=t?t.Sc:NaN;t=t?t.ev:NaN,isNaN(i)&&(i=.1),isNaN(t)&&(t=.1);var r=s.v();return gh(r,0,0,!0),r.lineTo(1*e,0),r.lineTo(1*e,1*n),r.lineTo(0,1*n),mh(r),gh(r,i*e,0,!1),r.lineTo(i*e,1*n),r.moveTo(0,t*n),r.lineTo(1*e,t*n),r.kb(!1),(e=r.q).C=new Ct(i,t),e.D=M,s.u(r),e},Junction:function(t,e,n){t=s.v();var i=1/Math.SQRT2,r=(1-1/Math.SQRT2)/2,o=.5*ne;return gh(t,1*e,.5*n,!0),xh(t,1*e,(.5+o)*n,(.5+o)*e,1*n,.5*e,1*n),xh(t,(.5-o)*e,1*n,0,(.5+o)*n,0,.5*n),xh(t,0,(.5-o)*n,(.5-o)*e,0,.5*e,0),xh(t,(.5+o)*e,0,1*e,(.5-o)*n,1*e,.5*n),gh(t,(r+i)*e,(r+i)*n,!1),t.lineTo(r*e,r*n),t.moveTo(r*e,(r+i)*n),t.lineTo((r+i)*e,r*n),t.kb(!1),(e=t.q).le=ea,s.u(t),e},LinedDocument:function(t,e,n){return n/=.8,gh(t=s.v(),0,.7*n,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(1*e,.7*n),xh(t,.5*e,.4*n,.5*e,1*n,0,.7*n),mh(t),gh(t,.1*e,0,!1),t.lineTo(.1*e,.75*n),t.kb(!1),(e=t.q).C=new Ct(.1,0),e.D=new Ct(1,.6),s.u(t),e},LoopLimit:function(t,e,n){return gh(t=s.v(),0,1*n,!0),t.lineTo(0,.25*n),t.lineTo(.25*e,0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*n),t.lineTo(1*e,1*n),mh(t),(e=t.q).C=new Ct(0,.25),e.D=M,s.u(t),e},SequentialData:"MagneticTape",MagneticTape:function(t,e,n){t=s.v();var i=.5*ne;return gh(t,.5*e,1*n,!0),xh(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),xh(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),xh(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),xh(t,1*e,(.5+i)*n,(.5+i)*e,.9*n,.6*e,.9*n),t.lineTo(1*e,.9*n),t.lineTo(1*e,1*n),t.lineTo(.5*e,1*n),(e=t.q).C=new Ct(.15,.15),e.D=new Ct(.85,.8),s.u(t),e},ManualInput:function(t,e,n){return gh(t=s.v(),1*e,0,!0),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(0,.25*n),mh(t),(e=t.q).C=new Ct(0,.25),e.D=M,s.u(t),e},MessageFromUser:function(t,e,n){t=t?t.Sc:NaN,isNaN(t)&&(t=.7);var i=s.v();return gh(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(t*e,.5*n),i.lineTo(1*e,1*n),i.lineTo(0,1*n),mh(i),(e=i.q).C=b,e.D=new Ct(t,1),s.u(i),e},MicroformProcessing:function(t,e,n){t=t?t.Sc:NaN,isNaN(t)&&(t=.25);var i=s.v();return gh(i,0,0,!0),i.lineTo(.5*e,t*n),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(.5*e,(1-t)*n),i.lineTo(0,1*n),mh(i),(e=i.q).C=new Ct(0,t),e.D=new Ct(1,1-t),s.u(i),e},MicroformRecording:function(t,e,n){return gh(t=s.v(),0,0,!0),t.lineTo(.75*e,.25*n),t.lineTo(1*e,.15*n),t.lineTo(1*e,.85*n),t.lineTo(.75*e,.75*n),t.lineTo(0,1*n),mh(t),(e=t.q).C=new Ct(0,.25),e.D=new Ct(1,.75),s.u(t),e},MultiDocument:function(t,e,n){return n/=.8,gh(t=s.v(),e,0,!0),t.lineTo(e,.5*n),xh(t,.96*e,.47*n,.93*e,.45*n,.9*e,.44*n),t.lineTo(.9*e,.6*n),xh(t,.86*e,.57*n,.83*e,.55*n,.8*e,.54*n),t.lineTo(.8*e,.7*n),xh(t,.4*e,.4*n,.4*e,1*n,0,.7*n),t.lineTo(0,.2*n),t.lineTo(.1*e,.2*n),t.lineTo(.1*e,.1*n),t.lineTo(.2*e,.1*n),t.lineTo(.2*e,0),mh(t),gh(t,.1*e,.2*n,!1),t.lineTo(.8*e,.2*n),t.lineTo(.8*e,.54*n),t.moveTo(.2*e,.1*n),t.lineTo(.9*e,.1*n),t.lineTo(.9*e,.44*n),t.kb(!1),(e=t.q).C=new Ct(0,.25),e.D=new Ct(.8,.77),s.u(t),e},MultiProcess:function(t,e,n){return gh(t=s.v(),.1*e,.1*n,!0),t.lineTo(.2*e,.1*n),t.lineTo(.2*e,0),t.lineTo(1*e,0),t.lineTo(1*e,.8*n),t.lineTo(.9*e,.8*n),t.lineTo(.9*e,.9*n),t.lineTo(.8*e,.9*n),t.lineTo(.8*e,1*n),t.lineTo(0,1*n),t.lineTo(0,.2*n),t.lineTo(.1*e,.2*n),mh(t),gh(t,.2*e,.1*n,!1),t.lineTo(.9*e,.1*n),t.lineTo(.9*e,.8*n),t.moveTo(.1*e,.2*n),t.lineTo(.8*e,.2*n),t.lineTo(.8*e,.9*n),t.kb(!1),(e=t.q).C=new Ct(0,.2),e.D=new Ct(.8,1),s.u(t),e},OfflineStorage:function(t,e,n){t=t?t.Sc:NaN,isNaN(t)&&(t=.1);var i=1-t,r=s.v();return gh(r,0,0,!0),r.lineTo(1*e,0),r.lineTo(.5*e,1*n),mh(r),gh(r,.5*t*e,t*n,!1),r.lineTo((1-.5*t)*e,t*n),r.kb(!1),(e=r.q).C=new Ct(i/4+.5*t,t),e.D=new Ct(3*i/4+.5*t,t+.5*i),s.u(r),e},OffPageConnector:function(t,e,n){return gh(t=s.v(),0,0,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.5*n),t.lineTo(.75*e,1*n),t.lineTo(0,1*n),mh(t),(e=t.q).C=b,e.D=new Ct(.75,1),s.u(t),e},Or:function(t,e,n){t=s.v();var i=.5*ne;return gh(t,1*e,.5*n,!0),xh(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),xh(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),xh(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),xh(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),gh(t,1*e,.5*n,!1),t.lineTo(0,.5*n),t.moveTo(.5*e,1*n),t.lineTo(.5*e,0),t.kb(!1),(e=t.q).le=ea,s.u(t),e},PaperTape:function(t,e,n){return n/=.8,gh(t=s.v(),0,.7*n,!0),t.lineTo(0,.3*n),xh(t,.5*e,.6*n,.5*e,0,1*e,.3*n),t.lineTo(1*e,.7*n),xh(t,.5*e,.4*n,.5*e,1*n,0,.7*n),mh(t),(e=t.q).C=new Ct(0,.49),e.D=new Ct(1,.75),s.u(t),e},PrimitiveFromCall:function(t,e,n){var i=t?t.Sc:NaN;t=t?t.ev:NaN,isNaN(i)&&(i=.1),isNaN(t)&&(t=.3);var r=s.v();return gh(r,0,0,!0),r.lineTo(1*e,0),r.lineTo((1-t)*e,.5*n),r.lineTo(1*e,1*n),r.lineTo(0,1*n),mh(r),(e=r.q).C=new Ct(i,0),e.D=new Ct(1-t,1),s.u(r),e},PrimitiveToCall:function(t,e,n){var i=t?t.Sc:NaN;t=t?t.ev:NaN,isNaN(i)&&(i=.1),isNaN(t)&&(t=.3);var r=s.v();return gh(r,0,0,!0),r.lineTo((1-t)*e,0),r.lineTo(1*e,.5*n),r.lineTo((1-t)*e,1*n),r.lineTo(0,1*n),mh(r),(e=r.q).C=new Ct(i,0),e.D=new Ct(1-t,1),s.u(r),e},Subroutine:"Procedure",Procedure:function(t,e,n){t=t?t.Sc:NaN,isNaN(t)&&(t=.1);var i=s.v();return gh(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),mh(i),gh(i,(1-t)*e,0,!1),i.lineTo((1-t)*e,1*n),i.moveTo(t*e,0),i.lineTo(t*e,1*n),i.kb(!1),(e=i.q).C=new Ct(t,0),e.D=new Ct(1-t,1),s.u(i),e},Process:function(t,e,n){t=t?t.Sc:NaN,isNaN(t)&&(t=.1);var i=s.v();return gh(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),mh(i),gh(i,t*e,0,!1),i.lineTo(t*e,1*n),i.kb(!1),(e=i.q).C=new Ct(t,0),e.D=M,s.u(i),e},Sort:function(t,e,n){return gh(t=s.v(),.5*e,0,!0),t.lineTo(1*e,.5*n),t.lineTo(.5*e,1*n),t.lineTo(0,.5*n),mh(t),gh(t,0,.5*n,!1),t.lineTo(1*e,.5*n),t.kb(!1),(e=t.q).C=new Ct(.25,.25),e.D=new Ct(.75,.5),s.u(t),e},Start:function(t,e,n){return gh(t=s.v(),.25*e,0,!0),gh(t,.25*e,0,!0),t.arcTo(270,180,.75*e,.5*n,.25*e,.5*n),t.arcTo(90,180,.25*e,.5*n,.25*e,.5*n),gh(t,.25*e,0,!1),t.lineTo(.25*e,1*n),t.moveTo(.75*e,0),t.lineTo(.75*e,1*n),t.kb(!1),(e=t.q).C=new Ct(.25,0),e.D=new Ct(.75,1),s.u(t),e},Terminator:function(t,e,n){return gh(t=s.v(),.25*e,0,!0),t.arcTo(270,180,.75*e,.5*n,.25*e,.5*n),t.arcTo(90,180,.25*e,.5*n,.25*e,.5*n),(e=t.q).C=new Ct(.23,0),e.D=new Ct(.77,1),s.u(t),e},TransmittalTape:function(t,e,n){t=t?t.Sc:NaN,isNaN(t)&&(t=.1);var i=s.v();return gh(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(.75*e,(1-t)*n),i.lineTo(0,(1-t)*n),mh(i),(e=i.q).C=b,e.D=new Ct(1,1-t),s.u(i),e},AndGate:function(t,e,n){t=s.v();var i=.5*ne;return gh(t,0,0,!0),t.lineTo(.5*e,0),xh(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),xh(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),t.lineTo(0,1*n),mh(t),(e=t.q).C=b,e.D=new Ct(.55,1),s.u(t),e},Buffer:function(t,e,n){return gh(t=s.v(),0,0,!0),t.lineTo(1*e,.5*n),t.lineTo(0,1*n),mh(t),(e=t.q).C=new Ct(0,.25),e.D=new Ct(.5,.75),s.u(t),e},Clock:function(t,e,n){t=s.v();var i=.5*ne;return gh(t,1*e,.5*n,!0),xh(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),xh(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),xh(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),xh(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),gh(t,1*e,.5*n,!1),t.lineTo(1*e,.5*n),gh(t,.8*e,.75*n,!1),t.lineTo(.8*e,.25*n),t.lineTo(.6*e,.25*n),t.lineTo(.6*e,.75*n),t.lineTo(.4*e,.75*n),t.lineTo(.4*e,.25*n),t.lineTo(.2*e,.25*n),t.lineTo(.2*e,.75*n),t.kb(!1),(e=t.q).le=ea,s.u(t),e},Ground:function(t,e,n){return gh(t=s.v(),.5*e,0,!1),t.lineTo(.5*e,.4*n),t.moveTo(.2*e,.6*n),t.lineTo(.8*e,.6*n),t.moveTo(.3*e,.8*n),t.lineTo(.7*e,.8*n),t.moveTo(.4*e,1*n),t.lineTo(.6*e,1*n),e=t.q,s.u(t),e},Inverter:function(t,e,n){t=s.v();var i=.1*ne;return gh(t,.8*e,.5*n,!0),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(.8*e,.5*n),gh(t,1*e,.5*n,!0),xh(t,1*e,(.5+i)*n,(.9+i)*e,.6*n,.9*e,.6*n),xh(t,(.9-i)*e,.6*n,.8*e,(.5+i)*n,.8*e,.5*n),xh(t,.8*e,(.5-i)*n,(.9-i)*e,.4*n,.9*e,.4*n),xh(t,(.9+i)*e,.4*n,1*e,(.5-i)*n,1*e,.5*n),(e=t.q).C=new Ct(0,.25),e.D=new Ct(.4,.75),s.u(t),e},NandGate:function(t,e,n){t=s.v();var i=.5*ne,r=.4*ne,o=.1*ne;return gh(t,.8*e,.5*n,!0),xh(t,.8*e,(.5+r)*n,(.4+i)*e,1*n,.4*e,1*n),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(.4*e,0),xh(t,(.4+i)*e,0,.8*e,(.5-r)*n,.8*e,.5*n),gh(t,1*e,.5*n,!0),xh(t,1*e,(.5+o)*n,(.9+o)*e,.6*n,.9*e,.6*n),xh(t,(.9-o)*e,.6*n,.8*e,(.5+o)*n,.8*e,.5*n),xh(t,.8*e,(.5-o)*n,(.9-o)*e,.4*n,.9*e,.4*n),xh(t,(.9+o)*e,.4*n,1*e,(.5-o)*n,1*e,.5*n),(e=t.q).C=new Ct(0,.05),e.D=new Ct(.55,.95),s.u(t),e},NorGate:function(t,e,n){t=s.v();var i=.5,r=ne*i,o=0,a=.5;return gh(t,.8*e,.5*n,!0),xh(t,.7*e,(a+r)*n,(o+r)*e,(a+i)*n,0,1*n),xh(t,.25*e,.75*n,.25*e,.25*n,0,0),xh(t,(o+r)*e,(a-i)*n,.7*e,(a-r)*n,.8*e,.5*n),r=.1*ne,gh(t,((o=.9)-(i=.1))*e,(a=.5)*n,!0),xh(t,(o-i)*e,(a-r)*n,(o-r)*e,(a-i)*n,o*e,(a-i)*n),xh(t,(o+r)*e,(a-i)*n,(o+i)*e,(a-r)*n,(o+i)*e,a*n),xh(t,(o+i)*e,(a+r)*n,(o+r)*e,(a+i)*n,o*e,(a+i)*n),xh(t,(o-r)*e,(a+i)*n,(o-i)*e,(a+r)*n,(o-i)*e,a*n),(e=t.q).C=new Ct(.2,.25),e.D=new Ct(.6,.75),s.u(t),e},OrGate:function(t,e,n){t=s.v();var i=.5*ne;return gh(t,0,0,!0),xh(t,(0+i+i)*e,0*n,.8*e,(.5-i)*n,1*e,.5*n),xh(t,.8*e,(.5+i)*n,(0+i+i)*e,1*n,0,1*n),xh(t,.25*e,.75*n,.25*e,.25*n,0,0),mh(t),(e=t.q).C=new Ct(.2,.25),e.D=new Ct(.75,.75),s.u(t),e},XnorGate:function(t,e,n){t=s.v();var i=.5,r=ne*i,o=.2,a=.5;return gh(t,.1*e,0,!1),xh(t,.35*e,.25*n,.35*e,.75*n,.1*e,1*n),gh(t,.8*e,.5*n,!0),xh(t,.7*e,(a+r)*n,(o+r)*e,(a+i)*n,.2*e,1*n),xh(t,.45*e,.75*n,.45*e,.25*n,.2*e,0),xh(t,(o+r)*e,(a-i)*n,.7*e,(a-r)*n,.8*e,.5*n),r=.1*ne,gh(t,((o=.9)-(i=.1))*e,(a=.5)*n,!0),xh(t,(o-i)*e,(a-r)*n,(o-r)*e,(a-i)*n,o*e,(a-i)*n),xh(t,(o+r)*e,(a-i)*n,(o+i)*e,(a-r)*n,(o+i)*e,a*n),xh(t,(o+i)*e,(a+r)*n,(o+r)*e,(a+i)*n,o*e,(a+i)*n),xh(t,(o-r)*e,(a+i)*n,(o-i)*e,(a+r)*n,(o-i)*e,a*n),(e=t.q).C=new Ct(.4,.25),e.D=new Ct(.65,.75),s.u(t),e},XorGate:function(t,e,n){t=s.v();var i=.5*ne;return gh(t,.1*e,0,!1),xh(t,.35*e,.25*n,.35*e,.75*n,.1*e,1*n),gh(t,.2*e,0,!0),xh(t,(.2+i)*e,0*n,.9*e,(.5-i)*n,1*e,.5*n),xh(t,.9*e,(.5+i)*n,(.2+i)*e,1*n,.2*e,1*n),xh(t,.45*e,.75*n,.45*e,.25*n,.2*e,0),mh(t),(e=t.q).C=new Ct(.4,.25),e.D=new Ct(.8,.75),s.u(t),e},Capacitor:function(t,e,n){return gh(t=s.v(),0,0,!1),t.lineTo(0,1*n),t.moveTo(1*e,0),t.lineTo(1*e,1*n),e=t.q,s.u(t),e},Resistor:function(t,e,n){return gh(t=s.v(),0,.5*n,!1),t.lineTo(.1*e,0),t.lineTo(.2*e,1*n),t.lineTo(.3*e,0),t.lineTo(.4*e,1*n),t.lineTo(.5*e,0),t.lineTo(.6*e,1*n),t.lineTo(.7*e,.5*n),e=t.q,s.u(t),e},Inductor:function(t,e,n){t=s.v();var i=.1*ne,r=.1;return gh(t,(r-.5*i)*e,n,!1),xh(t,(r-i)*e,n,(r-.1)*e,0,(r+.1)*e,0),xh(t,(.1+(r=.3))*e,0,(r+i)*e,n,r*e,n),xh(t,(r-i)*e,n,(r-.1)*e,0,(r+.1)*e,0),xh(t,(.1+(r=.5))*e,0,(r+i)*e,n,r*e,n),xh(t,(r-i)*e,n,(r-.1)*e,0,(r+.1)*e,0),xh(t,(.1+(r=.7))*e,0,(r+i)*e,n,r*e,n),xh(t,(r-i)*e,n,(r-.1)*e,0,(r+.1)*e,0),xh(t,(.1+(r=.9))*e,0,(r+i)*e,n,(r+.5*i)*e,n),e=t.q,s.u(t),e},ACvoltageSource:function(t,e,n){t=s.v();var i=.5*ne;return gh(t,0*e,.5*n,!1),xh(t,0*e,(.5-i)*n,(.5-i)*e,0*n,.5*e,0*n),xh(t,(.5+i)*e,0*n,1*e,(.5-i)*n,1*e,.5*n),xh(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),xh(t,(.5-i)*e,1*n,0*e,(.5+i)*n,0*e,.5*n),t.moveTo(.1*e,.5*n),xh(t,.5*e,0*n,.5*e,1*n,.9*e,.5*n),(e=t.q).le=ea,s.u(t),e},DCvoltageSource:function(t,e,n){return gh(t=s.v(),0,.75*n,!1),t.lineTo(0,.25*n),t.moveTo(1*e,0),t.lineTo(1*e,1*n),e=t.q,s.u(t),e},Diode:function(t,e,n){return gh(t=s.v(),1*e,0,!1),t.lineTo(1*e,.5*n),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(1*e,.5*n),t.lineTo(1*e,1*n),(e=t.q).C=new Ct(0,.25),e.D=new Ct(.5,.75),s.u(t),e},Wifi:function(t,e,n){var i=e,r=n;e*=.38,n*=.6,t=s.v();var o=.8*ne,a=.8,l=0,h=.5;return gh(t,l*e+(i=(i-e)/2),(h+a)*n+(r=(r-n)/2),!0),xh(t,(l-o)*e+i,(h+a)*n+r,(l-a)*e+i,(h+o)*n+r,(l-a)*e+i,h*n+r),xh(t,(l-a)*e+i,(h-o)*n+r,(l-o)*e+i,(h-a)*n+r,l*e+i,(h-a)*n+r),xh(t,l*e+i,(h-a)*n+r,(l-a+.5*o)*e+i,(h-o)*n+r,(l-a+.5*o)*e+i,h*n+r),xh(t,(l-a+.5*o)*e+i,(h+o)*n+r,l*e+i,(h+a)*n+r,l*e+i,(h+a)*n+r),mh(t),o=.4*ne,gh(t,(l=.2)*e+i,((h=.5)+(a=.4))*n+r,!0),xh(t,(l-o)*e+i,(h+a)*n+r,(l-a)*e+i,(h+o)*n+r,(l-a)*e+i,h*n+r),xh(t,(l-a)*e+i,(h-o)*n+r,(l-o)*e+i,(h-a)*n+r,l*e+i,(h-a)*n+r),xh(t,l*e+i,(h-a)*n+r,(l-a+.5*o)*e+i,(h-o)*n+r,(l-a+.5*o)*e+i,h*n+r),xh(t,(l-a+.5*o)*e+i,(h+o)*n+r,l*e+i,(h+a)*n+r,l*e+i,(h+a)*n+r),mh(t),o=.2*ne,h=l=.5,gh(t,(l-(a=.2))*e+i,h*n+r,!0),xh(t,(l-a)*e+i,(h-o)*n+r,(l-o)*e+i,(h-a)*n+r,l*e+i,(h-a)*n+r),xh(t,(l+o)*e+i,(h-a)*n+r,(l+a)*e+i,(h-o)*n+r,(l+a)*e+i,h*n+r),xh(t,(l+a)*e+i,(h+o)*n+r,(l+o)*e+i,(h+a)*n+r,l*e+i,(h+a)*n+r),xh(t,(l-o)*e+i,(h+a)*n+r,(l-a)*e+i,(h+o)*n+r,(l-a)*e+i,h*n+r),o=.4*ne,gh(t,(l=.8)*e+i,((h=.5)-(a=.4))*n+r,!0),xh(t,(l+o)*e+i,(h-a)*n+r,(l+a)*e+i,(h-o)*n+r,(l+a)*e+i,h*n+r),xh(t,(l+a)*e+i,(h+o)*n+r,(l+o)*e+i,(h+a)*n+r,l*e+i,(h+a)*n+r),xh(t,l*e+i,(h+a)*n+r,(l+a-.5*o)*e+i,(h+o)*n+r,(l+a-.5*o)*e+i,h*n+r),xh(t,(l+a-.5*o)*e+i,(h-o)*n+r,l*e+i,(h-a)*n+r,l*e+i,(h-a)*n+r),mh(t),o=.8*ne,gh(t,(l=1)*e+i,((h=.5)-(a=.8))*n+r,!0),xh(t,(l+o)*e+i,(h-a)*n+r,(l+a)*e+i,(h-o)*n+r,(l+a)*e+i,h*n+r),xh(t,(l+a)*e+i,(h+o)*n+r,(l+o)*e+i,(h+a)*n+r,l*e+i,(h+a)*n+r),xh(t,l*e+i,(h+a)*n+r,(l+a-.5*o)*e+i,(h+o)*n+r,(l+a-.5*o)*e+i,h*n+r),xh(t,(l+a-.5*o)*e+i,(h-o)*n+r,l*e+i,(h-a)*n+r,l*e+i,(h-a)*n+r),mh(t),e=t.q,s.u(t),e},Email:function(t,e,n){return gh(t=s.v(),0,0,!0),t.lineTo(1*e,0),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(0,0),mh(t),gh(t,0,0,!1),t.lineTo(.5*e,.6*n),t.lineTo(1*e,0),t.moveTo(0,1*n),t.lineTo(.45*e,.54*n),t.moveTo(1*e,1*n),t.lineTo(.55*e,.54*n),t.kb(!1),e=t.q,s.u(t),e},Ethernet:function(t,e,n){return gh(t=s.v(),.35*e,0,!0),t.lineTo(.65*e,0),t.lineTo(.65*e,.4*n),t.lineTo(.35*e,.4*n),t.lineTo(.35*e,0),mh(t),gh(t,.1*e,1*n,!0,!0),t.lineTo(.4*e,1*n),t.lineTo(.4*e,.6*n),t.lineTo(.1*e,.6*n),t.lineTo(.1*e,1*n),mh(t),gh(t,.6*e,1*n,!0,!0),t.lineTo(.9*e,1*n),t.lineTo(.9*e,.6*n),t.lineTo(.6*e,.6*n),t.lineTo(.6*e,1*n),mh(t),gh(t,0,.5*n,!1),t.lineTo(1*e,.5*n),t.moveTo(.5*e,.5*n),t.lineTo(.5*e,.4*n),t.moveTo(.75*e,.5*n),t.lineTo(.75*e,.6*n),t.moveTo(.25*e,.5*n),t.lineTo(.25*e,.6*n),t.kb(!1),e=t.q,s.u(t),e},Power:function(t,e,n){t=s.v();var i=.4*ne,r=.4,o=s.P(),a=s.P(),l=s.P(),h=s.P();_e(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.5,o,o,a,l,h);var u=s.Fb(a.x,a.y);return gh(t,a.x*e,a.y*n,!0),xh(t,l.x*e,l.y*n,h.x*e,h.y*n,(.5+r)*e,.5*n),xh(t,(.5+r)*e,(.5+i)*n,(.5+i)*e,(.5+r)*n,.5*e,(.5+r)*n),xh(t,(.5-i)*e,(.5+r)*n,(.5-r)*e,(.5+i)*n,(.5-r)*e,.5*n),_e(.5-r,.5,.5-r,.5-i,.5-i,.5-r,.5,.5-r,.5,l,h,a,o,o),xh(t,l.x*e,l.y*n,h.x*e,h.y*n,a.x*e,a.y*n),_e(.5-(r=.3),.5,.5-r,.5-(i=.3*ne),.5-i,.5-r,.5,.5-r,.5,l,h,a,o,o),t.lineTo(a.x*e,a.y*n),xh(t,h.x*e,h.y*n,l.x*e,l.y*n,(.5-r)*e,.5*n),xh(t,(.5-r)*e,(.5+i)*n,(.5-i)*e,(.5+r)*n,.5*e,(.5+r)*n),xh(t,(.5+i)*e,(.5+r)*n,(.5+r)*e,(.5+i)*n,(.5+r)*e,.5*n),_e(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.5,o,o,a,l,h),xh(t,h.x*e,h.y*n,l.x*e,l.y*n,a.x*e,a.y*n),mh(t),gh(t,.45*e,0,!0),t.lineTo(.45*e,.5*n),t.lineTo(.55*e,.5*n),t.lineTo(.55*e,0),mh(t),s.A(o),s.A(a),s.A(l),s.A(h),s.A(u),(e=t.q).C=new Ct(.25,.55),e.D=new Ct(.75,.8),s.u(t),e},Fallout:function(t,e,n){t=s.v();var i=.5*ne;gh(t,0*e,.5*n,!0),xh(t,0*e,(.5-i)*n,(.5-i)*e,0*n,.5*e,0*n),xh(t,(.5+i)*e,0*n,1*e,(.5-i)*n,1*e,.5*n),xh(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),xh(t,(.5-i)*e,1*n,0*e,(.5+i)*n,0*e,.5*n);var r=i=0;return gh(t,(.3+i)*e,(.8+r)*n,!0,!0),t.lineTo((.5+i)*e,(.5+r)*n),t.lineTo((.1+i)*e,(.5+r)*n),t.lineTo((.3+i)*e,(.8+r)*n),i=.4,r=0,mh(t),gh(t,(.3+i)*e,(.8+r)*n,!0,!0),t.lineTo((.5+i)*e,(.5+r)*n),t.lineTo((.1+i)*e,(.5+r)*n),t.lineTo((.3+i)*e,(.8+r)*n),i=.2,r=-.3,mh(t),gh(t,(.3+i)*e,(.8+r)*n,!0,!0),t.lineTo((.5+i)*e,(.5+r)*n),t.lineTo((.1+i)*e,(.5+r)*n),t.lineTo((.3+i)*e,(.8+r)*n),mh(t),(e=t.q).le=ea,s.u(t),e},IrritationHazard:function(t,e,n){return gh(t=s.v(),.2*e,0*n,!0),t.lineTo(.5*e,.3*n),t.lineTo(.8*e,0*n),t.lineTo(1*e,.2*n),t.lineTo(.7*e,.5*n),t.lineTo(1*e,.8*n),t.lineTo(.8*e,1*n),t.lineTo(.5*e,.7*n),t.lineTo(.2*e,1*n),t.lineTo(0*e,.8*n),t.lineTo(.3*e,.5*n),t.lineTo(0*e,.2*n),mh(t),(e=t.q).C=new Ct(.3,.3),e.D=new Ct(.7,.7),s.u(t),e},ElectricalHazard:function(t,e,n){return gh(t=s.v(),.37*e,0*n,!0),t.lineTo(.5*e,.11*n),t.lineTo(.77*e,.04*n),t.lineTo(.33*e,.49*n),t.lineTo(1*e,.37*n),t.lineTo(.63*e,.86*n),t.lineTo(.77*e,.91*n),t.lineTo(.34*e,1*n),t.lineTo(.34*e,.78*n),t.lineTo(.44*e,.8*n),t.lineTo(.65*e,.56*n),t.lineTo(0*e,.68*n),mh(t),e=t.q,s.u(t),e},FireHazard:function(t,e,n){return gh(t=s.v(),.1*e,1*n,!0),xh(t,-.25*e,.63*n,.45*e,.44*n,.29*e,0*n),xh(t,.48*e,.17*n,.54*e,.35*n,.51*e,.42*n),xh(t,.59*e,.29*n,.58*e,.28*n,.59*e,.18*n),xh(t,.8*e,.34*n,.88*e,.43*n,.75*e,.6*n),xh(t,.87*e,.48*n,.88*e,.43*n,.88*e,.31*n),xh(t,1.17*e,.76*n,.82*e,.8*n,.9*e,1*n),mh(t),(e=t.q).C=new Ct(.05,.645),e.D=new Ct(.884,.908),s.u(t),e},BpmnActivityLoop:function(t,e,n){t=s.v();var i=4*(Math.SQRT2-1)/3*.5;return gh(t,.65*e,1*n,!1),xh(t,(1-i+0)*e,1*n,1*e,(.5+i+0)*n,1*e,.5*n),xh(t,1*e,(.5-i+0)*n,(.5+i+0)*e,0*n,.5*e,0*n),xh(t,(.5-i+0)*e,0*n,0*e,(.5-i+0)*n,0*e,.5*n),xh(t,0*e,(.5+i+0)*n,(.5-i+0)*e,1*n,.35*e,.98*n),t.moveTo(.25*e,.8*n),t.lineTo(.35*e,1*n),t.lineTo(.1*e,1*n),e=t.q,s.u(t),e},BpmnActivityParallel:function(t,e,n){return gh(t=s.v(),0,0,!1),t.lineTo(0,1*n),t.moveTo(.5*e,0),t.lineTo(.5*e,1*n),t.moveTo(1*e,0),t.lineTo(1*e,1*n),e=t.q,s.u(t),e},BpmnActivitySequential:function(t,e,n){return gh(t=s.v(),0,0,!1),t.lineTo(1*e,0),t.moveTo(0,.5*n),t.lineTo(1*e,.5*n),t.moveTo(0,1*n),t.lineTo(1*e,1*n),e=t.q,s.u(t),e},BpmnActivityAdHoc:function(t,e,n){return gh(t=s.v(),0,0,!1),gh(t,1*e,1*n,!1),gh(t,0,.5*n,!1),xh(t,.2*e,.35*n,.3*e,.35*n,.5*e,.5*n),xh(t,.7*e,.65*n,.8*e,.65*n,1*e,.5*n),e=t.q,s.u(t),e},BpmnActivityCompensation:function(t,e,n){return gh(t=s.v(),0,.5*n,!0),t.lineTo(.5*e,0),t.lineTo(.5*e,.5*n),t.lineTo(1*e,1*n),t.lineTo(1*e,0),t.lineTo(.5*e,.5*n),t.lineTo(.5*e,1*n),mh(t),e=t.q,s.u(t),e},BpmnTaskMessage:function(t,e,n){return gh(t=s.v(),0,.2*n,!0),t.lineTo(1*e,.2*n),t.lineTo(1*e,.8*n),t.lineTo(0,.8*n),t.lineTo(0,.8*n),mh(t),gh(t,0,.2*n,!1),t.lineTo(.5*e,.5*n),t.lineTo(1*e,.2*n),t.kb(!1),e=t.q,s.u(t),e},BpmnTaskScript:function(t,e,n){return gh(t=s.v(),.7*e,1*n,!0),t.lineTo(.3*e,1*n),xh(t,.6*e,.5*n,0,.5*n,.3*e,0),t.lineTo(.7*e,0),xh(t,.4*e,.5*n,1*e,.5*n,.7*e,1*n),mh(t),gh(t,.45*e,.73*n,!1),t.lineTo(.7*e,.73*n),t.moveTo(.38*e,.5*n),t.lineTo(.63*e,.5*n),t.moveTo(.31*e,.27*n),t.lineTo(.56*e,.27*n),t.kb(!1),e=t.q,s.u(t),e},BpmnTaskUser:function(t,e,n){gh(t=s.v(),0,0,!1),gh(t,.335*e,(1-.555)*n,!0),t.lineTo(.335*e,.595*n),t.lineTo(.665*e,.595*n),t.lineTo(.665*e,(1-.555)*n),xh(t,.88*e,.46*n,.98*e,.54*n,1*e,.68*n),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(0,.68*n),xh(t,.02*e,.54*n,.12*e,.46*n,.335*e,(1-.555)*n),t.lineTo(.365*e,.405*n);var i,r=.5-.285,o=Math.PI/4;return xh(t,(.5-((o=(i=4*(1-Math.cos(o))/(3*Math.sin(o)))*r)+r)/2)*e,(r+(r+(i*=r))/2)*n,.285*e,(r+i)*n,.285*e,r*n),xh(t,.285*e,(r-i)*n,(.5-o)*e,0*n,.5*e,0*n),xh(t,(.5+o)*e,0*n,(.5+r)*e,(r-i)*n,(.5+r)*e,r*n),xh(t,(.5+r)*e,(r+i)*n,(.5+(o+r)/2)*e,(r+(r+i)/2)*n,.635*e,.405*n),t.lineTo(.635*e,.405*n),t.lineTo(.665*e,(1-.555)*n),t.lineTo(.665*e,.595*n),t.lineTo(.335*e,.595*n),gh(t,.2*e,1*n,!1),t.lineTo(.2*e,.8*n),gh(t,.8*e,1*n,!1),t.lineTo(.8*e,.8*n),e=t.q,s.u(t),e},BpmnEventConditional:function(t,e,n){return gh(t=s.v(),.1*e,0,!0),t.lineTo(.9*e,0),t.lineTo(.9*e,1*n),t.lineTo(.1*e,1*n),mh(t),gh(t,.2*e,.2*n,!1),t.lineTo(.8*e,.2*n),t.moveTo(.2*e,.4*n),t.lineTo(.8*e,.4*n),t.moveTo(.2*e,.6*n),t.lineTo(.8*e,.6*n),t.moveTo(.2*e,.8*n),t.lineTo(.8*e,.8*n),t.kb(!1),e=t.q,s.u(t),e},BpmnEventError:function(t,e,n){return gh(t=s.v(),0,1*n,!0),t.lineTo(.33*e,0),t.lineTo(.66*e,.5*n),t.lineTo(1*e,0),t.lineTo(.66*e,1*n),t.lineTo(.33*e,.5*n),mh(t),e=t.q,s.u(t),e},BpmnEventEscalation:function(t,e,n){return gh(t=s.v(),0,0,!1),gh(t,1*e,1*n,!1),gh(t,.1*e,1*n,!0),t.lineTo(.5*e,0),t.lineTo(.9*e,1*n),t.lineTo(.5*e,.5*n),mh(t),e=t.q,s.u(t),e},BpmnEventTimer:function(t,e,n){t=s.v();var i=.5*ne;return gh(t,1*e,.5*n,!0),xh(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),xh(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),xh(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),xh(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),gh(t,.5*e,0,!1),t.lineTo(.5*e,.15*n),t.moveTo(.5*e,1*n),t.lineTo(.5*e,.85*n),t.moveTo(0,.5*n),t.lineTo(.15*e,.5*n),t.moveTo(1*e,.5*n),t.lineTo(.85*e,.5*n),t.moveTo(.5*e,.5*n),t.lineTo(.58*e,.1*n),t.moveTo(.5*e,.5*n),t.lineTo(.78*e,.54*n),t.kb(!1),(e=t.q).le=ea,s.u(t),e}};for(Th in Mh)Mh[Th.toLowerCase()]=Th;var Nh,jh,Ah,_h,Oh={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};function Eh(t){var e=ke[t];if(void 0===e){var n=t.toLowerCase();if("none"===n)return"None";if(void 0===(e=ke[n])){var i,r=null;for(i in Oh)if(i.toLowerCase()===n){r=i;break}if(null!==r)return t=Ut(Oh[r],!1),ke[r]=t,n!==r&&(ke[n]=r),r}}return"string"==typeof e?e:e instanceof We?t:null}function Dh(t){tl.call(this,t),this.T=2408959,this.Nl=this.Pi="",this.rt=this.ot=this.At=this.zs=null,this.Ct="",this.lh=this.ls=this.Bt=this.tn=null,this.qt="",this.Fp=null,this.pt=ge,this.st="",this.Gp=null,this.Yd="",this.xw=this.xr=this.Al=null,this.jj=new ft(NaN,NaN).freeze(),this.Es="",this.Ql=null,this.Fs=b,this.Ns=le,this.Gs=he,this.Tr=null,this.As=_h,this.vn=ae,this.un="gray",this.Pg=4,this.QD=-1,this.Zt=NaN,this.EH=new vt,this.Sl=null,this.zk=NaN}function Lh(t){0!=(16384&t.T)!=0&&(t.updateAdornments(),t.T&=-16385)}function Fh(t){if(!1===jc(t)){var e=t.g;null!==e&&(e.Gg.add(t),e.Ve()),Ac(t,!0),t.cj()}}function Ih(t){if(t.T|=2097152,!1!==jc(t)){var e=t.position;(n=t.location).H()&&e.H()||zh(t,e,n);var n,i=(n=t.bc).copy();n.Xa(),n.x=e.x,n.y=e.y,n.freeze(),t.zy(i,n),Ac(t,!1)}}function Rh(t,e,n,i){void 0===i&&(i=new ft),n=n.de()?P:n;var r=e.Ga;if(i.n(r.width*n.x+n.offsetX,r.height*n.y+n.offsetY),null===e||e===t)return i;for(e.transform.vb(i),e=e.R;null!==e&&e!==t;)e.transform.vb(i),e=e.R;return t.ij.vb(i),i.offset(-t.Fd.x,-t.Fd.y),i}function Vh(t,e){var n,i=t.EH;isNaN(t.zk)&&(t.zk=function t(e){for(var n=(e=e.xa.o).length,i=0,r=0;r<n;r++){var o=e[r];if(o instanceof tl)i=Math.max(i,t(o));else if(o instanceof Nl){t:{if(null!==!o.bg)switch(o.$o){case"None":case"Square":case"Ellipse":case"Circle":case"LineH":case"LineV":case"FramedRectangle":case"RoundedRectangle":case"Line1":case"Line2":case"Border":case"Cube1":case"Cube2":case"Junction":case"Cylinder1":case"Cylinder2":case"Cylinder3":case"Cylinder4":case"PlusLine":case"XLine":case"ThinCross":case"ThickCross":o=0;break t}o=o.Rg/2*o.xn*o.Jj()}i=Math.max(i,o)}}return i}(t));var r=2*(n=t.zk);if(!t.dl)return i.n(e.x-1-n,e.y-1-n,e.width+2+r,e.height+2+r),i;n=e.x,r=e.y;var o=t.shadowBlur,s=t.tK,a=(a=e.width)+o,l=(l=e.height)+o;return n-=o/2,r-=o/2,0<s.x?a+=s.x:(n+=s.x,a-=s.x),0<s.y?l+=s.y:(r+=s.y,l-=s.y),i.n(n-1,r-1,a+2,l+2),i}function Bh(t,e,n,i){null===e||t instanceof Lc||(e=e.Ra).zc&&Tr(e,t,"position",i.copy(),n.copy(),!1)}function zh(t,e,n){var i=s.P(),r=t.Of,o=t.Cf;r.de()&&s.k("determineOffset: Part's locationSpot must be real: "+r.toString());var a=o.Ga,l=o instanceof Nl?o.mb:0;if(i.pv(0,0,a.width+l,a.height+l,r),o!==t)for(i.offset(-l/2,-l/2),o.transform.vb(i),r=o.R;null!==r&&r!==t;)r.transform.vb(i),r=r.R;t.ij.vb(i),i.offset(-t.Fd.x,-t.Fd.y),r=t.g,o=n.H(),a=e.H(),o&&a?0!=(2097152&t.T)?qh(t,e,n,r,i):Gh(t,e,n,r,i):o?qh(t,e,n,r,i):a&&Gh(t,e,n,r,i),t.T|=2097152,s.A(i),t.cj()}function qh(t,e,n,i,r){var o=e.x,s=e.y;e.n(n.x-r.x,n.y-r.y),null!==i&&((r=(n=i.Ra).sk)||!n.zc||t instanceof Lc||Tr(n,t,"position",new ft(o,s),e,!1),r||e.x===o&&e.y===s||(n=i.lb,i.lb=!0,t.i("position",new ft(o,s),e),i.lb=n))}function Gh(t,e,n,i,r){var o=n.copy();n.n(e.x+r.x,e.y+r.y),n.O(o)||null===i||(e=i.lb,i.lb=!0,t.i("location",o,n),i.lb=e)}function Hh(t,e,n){_c(t,!1),t instanceof Fc&&n.oB(t),t.layer.Yc||e||n.Qc(),e=t.bc;var i=n.wb;i.H()?(Oc(t)?wt(e,i)||t.Pf(!1):e.jg(i)&&t.Pf(!0),t.updateAdornments()):n.Jl=!0}function Uh(t,e){var n=t.bc;if(0!==n.width&&0!==n.height&&!isNaN(n.x)&&!isNaN(n.y)&&t.isVisible()){var i=t.transform;null!==t.lc&&(wa(t,e,t.lc,!0,!0),e.fillRect(n.x,n.y,n.width,n.height)),null===t.lc&&null===t.Mb&&(wa(t,e,"rgba(0,0,0,0.4)",!0,!1),e.fillRect(n.x,n.y,n.width,n.height)),null!==t.Mb&&(i.Nu()||e.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),n=t.Ga,wa(t,e,t.Mb,!0,!1),e.fillRect(0,0,n.width,n.height),i.Nu()||e.transform(i.m22*(n=1/(i.m11*i.m22-i.m12*i.m21)),-i.m12*n,-i.m21*n,i.m11*n,n*(i.m21*i.dy-i.m22*i.dx),n*(i.m12*i.dx-i.m11*i.dy)))}}s.Ta(Dh,tl),s.ka("Part",Dh),Dh.prototype.cloneProtected=function(t){tl.prototype.cloneProtected.call(this,t),t.T=-4097&this.T|49152,t.Pi=this.Pi,t.Nl=this.Nl,t.zs=this.zs,t.At=this.At,t.ot=this.ot,t.rt=this.rt,t.Ct=this.Ct,t.Bt=this.Bt,t.ls=this.ls,t.lh=null,t.qt=this.qt,t.pt=this.pt.V(),t.st=this.st,t.Yd=this.Yd,t.xr=this.xr,t.jj.assign(this.jj),t.Es=this.Es,t.Fs=this.Fs.V(),t.Ns=this.Ns.V(),t.Gs=this.Gs.V(),t.Tr=this.Tr,t.As=this.As,t.vn=this.vn.V(),t.un=this.un,t.Pg=this.Pg,t.Zt=this.Zt},Dh.prototype.Ei=function(t){tl.prototype.Ei.call(this,t),t.cl(),t.tn=null,t.Fp=null,t.Gp=null,t.Ql=null,t.Sl=null},Dh.prototype.toString=function(){var t=s.xf(Object.getPrototypeOf(this))+"#"+s.Nd(this);return null!==this.data&&(t+="("+_n(this.data)+")"),t},Dh.LayoutNone=0,Dh.LayoutAdded=Nh=1,Dh.LayoutRemoved=jh=2,Dh.LayoutShown=4,Dh.LayoutHidden=8,Dh.LayoutNodeSized=16,Dh.LayoutGroupLayout=Ah=32,Dh.LayoutNodeReplaced=64,Dh.LayoutStandard=_h=Nh|jh|28|Ah|64,Dh.LayoutAll=16777215,Dh.prototype.qo=function(t,e,n,i,r,o,s){var a=this.g;null!==a&&(t===te&&"elements"===e?r instanceof tl?hl(r,function(t){qo(a,t),Ho(a,t)}):r instanceof sh&&Uo(a,r):t===ee&&"elements"===e&&(r instanceof tl?hl(r,function(t){Go(a,t),Ko(a,t)}):r instanceof sh&&Jo(a,r)),a.od(t,e,n,i,r,o,s))},Dh.prototype.updateTargetBindings=Dh.prototype.Ob=function(t){if(tl.prototype.Ob.call(this,t),null!==this.data)for(var e=(t=this.xa.o).length,n=0;n<e;n++){var i=t[n];i instanceof tl&&hl(i,function(t){null!==t.data&&t.Ob()})}},Dh.prototype.updateRelationshipsFromData=function(){var t=this.data;if(null!==t){var e=this.g;if(null!==e){var n=e.ea;n instanceof En&&(t=n.Sn(t),null===(e=e.NI(t))||e instanceof Tf)&&(this.Ka=e)}}},s.w(Dh,{key:"key"},function(){var t=this.g;return null===t?void 0:t.ea.zb(this.data)},{configurable:!0}),s.w(Dh,{zx:"adornments"},function(){return null===this.lh?X:this.lh.qG}),Dh.prototype.findAdornment=Dh.prototype.nq=function(t){r&&s.h(t,"string",Dh,"findAdornment:category");var e=this.lh;return null===e?null:e.oa(t)},Dh.prototype.addAdornment=Dh.prototype.cm=function(t,e){if(null!==e){r&&(s.h(t,"string",Dh,"addAdornment:category"),s.l(e,Lc,Dh,"addAdornment:ad"));var n=null,i=this.lh;if(null!==i&&(n=i.oa(t)),n!==e){if(null!==n){var o=n.g;null!==o&&o.remove(n)}null===i&&(this.lh=i=new ut("string",Lc)),e.Pi!==t&&(e.Kd=t),i.add(t,e),null!==(n=this.g)&&(n.add(e),e.data=this.data)}}},Dh.prototype.removeAdornment=Dh.prototype.Xj=function(t){r&&s.h(t,"string",Dh,"removeAdornment:category");var e=this.lh;if(null!==e){var n=e.oa(t);if(null!==n){var i=n.g;null!==i&&i.remove(n)}e.remove(t),0===e.count&&(this.lh=null)}},Dh.prototype.clearAdornments=Dh.prototype.iu=function(){if(null!==(e=this.lh)){for(var t=s.nb(),e=e.j;e.next();)t.push(e.key);e=t.length;for(var n=0;n<e;n++)this.Xj(t[n]);s.ya(t)}},Dh.prototype.updateAdornments=function(){var t=this.g;if(null!==t){t:{if(this.jb&&this.$G){var e=this.to;if(!(null!==e&&this.aa.H()&&this.isVisible()&&e.Sj()&&e.aa.H()))break t;var n=this.nq("Selection");if(null===n){if(null===(n=this.pK)&&(n=this instanceof Kc?t.EJ:this instanceof Tf?t.bJ:t.WJ),!(n instanceof Lc))break t;yl(n),null!==(n=n.copy())&&(n.Bb=e)}if(null!==n){var i=n.placeholder;if(null!==i){var r=e.Jj(),o=0;e instanceof Nl&&(o=e.mb);var a=s.Gm();a.n((e.Ga.width+o)*r,(e.Ga.height+o)*r),i.Ea=a,s.Zk(a)}n.angle=e.sm(),n.type!==Ya&&(i=s.P(),n.location=e.fb(b,i),s.A(i)),this.cm("Selection",n);break t}}this.Xj("Selection")}for(function(t,e){e.ob.rf.each(function(e){e.isEnabled&&e.updateAdornments(t)}),e.ob.updateAdornments(t)}(this,t),t=this.zx;t.next();)(e=t.value).Ob(),e.K()}},s.w(Dh,{layer:"layer"},function(){return this.xw}),s.w(Dh,{g:"diagram"},function(){var t=this.xw;return null!==t?t.g:null}),s.defineProperty(Dh,{Nf:"layerName"},function(){return this.Nl},function(t){var e=this.Nl;if(e!==t){s.h(t,"string",Dh,"layerName");var n=this.g;if((null===n||null!==n.pm(t)&&!n.hr)&&(this.Nl=t,null!==n&&n.Qc(),this.i("layerName",e,t),null!==(e=this.layer)&&e.name!==t&&null!==(n=e.g)&&null!==(t=n.pm(t))&&t!==e)){var i=e.zf(-1,this,!0);if(0<=i&&n.od(ee,"parts",e,this,null,i,!0),i=t.uq(99999999,this,!0),e.visible!==t.visible&&this.Pd(t.visible),0<=i&&n.od(te,"parts",t,null,this,!0,i),null!==(i=this.py)){var r=n.ab;n.ab=!0,i(this,e,t),n.ab=r}}}}),s.defineProperty(Dh,{py:"layerChanged"},function(){return this.zs},function(t){var e=this.zs;e!==t&&(null!==t&&s.h(t,"function",Dh,"layerChanged"),this.zs=t,this.i("layerChanged",e,t))}),s.defineProperty(Dh,{Co:"zOrder"},function(){return this.Zt},function(t){var e=this.Zt;if(e!==t){s.h(t,"number",Dh,"zOrder"),this.Zt=t;var n=this.layer;null!==n&&to(n,-1,this),this.i("zOrder",e,t),null!==(t=this.g)&&t.ra()}}),Dh.prototype.invalidateAdornments=Dh.prototype.pe=function(){var t=this.g;null!==t&&(_o(t),0!=(16384&this.T)!=1&&(this.T|=16384,t.Ve()))},s.w(Dh,{Cf:"locationObject"},function(){if(null===this.Ql){var t=this.uy;""!==t?(t=this.Md(t),this.Ql=null!==t?t:this):this.Ql=this instanceof Lc&&this.type!==Ya&&null!==this.placeholder?this.placeholder:this}return this.Ql.visible?this.Ql:this}),s.defineProperty(Dh,{PJ:"minLocation"},function(){return this.Ns},function(t){var e=this.Ns;e.O(t)||(r&&s.l(t,ft,Dh,"minLocation"),this.Ns=t=t.V(),this.i("minLocation",e,t))}),s.defineProperty(Dh,{JJ:"maxLocation"},function(){return this.Gs},function(t){var e=this.Gs;e.O(t)||(r&&s.l(t,ft,Dh,"maxLocation"),this.Gs=t=t.V(),this.i("maxLocation",e,t))}),s.defineProperty(Dh,{uy:"locationObjectName"},function(){return this.Es},function(t){var e=this.Es;e!==t&&(r&&s.h(t,"string",Dh,"locationObjectName"),this.Es=t,this.Ql=null,this.K(),this.i("locationObjectName",e,t))}),s.defineProperty(Dh,{Of:"locationSpot"},function(){return this.Fs},function(t){var e=this.Fs;e.O(t)||(r&&(s.l(t,Ct,Dh,"locationSpot"),t.Xc()||s.k("Part.locationSpot must be a specific Spot value, not: "+t)),this.Fs=t=t.V(),this.K(),this.i("locationSpot",e,t))}),Dh.prototype.move=function(t){this.position=t},Dh.prototype.moveTo=Dh.prototype.moveTo=function(t,e){var n=s.Fb(t,e);this.move(n),s.A(n)},Dh.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;return!(null!==t&&!t.visible||(null===(t=this.g)||!(t=t.Ra).of||null===(t=t.jn.oa(this))||!t.Hy)&&!(null===(t=this.Ka)||t.md&&t.isVisible()))},Dh.prototype.Pd=function(t){var e=this.g;t?(this.L(4),this.pe(),null!==e&&e.Gg.add(this)):(this.L(8),this.iu()),this.cl(),null!==e&&(e.Qc(),e.ra())},Dh.prototype.findObject=Dh.prototype.Md=function(t){if(this.name===t)return this;var e=this.Sl;if(null===e&&(this.Sl=e=new h),void 0!==e[t])return e[t];for(var n=this.xa.o,i=n.length,r=0;r<i;r++){var o=n[r];if(o.name===t)return e[t]=o;if(o instanceof tl)if(null===o.ej&&null===o.Ig){if(null!==(o=o.Md(t)))return e[t]=o}else if(gl(o)&&null!==(o=o.xa.first())&&o.name===t)return e[t]=o}return e[t]=null},Dh.prototype.ensureBounds=Dh.prototype.lf=function(){ma(this,1/0,1/0),this.rc()},Dh.prototype.rc=function(){if(this.cj(),!1===La(this))Ih(this);else{var t=this.bc,e=s.Sf();e.assign(t),t.Xa();var n=Oc(this);this.Cj(0,0,this.Fd.width,this.Fd.height);var i=this.position;zh(this,i,this.location),t.x=i.x,t.y=i.y,t.freeze(),this.zy(e,t),Fa(this,!1),e.O(t)?this.Pf(n):!this.qe()||Ce(e.width,t.width)&&Ce(e.height,t.height)||0<=this.QD&&this.L(16),s.Lb(e),Ac(this,!1)}},Dh.prototype.zy=function(t,e){var n=this.g;if(null!==n){var i=!1;if(!1===n.rk&&t.H()){var r=n.padding,o=(l=n.kd).x+r.left,s=l.y+r.top,a=l.width-2*r.right,l=l.height-2*r.bottom;t.x>o&&t.y>s&&t.right<a&&t.bottom<l&&e.x>o&&e.y>s&&e.right<a&&e.bottom<l&&(i=!0)}0!=(65536&this.T)!=1&&t.O(e)||Hh(this,i,n),n.ra(),mt(t,e)||(this instanceof Fc&&!n.na.ub&&this.kg(),this.cl())}},s.defineProperty(Dh,{location:"location"},function(){return this.jj},function(t){r&&s.l(t,ft,Dh,"location");var e=t.x,n=t.y,i=this.jj,o=i.x,a=i.y;(o===e||isNaN(o)&&isNaN(e))&&(a===n||isNaN(a)&&isNaN(n))||(e=t=t.V(),this instanceof Kc?e=!1:(this.jj=e,this.T|=2097152,!1===La(this)&&(Fh(this),(n=this.sb).H()&&(o=n.copy(),n.n(n.x+(e.x-i.x),n.y+(e.y-i.y)),Bh(this,this.g,n,o),this.i("position",o,n))),e=!0),e&&this.i("location",i,t))}),(n=Dh.prototype).bC=function(t,e){if(this instanceof Kc||!t.H())return!1;var n=this.g;if(null!==n&&(Bh(this,n,t,e),!0===n.na.ub))return!0;if(this.sb=t,this.T&=-2097153,(n=this.jj).H()){var i=n.copy();n.n(n.x+(t.x-e.x),n.y+(t.y-e.y)),this.i("location",i,n)}return!1===jc(this)&&!1===La(this)&&(Fh(this),Ih(this)),!0},n.Uy=function(t,e){var n=this.jj,i=this.sb;jc(this)||La(this)?n.n(NaN,NaN):n.n(n.x+t-i.x,n.y+e-i.y),i.n(t,e),Fh(this)},n.cC=function(){this.T&=-2097153,Fh(this)},n.ym=function(){return!0},n.qe=function(){return!0},n.Oj=function(){return!0},s.defineProperty(Dh,{Kd:"category"},function(){return this.Pi},function(t){var e=this.Pi;if(e!==t){s.h(t,"string",Dh,"category");var n=this.g,i=this.data,r=null;if(null!==n&&null!==i&&!(this instanceof Lc)){var o=n.ea.na;o.isEnabled&&!o.ub&&(r=this.clone()).xa.Vc(this.xa)}this.Pi=t,this.i("category",e,t),null===n||null===i||this instanceof Lc?null!==(r=this.gf)&&(null!==(t=r.lh)&&t.remove(e),r.cm(this.Kd,this)):(o=n.ea).na.ub||(this instanceof Kc?(o instanceof En?o.bH(i,t):o instanceof In&&o.rK(i,t),null!==(n=rs(n,t))&&(yl(n),null!==(n=n.copy())&&Nc(this,n,e,t))):(null!==o&&o.Ry(i,t),null!==(n=Qo(n,i,t))&&(yl(n),null===(n=n.copy())||n instanceof Kc||(n.location=this.location,Nc(this,n,e,t)))),null!==r&&((e=this.clone()).xa.Vc(this.xa),this.i("self",r,e)))}}),s.defineProperty(Dh,{self:"self"},function(){return this},function(t){Nc(this,t,this.Kd,t.Kd)});var Kh,Jh,Wh,Yh,Zh,Xh,Qh,$h,tu,eu,nu,iu,ru,ou,su,au,lu,hu,uu,cu,fu,pu,du,yu,vu,gu,mu,bu,xu,wu,ku,Pu,Su,Cu,Tu,Mu,Nu,ju,Au,_u,Ou,Eu,Du,Lu,Fu,Iu,Ru,Vu,Bu,zu,qu,Gu,Hu,Uu,Ku,Ju,Wu,Yu,Zu,Xu,Qu,$u,tc,ec,nc,ic,rc,oc,sc,ac,lc,hc,uc,cc,fc,pc,dc,yc,vc,gc,mc,bc,xc,wc,kc,Pc,Sc,Cc,Tc,Mc=!1;function Nc(t,e,n,i){e.constructor===t.constructor||Mc||(Mc=!0,s.trace('Should not change the class of the Part when changing category from "'+n+'" to "'+i+'"'),s.trace("  Old class: "+s.xf(t)+", new class: "+s.xf(e)+", part: "+t.toString())),t.iu();var r=t.data;n=t.Nf;var o=t.jb,a=t.Zg,l=!0,h=!0,u=!1;if(t instanceof Fc){var c=t;l=t.Rj,h=t.Dc,u=t.br}e.Ei(t),e.cloneProtected(t),t.Pi=i,t.K(),t.ra(),i=!0,null!==(e=t.g)&&(i=e.lb,e.lb=!0),t.Sd=r,null!==r&&t.Ob(),null!==e&&(e.lb=i),(r=t.Nf)!==n&&(t.Nl=n,t.Nf=r),t instanceof Fc&&((c=t).Rj=l,c.Dc=h,c.br=u,c.qe()&&c.L(64)),t.jb=o,t.Zg=a}function jc(t){return 0!=(32768&t.T)}function Ac(t,e){t.T=e?32768|t.T:-32769&t.T}function _c(t,e){t.T=e?65536|t.T:-65537&t.T}function Oc(t){return 0!=(131072&t.T)}function Ec(t,e){t.T=e?1048576|t.T:-1048577&t.T}function Dc(t){return!(!t.isVisible()||null!==(t=t.layer)&&t.Yc)}function Lc(t){Dh.call(this,0===arguments.length?qa:t),this.T&=-257,this.Nl="Adornment",this.Tc=null,this.$D=0,this.OE=!1,this.Rb=this.oh=null}function Fc(t){Dh.call(this,t),this.Ca=13,this.yc=new nt(Kc),this.Vt=this.pp=this.Pl=this.Cs=this.Bs=null,this.qr=se,this.Ae=this.ai=null,this.kt=Yh,this.Nk=!1}function Ic(t,e){null!==e&&(null===t.ai&&(t.ai=new rt(cf)),t.ai.add(e))}function Rc(t,e,n,i){if(null===e||null===t.ai)return null;for(var r=t.ai.j;r.next();){var o=r.value;if(o.Hq===t&&o.av===e&&o.Cy===n&&o.Dy===i||o.Hq===e&&o.av===t&&o.Cy===i&&o.Dy===n)return o}return null}function Vc(t,e){for(var n=t.Od;n.next();){var i=n.value;i.oc!==e&&i.Gc!==e||(Bc(t,i.oc),Bc(t,i.Gc),i.ec())}}function Bc(t,e){if(null!==e){var n=e.jt;null!==n&&n.wq(),null===(n=t.Ka)||n.md||Bc(n,n.port)}}function zc(t,e,n){Bc(t,n);var i=t.yc.contains(e);if(i||t.yc.add(e),!i||e.$===e.ba){var r=t.BJ;if(null!==r){var o=!0,s=t.g;null!==s&&(o=s.ab,s.ab=!0),r(t,e,n),null!==s&&(s.ab=o)}}!i&&e.jc&&(n=e.$,e=e.ba,null!==n&&null!==e&&n!==e&&(i=!0,null!==(s=t.g)&&(i=s.ee),t=i?e:n,r=i?n:e,t.Nk||(t.Nk=r),!r.Rj||null!==s&&s.na.ub||(i?n===r&&(r.Rj=!1):e===r&&(r.Rj=!1))))}function qc(t,e,n){Bc(t,n);var i=t.yc.remove(e);if(i||e.ba===e.$){var r=t.CJ,o=t.g;if(null!==r){var s=!0;null!==o&&(s=o.ab,o.ab=!0),r(t,e,n),null!==o&&(o.ab=s)}}i&&e.jc&&(n=!0,null!==o&&(n=o.ee),t=n?e.ba:e.$,e=n?e.$:e.ba,null!==t&&(t.Nk=!1),null===e||e.Rj||(0===e.yc.count?(e.Nk=null,null!==o&&o.na.ub||(e.Rj=!0)):Gc(e)))}function Gc(t){if(t.Nk=!1,0!==t.yc.count){var e=!0,n=t.g;if(null===n||!n.na.ub){for(null!==n&&(e=n.ee),n=t.yc.j;n.next();){var i=n.value;if(i.jc)if(e){if(i.$===t)return void(t.Rj=!1)}else if(i.ba===t)return void(t.Rj=!1)}t.Rj=!0}}}function Hc(t){null===t.Ae?t.Ae=new ut("string",fa):t.Ae.clear(),ll(t,t,function(t,e){var n=e.yd;null!==n&&t.Ae.add(n,e)}),0===t.Ae.count&&t.Ae.add("",t)}function Uc(t,e,n){var i=e.yd;if(null!==i&&(null!==t.Ae&&t.Ae.remove(i),null!==(e=t.g)&&n)){for(n=null,i=t.FF(i);i.next();)t=i.value,null===n&&(n=s.nb()),n.push(t);if(null!==n){for(i=0;i<n.length;i++)e.remove(t=n[i]);s.ya(n)}}}function Kc(){Dh.call(this,Ya),this.gc=8,this.Cg=null,this.gi="",this.Tg=this.cs=null,this.Ai="",this.Ut=null,this.ir=$h,this.Dr=0,this.Gr=$h,this.Hr=NaN,this.on=Xh,this.Jt=.5,this.Hf=null,this.gd=new nt(ft).freeze(),this.oh=this.jD=this.dD=this.Oi=this.$i=this.Za=this.Vw=this.Hp=this.ef=null,this.uA=new ft,this.Z=this.AE=this.zE=null}function Jc(t){var e,n=t.ba,i=e=null!==(i=t.$)?null!==n?i.LI(n):i.Ka:null!==n?n.Ka:null;if((n=t.Al)!==i){null!==n&&Nf(n,t),t.Al=i,null!==i&&Mf(i,t);var r=t.kF;if(null!==r){var o=!0,s=t.g;null!==s&&(o=s.ab,s.ab=!0),r(t,n,i),null!==s&&(s.ab=o)}!t.Uf||t.zE!==n&&t.AE!==n||t.ec()}if(t.pJ)for(t=t.Bf;t.next();)t.value.Ka=e}function Wc(t,e){null===t.Hf&&(t.Hf=new rt(Fc)),t.Hf.add(e),t.K()}function Yc(t){0===t.gd.count?t.Uf=!1:(t.Uf=!0,t.iq=t.m(0),t.jq=t.m(t.ta-1),sf(t,!1))}function Zc(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x=e.x>=t.x?t.x+9e9:t.x-9e9,e.y=t.y):(e.y=e.y>=t.y?t.y+9e9:t.y-9e9,e.x=t.x),e}function Xc(t,e){var n=e.jt;return null===n&&((n=new wf).port=e,n.Zc=e.Y,e.jt=n),Pf(n,t)}function Qc(t){if(null===t.g||!t.Nj)return!1;var e=t.points.o,n=e.length;if(4>n)return!1;t=gs(t.g,!0,t.Ka,null);for(var i=1;i<n-2;i++){var r=e[i],o=e[i+1];if(!t.Dq(Math.min(r.x,o.x),Math.min(r.y,o.y),Math.abs(r.x-o.x),Math.abs(r.y-o.y)))return!0}return!1}function $c(t,e,n,i){return t=n-t,isNaN(t)||1/0===t||-1/0===t?NaN:(0>t&&(t=-t),e=i-e,isNaN(e)||1/0===e||-1/0===e?NaN:(0>e&&(e=-e),Te(t,0)?e:Te(e,0)?t:Math.sqrt(t*t+e*e)))}function tf(t,e,n,i){var r=t.ta;if(2>r)return e;if(n){var o=t.m(1);if(0===(o=$c(e.x,e.y,n=o.x-i.x,i=o.y-i.y)))return e;r=2===r?.5*o:o,(t=t.computeShortLength(!0))>r&&(t=r),n=t*(n-e.x)/o,t=t*(i-e.y)/o,e.x+=n,e.y+=t}else{if(o=t.m(r-2),0===(o=$c(e.x,e.y,n=o.x-i.x,i=o.y-i.y)))return e;r=2===r?.5*o:o,(t=t.computeShortLength(!1))>r&&(t=r),n=t*(e.x-n)/o,t=t*(e.y-i)/o,e.x-=n,e.y-=t}return e}function ef(t,e,n,i){for(var r=t.ta,o=e;Te(e.x,o.x)&&Te(e.y,o.y);){if(n>=r)return r-1;o=t.m(n++)}if(!Te(e.x,o.x)&&!Te(e.y,o.y))return n-1;for(var s=o;Te(e.x,o.x)&&Te(o.x,s.x)&&(!i||(e.y>=o.y?o.y>=s.y:o.y<=s.y))||Te(e.y,o.y)&&Te(o.y,s.y)&&(!i||(e.x>=o.x?o.x>=s.x:o.x<=s.x));){if(n>=r)return r-1;s=t.m(n++)}return n-2}function nf(t,e,n,i,r,o,s){if(!s&&of(t)){s=[];var a=0;t.isVisible()&&(a=function(t,e,n,i){var r=t.g;if(null===r||e.O(n))return 0;for(r=r.ao;r.next();)if(null!==(o=r.value)&&o.visible)for(var o,s=(o=o.rb.o).length,a=0;a<s;a++){var l=o[a];if(l instanceof Kc){if(l===t)return 0<i.length&&i.sort(function(t,e){return t-e}),i.length;if(l.isVisible()&&of(l)){var h=l.so;h.H()&&t.so.jg(h)&&!t.usesSamePort(l)&&null!==(h=l.path)&&h.Sj()&&rf(e,n,i,l)}}}return 0<i.length&&i.sort(function(t,e){return t-e}),i.length}(t,r,o,s));var l=r.x;if(l=r.y,0<a)if(Ce(r.y,o.y))if(r.x<o.x)for(var h=0;h<a;){var u=Math.max(r.x,Math.min(s[h++]-5,o.x-10));e.lineTo(u+n,o.y+i),l=u+n;for(var c=Math.min(u+10,o.x);h<a;){var f=s[h];if(!(f<c+10))break;h++,c=Math.min(f+5,o.x)}f=(u+c)/2+n,f=o.y-10+i,u=c+n,c=o.y+i,t.kf===eu?gh(e,u,c,!1,!1):xh(e,l,f,u,f,u,c)}else for(h=a-1;0<=h;){for(u=Math.min(r.x,Math.max(s[h--]+5,o.x+10)),e.lineTo(u+n,o.y+i),l=u+n,c=Math.max(u-10,o.x);0<=h&&(f=s[h])>c-10;)h--,c=Math.max(f-5,o.x);f=o.y-10+i,u=c+n,c=o.y+i,t.kf===eu?gh(e,u,c,!1,!1):xh(e,l,f,u,f,u,c)}else if(Ce(r.x,o.x))if(r.y<o.y)for(h=0;h<a;){for(u=Math.max(r.y,Math.min(s[h++]-5,o.y-10)),e.lineTo(o.x+n,u+i),l=u+i,c=Math.min(u+10,o.y);h<a&&(f=s[h])<c+10;)h++,c=Math.min(f+5,o.y);f=o.x-10+n,u=o.x+n,c+=i,t.kf===eu?gh(e,u,c,!1,!1):xh(e,f,l,f,c,u,c)}else for(h=a-1;0<=h;){for(u=Math.min(r.y,Math.max(s[h--]+5,o.y+10)),e.lineTo(o.x+n,u+i),l=u+i,c=Math.max(u-10,o.y);0<=h&&(f=s[h])>c-10;)h--,c=Math.max(f-5,o.y);f=o.x-10+n,u=o.x+n,c+=i,t.kf===eu?gh(e,u,c,!1,!1):xh(e,f,l,f,c,u,c)}}e.lineTo(o.x+n,o.y+i)}function rf(t,e,n,i){for(var r=Ce(t.y,e.y),o=i.ta,a=i.m(0),l=s.P(),h=1;h<o;h++){var u=i.m(h);if(h<o-1){var c=i.m(h+1);a.y===u.y&&u.y===c.y?(u.x>a.x&&c.x>u.x||u.x<a.x&&c.x<u.x)&&(u=c,h++):a.x===u.x&&u.x===c.x&&(u.y>a.y&&c.y>u.y||u.y<a.y&&c.y<u.y)&&(u=c,h++)}t:{c=l;var f=t.x,p=t.y,d=e.x,y=e.y,v=a.x,g=(a=a.y,u.x),m=u.y;if(Ce(f,d)){if(!Ce(p,y)&&Ce(a,m)&&Math.min(p,y)<a&&Math.max(p,y)>a&&Math.min(v,g)<f&&Math.max(v,g)>f&&!Ce(v,g)){c.x=f,c.y=a,c=!0;break t}}else if(Ce(p,y)&&Ce(v,g)&&Math.min(f,d)<v&&Math.max(f,d)>v&&Math.min(a,m)<p&&Math.max(a,m)>p&&!Ce(a,m)){c.x=v,c.y=p,c=!0;break t}c.x=0,c.y=0,c=!1}c&&n.push(r?l.x:l.y),a=u}s.A(l)}function of(t){return(t=t.kf)===nu||t===eu}function sf(t,e){if(e||of(t)){var n=t.g;null===n||n.Cl.contains(t)||null===t.Vw||n.Cl.add(t,t.Vw)}}function af(t,e){var n=t.layer;if(null!==n&&n.visible&&!n.Yc&&null!==(r=n.g))for(var i=!1,r=r.ao;r.next();)if((o=r.value).visible)if(o===n){i=!0;for(var o,s=!1,a=(o=o.rb.o).length,l=0;l<a;l++){var h=o[l];h instanceof Kc&&(h===t?s=!0:s&&lf(t,h,e))}}else if(i)for(a=(o=o.rb.o).length,l=0;l<a;l++)(h=o[l])instanceof Kc&&lf(t,h,e)}function lf(t,e,n){if(null!==e&&null!==e.Za&&of(e)){var i=e.so;i.H()&&(t.so.jg(i)||n.jg(i))&&(t.usesSamePort(e)||e.Te())}}function hf(t){var e=t.Cg;if(null!==e){var n=t.Tg;if(null!==n){var i=t.gi;t=t.Ai;for(var r=null,o=null,s=e.yc.o,a=s.length,l=0;l<a;l++){var h=s[l];(h.Cg===e&&h.gi===i&&h.Tg===n&&h.Ai===t||h.Cg===n&&h.gi===t&&h.Tg===e&&h.Ai===i)&&(null===o?o=h:(null===r&&(r=[]).push(o),r.push(h)))}if(null!==r){for(null===(o=Rc(e,n,i,t))&&((o=new cf).Hq=e,o.Cy=i,o.av=n,o.Dy=t,Ic(e,o),Ic(n,o)),o.links=r,l=0;l<r.length;l++)(h=r[l]).Oi=o;o.wq()}}}}function uf(t){var e=t.Oi;null!==e&&(t.Oi=null,0<=(t=e.links.indexOf(t))&&(s.Vg(e.links,t),e.wq()))}function cf(){s.xc(this),this.uh=this.pw=!1,this.Dy=this.av=this.Cy=this.Hq=null,this.links=[]}function ff(){s.xc(this),this.gC=this.group=null,this.vq=!0,this.abort=!1,this.ag=this.$f=1,this.Is=this.Hs=-1,this.Rd=this.he=8,this.sd=null,this.xH=!1,this.fH=22,this.rG=111}function pf(t,e,n){return t.$f<=e&&e<=t.Hs&&t.ag<=n&&n<=t.Is}function df(t,e,n){return pf(t,e,n)?(e-=t.$f,n-=t.ag,t.sd[0|(e/=t.he)][0|(n/=t.Rd)]):1e6}function yf(t,e,n){pf(t,e,n)&&(e-=t.$f,n-=t.ag,t.sd[0|(e/=t.he)][0|(n/=t.Rd)]=0)}function vf(t){if(null!==t.sd)for(var e=0;e<=t.zn;e++)for(var n=0;n<=t.An;n++)1<=t.sd[e][n]&&(t.sd[e][n]=1e6)}function gf(t,e,n,i,r,o,s,a,l){if(!(e<o||e>s||n<a||n>l)){var h,u,c=t.sd[h=0|e][u=0|n];if(1<=c&&999999>c)for(r?u+=i:h+=i,c+=1;o<=h&&h<=s&&a<=u&&u<=l&&!(c>=t.sd[h][u]);)t.sd[h][u]=c,c+=1,r?u+=i:h+=i;if(h=r?u:h,r)if(0<i)for(n+=i;n<h;n+=i)gf(t,e,n,1,!r,o,s,a,l),gf(t,e,n,-1,!r,o,s,a,l);else for(n+=i;n>h;n+=i)gf(t,e,n,1,!r,o,s,a,l),gf(t,e,n,-1,!r,o,s,a,l);else if(0<i)for(e+=i;e<h;e+=i)gf(t,e,n,1,!r,o,s,a,l),gf(t,e,n,-1,!r,o,s,a,l);else for(e+=i;e>h;e+=i)gf(t,e,n,1,!r,o,s,a,l),gf(t,e,n,-1,!r,o,s,a,l)}}function mf(t,e,n,i,r,o,s,a,l){var h=0,u=1;for(t.sd[e|=0][n|=0]=u;0===h&&e>o&&e<s&&n>a&&n<l;)t.sd[e][n]=u+=1,r?n+=i:e+=i,h=t.sd[e][n]}function bf(t,e,n,i,r,o,s,a,l){var h=0;for(t.sd[e|=0][n|=0]=999999;0===h&&e>o&&e<s&&n>a&&n<l;)t.sd[e][n]=999999,r?n+=i:e+=i,h=t.sd[e][n]}function xf(t,e,n,i,r,o){if(null!==t.sd){t.abort=!1;var s=e.x,a=e.y;if(pf(t,s,a)&&(s-=t.$f,s/=t.he,a-=t.ag,a/=t.Rd,pf(t,e=i.x,i=i.y)))if(e-=t.$f,e/=t.he,i-=t.ag,i/=t.Rd,1>=Math.abs(s-e)&&1>=Math.abs(a-i))t.abort=!0;else{var l=(l=(l=o.x)-t.$f)/t.he,h=(h=(h=o.y)-t.ag)/t.Rd,u=(u=(u=o.x+o.width)-t.$f)/t.he,c=(c=(c=o.y+o.height)-t.ag)/t.Rd;o=Math.max(0,Math.min(t.zn,0|l)),u=Math.min(t.zn,Math.max(0,0|u)),h=Math.max(0,Math.min(t.An,0|h)),c=Math.min(t.An,Math.max(0,0|c)),s|=0,a|=0,e|=0,i|=0,l=0===n||90===n?1:-1,n=90===n||270===n,0===t.sd[s][a]?(mf(t,s,a,l,n,o,u,h,c),mf(t,s,a,1,!n,o,u,h,c),mf(t,s,a,-1,!n,o,u,h,c)):mf(t,s,a,l,n,s,a,s,a),0===t.sd[e][i]?(bf(t,e,i,0===r||90===r?1:-1,90===r||270===r,o,u,h,c),bf(t,e,i,1,!(90===r||270===r),o,u,h,c),bf(t,e,i,-1,!(90===r||270===r),o,u,h,c)):bf(t,e,i,l,n,e,i,e,i),t.abort||(gf(t,s,a,1,!1,o,u,h,c),gf(t,s,a,-1,!1,o,u,h,c),gf(t,s,a,1,!0,o,u,h,c),gf(t,s,a,-1,!0,o,u,h,c))}}}function wf(){s.xc(this),this.port=this.Zc=null,this.og=[],this.Gq=!1}function kf(t,e,n,i){switch(e=e.offsetY){case s.qd:return 90;case s.bd:return 180;case s.Ad:return 270;case s.rd:return 0}switch(e){case s.qd|s.Ad:return 180<n?270:90;case s.bd|s.rd:return 90<n&&270>=n?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case s.bd|s.Ad:return n>t&&n<=180+t?180:270;case s.Ad|s.rd:return n>180-t&&n<=360-t?270:0;case s.rd|s.qd:return n>t&&n<=180+t?90:0;case s.qd|s.bd:return n>180-t&&n<=360-t?180:90;case s.bd|s.Ad|s.rd:return 90<n&&n<=180+t?180:n>180+t&&n<=360-t?270:0;case s.Ad|s.rd|s.qd:return 180<n&&n<=360-t?270:n>t&&180>=n?90:0;case s.rd|s.qd|s.bd:return n>t&&n<=180-t?90:n>180-t&&270>=n?180:0;case s.qd|s.bd|s.Ad:return n>180-t&&n<=180+t?180:n>180+t?270:90}return i&&e!==(s.bd|s.Ad|s.rd|s.qd)&&0>(n-=15)&&(n+=360),n>t&&n<180-t?90:n>=180-t&&n<=180+t?180:n>180+t&&n<360-t?270:0}function Pf(t,e){var n=t.og;if(0===n.length){t:if(!t.Gq){n=t.Gq,t.Gq=!0;var i,r=null;if(null===(o=(o=t.Zc)instanceof Tf?o:null)||o.md)i=t.Zc.FF(t.port.yd);else{if(!o.aa.H()){t.Gq=n;break t}i=(r=o).EF()}var o,a=t.og.length=0,l=t.port.fb(b,s.P()),h=t.port.fb(M,s.P());for((o=s.vg(l.x,l.y,0,0)).Mi(h),s.A(l),s.A(h),l=s.Fb(o.x+o.width/2,o.y+o.height/2),h=t.port.sm(),i=i.j;i.next();){var u=i.value;if(u.isVisible()&&u.oc!==u.Gc){var c=u.oc===t.port||u.$.Fi(r),f=u.computeSpot(c,t.port);if(f.Pj()&&null!==(c=c?u.Gc:u.oc)){var p=c.Y;if(null!==p){var d=p.findVisibleNode();null!==d&&d!==p&&(c=(p=d).port),c=u.computeOtherPoint(p,c),p=l.Wb(c),0>(p-=h)&&(p+=360),d=0,0===(f=kf(o,f,p,u.ic))?(d=s.rd,180<p&&(p-=360)):d=90===f?s.qd:180===f?s.bd:s.Ad,void 0===(f=t.og[a])?(f=new Sf(u,p,d),t.og[a]=f):(f.link=u,f.angle=p,f.Le=d),f.Ay.set(c),a++}}}}for(s.A(l),t.og.sort(wf.prototype.VJ),r=t.og.length,l=-1,a=h=0;a<r;a++)void 0!==(f=t.og[a])&&(f.Le!==l&&(l=f.Le,h=0),f.tq=h,h++);for(l=-1,h=0,a=r-1;0<=a;a--)void 0!==(f=t.og[a])&&(f.Le!==l&&(l=f.Le,h=f.tq+1),f.Ln=h);if(a=t.og,f=t.port,r=t.Zc.$J,l=s.P(),h=s.P(),i=s.P(),u=s.P(),f.fb(b,l),f.fb(w,h),f.fb(M,i),f.fb(C,u),d=p=c=f=0,r===Zh)for(var y=0;y<a.length;y++){var v=a[y];if(null!==v){var g=v.link.computeThickness();switch(v.Le){case s.qd:p+=g;break;case s.bd:d+=g;break;case s.Ad:f+=g;break;default:case s.rd:c+=g}}}var m=0,x=0,k=1;for(y=0;y<a.length;y++)if(null!==(v=a[y])){var P,S;if(m!==v.Le){switch(m=v.Le){case s.qd:P=i,S=u;break;case s.bd:P=u,S=l;break;case s.Ad:P=l,S=h;break;default:case s.rd:P=h,S=i}var T=S.x-P.x;switch(S=S.y-P.y,m){case s.qd:p>Math.abs(T)?(k=Math.abs(T)/p,p=Math.abs(T)):k=1;break;case s.bd:d>Math.abs(S)?(k=Math.abs(S)/d,d=Math.abs(S)):k=1;break;case s.Ad:f>Math.abs(T)?(k=Math.abs(T)/f,f=Math.abs(T)):k=1;break;default:case s.rd:c>Math.abs(S)?(k=Math.abs(S)/c,c=Math.abs(S)):k=1}x=0}var N=v.Eq;if(r===Zh){switch(g=v.link.computeThickness(),g*=k,N.set(P),m){case s.qd:N.x=P.x+T/2+p/2-x-g/2;break;case s.bd:N.y=P.y+S/2+d/2-x-g/2;break;case s.Ad:N.x=P.x+T/2-f/2+x+g/2;break;default:case s.rd:N.y=P.y+S/2-c/2+x+g/2}x+=g}else g=.5,r===Yh&&(g=(v.tq+1)/(v.Ln+1)),N.x=P.x+T*g,N.y=P.y+S*g}for(s.A(l),s.A(h),s.A(i),s.A(u),P=t.og,T=0;T<P.length;T++)null!==(S=P[T])&&(S.Sx=t.computeEndSegmentLength(S));t.Gq=n,s.Lb(o)}n=t.og}for(o=0;o<n.length;o++)if(null!==(P=n[o])&&P.link===e)return P;return null}function Sf(t,e,n){this.link=t,this.angle=e,this.Le=n,this.Ay=new ft,this.Ln=this.tq=0,this.Eq=new ft,this.Sx=0}function Cf(){this.Mk=this.ok=m,this.Kk=this.mk=NaN,this.Jk=this.lk=Kh,this.Lk=this.nk=NaN,this.St=this.as=null,this.Tt=this.bs=1/0}function Tf(t){Fc.call(this,t),this.Ca|=4608,this.Ks=new rt(Dh),this.gn=new rt(Tf),this.Rb=this.Nt=this.Rl=this.Ls=this.Js=null,this.we=new Af,this.we.group=this}function Mf(t,e){if(t.Ks.add(e)){e instanceof Tf&&t.gn.add(e);var n=t.MJ;if(null!==n){var i=!0,r=t.g;null!==r&&(i=r.ab,r.ab=!0),n(t,e),null!==r&&(r.ab=i)}t.isVisible()&&t.md||e.Pd(!1)}e instanceof Kc&&!t.Jx||(null===(n=t.Rb)&&(n=t),n.K())}function Nf(t,e){if(t.Ks.remove(e)){e instanceof Tf&&t.gn.remove(e);var n=t.NJ;if(null!==n){var i=!0,r=t.g;null!==r&&(i=r.ab,r.ab=!0),n(t,e),null!==r&&(r.ab=i)}t.isVisible()&&t.md||e.Pd(!0)}e instanceof Kc&&!t.Jx||(null===(n=t.Rb)&&(n=t),n.K())}function jf(){fa.call(this),this.uf=oe,this.xt=new vt(NaN,NaN,NaN,NaN)}function Af(){0<arguments.length&&s.zd(Af),s.xc(this),this.Uz=this.ca=null,this.Kl=this.qs=!0,this.ws=!1,this.mr=new ft(0,0).freeze(),this.ss=this.ts=!0,this.mD="",this.vs=!1,this.gA=null}function _f(t,e,n,i,r,o,s,a){for(n=n.j;n.next();){var l=n.value;i&&!l.Bq||null!==r&&!r(l)||!l.canLayout()||(o&&l instanceof Fc?l.Lf||(l instanceof Tf&&null===l.Yb?_f(t,e,l.uc,!1,r,o,s,a):(Of(l),e.add(l))):s&&l instanceof Kc?e.add(l):!a||!l.qe()||l instanceof Fc||(Of(l),e.add(l)))}}function Of(t){var e=t.aa;(0===e.width||0===e.height||isNaN(e.width)||isNaN(e.height))&&t.lf()}function Ef(){if(s.xc(this),this.we=null,this.vertexes)for(var t=this.vertexes.j;t.next();){var e=t.value;e.clear(),e.network=null}if(this.edges)for(t=this.edges.j;t.next();)(e=t.value).clear(),e.network=null;this.vertexes=new rt(If),this.edges=new rt(Rf),this.xy=new ut(Fc,If),this.qy=new ut(Kc,Rf)}function Df(t,e){if(null===e)return!1;var n=t.vertexes.remove(e);return n&&(t.xy.remove(e.Zc),e.network=null),n}function Lf(t,e){null!==e&&t.edges.remove(e)&&(t.qy.remove(e.link),e.network=null)}function Ff(t,e,n){if(null!==n&&n.network!==e){Df(t,n),e.em(n);for(var i=n.wc;i.next();){var r=i.value;r.network!==e&&(Lf(t,r),e.Xp(r),Ff(t,e,r.fromVertex))}for(i=n.tc;i.next();)(n=i.value).network!==e&&(Lf(t,n),e.Xp(n),Ff(t,e,n.toVertex))}}function If(){s.xc(this),this.network=null,this.Q=new vt(0,0,10,10).freeze(),this.W=new ft(5,5).freeze(),this.Gd=this.Sd=null,this.Ye=new nt(Rf),this.Re=new nt(Rf)}function Rf(){s.xc(this),this.toVertex=this.fromVertex=this.link=this.data=this.network=null}function Vf(){0<arguments.length&&s.zd(Vf),Af.call(this),this.my=!0,this.Xt=this.Yt=NaN,this.fk=new yt(NaN,NaN).freeze(),this.ui=new yt(10,10).freeze(),this.ue=gu,this.Bd=mu,this.ti=ku,this.ci=yu}function Bf(){0<arguments.length&&s.zd(Bf),Af.call(this),this.Lz=this.Yo=this.Td=0,this.Wr=360,this.Kz=Su,this.Dl=0,this.HC=new ft,this.tD=Su,this.Qv=this.dg=this.IE=0,this.ux=new Zf,this.Rv=this.kn=0,this.MH=600,this.lt=NaN,this.or=1,this.Mt=0,this.Ot=360,this.Bd=Su,this.ga=Nu,this.ti=Fu,this.ci=du,this.ui=6,this.Zs=Iu}function zf(t,e,n,i,r){var o=t.Wr,s=t.Td;t=t.dg,i=i*Math.PI/180,n=n*Math.PI/180;for(var a=e.length,l=0;l<a;l++){var h=i+(r===Nu?l*n/(360<=o?a:a-1):-l*n/a),u=e.fa(l),c=s*Math.tan(h)/t;c=Math.sqrt((s*s+t*t*c*c)/(1+c*c)),u.pa=c*Math.cos(h),u.va=c*Math.sin(h),u.actualAngle=180*h/Math.PI}}function qf(t,e,n,i){var r=t.Td,o=t.dg,s=t.Dl;n=n*Math.PI/180;for(var a=e.length,l=0;l<a;l++){var h=e.fa(l),u=e.fa(l===a-1?0:l+1),c=o*Math.sin(n);h.pa=r*Math.cos(n),h.va=c,h.actualAngle=180*n/Math.PI,isNaN(h.diameter)&&$f(h,0),isNaN(u.diameter)&&$f(u,0),h=Yf(t,r,o,i===Nu?n:-n,(h.diameter+u.diameter)/2+s),n+=i===Nu?h:-h}}function Gf(t,e,n,i){var r=t.Td,o=t.dg,s=t.Qv;n=n*Math.PI/180;for(var a=e.length,l=0;l<a;l++){var h=e.fa(l);h.pa=r*Math.cos(n),h.va=o*Math.sin(n),h.actualAngle=180*n/Math.PI,h=Yf(t,r,o,i===Nu?n:-n,s),n+=i===Nu?h:-h}}function Hf(t,e,n,i,r){var o=t.Rv;if(o=t.Wr,t.kn=0,t.ux=new Zf,360>n){for(o=i+(r===Nu?o:-o);0>o;)o+=360;180<(o%=360)&&(o-=360),o*=Math.PI/180,t.Rv=o,function t(e,n,i,r,o){for(var a=e.Td,l=e.dg,h=e.Yo,u=a*Math.cos(r*Math.PI/180),c=l*Math.sin(r*Math.PI/180),f=s.P(),p=n.Fc(),d=0;d<p.length&&(p[d].pa=u,p[d].va=c,!(d>=p.length-1));d++)Uf(e,u,c,p,d,o,f)||Kf(e,u,c,p,d,o,f),u=f.x,c=f.y;if(s.A(f),e.kn++,!(23<e.kn)){if(u=Math.atan2(c,u),u=o===Nu?e.Rv-u:u-e.Rv,a=(u=Math.abs(u)<Math.abs(u-2*Math.PI)?u:u-2*Math.PI)*(a+l)/2,l=e.ux,Math.abs(a)<Math.abs(l.qq))for(l.qq=a,l.Bo=[],l.cr=[],u=0;u<p.length;u++)l.Bo[u]=p[u].ib.x,l.cr[u]=p[u].ib.y;1<Math.abs(a)&&(e.Td=8>e.kn?e.Td-a/(2*Math.PI):e.Td-(0<a?1.7:-2.3),e.dg=e.Td*h,t(e,n,i,r,o))}}(t,e,n,i,r)}else!function t(e,n,i,r,o){var a=e.Dl,l=e.Yo,h=(f=e.Td)*Math.cos(r*Math.PI/180),u=e.dg*Math.sin(r*Math.PI/180),c=n.Fc();if(3===c.length)c[0].pa=f,c[0].va=0,c[1].pa=c[0].pa-c[0].width/2-c[1].width/2-a,c[1].y=c[0].y,c[2].pa=(c[0].pa+c[1].pa)/2,c[2].y=c[0].y-c[2].height-a;else if(4===c.length)c[0].pa=f,c[0].va=0,c[2].pa=-c[0].pa,c[2].va=c[0].va,c[1].pa=0,c[1].y=Math.min(c[0].y,c[2].y)-c[1].height-a,c[3].pa=0,c[3].y=Math.max(c[0].y+c[0].height+a,c[2].y+c[2].height+a);else{for(var f=s.P(),p=0;p<c.length&&(c[p].pa=h,c[p].va=u,!(p>=c.length-1));p++)Uf(e,h,u,c,p,o,f)||Kf(e,h,u,c,p,o,f),h=f.x,u=f.y;if(s.A(f),e.kn++,!(23<e.kn)){h=c[0].pa,u=c[0].va,f=c[c.length-1].pa,p=c[c.length-1].va;var d=Math.abs(h-f)-((c[0].width+c[c.length-1].width)/2+a),y=Math.abs(u-p)-((c[0].height+c[c.length-1].height)/2+a);a=0,1>Math.abs(y)?Math.abs(h-f)<(c[0].width+c[c.length-1].width)/2&&(a=0):a=0<y?y:1>Math.abs(d)?0:d,d=!1,d=Math.abs(f)>Math.abs(p)?0<f!=u>p:0<p!=h<f,(d=o===Nu?d:!d)&&(a=-Math.abs(a),a=Math.min(a,-c[c.length-1].width),a=Math.min(a,-c[c.length-1].height)),e.ux.compare(a,c),1<Math.abs(a)&&(e.Td=8>e.kn?e.Td-a/(2*Math.PI):5>c.length&&10<a?e.Td/2:e.Td-(0<a?1.7:-2.3),e.dg=e.Td*l,t(e,n,i,r,o))}}}(t,e,n,i,r);t.ux.commit(e)}function Uf(t,e,n,i,r,o,s){var a=t.Td,l=t.dg,h=0,u=0;t=(i[r].width+i[r+1].width)/2+t.Dl;var c=!1;if(0<=n!=(o===Nu)){if((h=e+t)>a){if((h=e-t)<-a)return s.x=h,s.y=u,!1;c=!0}}else if((h=e-t)<-a){if((h=e+t)>a)return s.x=h,s.y=u,!1;c=!0}return u=Math.sqrt(1-Math.min(1,h*h/(a*a)))*l,0>n!==c&&(u=-u),Math.abs(n-u)>(i[r].height+i[r+1].height)/2?(s.x=h,s.y=u,!1):(s.x=h,s.y=u,!0)}function Kf(t,e,n,i,r,o,s){var a=t.Td,l=t.dg,h=0,u=0;if(t=(i[r].height+i[r+1].height)/2+t.Dl,i=!1,0<=e!=(o===Nu)){if((u=n-t)<-l){if((u=n+t)>l)return s.x=h,void(s.y=u);i=!0}}else if((u=n+t)>l){if((u=n-t)<-l)return s.x=h,void(s.y=u);i=!0}h=Math.sqrt(1-Math.min(1,u*u/(l*l)))*a,0>e!==i&&(h=-h),s.x=h,s.y=u}function Jf(t,e,n,i,r){var o=t.MH;if(.001>Math.abs(t.Yo-1))return void 0!==i&&void 0!==r?r*e:2*Math.PI*e;t=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n;for(var s=0,a=void 0!==i&&void 0!==r?r/(o+1):Math.PI/(2*(o+1)),l=0,h=0;h<=o;h++)l=void 0!==i&&void 0!==r?i+h*r/o:h*Math.PI/(2*o),l=Math.sin(l),s+=Math.sqrt(1-t*t*l*l)*a;return void 0!==i&&void 0!==r?(e>n?e:n)*s:4*(e>n?e:n)*s}function Wf(t,e,n,i,r){return e/(void 0!==i&&void 0!==r?Jf(t,1,n,i,r):Jf(t,1,n))}function Yf(t,e,n,i,r){if(.001>Math.abs(t.Yo-1))return r/e;var o=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n,s=0;t=2*Math.PI/(700*t.network.vertexes.count),e>n&&(i+=Math.PI/2);for(var a=0;;a++){var l=Math.sin(i+a*t);if((s+=(e>n?e:n)*Math.sqrt(1-o*o*l*l)*t)>=r)return a*t}}function Zf(){this.qq=-1/0,this.cr=this.Bo=null}function Xf(){Ef.call(this)}function Qf(){If.call(this),this.actualAngle=this.diameter=NaN}function $f(t,e){if(null===(n=t.network))return NaN;if(null===(n=n.Yb))return NaN;if(n.eg===Mu)if(n.wy===Ru)t.diameter=Math.max(t.width,t.height);else{var n=Math.abs(Math.sin(e)),i=Math.abs(Math.cos(e));if(0===n)return t.width;if(0===i)return t.height;t.diameter=Math.min(t.height/n,t.width/i)}else t.diameter=n.wy===Ru?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.diameter}function tp(){Rf.call(this)}function ep(){0<arguments.length&&s.zd(ep),Af.call(this),this.Ug=null,this.ys=0,this.xg=new yt(100,100).freeze(),this.nr=!1,this.si=!0,this.bi=!1,this.xp=100,this.Zr=1,this.bj=1e3,this.Ts=10,this.mt=Math,this.Vo=.05,this.Uo=50,this.So=150,this.To=0,this.Lr=10,this.Kr=5}function np(t,e,n){if(r&&(s.p(e,ep,"layoutClusters:level"),s.p(n,ep,"layoutClusters:maxiter")),function(t,e){if(r&&s.p(e,ep,"hasClusters:level"),10<e||3>t.network.vertexes.count)return!1;null===t.Ug?t.Ug=new nt(up):t.Ug.clear(),t.Ug.Vc(t.network.vertexes);var n=t.Ug;n.sort(function(t,e){return null===t||null===e||t===e?0:e.sg-t.sg});for(var i=n.count-1;0<=i&&1>=n.fa(i).sg;)i--;return 1<n.count-i}(t,e)){var i=t.bj;t.bj*=1+1/(e+1);var o=function(t,e){r&&s.p(e,ep,"pushSubNetwork:level");for(var n=t.network,i=new hp,o=t.Ug.j;o.next();){var a=o.value;if(!(1<a.sg))break;i.em(a);var l=new lp;l.cz=a.sg,l.dz=a.width,l.bz=a.height,l.zC=a.W.x,l.AC=a.W.y,null===a.Xh&&(a.Xh=new nt(lp)),a.Xh.add(l),a.UB=a.Xh.count-1}for(var h=n.edges.j;h.next();)if(a=(l=h.value).toVertex,(o=l.fromVertex).network===i&&a.network===i)i.Xp(l);else if(o.network===i){var u=o.Hn;null===u&&(u=new nt(up),o.Hn=u),u.add(a),o.sg--,o.hl+=a.hl}else a.network===i&&(null===(u=a.Hn)&&(u=new nt(up),a.Hn=u),u.add(o),a.sg--,a.hl+=o.hl);for(o=i.edges.j;o.next();)(a=o.value).length*=Math.max(1,Se((a.fromVertex.hl+a.toVertex.hl)/(4*e+1)));for(o=i.vertexes.j;o.next();)if(null!==(u=(a=o.value).Hn)&&0<u.count&&!(0>=(l=(l=a.Xh.fa(a.Xh.count-1)).cz-a.sg))){for(var c=0,f=0,p=u.count-l;p<u.count;p++){var d=u.fa(p),y=null;for(h=d.edges.j;h.next();){var v=h.value;if(v.VI(d)===a){y=v;break}}null!==y&&(f+=y.length,c+=d.width*d.height)}h=a.pa,u=a.va,y=a.W,1>(v=(p=a.width)*(d=a.height))&&(v=1),c=Se((c+v+f*f*4/(l*l))/v),a.ib=new vt(h-y.x-(l=(c-1)*p/2),u-y.y-(c=(c-1)*d/2),p+2*l,d+2*c),a.focus=new ft(y.x+l,y.y+c)}return t.network=i,n}(t,e),a=Math.max(0,function(t,e,n){return r&&(s.p(e,ep,"computeClusterLayoutIterations:level"),s.p(n,ep,"computeClusterLayoutIterations:maxiter")),Math.max(Math.min(t.network.vertexes.count,n*(e+1)/11),10)}(t,e,n));for(t.AB+=a,np(t,e+1,n),sp(t,a),function(t,e,n){for(r&&(s.l(e,hp,ep,"popNetwork:oldnet"),s.p(n,ep,"popNetwork:level")),n=t.network.vertexes.j;n.next();){var i=n.value;if(i.network=e,null!==i.Xh){var o=i.Xh.fa(i.UB);i.sg=o.cz;var a=o.zC,l=o.AC;i.ib=new vt(i.pa-a,i.va-l,o.dz,o.bz),i.focus=new ft(a,l),i.UB--}}for(n=t.network.edges.j;n.next();)n.value.network=e;t.network=e}(t,o,e),null===(n=t.Ug)?n=new nt(up):n.clear(),n.Vc(o.vertexes),n.sort(function(t,e){return null===t||null===e||t===e?0:e.sg-t.sg}),o=n.j;o.next();)ip(t,o.value,e);t.bj=i}}function ip(t,e,n){r&&(s.l(e,up,ep,"surroundNode:oldnet"),s.p(n,ep,"surroundNode:level"));var i=e.Hn;if(null!==i&&0!==i.count){n=e.pa;var o=e.va,a=e.width,l=e.height;null!==e.Xh&&0<e.Xh.count&&(a=(l=e.Xh.fa(0)).dz,l=l.bz),a=Se(a*a+l*l)/2;for(var h=!1,u=l=0,c=0,f=e.vertexes.j;f.next();)1>=(d=f.value).sg?u++:(h=!0,c++,l+=Math.atan2(e.va-d.va,e.pa-d.pa));if(0!==u)for(0<c&&(l/=c),c=e=0,e=h?2*Math.PI/(u+1):2*Math.PI/u,0==u%2&&(c=e/2),1<i.count&&i.sort(function(t,e){return null===t||null===e||t===e?0:e.width*e.height-t.width*t.height}),h=0==u%2?0:1,i=i.j;i.next();)if(!(1<(u=i.value).sg||t.isFixed(u))){for(f=null,d=u.edges.j;d.next();){f=d.value;break}var p=u.height,d=Se((d=u.width)*d+p*p)/2;f=a+f.length+d,d=l+(e*(h/2>>1)+c)*(0==h%2?1:-1),u.pa=n+f*Math.cos(d),u.va=o+f*Math.sin(d),h++}}}function rp(t,e,n,i,r,o,s){var a=9e19,l=-1,h=0;t:for(;h<e;h++){var u,c=t[h],f=c.y-i;if((u=(u=c.x-n)*u+f*f)<a){for(f=h-1;0<=f;f--)if(t[f].y>c.y&&t[f].x-c.x<r+s.width)continue t;for(f=h+1;f<e;f++)if(t[f].x>c.x&&t[f].y-c.y<o+s.height)continue t;l=h,a=u}}return l}function op(t,e){r&&(s.l(t,up,ep,"getNodeDistance:vertexA"),s.l(e,up,ep,"getNodeDistance:vertexB"));var n=(a=t.Q).x,i=a.y,o=a.width,a=a.height,l=(c=e.Q).x,h=c.y,u=c.width,c=c.height;return n+o<l?i>h+c?Se((n=n+o-l)*n+(i=i-h-c)*i):i+a<h?Se((n=n+o-l)*n+(i=i+a-h)*i):l-(n+o):n>l+u?i>h+c?Se((n=n-l-u)*n+(i=i-h-c)*i):i+a<h?Se((n=n-l-u)*n+(i=i+a-h)*i):n-(l+u):i>h+c?i-(h+c):i+a<h?h-(i+a):.1}function sp(t,e){r&&s.p(e,ep,"performIterations:num"),t.Ug=null;for(var n=t.ys+e;t.ys<n&&(t.ys++,ap(t)););t.Ug=null}function ap(t){null===t.Ug&&(t.Ug=new nt(up),t.Ug.Vc(t.network.vertexes));var e=t.Ug.o;if(0>=e.length)return!1;(r=e[0]).forceX=0,r.forceY=0;for(var n=a=r.pa,i=l=r.va,r=1;r<e.length;r++){(s=e[r]).forceX=0,s.forceY=0;var o=s.pa,s=s.va,a=Math.min(a,o),l=(n=Math.max(n,o),Math.min(l,s));i=Math.max(i,s)}(l=n-a>i-l)?e.sort(function(t,e){return null===t||null===e||t===e?0:t.pa-e.pa}):e.sort(function(t,e){return null===t||null===e||t===e?0:t.va-e.va}),i=t.bj;var h=0,c=0,f=0;for(r=0;r<e.length;r++){var p=(s=e[r]).W;for(c=s.charge*t.electricalFieldX(a=(o=s.Q).x+p.x,o=o.y+p.y),f=s.charge*t.electricalFieldY(a,o),c+=s.mass*t.gravitationalFieldX(a,o),f+=s.mass*t.gravitationalFieldY(a,o),s.forceX+=c,s.forceY+=f,p=r+1;p<e.length;p++)if((n=e[p])!==s){f=(d=n.Q).x+(c=n.W).x;var d=d.y+c.y;if(a-f>i||f-a>i){if(l)break}else if(o-d>i||d-o>i){if(!l)break}else{var y=op(s,n);1>y?(null===(c=t.Fy)&&(t.Fy=c=new u(0)),h=c.random(),y=c.random(),c=a>f?(1+(c=Math.abs(n.Q.right-s.Q.x)))*h:a<f?-(1+(c=Math.abs(n.Q.x-s.Q.right)))*h:(1+(c=Math.max(n.width,s.width)))*h-c/2,f=o>d?(1+(f=Math.abs(n.Q.bottom-s.Q.y)))*y:a<f?-(1+(f=Math.abs(n.Q.y-s.Q.bottom)))*y:(1+(f=Math.max(n.height,s.height)))*y-f/2):(c=(f-a)/y*(h=-s.charge*n.charge/(y*y)),f=(d-o)/y*h),s.forceX+=c,s.forceY+=f,n.forceX-=c,n.forceY-=f}}}for(r=t.network.edges.j;r.next();)a=(o=(s=(l=r.value).fromVertex).Q).x+(p=s.W).x,o=o.y+p.y,f=(d=(n=l.toVertex).Q).x+(c=n.W).x,d=d.y+c.y,1>(y=op(s,n))?(null===(c=t.Fy)&&(t.Fy=c=new u(0)),h=c.random(),y=c.random(),c=(a>f?1:-1)*(1+(n.width>s.width?n.width:s.width))*h,f=(o>d?1:-1)*(1+(n.height>s.height?n.height:s.height))*y):(c=(f-a)/y*(h=l.stiffness*(y-l.length)),f=(d-o)/y*h),s.forceX+=c,s.forceY+=f,n.forceX-=c,n.forceY-=f;for(r=0,a=t.UJ,n=0;n<e.length;n++)t.isFixed(s=e[n])?t.moveFixedVertex(s):(i=s.forceY,(l=s.forceX)<-a?l=-a:l>a&&(l=a),i<-a?i=-a:i>a&&(i=a),s.pa+=l,s.va+=i,r=Math.max(r,l*l+i*i));return r>t.DF*t.DF}function lp(){this.AC=this.zC=this.bz=this.dz=this.cz=0}function hp(){Ef.call(this)}function up(){If.call(this),this.isFixed=!1,this.mass=this.charge=NaN,this.hl=this.sg=this.forceY=this.forceX=0,this.Xh=this.Hn=null,this.UB=0}function cp(){Rf.call(this),this.length=this.stiffness=NaN}function fp(){0<arguments.length&&s.zd(fp),Af.call(this),this.ie=this.an=25,this.ga=0,this.Ro=Vu,this.sp=zu,this.ip=Hu,this.$m=4,this.Fo=Wu,this.qj=$u,this.si=!0,this.Ds=4,this.Qb=this.Bw=this.Ab=-1,this.Zf=this.Ms=0,this.Vb=this.Xf=this.Yf=this.Jg=this.ve=null,this.Vs=0,this.Us=this.fn=null,this.Lg=0,this.Ws=null,this.KC=new ft,this.yh=[],this.yh.length=100}function pp(t){var e=t.fromVertex.Gd;return t=t.toVertex.Gd,null===e&&null===t?8:null===e||null===t?4:1}function dp(t){null===t.fn&&(t.fn=[]);for(var e=0,n=t.network.vertexes.j;n.next();){var i=n.value;t.fn[e]=i.layer,t.fn[++e]=i.column,t.fn[++e]=i.index,e++}return t.fn}function yp(t,e){for(var n=0,i=t.network.vertexes.j;i.next();){var r=i.value;r.layer=e[n],r.column=e[++n],r.index=e[++n],n++}}function vp(t,e,n){r&&(s.p(e,fp,"crossingMatrix:unfixedLayer"),s.p(n,fp,"crossingMatrix:direction"));var i=Up(t,e),o=t.ve[e];(null===t.Us||t.Us.length<o*o)&&(t.Us=[]);for(var a=t.Us,l=0;l<o;l++){var h=0,u=i[l],c=0;if(null!==(v=u.near)&&v.layer===u.layer)if((c=v.index)>l)for(var f=l+1;f<c;f++)(u=i[f]).near===v&&u.En===v.En||h++;else for(f=l-1;f>c;f--)(u=i[f]).near===v&&u.En===v.En||h++;var p,d,y,v=0,g=p=f=u=0,m=0,b=0;if(d=0,0<=n)for(c=i[l].Ye,v=0;v<c.count;v++)if((p=c.o[v]).valid&&p.fromVertex.layer!==e)for(u=p.fromVertex.index,f=p.portToPos,p=p.portFromPos,g=v+1;g<c.count;g++)(d=c.o[g]).valid&&d.fromVertex.layer!==e&&(m=d.fromVertex.index,b=d.portToPos,d=d.portFromPos,f<b&&(u>m||u===m&&p>d)&&h++,b<f&&(m>u||m===u&&d>p)&&h++);if(0>=n)for(c=i[l].Re,v=0;v<c.count;v++)if((p=c.o[v]).valid&&p.toVertex.layer!==e)for(u=p.toVertex.index,f=p.portToPos,p=p.portFromPos,g=v+1;g<c.count;g++)(d=c.o[g]).valid&&d.toVertex.layer!==e&&(m=d.toVertex.index,b=d.portToPos,p<(d=d.portFromPos)&&(u>m||u===m&&f>b)&&h++,d<p&&(m>u||m===u&&b>f)&&h++);for(a[l*o+l]=h,c=l+1;c<o;c++){var x=0,w=0;if(0<=n)for(h=i[l].Ye,y=i[c].Ye,v=0;v<h.count;v++)if((p=h.o[v]).valid&&p.fromVertex.layer!==e)for(u=p.fromVertex.index,p=p.portFromPos,g=0;g<y.count;g++)(d=y.o[g]).valid&&d.fromVertex.layer!==e&&(m=d.fromVertex.index,d=d.portFromPos,(u<m||u===m&&p<d)&&w++,(m<u||m===u&&d<p)&&x++);if(0>=n)for(h=i[l].Re,y=i[c].Re,v=0;v<h.count;v++)if((p=h.o[v]).valid&&p.toVertex.layer!==e)for(u=p.toVertex.index,f=p.portToPos,g=0;g<y.count;g++)(d=y.o[g]).valid&&d.toVertex.layer!==e&&(b=d.portToPos,(u<(m=d.toVertex.index)||u===m&&f<b)&&w++,(m<u||m===u&&b<f)&&x++);a[l*o+c]=x,a[c*o+l]=w}}return Kp(t,e,i),a}function gp(t){for(var e=0,n=0;n<=t.Ab;n++){for(var i=t,r=n,o=Up(i,r),s=i.ve[r],a=0,l=0;l<s;l++){var h,u;if(null!==(u=o[l].Re))for(var c=0;c<u.count;c++)(h=u.o[c]).valid&&h.toVertex.layer!==r&&(a+=(Math.abs(h.fromVertex.column+h.portFromColOffset-(h.toVertex.column+h.portToColOffset))+1)*pp(h))}Kp(i,r,o),e+=a}return e}function mp(t,e,n){r&&(s.p(e,fp,"barycenters:unfixedLayer"),s.p(n,fp,"barycenters:direction"));for(var i=Up(t,e),o=t.ve[e],a=[],l=0;l<o;l++){var h=i[l],u=null;0>=n&&(u=h.Ye);var c=null;0<=n&&(c=h.Re);var f=0,p=0,d=h.near;if(null!==d&&d.layer===h.layer&&(f+=d.column-1,p++),null!==u)for(d=0;d<u.count;d++){var y=(h=u.o[d]).fromVertex;h.valid&&!h.rev&&y.layer!==e&&(f+=y.column,p++)}if(null!==c)for(u=0;u<c.count;u++)d=(h=c.o[u]).toVertex,h.valid&&!h.rev&&d.layer!==e&&(f+=d.column,p++);a[l]=0===p?-1:f/p}return Kp(t,e,i),a}function bp(t,e,n){r&&(s.p(e,fp,"medians:unfixedLayer"),s.p(n,fp,"medians:direction"));for(var i=Up(t,e),o=t.ve[e],a=[],l=0;l<o;l++){var h=i[l],u=null;0>=n&&(u=h.Ye);var c=null;0<=n&&(c=h.Re);var f=0,p=[],d=h.near;if(null!==d&&d.layer===h.layer&&(p[f]=d.column-1,f++),null!==u)for(d=0;d<u.count;d++){var y=(h=u.o[d]).fromVertex;h.valid&&!h.rev&&y.layer!==e&&(p[f]=y.column+h.portFromColOffset,f++)}if(null!==c)for(u=0;u<c.count;u++)d=(h=c.o[u]).toVertex,h.valid&&!h.rev&&d.layer!==e&&(p[f]=d.column+h.portToColOffset,f++);0===f?a[l]=-1:(p.sort(function(t,e){return t-e}),c=f>>1,a[l]=0!=(1&f)?p[c]:p[c-1]+p[c]>>1)}return Kp(t,e,i),a}function xp(t,e,n,i,r,o){if(e.component===i){e.component=n;var s=0;if(r)for(var a=e.tc;a.next();){var l=(s=a.value).toVertex;e.layer-l.layer===(s=t.linkMinLength(s))&&xp(t,l,n,i,r,o)}if(o)for(a=e.wc;a.next();)(l=(s=a.value).fromVertex).layer-e.layer===(s=t.linkMinLength(s))&&xp(t,l,n,i,r,o)}}function wp(t,e,n,i,r,o){if(e.component===i){if(e.component=n,r)for(var s=e.tc;s.next();)wp(t,s.value.toVertex,n,i,r,o);if(o)for(e=e.wc;e.next();)wp(t,e.value.fromVertex,n,i,r,o)}}function kp(t){for(t=t.vertexes.j;t.next();){var e=t.value;if(e.valid)return e}return null}function Pp(t){for(t=t.vertexes.j;t.next();){var e=t.value;if(e.valid){for(var n=!0,i=e.tc;i.next();)if(i.value.toVertex.valid){n=!1;break}if(n)return e}}return null}function Sp(t){for(t=t.vertexes.j;t.next();){var e=t.value;if(e.valid){for(var n=!0,i=e.wc;i.next();)if(i.value.fromVertex.valid){n=!1;break}if(n)return e}}return null}function Cp(t,e){e.lq=t.Vs,t.Vs++;for(var n=e.tc;n.next();){var i=n.value,r=i.toVertex;-1===r.lq&&(i.forest=!0,Cp(t,r))}e.finish=t.Vs,t.Vs++}function Tp(t){for(var e=t.network.vertexes.j;e.next();){var n=Mp(t,e.value);t.Ab=Math.max(n,t.Ab)}}function Mp(t,e){var n=0;if(-1===e.layer){for(var i=e.tc;i.next();){var r=(o=i.value).toVertex,o=t.linkMinLength(o);n=Math.max(n,Mp(t,r)+o)}e.layer=n}else n=e.layer;return n}function Np(t,e){var n=0;if(-1===e.layer){for(var i=e.wc;i.next();){var r=(o=i.value).fromVertex,o=t.linkMinLength(o);n=Math.max(n,Np(t,r)+o)}e.layer=n}else n=e.layer;return n}function jp(t,e){if(!e.valid){e.valid=!0;for(var n=e.tc;n.next();)jp(t,n.value.toVertex);for(n=t.network.vertexes.j;n.next();)n.value.component=-1;for(var i=(l=e.Ye.o).length,r=0;r<i;r++){var o=(a=l[r]).fromVertex,s=a.toVertex,a=t.linkMinLength(a);o.layer-s.layer>a&&xp(t,o,0,-1,!0,!1)}for(xp(t,e,1,-1,!0,!0);0!==e.component;){o=0;for(var l=1/0,h=(s=0,null),u=t.network.vertexes.j;u.next();){var c=u.value;if(1===c.component){var f=0,p=!1,d=c.Ye.o;for(i=d.length,r=0;r<i;r++){var y=(a=d[r]).fromVertex;f+=1,1!==y.component&&(o+=1,y=y.layer-c.layer,a=t.linkMinLength(a),l=Math.min(l,y-a))}for(i=(a=c.Re.o).length,r=0;r<i;r++)f-=1,1!==(d=a[r].toVertex).component?o-=1:p=!0;(null===h||f<s)&&!p&&(h=c,s=f)}}if(0<o){for(n.reset();n.next();)1===(i=n.value).component&&(i.layer+=l);e.component=0}else h.component=0}for(n=t.network.vertexes.j;n.next();)n.value.component=-1;for(xp(t,e,1,-1,!0,!1);0!==e.component;){for(r=0,i=1/0,l=0,a=null,o=t.network.vertexes.j;o.next();)if(1===(s=o.value).component){for(h=0,u=!1,c=(p=s.Ye.o).length,f=0;f<c;f++)h+=1,1!==(d=p[f].fromVertex).component?r+=1:u=!0;for(c=(p=s.Re.o).length,f=0;f<c;f++)h-=1,1!==(y=(d=p[f]).toVertex).component&&(r-=1,y=s.layer-y.layer,d=t.linkMinLength(d),i=Math.min(i,y-d));(null===a||h>l)&&!u&&(a=s,l=h)}if(0>r){for(n.reset();n.next();)1===(r=n.value).component&&(r.layer-=i);e.component=0}else a.component=0}}}function Ap(t,e,n){return 90===t.ga?n&&!e.rev||!n&&e.rev?270:90:180===t.ga?n&&!e.rev||!n&&e.rev?0:180:270===t.ga?n&&!e.rev||!n&&e.rev?90:270:n&&!e.rev||!n&&e.rev?180:0}function _p(t,e){e.index=t.ve[n=e.layer],t.ve[n]++;for(var n=e.Re.Fc(),i=!0;i;){i=!1;for(var r=0;r<n.length-1;r++){var o=n[r],s=n[r+1];o.portFromColOffset>s.portFromColOffset&&(i=!0,n[r]=s,n[r+1]=o)}}for(r=0;r<n.length;r++)(i=n[r]).valid&&-1===(i=i.toVertex).index&&_p(t,i)}function Op(t,e){e.index=t.ve[n=e.layer],t.ve[n]++;for(var n=e.Ye.Fc(),i=!0,r=0;i;)for(i=!1,r=0;r<n.length-1;r++){var o=n[r],s=n[r+1];o.portToColOffset>s.portToColOffset&&(i=!0,n[r]=s,n[r+1]=o)}for(r=0;r<n.length;r++)(i=n[r]).valid&&-1===(i=i.fromVertex).index&&Op(t,i)}function Ep(t,e,n){r&&(s.p(e,fp,"medianBarycenterCrossingReduction:unfixedLayer"),s.p(n,fp,"medianBarycenterCrossingReduction:direction"));var i=0,o=Up(t,e),a=t.ve[e],l=bp(t,e,n);for(n=mp(t,e,n),i=0;i<a;i++)-1===n[i]&&(n[i]=o[i].column),-1===l[i]&&(l[i]=o[i].column);for(var h,u=!0;u;)for(u=!1,i=0;i<a-1;i++)(l[i+1]<l[i]||l[i+1]===l[i]&&n[i+1]<n[i])&&(u=!0,h=l[i],l[i]=l[i+1],l[i+1]=h,h=n[i],n[i]=n[i+1],n[i+1]=h,h=o[i],o[i]=o[i+1],o[i+1]=h);for(i=l=0;i<a;i++)(h=o[i]).index=i,l+=t.nodeMinColumnSpace(h,!0),h.column=l,l+=1,l+=t.nodeMinColumnSpace(h,!1);Kp(t,e,o)}function Dp(t,e,n){var i=Up(t,e),r=t.ve[e];n=vp(t,e,n);var o,s,a=0;for(o=[],a=0;a<r;a++)o[a]=-1;for(s=[],a=0;a<r;a++)s[a]=-1;for(var l=!1,h=!0;h;)for(h=!1,a=0;a<r-1;a++){var u=n[i[a].index*r+i[a+1].index],c=n[i[a+1].index*r+i[a].index],f=0,p=0,d=i[a].column,y=i[a+1].column,v=t.nodeMinColumnSpace(i[a],!0),g=t.nodeMinColumnSpace(i[a],!1),m=t.nodeMinColumnSpace(i[a+1],!0),b=t.nodeMinColumnSpace(i[a+1],!1);for(v=d-v+m,g=y-g+b,m=m=0,(x=i[a].wc.j).reset();x.next();)if(b=(m=x.value).fromVertex,m.valid&&b.layer===e){for(m=0;i[m]!==b;)m++;m<a&&(f+=2*(a-m),p+=2*(a+1-m)),m===a+1&&(f+=1),m>a+1&&(f+=4*(m-a),p+=4*(m-(a+1)))}for((x=i[a].tc.j).reset();x.next();)if(b=(m=x.value).toVertex,m.valid&&b.layer===e){for(m=0;i[m]!==b;)m++;m===a+1&&(p+=1)}for((x=i[a+1].wc.j).reset();x.next();)if(b=(m=x.value).fromVertex,m.valid&&b.layer===e){for(m=0;i[m]!==b;)m++;m<a&&(f+=2*(a+1-m),p+=2*(a-m)),m===a&&(p+=1),m>a+1&&(f+=4*(m-(a+1)),p+=4*(m-a))}for((x=i[a+1].tc.j).reset();x.next();)if(b=(m=x.value).toVertex,m.valid&&b.layer===e){for(m=0;i[m]!==b;)m++;m===a&&(f+=1)}m=b=0;var x,w=s[i[a].index],k=o[i[a+1].index],P=s[i[a+1].index];-1!==(x=o[i[a].index])&&(b+=Math.abs(x-d),m+=Math.abs(x-g)),-1!==w&&(b+=Math.abs(w-d),m+=Math.abs(w-g)),-1!==k&&(b+=Math.abs(k-y),m+=Math.abs(k-v)),-1!==P&&(b+=Math.abs(P-y),m+=Math.abs(P-v)),(p<f-.5||p===f&&c<u-.5||p===f&&c===u&&m<b-.5)&&(h=l=!0,i[a].column=g,i[a+1].column=v,u=i[a],i[a]=i[a+1],i[a+1]=u)}for(a=0;a<r;a++)i[a].index=a;return Kp(t,e,i),l}function Lp(t,e,n){r&&(s.p(e,fp,"bendStraighten:unfixedLayer"),s.p(n,fp,"bendStraighten:direction"));for(var i=!1;Fp(t,e,n);)i=!0;return i}function Fp(t,e,n){r&&(s.p(e,fp,"shiftbendStraighten:unfixedLayer"),s.p(n,fp,"shiftbendStraighten:direction"));var i=0,o=Up(t,e),a=t.ve[e],l=mp(t,e,-1);if(0<n)for(i=0;i<a;i++)l[i]=-1;var h=mp(t,e,1);if(0>n)for(i=0;i<a;i++)h[i]=-1;for(var u=!1,c=!0;c;)for(c=!1,i=0;i<a;i++){var f=o[i].column,p=t.nodeMinColumnSpace(o[i],!0),d=t.nodeMinColumnSpace(o[i],!1),y=0>i-1||f-o[i-1].column-1>p+t.nodeMinColumnSpace(o[i-1],!1)?f-1:f,v=(p=0,p=i+1>=a||o[i+1].column-f-1>d+t.nodeMinColumnSpace(o[i+1],!0)?f+1:f,d=0),g=0,m=0,b=0,x=0;if(0>=n)for(var w=o[i].wc.j;w.next();){var k=(x=w.value).fromVertex;x.valid&&k.layer!==e&&(m=pp(x),b=x.portFromColOffset,x=x.portToColOffset,k=k.column,d+=(Math.abs(f+x-(k+b))+1)*m,v+=(Math.abs(y+x-(k+b))+1)*m,g+=(Math.abs(p+x-(k+b))+1)*m)}if(0<=n)for(w=o[i].tc.j;w.next();)k=(x=w.value).toVertex,x.valid&&k.layer!==e&&(m=pp(x),b=x.portFromColOffset,x=x.portToColOffset,k=k.column,d+=(Math.abs(f+b-(k+x))+1)*m,v+=(Math.abs(y+b-(k+x))+1)*m,g+=(Math.abs(p+b-(k+x))+1)*m);x=b=m=0,k=h[o[i].index],-1!==(w=l[o[i].index])&&(m+=Math.abs(w-f),b+=Math.abs(w-y),x+=Math.abs(w-p)),-1!==k&&(m+=Math.abs(k-f),b+=Math.abs(k-y),x+=Math.abs(k-p)),v<d||v===d&&b<m?(c=u=!0,o[i].column=y):(g<d||g===d&&x<m)&&(c=u=!0,o[i].column=p)}return Kp(t,e,o),t.normalize(),u}function Ip(t,e,n){r&&(s.p(e,fp,"medianStraighten:unfixedLayer"),s.p(n,fp,"medianStraighten:direction"));var i=0,o=Up(t,e),a=t.ve[e],l=bp(t,e,n);for(n=[],i=0;i<a;i++)n[i]=l[i];for(l=!0;l;)for(l=!1,i=0;i<a;i++){var h=o[i].column,u=t.nodeMinColumnSpace(o[i],!0),c=t.nodeMinColumnSpace(o[i],!1),f=0,p=0,d=0;d=p=0,-1===n[i]?f=0===i&&i===a-1?h:0===i?(p=o[i+1].column)-h===c+t.nodeMinColumnSpace(o[i+1],!0)?h-1:h:i===a-1?h-(d=o[i-1].column)===u+t.nodeMinColumnSpace(o[i-1],!1)?h+1:h:((d=(d=o[i-1].column)+t.nodeMinColumnSpace(o[i-1],!1)+u+1)+(p=(p=o[i+1].column)-t.nodeMinColumnSpace(o[i+1],!0)-c-1))/2|0:0===i&&i===a-1?f=n[i]:0===i?(p=(p=o[i+1].column)-t.nodeMinColumnSpace(o[i+1],!0)-c-1,f=Math.min(n[i],p)):i===a-1?(d=(d=o[i-1].column)+t.nodeMinColumnSpace(o[i-1],!1)+u+1,f=Math.max(n[i],d)):(d=(d=o[i-1].column)+t.nodeMinColumnSpace(o[i-1],!1)+u+1,p=(p=o[i+1].column)-t.nodeMinColumnSpace(o[i+1],!0)-c-1,d<n[i]&&n[i]<p?f=n[i]:d>=n[i]?f=d:p<=n[i]&&(f=p)),f!==h&&(l=!0,o[i].column=f)}Kp(t,e,o),t.normalize()}function Rp(t,e){r&&(s.p(e,fp,"packAux:column"),s.p(1,fp,"packAux:direction"));for(var n=!0,i=t.network.vertexes.j;i.next();){var o=i.value,a=t.nodeMinColumnSpace(o,!0),l=t.nodeMinColumnSpace(o,!1);if(o.column-a<=e&&o.column+l>=e){n=!1;break}}if(o=!1,n)for(i.reset();i.next();)(n=i.value).column>e&&(n.column-=1,o=!0);return o}function Vp(t,e){r&&(s.p(e,fp,"tightPackAux:column"),s.p(1,fp,"tightPackAux:direction"));var n=e,i=(n=e+1,0),o=[],a=[];for(i=0;i<=t.Ab;i++)o[i]=!1,a[i]=!1;for(var l=t.network.vertexes.j;l.next();){var h=(i=l.value).column-t.nodeMinColumnSpace(i,!0),u=i.column+t.nodeMinColumnSpace(i,!1);h<=e&&u>=e&&(o[i.layer]=!0),h<=n&&u>=n&&(a[i.layer]=!0)}for(h=!0,n=!1,i=0;i<=t.Ab;i++)h=h&&!(o[i]&&a[i]);if(h)for(l.reset();l.next();)(o=l.value).column>e&&(o.column-=1,n=!0);return n}function Bp(t,e){r&&s.p(e,fp,"componentPack:direction");for(var n=0;n<=t.Qb;n++)for(;Rp(t,n););for(t.normalize(),n=0;n<t.Qb;n++)for(;Vp(t,n););t.normalize(),n=0;var i,o=0,a=0,l=0;if(0<e)for(n=0;n<=t.Qb;n++)for(i=dp(t),a=(o=gp(t))+1;o<a;)a=o,zp(t,n,1),(l=gp(t))>o?yp(t,i):l<o&&(o=l,i=dp(t));if(0>e)for(n=t.Qb;0<=n;n--)for(i=dp(t),a=(o=gp(t))+1;o<a;)a=o,zp(t,n,-1),(l=gp(t))>o?yp(t,i):l<o&&(o=l,i=dp(t));t.normalize()}function zp(t,e,n){t.Lg=0;for(var i=t.network.vertexes.j;i.next();)i.value.component=-1;if(0<n)for(i.reset();i.next();){var r=i.value;r.column-t.nodeMinColumnSpace(r,!0)<=e&&(r.component=t.Lg)}if(0>n)for(i.reset();i.next();)(r=i.value).column+t.nodeMinColumnSpace(r,!1)>=e&&(r.component=t.Lg);for(t.Lg++,i.reset();i.next();)-1===(e=i.value).component&&(wp(t,e,t.Lg,-1,!0,!0),t.Lg++);var o=0;for(e=[],o=0;o<t.Lg*t.Lg;o++)e[o]=!1;for(r=[],o=0;o<(t.Ab+1)*(t.Qb+1);o++)r[o]=-1;for(i.reset();i.next();)for(var s=(o=i.value).layer,a=Math.max(0,o.column-t.nodeMinColumnSpace(o,!0)),l=Math.min(t.Qb,o.column+t.nodeMinColumnSpace(o,!1));a<=l;a++)r[s*(t.Qb+1)+a]=o.component;for(o=0;o<=t.Ab;o++){if(0<n)for(a=0;a<t.Qb;a++)-1!==r[o*(t.Qb+1)+a]&&-1!==r[o*(t.Qb+1)+a+1]&&r[o*(t.Qb+1)+a]!==r[o*(t.Qb+1)+a+1]&&(e[r[o*(t.Qb+1)+a]*t.Lg+r[o*(t.Qb+1)+a+1]]=!0);if(0>n)for(a=t.Qb;0<a;a--)-1!==r[o*(t.Qb+1)+a]&&-1!==r[o*(t.Qb+1)+a-1]&&r[o*(t.Qb+1)+a]!==r[o*(t.Qb+1)+a-1]&&(e[r[o*(t.Qb+1)+a]*t.Lg+r[o*(t.Qb+1)+a-1]]=!0)}for(r=[],o=0;o<t.Lg;o++)r[o]=!0;for((s=new nt("number")).add(0),l=0;0!==s.count;)if(l=s.o[s.count-1],s.pd(s.count-1),r[l])for(r[l]=!1,o=0;o<t.Lg;o++)e[l*t.Lg+o]&&s.be(0,o);if(0<n)for(i.reset();i.next();)r[(t=i.value).component]&&(t.column-=1);if(0>n)for(i.reset();i.next();)r[(n=i.value).component]&&(n.column+=1)}function qp(t,e){return 270===t.ga?e?N:_:90===t.ga?e?_:N:180===t.ga?e?j:A:e?A:j}function Gp(t,e){r&&(s.p(t,fp,"isApprox:a"),s.p(e,fp,"isApprox:b"));var n=t-e;return-1<n&&1>n}function Hp(t,e,n,i){return r&&(s.p(t,fp,"isUnoccupied2:px"),s.p(e,fp,"isUnoccupied2:py"),s.p(n,fp,"isUnoccupied2:qx"),s.p(i,fp,"isUnoccupied2:qy")),!0}function Up(t,e){var n,i=t.ve[e];if(i>=t.yh.length){n=[];for(var r=0;r<t.yh.length;r++)n[r]=t.yh[r];t.yh=n}for(void 0===t.yh[i]||null===t.yh[i]?n=[]:(n=t.yh[i],t.yh[i]=null),i=t.Ws[e],r=0;r<i.length;r++){var o=i[r];n[o.index]=o}return n}function Kp(t,e,n){t.yh[t.ve[e]]=n}function Jp(){this.index=this.Fe=this.hf=this.re=this.first=this.layer=0,this.link=null,this.Li=0}function Wp(){Ef.call(this)}function Yp(){If.call(this),this.index=this.column=this.layer=-1,this.component=NaN,this.near=null,this.valid=!1,this.finish=this.lq=NaN,this.En=0,this.HB=this.IB=null}function Zp(){Rf.call(this),this.forest=this.rev=this.valid=!1,this.portToPos=this.portFromPos=NaN,this.portToColOffset=this.portFromColOffset=0}function Xp(){0<arguments.length&&s.zd(Xp),Af.call(this),this.Jd=new rt(Object),this.gt=tc,this.Wf=ec,this.Wt=gc,this.yw=Sc,this.IC=null,this.bi=!0,this.Bd=wc,this.xg=new yt(10,10).freeze(),this.Aa=new Ad,this.Ba=new Ad,this.sA=[]}function Qp(t){var e=new rt(Ad);for(t=t.j;t.next();){var n=t.value;n.initialized||e.add(n)}return e}function $p(t,e){for(var n=999999,i=null,r=e.j;r.next();){var o=r.value;switch(t.Wf){case ec:o.wc.count<n&&(n=o.wc.count,i=o);break;case nc:o.tc.count<n&&(n=o.tc.count,i=o);break;default:s.k("Unhandled path value "+t.Wf.toString())}}return i}function td(t,e){if(null!==e){switch(r&&s.l(e,Ad,Xp,"walkTree:v"),t.Wf){case ec:if(0<e.tc.count){for(var n=new nt(Ad),i=e.zI;i.next();){var o=i.value;ed(t,e,o)&&n.add(o)}0<n.count&&(e.children=n.Fc())}break;case nc:if(0<e.wc.count){for(n=new nt(Ad),i=e.wK;i.next();)ed(t,e,o=i.value)&&n.add(o);0<n.count&&(e.children=n.Fc())}break;default:s.k("Unhandled path value"+t.Wf.toString())}for(i=(n=e.children).length,o=0;o<i;o++){var a=n[o];a.initialized=!0,a.level=e.level+1,a.parent=e,t.Jd.remove(a)}for(o=0;o<i;o++)td(t,a=n[o])}}function ed(t,e,n){if(r&&s.l(e,Ad,Xp,"walkOK:v"),r&&s.l(n,Ad,Xp,"walkOK:c"),n.initialized){var i;if(null===e)i=!1;else{for(r&&s.l(n,Ad,Xp,"isAncestor:a"),r&&s.l(e,Ad,Xp,"isAncestor:b"),i=e.parent;null!==i&&i!==n;)i=i.parent;i=i===n}if(i||n.level>e.level)return!1;t.removeChild(n.parent,n)}return!0}function nd(t,e){if(null!==e){r&&s.l(e,Ad,Xp,"initializeTree:v"),t.initializeTreeVertexValues(e),e.alignment===fc&&t.sortTreeVertexChildren(e);for(var n=0,i=e.Gn,o=0,a=e.children,l=a.length,h=0;h<l;h++){var u=a[h];nd(t,u),n+=u.descendantCount+1,i=Math.max(i,u.maxChildrenCount),o=Math.max(o,u.maxGenerationCount)}e.descendantCount=n,e.maxChildrenCount=i,e.maxGenerationCount=0<i?o+1:0}}function id(t,e){if(null!==e){r&&s.l(e,Ad,Xp,"assignTree:v"),t.assignTreeVertexValues(e);for(var n=e.children,i=n.length,o=0;o<i;o++)id(t,n[o])}}function rd(t,e){if(null!==e){r&&s.l(e,Ad,Xp,"sortTree:v"),e.alignment!==fc&&t.sortTreeVertexChildren(e);for(var n=e.children,i=n.length,o=0;o<i;o++)rd(t,n[o])}}function od(t){return t===cc||t===fc||t===pc||t===dc}function sd(t){return t===cc||t===fc}function ad(t){r&&s.l(t,Ad,Xp,"isLeftSideBus:v");var e=t.parent;if(null!==e){var n=e.alignment;if(od(n)){if(sd(n)){for(e=e.children,n=0;n<e.length&&t!==e[n];)n++;return 0==n%2}if(n===pc)return!0}}return!1}function ld(t,e){if(r&&s.l(e,Ad,Xp,"layoutTreeNone:v"),0===e.Gn){var n=!1,i=0,o=lc;null!==e.parent&&(i=e.parent.angle,n=od(o=e.parent.alignment)),o=ad(e),e.sa.n(0,0),e.tb.n(e.width,e.height),null===e.parent||null===e.comments||(180!==i&&270!==i||n)&&!o?e.Wa.n(0,0):180===i&&!n||(90===i||270===i)&&o?e.Wa.n(e.width-2*e.W.x,0):e.Wa.n(0,e.height-2*e.W.y)}else{i=90===(n=Td(e))||270===n;for(var a=0,l=(o=e.children).length,h=0;h<l;h++){var u=o[h];a=Math.max(a,i?u.tb.width:u.tb.height)}var c=e.alignment,f=c===hc,p=c===uc,d=od(c),y=Math.max(0,e.breadthLimit),v=Md(e),g=e.nodeSpacing,m=Nd(e),b=f||p?0:m/2,x=e.rowSpacing,w=0;(f||p||e.Rq||e.Sq&&1===e.maxGenerationCount)&&(w=Math.max(0,e.rowIndent)),f=e.width;var k=e.height,P=0,S=0,C=0,T=0,M=0,N=0,j=0,A=0,_=0,O=0;if(d&&!sd(c)&&135<n&&o.reverse(),sd(c))if(1<l)for(h=0;h<l;h++){var E=(u=o[h]).tb;0==h%2&&h!==l-1?_=Math.max(_,(i?E.width:E.height)+cd(u)-g):0!=h%2&&(O=Math.max(O,(i?E.width:E.height)+cd(u)-g))}else 1===l&&(_=i?o[0].tb.width:o[0].tb.height);if(d)switch(c){case cc:case fc:_=(S=135>n?hd(e,o,_,P,S):ud(e,o,_,P,S)).x,P=S.width,S=S.height;break;case pc:for(h=0;h<l;h++)E=(u=o[h]).tb,y=0===j?0:x,i?(u.sa.n(a-E.width,M+y),P=Math.max(P,E.width),S=Math.max(S,M+y+E.height),M+=y+E.height):(u.sa.n(T+y,a-E.height),P=Math.max(P,T+y+E.width),S=Math.max(S,E.height),T+=y+E.width),j++;break;case dc:for(a=0;a<l;a++)E=(u=o[a]).tb,y=0===j?0:x,i?(u.sa.n(g/2+e.W.x,M+y),P=Math.max(P,E.width),S=Math.max(S,M+y+E.height),M+=y+E.height):(u.sa.n(T+y,g/2+e.W.y),P=Math.max(P,T+y+E.width),S=Math.max(S,E.height),T+=y+E.width),j++}else for(h=0;h<l;h++)E=(u=o[h]).tb,i?(0<y&&0<j&&T+g+E.width>y&&(T<a&&gd(e,c,a-T,0,A,h-1),N++,j=0,A=h,C=S,T=0,M=135<n?-S-x:S+x),O=0===j?b:g,bd(t,u,0,M),u.sa.n(T+O,M),P=Math.max(P,T+O+E.width),S=Math.max(S,C+(0===N?0:x)+E.height),T+=O+E.width):(0<y&&0<j&&M+g+E.height>y&&(M<a&&gd(e,c,0,a-M,A,h-1),N++,j=0,A=h,C=P,M=0,T=135<n?-P-x:P+x),O=0===j?b:g,bd(t,u,T,0),u.sa.n(T,M+O),S=Math.max(S,M+O+E.height),P=Math.max(P,C+(0===N?0:x)+E.width),M+=O+E.height),j++;switch(0<N&&(i?(S+=Math.max(0,v),T<P&&gd(e,c,P-T,0,A,l-1),0<w&&(p||md(e,w,0,0,l-1),P+=w)):(P+=Math.max(0,v),M<S&&gd(e,c,0,S-M,A,l-1),0<w&&(p||md(e,0,w,0,l-1),S+=w))),w=p=0,c){case ac:i?p+=P/2-e.W.x-m/2:w+=S/2-e.W.y-m/2;break;case lc:0<N?i?p+=P/2-e.W.x-m/2:w+=S/2-e.W.y-m/2:i?p+=(c=o[0].sa.x+o[0].Wa.x)+((g=o[l-1].sa.x+o[l-1].Wa.x+2*o[l-1].W.x)-c)/2-e.W.x-m/2:w+=(c=o[0].sa.y+o[0].Wa.y)+((g=o[l-1].sa.y+o[l-1].Wa.y+2*o[l-1].W.y)-c)/2-e.W.y-m/2;break;case hc:i?(p-=m,P+=m):(w-=m,S+=m);break;case uc:i?(p+=P-e.width+m,P+=m):(w+=S-e.height+m,S+=m);break;case cc:case fc:i?p=1<l?p+(_+g/2-e.W.x):p+(o[0].W.x-e.W.x+o[0].Wa.x):w=1<l?w+(_+g/2-e.W.y):w+(o[0].W.y-e.W.y+o[0].Wa.y);break;case pc:i?p+=P+g/2-e.W.x:w+=S+g/2-e.W.y;break;case dc:break;default:s.k("Unhandled alignment value "+c.toString())}for(h=0;h<l;h++)u=o[h],i?u.sa.n(u.sa.x+u.Wa.x-p,u.sa.y+(135<n?(d?-S:-u.tb.height)+u.Wa.y-v:k+v+u.Wa.y)):u.sa.n(u.sa.x+(135<n?(d?-P:-u.tb.width)+u.Wa.x-v:f+v+u.Wa.x),u.sa.y+u.Wa.y-w);i?(P=dd(e,P,p),0>p&&(p=0),135<n&&(w+=S+v),S+=k+v):(135<n&&(p+=P+v),P+=f+v,S=yd(e,S,w),0>w&&(w=0)),e.Wa.n(p,w),e.tb.n(P,S)}}function hd(t,e,n,i,o){r&&s.l(t,Ad,Xp,"layoutBusChildrenPosDir:v");var a=e.length;if(0===a)return new vt(n,0,i,o);if(1===a)return new vt(n,0,i=(y=e[0]).tb.width,o=y.tb.height);for(var l=t.nodeSpacing,h=t.rowSpacing,u=90===Td(t),c=0,f=0,p=0,d=0;d<a;d++)if(!(0!=d%2||1<a&&d===a-1)){var y,v=(y=e[d]).tb,g=0===c?0:h;if(u){var m=cd(y)-l;y.sa.n(n-(v.width+m),p+g),i=Math.max(i,v.width+m),o=Math.max(o,p+g+v.height),p+=g+v.height}else m=cd(y)-l,y.sa.n(f+g,n-(v.height+m)),o=Math.max(o,v.height+m),i=Math.max(i,f+g+v.width),f+=g+v.width;c++}c=0;var b=f,x=p;for(u?(f=n+l,p=0):(f=0,p=n+l),d=0;d<a;d++)0!=d%2&&(v=(y=e[d]).tb,g=0===c?0:h,u?(m=cd(y)-l,y.sa.n(f+m,p+g),i=Math.max(i,f+v.width+m),o=Math.max(o,p+g+v.height),p+=g+v.height):(m=cd(y)-l,y.sa.n(f+g,p+m),i=Math.max(i,f+g+v.width),o=Math.max(o,p+v.height+m),f+=g+v.width),c++);return 1<a&&1==a%2&&(v=(y=e[a-1]).tb,e=fd(y,u?Math.max(Math.abs(x),Math.abs(p)):Math.max(Math.abs(b),Math.abs(f))),u?(y.sa.n(n+l/2-y.W.x-y.Wa.x,o+e),u=n+l/2-y.W.x-y.Wa.x,i=Math.max(i,u+v.width),0>u&&(i-=u),o=Math.max(o,Math.max(x,p)+e+v.height),0>y.sa.x&&(n=pd(t,y.sa.x,!1,n,l))):(y.sa.n(i+e,n+l/2-y.W.y-y.Wa.y),i=Math.max(i,Math.max(b,f)+e+v.width),u=n+l/2-y.W.y-y.Wa.y,o=Math.max(o,u+v.height),0>u&&(o-=u),0>y.sa.y&&(n=pd(t,y.sa.y,!0,n,l)))),new vt(n,0,i,o)}function ud(t,e,n,i,o){r&&s.l(t,Ad,Xp,"layoutBusChildrenNegDir:v");var a=e.length;if(0===a)return new vt(n,0,i,o);if(1===a)return new vt(n,0,i=(y=e[0]).tb.width,o=y.tb.height);for(var l=t.nodeSpacing,h=t.rowSpacing,u=270===Td(t),c=0,f=0,p=0,d=0;d<a;d++)if(!(0!=d%2||1<a&&d===a-1)){var y,v=(y=e[d]).tb,g=0===c?0:h;if(u){var m=cd(y)-l;y.sa.n(n-(v.width+m),p-=g+v.height),i=Math.max(i,v.width+m),o=Math.max(o,Math.abs(p))}else m=cd(y)-l,y.sa.n(f-=g+v.width,n-(v.height+m)),o=Math.max(o,v.height+m),i=Math.max(i,Math.abs(f));c++}c=0;var b=f,x=p;for(u?(f=n+l,p=0):(f=0,p=n+l),d=0;d<a;d++)0!=d%2&&(v=(y=e[d]).tb,g=0===c?0:h,u?(m=cd(y)-l,y.sa.n(f+m,p-=g+v.height),i=Math.max(i,f+v.width+m),o=Math.max(o,Math.abs(p))):(m=cd(y)-l,y.sa.n(f-=g+v.width,p+m),o=Math.max(o,p+v.height+m),i=Math.max(i,Math.abs(f))),c++);for(1<a&&1==a%2&&(v=(y=e[a-1]).tb,h=fd(y,u?Math.max(Math.abs(x),Math.abs(p)):Math.max(Math.abs(b),Math.abs(f))),u?(y.sa.n(n+l/2-y.W.x-y.Wa.x,-o-v.height-h),f=n+l/2-y.W.x-y.Wa.x,i=Math.max(i,f+v.width),0>f&&(i-=f),o=Math.max(o,Math.abs(Math.min(x,p))+h+v.height),0>y.sa.x&&(n=pd(t,y.sa.x,!1,n,l))):(y.sa.n(-i-v.width-h,n+l/2-y.W.y-y.Wa.y),i=Math.max(i,Math.abs(Math.min(b,f))+h+v.width),f=n+l/2-y.W.y-y.Wa.y,o=Math.max(o,f+v.height),0>f&&(o-=f),0>y.sa.y&&(n=pd(t,y.sa.y,!0,n,l)))),d=0;d<a;d++)y=e[d],u?y.sa.n(y.sa.x,y.sa.y+o):y.sa.n(y.sa.x+i,y.sa.y);return new vt(n,0,i,o)}function cd(t){return r&&s.l(t,Ad,Xp,"fixRelativePostions:child"),null===t.parent?0:t.parent.nodeSpacing}function fd(t){return r&&s.l(t,Ad,Xp,"fixRelativePostions:lastchild"),null===t.parent?0:t.parent.rowSpacing}function pd(t,e,n,i,o){r&&s.l(t,Ad,Xp,"fixRelativePostions:v");for(var a=(t=t.children).length,l=0;l<a;l++)n?t[l].sa.n(t[l].sa.x,t[l].sa.y-e):t[l].sa.n(t[l].sa.x-e,t[l].sa.y);return e=t[a-1],Math.max(i,n?e.Wa.y+e.W.y-o/2:e.Wa.x+e.W.x-o/2)}function dd(t,e,n){switch(r&&s.l(t,Ad,Xp,"calculateSubwidth:v"),t.alignment){case lc:case ac:var i=e;return n+t.width>i&&(i=n+t.width),0>n&&(i-=n),i;case hc:return t.width>e?t.width:e;case uc:return 2*t.W.x>e?t.width:e+t.width-2*t.W.x;case cc:case fc:return i=Math.min(0,n),n=Math.max(e,n+t.width),Math.max(t.width,n-i);case pc:return t.width-t.W.x+t.nodeSpacing/2+e;case dc:return Math.max(t.width,t.W.x+t.nodeSpacing/2+e);default:return e}}function yd(t,e,n){switch(r&&s.l(t,Ad,Xp,"calculateSubheight:v"),t.alignment){case lc:case ac:var i=e;return n+t.height>i&&(i=n+t.height),0>n&&(i-=n),i;case hc:return t.height>e?t.height:e;case uc:return 2*t.W.y>e?t.height:e+t.height-2*t.W.y;case cc:case fc:return i=Math.min(0,n),n=Math.max(e,n+t.height),Math.max(t.height,n-i);case pc:return t.height-t.W.y+t.nodeSpacing/2+e;case dc:return Math.max(t.height,t.W.y+t.nodeSpacing/2+e);default:return e}}function vd(t,e,n){switch(r&&s.l(t,a,Xp,"alignOffset:align"),t){case ac:case lc:e/=2,n/=2;break;case hc:n=e=0;break;case uc:break;default:s.k("Unhandled alignment value "+t.toString())}return new ft(e,n)}function gd(t,e,n,i,o,l){r&&s.l(t,Ad,Xp,"shiftRelPosAlign:v"),r&&s.l(e,a,Xp,"shiftRelPosAlign:align"),md(t,(e=vd(e,n,i)).x,e.y,o,l)}function md(t,e,n,i,o){if(r&&s.l(t,Ad,Xp,"shiftRelPos:v"),0!==e||0!==n)for(t=t.children;i<=o;i++){var a=t[i].sa;a.x+=e,a.y+=n}}function bd(t,e,n,i){r&&(s.l(e,Ad,Xp,"recordMidPoints:v"),s.h(n,"number",Xp,"recordMidPoints:x"),s.h(i,"number",Xp,"recordMidPoints:y"));var o=e.parent;switch(t.Wf){case ec:for(t=e.wc;t.next();)(e=t.value).fromVertex===o&&e.nt.n(n,i);break;case nc:for(t=e.tc;t.next();)(e=t.value).toVertex===o&&e.nt.n(n,i);break;default:s.k("Unhandled path value "+t.Wf.toString())}}function xd(t,e,n){for(var i=0;i<t.length;i++){var r=t[i];r.x+=e,r.y+=n}}function wd(t,e,n,i,o,a,l,h){r&&s.l(e,Ad,Xp,"mergeFringes:parent"),r&&s.l(n,Ad,Xp,"mergeFringes:child");var u=Td(e),c=90===u||270===u,f=e.nodeSpacing;e=i;var p=o;i=a,o=l;var d=n.Ru,y=n.kv;l=n.tb;var v=c?Math.max(o,l.height):Math.max(i,l.width);if(null!==d&&u===Td(n)||(d=kd(t,2),y=kd(t,2),c?(d[0].n(0,0),d[1].n(0,l.height),y[0].n(l.width,0),y[1].n(y[0].x,d[1].y)):(d[0].n(0,0),d[1].n(l.width,0),y[0].n(0,l.height),y[1].n(d[1].x,y[0].y))),c){if(n=i,i=9999999,!(null===p||2>p.length||null===d||2>d.length))for(c=u=0;u<p.length&&c<d.length;){a=(b=d[c]).x;var g=b.y;a+=n;var m=o=p[u];u+1<p.length&&(m=p[u+1]);var b=(x=b).x,x=x.y;c+1<d.length&&(b=(x=d[c+1]).x,x=x.y,b+=n);var w=i;o.y===g?w=a-o.x:o.y>g&&o.y<x?w=a+(o.y-g)/(x-g)*(b-a)-o.x:g>o.y&&g<m.y&&(w=a-(o.x+(g-o.y)/(m.y-o.y)*(m.x-o.x))),w<i&&(i=w),m.y<=o.y?u++:x<=g?c++:(m.y<=x&&u++,x<=m.y&&c++)}if(n-=i,u=d,c=n+=f,null===e||2>e.length||null===u||2>u.length)i=null;else{for(f=kd(t,e.length+u.length),i=a=o=0;a<u.length&&u[a].y<e[0].y;)g=u[a++],f[i++].n(g.x+c,g.y);for(;o<e.length;)g=e[o++],f[i++].n(g.x,g.y);for(o=e[e.length-1].y;a<u.length&&u[a].y<=o;)a++;for(;a<u.length&&u[a].y>o;)g=u[a++],f[i++].n(g.x+c,g.y);for(u=kd(t,i),o=0;o<i;o++)u[o].assign(f[o]);Pd(t,f),i=u}if(a=y,g=n,null===p||2>p.length||null===a||2>a.length)o=null;else{for(f=kd(t,p.length+a.length),c=m=u=0;u<p.length&&p[u].y<a[0].y;)o=p[u++],f[c++].n(o.x,o.y);for(;m<a.length;)o=a[m++],f[c++].n(o.x+g,o.y);for(a=a[a.length-1].y;u<p.length&&p[u].y<=a;)u++;for(;u<p.length&&p[u].y>a;)o=p[u++],f[c++].n(o.x,o.y);for(o=kd(t,c),u=0;u<c;u++)o[u].assign(f[u]);Pd(t,f)}a=Math.max(0,n)+l.width,l=v}else{if(n=o,i=9999999,!(null===p||2>p.length||null===d||2>d.length))for(c=u=0;u<p.length&&c<d.length;)a=(b=d[c]).x,g=b.y,g+=n,m=o=p[u],u+1<p.length&&(m=p[u+1]),b=(x=b).x,x=x.y,c+1<d.length&&(b=(x=d[c+1]).x,x=x.y,x+=n),w=i,o.x===a?w=g-o.y:o.x>a&&o.x<b?w=g+(o.x-a)/(b-a)*(x-g)-o.y:a>o.x&&a<m.x&&(w=g-(o.y+(a-o.x)/(m.x-o.x)*(m.y-o.y))),w<i&&(i=w),m.x<=o.x?u++:b<=a?c++:(m.x<=b&&u++,b<=m.x&&c++);if(n-=i,u=d,c=n+=f,null===e||2>e.length||null===u||2>u.length)i=null;else{for(f=kd(t,e.length+u.length),i=a=o=0;a<u.length&&u[a].x<e[0].x;)g=u[a++],f[i++].n(g.x,g.y+c);for(;o<e.length;)g=e[o++],f[i++].n(g.x,g.y);for(o=e[e.length-1].x;a<u.length&&u[a].x<=o;)a++;for(;a<u.length&&u[a].x>o;)g=u[a++],f[i++].n(g.x,g.y+c);for(u=kd(t,i),o=0;o<i;o++)u[o].assign(f[o]);Pd(t,f),i=u}if(a=y,g=n,null===p||2>p.length||null===a||2>a.length)o=null;else{for(f=kd(t,p.length+a.length),c=m=u=0;u<p.length&&p[u].x<a[0].x;)o=p[u++],f[c++].n(o.x,o.y);for(;m<a.length;)o=a[m++],f[c++].n(o.x,o.y+g);for(a=a[a.length-1].x;u<p.length&&p[u].x<=a;)u++;for(;u<p.length&&p[u].x>a;)o=p[u++],f[c++].n(o.x,o.y);for(o=kd(t,c),u=0;u<c;u++)o[u].assign(f[u]);Pd(t,f)}a=v,l=Math.max(0,n)+l.height}return Pd(t,e),Pd(t,d),Pd(t,p),Pd(t,y),h[0]=i,h[1]=o,new vt(n,0,a,l)}function kd(t,e){if(void 0!==(n=t.sA[e])&&void 0!==(n=n.pop()))return n;for(var n=[],i=0;i<e;i++)n[i]=new ft;return n}function Pd(t,e){var n=e.length,i=t.sA[n];void 0===i&&(t.sA[n]=i=[]),i.push(e)}function Sd(t,e,n,i){if(null!==e){r&&s.l(e,Ad,Xp,"assignAbsolutePositions:v"),e.x=n,e.y=i;for(var o=(e=e.children).length,a=0;a<o;a++){var l=e[a];Sd(t,l,n+l.sa.x,i+l.sa.y)}}}function Cd(t,e){if(null!==e){r&&s.l(e,Ad,Xp,"setPortSpotsTree:v"),t.setPortSpots(e);for(var n=e.children,i=n.length,o=0;o<i;o++)Cd(t,n[o])}}function Td(t){return 45>=(t=t.angle)?0:135>=t?90:225>=t?180:315>=t?270:0}function Md(t){r&&s.l(t,Ad,Xp,"computeLayerSpacing:v");var e=90===(e=Td(t))||270===e,n=t.layerSpacing;if(0<t.layerSpacingParentOverlap){var i=Math.min(1,t.layerSpacingParentOverlap);n-=e?t.height*i:t.width*i}return n<(e?-t.height:-t.width)&&(n=e?-t.height:-t.width),n}function Nd(t){r&&s.l(t,Ad,Xp,"computeNodeIndent:v");var e=90===(e=Td(t))||270===e,n=t.nodeIndent;if(0<t.nodeIndentPastParent){var i=Math.min(1,t.nodeIndentPastParent);n+=e?t.width*i:t.height*i}return Math.max(0,n)}function jd(){Ef.call(this)}function Ad(){If.call(this),this.initialized=!1,this.parent=null,this.children=[],this.maxGenerationCount=this.maxChildrenCount=this.descendantCount=this.level=0,this.comments=null,this.sa=new ft(0,0),this.tb=new yt(0,0),this.Wa=new ft(0,0),this.Sq=this.Rq=this.lK=!1,this.kv=this.Ru=null,this.sorting=ic,this.comparer=du,this.angle=0,this.alignment=lc,this.nodeIndentPastParent=this.nodeIndent=0,this.nodeSpacing=20,this.layerSpacing=50,this.layerSpacingParentOverlap=0,this.compaction=vc,this.breadthLimit=0,this.rowSpacing=25,this.commentSpacing=this.rowIndent=10,this.commentMargin=20,this.setsPortSpot=!0,this.portSpot=m,this.setsChildPortSpot=!0,this.childPortSpot=m}function _d(){Rf.call(this),this.nt=new ft(0,0)}function Od(){fa.call(this),this.af=null}Dh.prototype.canCopy=function(){if(!this.nF)return!1;var t=this.layer;return null===t||!!t.Pk&&(null===(t=t.g)||!!t.Pk)},Dh.prototype.canDelete=function(){if(!this.rF)return!1;var t=this.layer;return null===t||!!t.Cn&&(null===(t=t.g)||!!t.Cn)},Dh.prototype.canEdit=function(){if(!this.kH)return!1;var t=this.layer;return null===t||!!t.Dx&&(null===(t=t.g)||!!t.Dx)},Dh.prototype.canGroup=function(){if(!this.YF)return!1;var t=this.layer;return null===t||!!t.Ax&&(null===(t=t.g)||!!t.Ax)},Dh.prototype.canMove=function(){if(!this.zG)return!1;var t=this.layer;return null===t||!!t.fm&&(null===(t=t.g)||!!t.fm)},Dh.prototype.canReshape=function(){if(!this.OG)return!1;var t=this.layer;return null===t||!!t.Bx&&(null===(t=t.g)||!!t.Bx)},Dh.prototype.canResize=function(){if(!this.PG)return!1;var t=this.layer;return null===t||!!t.fu&&(null===(t=t.g)||!!t.fu)},Dh.prototype.canRotate=function(){if(!this.UG)return!1;var t=this.layer;return null===t||!!t.Cx&&(null===(t=t.g)||!!t.Cx)},Dh.prototype.canSelect=function(){if(!this.il)return!1;var t=this.layer;return null===t||!!t.Jf&&(null===(t=t.g)||!!t.Jf)},s.defineProperty(Dh,{nF:"copyable"},function(){return 0!=(1&this.T)},function(t){var e=0!=(1&this.T);e!==t&&(r&&s.h(t,"boolean",Dh,"copyable"),this.T^=1,this.i("copyable",e,t))}),s.defineProperty(Dh,{rF:"deletable"},function(){return 0!=(2&this.T)},function(t){var e=0!=(2&this.T);e!==t&&(r&&s.h(t,"boolean",Dh,"deletable"),this.T^=2,this.i("deletable",e,t))}),s.defineProperty(Dh,{kH:"textEditable"},function(){return 0!=(4&this.T)},function(t){var e=0!=(4&this.T);e!==t&&(r&&s.h(t,"boolean",Dh,"textEditable"),this.T^=4,this.i("textEditable",e,t),this.pe())}),s.defineProperty(Dh,{YF:"groupable"},function(){return 0!=(8&this.T)},function(t){var e=0!=(8&this.T);e!==t&&(r&&s.h(t,"boolean",Dh,"groupable"),this.T^=8,this.i("groupable",e,t))}),s.defineProperty(Dh,{zG:"movable"},function(){return 0!=(16&this.T)},function(t){var e=0!=(16&this.T);e!==t&&(r&&s.h(t,"boolean",Dh,"movable"),this.T^=16,this.i("movable",e,t))}),s.defineProperty(Dh,{$G:"selectionAdorned"},function(){return 0!=(32&this.T)},function(t){var e=0!=(32&this.T);e!==t&&(r&&s.h(t,"boolean",Dh,"selectionAdorned"),this.T^=32,this.i("selectionAdorned",e,t),this.pe())}),s.defineProperty(Dh,{hy:"isInDocumentBounds"},function(){return 0!=(64&this.T)},function(t){var e=0!=(64&this.T);if(e!==t){r&&s.h(t,"boolean",Dh,"isInDocumentBounds"),this.T^=64;var n=this.g;null!==n&&n.Qc(),this.i("isInDocumentBounds",e,t)}}),s.defineProperty(Dh,{tB:"isLayoutPositioned"},function(){return 0!=(128&this.T)},function(t){var e=0!=(128&this.T);e!==t&&(r&&s.h(t,"boolean",Dh,"isLayoutPositioned"),this.T^=128,this.i("isLayoutPositioned",e,t),this.L(t?4:8))}),s.defineProperty(Dh,{il:"selectable"},function(){return 0!=(256&this.T)},function(t){var e=0!=(256&this.T);e!==t&&(r&&s.h(t,"boolean",Dh,"selectable"),this.T^=256,this.i("selectable",e,t),this.pe())}),s.defineProperty(Dh,{OG:"reshapable"},function(){return 0!=(512&this.T)},function(t){var e=0!=(512&this.T);e!==t&&(r&&s.h(t,"boolean",Dh,"reshapable"),this.T^=512,this.i("reshapable",e,t),this.pe())}),s.defineProperty(Dh,{PG:"resizable"},function(){return 0!=(1024&this.T)},function(t){var e=0!=(1024&this.T);e!==t&&(r&&s.h(t,"boolean",Dh,"resizable"),this.T^=1024,this.i("resizable",e,t),this.pe())}),s.defineProperty(Dh,{UG:"rotatable"},function(){return 0!=(2048&this.T)},function(t){var e=0!=(2048&this.T);e!==t&&(r&&s.h(t,"boolean",Dh,"rotatable"),this.T^=2048,this.i("rotatable",e,t),this.pe())}),s.defineProperty(Dh,{jb:"isSelected"},function(){return 0!=(4096&this.T)},function(t){var e=0!=(4096&this.T);if(e!==t){r&&s.h(t,"boolean",Dh,"isSelected");var n=this.g;if(!t||this.canSelect()&&!(null!==n&&n.selection.count>=n.KJ)){this.T^=4096;var i=!1;if(null!==n){i=n.lb,n.lb=!0;var o=n.selection;o.Xa(),t?o.add(this):o.remove(this),o.freeze()}this.i("isSelected",e,t),this.pe(),null!==(t=this.qK)&&t(this),null!==n&&(n.Ve(),n.lb=i)}}}),s.defineProperty(Dh,{Zg:"isHighlighted"},function(){return 0!=(524288&this.T)},function(t){var e=0!=(524288&this.T);if(e!==t){r&&s.h(t,"boolean",Dh,"isHighlighted"),this.T^=524288;var n=this.g;null!==n&&((n=n.vm).Xa(),t?n.add(this):n.remove(this),n.freeze()),this.i("isHighlighted",e,t),this.ra(),null!==(t=this.eJ)&&t(this)}}),s.defineProperty(Dh,{dl:"isShadowed"},function(){return 0!=(8192&this.T)},function(t){var e=0!=(8192&this.T);e!==t&&(r&&s.h(t,"boolean",Dh,"isShadowed"),this.T^=8192,this.i("isShadowed",e,t),this.ra())}),Dh.prototype.Pf=function(t){this.T=t?131072|this.T:-131073&this.T},s.defineProperty(Dh,{eG:"isAnimated"},function(){return 0!=(262144&this.T)},function(t){var e=0!=(262144&this.T);e!==t&&(r&&s.h(t,"boolean",Dh,"isAnimated"),this.T^=262144,this.i("isAnimated",e,t))}),s.defineProperty(Dh,{eJ:"highlightedChanged"},function(){return this.ls},function(t){var e=this.ls;e!==t&&(null!==t&&s.h(t,"function",Dh,"highlightedChanged"),this.ls=t,this.i("highlightedChanged",e,t))}),s.defineProperty(Dh,{Py:"selectionObjectName"},function(){return this.Ct},function(t){var e=this.Ct;e!==t&&(r&&s.h(t,"string",Dh,"selectionObjectName"),this.Ct=t,this.tn=null,this.i("selectionObjectName",e,t))}),s.defineProperty(Dh,{pK:"selectionAdornmentTemplate"},function(){return this.At},function(t){var e=this.At;e!==t&&(r&&s.l(t,Lc,Dh,"selectionAdornmentTemplate"),this instanceof Kc&&(t.type=Ya),this.At=t,this.i("selectionAdornmentTemplate",e,t))}),s.w(Dh,{to:"selectionObject"},function(){if(null===this.tn){var t=this.Py;null!==t&&""!==t?(t=this.Md(t),this.tn=null!==t?t:this):this.tn=this instanceof Kc&&null!==(t=this.path)?t:this}return this.tn}),s.defineProperty(Dh,{qK:"selectionChanged"},function(){return this.Bt},function(t){var e=this.Bt;e!==t&&(null!==t&&s.h(t,"function",Dh,"selectionChanged"),this.Bt=t,this.i("selectionChanged",e,t))}),s.defineProperty(Dh,{QG:"resizeAdornmentTemplate"},function(){return this.ot},function(t){var e=this.ot;e!==t&&(r&&s.l(t,Lc,Dh,"resizeAdornmentTemplate"),this.ot=t,this.i("resizeAdornmentTemplate",e,t))}),s.defineProperty(Dh,{SG:"resizeObjectName"},function(){return this.qt},function(t){var e=this.qt;e!==t&&(r&&s.h(t,"string",Dh,"resizeObjectName"),this.qt=t,this.Fp=null,this.i("resizeObjectName",e,t))}),s.w(Dh,{RG:"resizeObject"},function(){if(null===this.Fp){var t=this.SG;null!==t&&""!==t?(t=this.Md(t),this.Fp=null!==t?t:this):this.Fp=this}return this.Fp}),s.defineProperty(Dh,{gK:"resizeCellSize"},function(){return this.pt},function(t){var e=this.pt;e.O(t)||(r&&s.l(t,yt,Dh,"resizeCellSize"),this.pt=t=t.V(),this.i("resizeCellSize",e,t))}),s.defineProperty(Dh,{iK:"rotateAdornmentTemplate"},function(){return this.rt},function(t){var e=this.rt;e!==t&&(r&&s.l(t,Lc,Dh,"rotateAdornmentTemplate"),this.rt=t,this.i("rotateAdornmentTemplate",e,t))}),s.defineProperty(Dh,{jK:"rotateObjectName"},function(){return this.st},function(t){var e=this.st;e!==t&&(r&&s.h(t,"string",Dh,"rotateObjectName"),this.st=t,this.Gp=null,this.i("rotateObjectName",e,t))}),s.w(Dh,{TB:"rotateObject"},function(){if(null===this.Gp){var t=this.jK;null!==t&&""!==t?(t=this.Md(t),this.Gp=null!==t?t:this):this.Gp=this}return this.Gp}),s.defineProperty(Dh,{text:"text"},function(){return this.Yd},function(t){var e=this.Yd;e!==t&&(r&&s.h(t,"string",Dh,"text"),this.Yd=t,this.i("text",e,t))}),s.defineProperty(Dh,{Ka:"containingGroup"},function(){return this.Al},function(t){if(this.qe()){var e=this.Al;if(e!==t){r&&null!==t&&s.l(t,Tf,Dh,"containingGroup"),null===t||this!==t&&!t.Fi(this)||(this===t&&s.k("Cannot make a Group a member of itself: "+this.toString()),s.k("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.L(jh);var n=this.g;if(null!==e?Nf(e,this):this instanceof Tf&&null!==n&&n.$l.remove(this),this.Al=t,null!==t?Mf(t,this):this instanceof Tf&&null!==n&&n.$l.add(this),this.L(Nh),null!==n){var i=this.data,o=n.ea;null!==i&&o instanceof En&&o.$B(i,o.zb(null!==t?t.data:null))}if(null!==(i=this.kF)&&(o=!0,null!==n&&(o=n.ab,n.ab=!0),i(this,e,t),null!==n&&(n.ab=o)),this instanceof Tf)for(Kn(n=new rt(Dh),this,!0,0,!0),n=n.j;n.next();)if((i=n.value)instanceof Fc)for(i=i.Od;i.next();)Jc(i.value);if(this instanceof Fc){for(i=this.Od;i.next();)Jc(i.value);null!==(n=this.Xb)&&Jc(n)}this.i("containingGroup",e,t),null!==t&&null!==(e=t.layer)&&to(e,-1,t)}}else s.k("cannot set the Part.containingGroup of a Link or Adornment")}),(n=Dh.prototype).cl=function(){var t=this.Ka;null!==t&&(t.K(),null!==t.Rb&&t.Rb.K(),t.kg())},n.ra=function(){var t=this.g;null!==t&&!La(this)&&!jc(this)&&this.isVisible()&&this.bc.H()&&t.ra(Vh(this,this.bc))},n.K=function(){tl.prototype.K.call(this);var t=this.g;null!==t&&(t.Gg.add(this),this instanceof Fc&&null!==this.Xb&&Sa(this.Xb),t.Ve(!0))},n.Fu=function(t){t||null!==(t=this.Al)&&Mf(t,this)},n.Gu=function(t){t||null!==(t=this.Al)&&Nf(t,this)},n.Nn=function(){var t=this.data;if(null!==t){var e=this.g;null!==e&&null!==(e=e.ea)&&e.Ky(t)}},s.defineProperty(Dh,{kF:"containingGroupChanged"},function(){return this.xr},function(t){var e=this.xr;e!==t&&(null!==t&&s.h(t,"function",Dh,"containingGroupChanged"),this.xr=t,this.i("containingGroupChanged",e,t))}),Dh.prototype.findSubGraphLevel=function(){return function t(e,n){var i=n.Ka;return null!==i?1+t(e,i):n instanceof Fc&&null!==(i=n.Xb)?t(e,i):0}(this,this)},Dh.prototype.findTopLevelPart=function(){return function t(e,n){var i=n.Ka;return null!==i?t(e,i):n instanceof Fc&&null!==(i=n.Xb)?t(e,i):n}(this,this)},s.w(Dh,{Bq:"isTopLevel"},function(){return!(null!==this.Ka||this instanceof Fc&&null!==this.Xb)}),Dh.prototype.isMemberOf=Dh.prototype.Fi=function(t){return t instanceof Tf&&function t(e,n,i){if(n===i||null===i)return!1;var r=n.Ka;return!(null===r||r!==i&&!t(e,r,i))||n instanceof Fc&&null!==(n=n.Xb)&&t(e,n,i)}(this,this,t)},Dh.prototype.findCommonContainingGroup=Dh.prototype.LI=function(t){if(null===t)return null;if(r&&s.l(t,Dh,Dh,"findCommonContainingGroup:other"),this===t)return this.Ka;for(var e=this;null!==e;){if(e instanceof Tf&&Ec(e,!0),e instanceof Fc){var n=e.Xb;null!==n&&(e=n)}e=e.Ka}var i=null;for(e=t;null!==e;){if(0!=(1048576&e.T)){i=e;break}e instanceof Fc&&null!==(n=e.Xb)&&(e=n),e=e.Ka}for(e=this;null!==e;)e instanceof Tf&&Ec(e,!1),e instanceof Fc&&null!==(n=e.Xb)&&(e=n),e=e.Ka;return i},s.defineProperty(Dh,{AJ:"layoutConditions"},function(){return this.As},function(t){var e=this.As;e!==t&&(r&&s.h(t,"number",Dh,"layoutConditions"),this.As=t,this.i("layoutConditions",e,t))}),Dh.prototype.canLayout=function(){if(!this.tB||!this.isVisible())return!1;var t=this.layer;return!(null!==t&&t.Yc||this instanceof Fc&&this.Lf)},Dh.prototype.invalidateLayout=Dh.prototype.L=function(t){var e;if(void 0===t&&(t=16777215),e=!(!this.tB||0==(t&this.AJ)||null!==(e=this.layer)&&e.Yc||this instanceof Fc&&this.Lf||null!==(e=this.g)&&e.na.ub))if(null!==(e=this.Al)){var n=e.Yb;null!==n?n.L():e.L(t)}else null!==(t=this.g)&&null!==(n=t.Yb)&&n.L()},s.defineProperty(Dh,{wF:"dragComputation"},function(){return this.Tr},function(t){var e=this.Tr;e!==t&&(null!==t&&s.h(t,"function",Dh,"dragComputation"),this.Tr=t,this.i("dragComputation",e,t))}),s.defineProperty(Dh,{tK:"shadowOffset"},function(){return this.vn},function(t){var e=this.vn;e.O(t)||(r&&s.l(t,ft,Dh,"shadowOffset"),this.vn=t=t.V(),this.ra(),this.i("shadowOffset",e,t))}),s.defineProperty(Dh,{shadowColor:"shadowColor"},function(){return this.un},function(t){var e=this.un;e!==t&&(r&&s.h(t,"string",Dh,"shadowColor"),this.un=t,this.ra(),this.i("shadowColor",e,t))}),s.defineProperty(Dh,{shadowBlur:"shadowBlur"},function(){return this.Pg},function(t){var e=this.Pg;e!==t&&(r&&s.h(t,"number",Dh,"shadowBlur"),this.Pg=t,this.ra(),this.i("shadowBlur",e,t))}),s.Ta(Lc,Dh),s.ka("Adornment",Lc),Lc.prototype.toString=function(){var t=this.gf;return"Adornment("+this.Kd+")"+(null!==t?t.toString():"")},Lc.prototype.updateRelationshipsFromData=function(){},Lc.prototype.Wu=function(t){var e=this.Bb.Y,n=this.Bb;if(e instanceof Kc&&n instanceof Nl){var i=e.path;for(n=i.wf,e.Wu(t),n=i.wf,e=(t=this.xa.o).length,i=0;i<e;i++){var r=t[i];r.Ue&&r instanceof Nl&&(r.Za=n)}}},s.w(Lc,{placeholder:"placeholder"},function(){return this.Rb}),s.defineProperty(Lc,{Bb:"adornedObject"},function(){return this.Tc},function(t){r&&null!==t&&s.l(t,fa,Dh,"adornedObject:value");var e=this.gf,n=null;null!==t&&(n=t.Y),null===e||null!==t&&e===n||e.Xj(this.Kd),this.Tc=t,null!==n&&n.cm(this.Kd,this)}),s.w(Lc,{gf:"adornedPart"},function(){var t=this.Tc;return null!==t?t.Y:null}),Lc.prototype.ym=function(){var t=this.Tc;return null===t||null===(t=t.Y)||!La(t)},Lc.prototype.qe=function(){return!1},s.w(Lc,{Ka:"containingGroup"},function(){return null}),Lc.prototype.qo=function(t,e,n,i,r,o,a){if(t===te&&"elements"===e)if(r instanceof jf){var l=r;null===this.Rb?this.Rb=l:this.Rb!==l&&s.k("Cannot insert a second Placeholder into the visual tree of an Adornment.")}else r instanceof tl&&(l=r.qu(function(t){return t instanceof jf}))instanceof jf&&(null===this.Rb?this.Rb=l:this.Rb!==l&&s.k("Cannot insert a second Placeholder into the visual tree of an Adornment."));else t===ee&&"elements"===e&&null!==this.Rb&&(i===this.Rb?this.Rb=null:i instanceof tl&&this.Rb.xm(i)&&(this.Rb=null));Dh.prototype.qo.call(this,t,e,n,i,r,o,a)},Lc.prototype.updateAdornments=function(){},Lc.prototype.Nn=function(){},s.Ta(Fc,Dh),s.ka("Node",Fc),Fc.prototype.cloneProtected=function(t){Dh.prototype.cloneProtected.call(this,t),t.Ca=this.Ca,t.Ca=-17&this.Ca,t.Bs=this.Bs,t.Cs=this.Cs,t.Pl=this.Pl,t.Vt=this.Vt,t.qr=this.qr.V(),t.kt=this.kt},Fc.prototype.Ei=function(t){Dh.prototype.Ei.call(this,t),t.kg(),t.ai=this.ai,t.Ae=null},Fc.DirectionDefault=Kh=s.s(Fc,"DirectionDefault",0),Fc.DirectionAbsolute=s.s(Fc,"DirectionAbsolute",1),Fc.DirectionRotatedNode=Jh=s.s(Fc,"DirectionRotatedNode",2),Fc.DirectionRotatedNodeOrthogonal=Wh=s.s(Fc,"DirectionRotatedNodeOrthogonal",3),Fc.SpreadingNone=s.s(Fc,"SpreadingNone",10),Fc.SpreadingEvenly=Yh=s.s(Fc,"SpreadingEvenly",11),Fc.SpreadingPacked=Zh=s.s(Fc,"SpreadingPacked",12),Fc.prototype.invalidateLinkBundle=function(t,e,n){void 0!==e&&null!==e||(e=""),void 0!==n&&null!==n||(n=""),null!==(t=Rc(this,t,e,n))&&t.wq()},Fc.prototype.qo=function(t,e,n,i,r,o,s){t===te&&"elements"===e?this.Ae=null:t===ee&&"elements"===e&&(this.Ae=null),Dh.prototype.qo.call(this,t,e,n,i,r,o,s)},Fc.prototype.invalidateConnectedLinks=Fc.prototype.kg=function(t){void 0===t&&(t=null);for(var e=this.Od;e.next();){var n=e.value;null!==t&&t.contains(n)||(Bc(this,n.oc),Bc(this,n.Gc),n.ec())}},Fc.prototype.ym=function(){return!0},s.defineProperty(Fc,{$J:"portSpreading"},function(){return this.kt},function(t){var e=this.kt;e!==t&&(r&&s.Da(t,Fc,Fc,"portSpreading"),this.kt=t,this.i("portSpreading",e,t),null!==(t=this.g)&&t.na.ub||this.kg())}),s.defineProperty(Fc,{HA:"avoidable"},function(){return 0!=(8&this.Ca)},function(t){var e=0!=(8&this.Ca);if(e!==t){r&&s.h(t,"boolean",Fc,"avoidable"),this.Ca^=8;var n=this.g;null!==n&&n.oB(this),this.i("avoidable",e,t)}}),s.defineProperty(Fc,{dI:"avoidableMargin"},function(){return this.qr},function(t){"number"==typeof t?t=new Pt(t):s.l(t,Pt,Fc,"avoidableMargin");var e=this.qr;if(!e.O(t)){this.qr=t=t.V();var n=this.g;null!==n&&n.oB(this),this.i("avoidableMargin",e,t)}}),Fc.prototype.getAvoidableRect=function(t){return t.set(this.aa),t.yx(this.dI),t},Fc.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.isVisible();)t=t.Ka;return t},Fc.prototype.isVisible=function(){if(!Dh.prototype.isVisible.call(this))return!1;var t=!0,e=Wr,n=this.g;if(null!==n){if((t=n.Ra).of&&null!==(t=t.jn.oa(this))&&t.Hy)return!0;t=n.ee,e=n.rC}if(e===Wr){if(null!==(n=this.Yk())&&!n.Dc)return!1}else if(e===Yr){if(0<(n=t?this.HF():this.IF()).count&&n.all(function(t){return!t.Dc}))return!1}else if(e===Zr&&0<(n=t?this.HF():this.IF()).count&&n.any(function(t){return!t.Dc}))return!1;return null===(n=this.Xb)||n.isVisible()},Fc.prototype.Pd=function(t){Dh.prototype.Pd.call(this,t);for(var e=this.Od;e.next();)e.value.Pd(t)},s.w(Fc,{Od:"linksConnected"},function(){return this.yc.j}),Fc.prototype.findLinksConnected=Fc.prototype.FF=function(t){if(void 0===t&&(t=null),null===t)return this.yc.j;r&&s.h(t,"string",Fc,"findLinksConnected:pid");var e=new tt(this.yc),n=this;return e.Nq=function(e){return e.$===n&&e.hg===t||e.ba===n&&e.jh===t},e},Fc.prototype.findLinksOutOf=Fc.prototype.Wx=function(t){void 0===t&&(t=null),r&&null!==t&&s.h(t,"string",Fc,"findLinksOutOf:pid");var e=new tt(this.yc),n=this;return e.Nq=function(e){return e.$===n&&(null===t||e.hg===t)},e},Fc.prototype.findLinksInto=Fc.prototype.Yg=function(t){void 0===t&&(t=null),r&&null!==t&&s.h(t,"string",Fc,"findLinksInto:pid");var e=new tt(this.yc),n=this;return e.Nq=function(e){return e.ba===n&&(null===t||e.jh===t)},e},Fc.prototype.findNodesConnected=Fc.prototype.GF=function(t){void 0===t&&(t=null),r&&null!==t&&s.h(t,"string",Fc,"findNodesConnected:pid");for(var e=null,n=null,i=this.yc.j;i.next();){var o=i.value;o.$===this?null!==t&&o.hg!==t||(o=o.ba,null!==e?e.add(o):null!==n&&n!==o?((e=new rt(Fc)).add(n),e.add(o)):n=o):o.ba!==this||null!==t&&o.jh!==t||(o=o.$,null!==e?e.add(o):null!==n&&n!==o?((e=new rt(Fc)).add(n),e.add(o)):n=o)}return null!==e?e.j:null!==n?new Q(n):X},Fc.prototype.findNodesOutOf=Fc.prototype.IF=function(t){void 0===t&&(t=null),r&&null!==t&&s.h(t,"string",Fc,"findNodesOutOf:pid");for(var e=null,n=null,i=this.yc.j;i.next();){var o=i.value;o.$!==this||null!==t&&o.hg!==t||(o=o.ba,null!==e?e.add(o):null!==n&&n!==o?((e=new rt(Fc)).add(n),e.add(o)):n=o)}return null!==e?e.j:null!==n?new Q(n):X},Fc.prototype.findNodesInto=Fc.prototype.HF=function(t){void 0===t&&(t=null),r&&null!==t&&s.h(t,"string",Fc,"findNodesInto:pid");for(var e=null,n=null,i=this.yc.j;i.next();){var o=i.value;o.ba!==this||null!==t&&o.jh!==t||(o=o.$,null!==e?e.add(o):null!==n&&n!==o?((e=new rt(Fc)).add(n),e.add(o)):n=o)}return null!==e?e.j:null!==n?new Q(n):X},Fc.prototype.findLinksBetween=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),r&&(s.l(t,Fc,Fc,"findLinksBetween:othernode"),null!==e&&s.h(e,"string",Fc,"findLinksBetween:pid"),null!==n&&s.h(n,"string",Fc,"findLinksBetween:otherpid"));var i=new tt(this.yc),o=this;return i.Nq=function(i){return!(i.$!==o||i.ba!==t||null!==e&&i.hg!==e||null!==n&&i.jh!==n)||!(i.$!==t||i.ba!==o||null!==n&&i.hg!==n||null!==e&&i.jh!==e)},i},Fc.prototype.findLinksTo=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),r&&(s.l(t,Fc,Fc,"findLinksTo:othernode"),null!==e&&s.h(e,"string",Fc,"findLinksTo:pid"),null!==n&&s.h(n,"string",Fc,"findLinksTo:otherpid"));var i=new tt(this.yc),o=this;return i.Nq=function(i){return!(i.$!==o||i.ba!==t||null!==e&&i.hg!==e||null!==n&&i.jh===n)},i},s.defineProperty(Fc,{BJ:"linkConnected"},function(){return this.Bs},function(t){var e=this.Bs;e!==t&&(null!==t&&s.h(t,"function",Fc,"linkConnected"),this.Bs=t,this.i("linkConnected",e,t))}),s.defineProperty(Fc,{CJ:"linkDisconnected"},function(){return this.Cs},function(t){var e=this.Cs;e!==t&&(null!==t&&s.h(t,"function",Fc,"linkDisconnected"),this.Cs=t,this.i("linkDisconnected",e,t))}),s.defineProperty(Fc,{sy:"linkValidation"},function(){return this.Pl},function(t){var e=this.Pl;e!==t&&(null!==t&&s.h(t,"function",Fc,"linkValidation"),this.Pl=t,this.i("linkValidation",e,t))}),Fc.prototype.updateRelationshipsFromData=function(){Dh.prototype.updateRelationshipsFromData.call(this);var t=this.data;if(null!==t){var e=this.g;if(null!==e){var n=e.ea;n instanceof In&&(t=n.Un(t),(t=e.Se(t))!==(n=this.Yk())&&(n=this.Qn(),null!==t?null!==n?e.ee?n.$=t:n.ba=t:ts(e,t,this):null!==n&&Lo(e,n,!1)))}}},Fc.prototype.Fu=function(t){Dh.prototype.Fu.call(this,t),t||(Gc(this),null!==(t=this.pp)&&Wc(t,this))},Fc.prototype.Gu=function(t){Dh.prototype.Gu.call(this,t),t||null!==(t=this.pp)&&null!==t.Hf&&(t.Hf.remove(this),t.K())},Fc.prototype.Nn=function(){if(0<this.yc.count){var t=this.g;if(null!==t)for(var e=t.yb.vF,n=this.yc.copy().j;n.next();){var i=n.value;e?t.remove(i):(i.$===this&&(i.$=null),i.ba===this&&(i.ba=null))}}this.Xb=null,Dh.prototype.Nn.call(this)},s.w(Fc,{Lf:"isLinkLabel"},function(){return null!==this.pp}),s.defineProperty(Fc,{Xb:"labeledLink"},function(){return this.pp},function(t){var e=this.pp;if(e!==t){r&&null!==t&&s.l(t,Kc,Fc,"labeledLink");var n=this.g,i=this.data;if(null!==e){if(null!==e.Hf&&(e.Hf.remove(this),e.K()),null!==n&&null!==i&&!n.na.ub){var o=e.data,a=n.ea;if(null!==o&&a instanceof En){var l=a.zb(i);void 0!==l&&a.eK(o,l)}}this.Ka=null}this.pp=t,null!==t&&(Wc(t,this),null===n||null===i||n.na.ub||(a=n.ea,null!==(o=t.data)&&a instanceof En&&void 0!==(l=a.zb(i))&&a.VE(o,l)),this.Ka=t.Ka),Sa(this),this.i("labeledLink",e,t)}}),Fc.prototype.findPort=Fc.prototype.aB=function(t){if(r&&s.h(t,"string",Fc,"findPort:pid"),null===this.Ae){if(""===t&&!1===this.bl)return this;Hc(this)}var e=this.Ae.oa(t);return null!==e||""!==t&&null!==(e=this.Ae.oa(""))?e:this},s.w(Fc,{port:"port"},function(){return this.aB("")}),s.w(Fc,{ports:"ports"},function(){return null===this.Ae&&Hc(this),this.Ae.qG}),Fc.prototype.isInTreeOf=function(t){if(null===t||t===this)return!1;var e=!0,n=this.g;if(null!==n&&(e=n.ee),n=this,e)for(;n!==t;){e=null;for(var i=n.yc.j;i.next();){var r=i.value;if(r.jc&&(e=r.$)!==n&&e!==this)break}if(e===this||null===e||e===n)return!1;n=e}else for(;n!==t;){for(e=null,i=n.yc.j;i.next()&&(!(r=i.value).jc||(e=r.ba)===n||e===this););if(e===this||null===e||e===n)return!1;n=e}return!0},Fc.prototype.findTreeRoot=function(){var t=!0,e=this.g;if(null!==e&&(t=e.ee),e=this,t)for(;;){t=null;for(var n=e.yc.j;n.next();){var i=n.value;if(i.jc&&(t=i.$)!==e&&t!==this)break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,n=e.yc.j;n.next()&&(!(i=n.value).jc||(t=i.ba)===e||t===this););if(t===this)return this;if(null===t||t===e)return e;e=t}},Fc.prototype.findCommonTreeParent=function(t){if(null===t)return null;if(r&&s.l(t,Fc,Fc,"findCommonTreeParent:other"),this===t)return this;for(var e=this;null!==e;)Ec(e,!0),e=e.Yk();var n=null;for(e=t;null!==e;){if(0!=(1048576&e.T)){n=e;break}e=e.Yk()}for(e=this;null!==e;)Ec(e,!1),e=e.Yk();return n},Fc.prototype.findTreeParentLink=Fc.prototype.Qn=function(){var t=!0,e=this.g;if(null!==e&&(t=e.ee),e=this.yc.j,t){for(;e.next();)if((t=e.value).jc&&t.$!==this)return t}else for(;e.next();)if((t=e.value).jc&&t.ba!==this)return t;return null},Fc.prototype.findTreeParentNode=Fc.prototype.Yk=function(){if(null===(t=this.Nk))return null;if(t instanceof Fc)return t;var t,e=!0;if(null!==(t=this.g)&&(e=t.ee),t=this.yc.j,e){for(;t.next();)if((e=t.value).jc&&(e=e.$)!==this)return this.Nk=e}else for(;t.next();)if((e=t.value).jc&&(e=e.ba)!==this)return this.Nk=e;return this.Nk=null},Fc.prototype.findTreeParentChain=function(){var t=new rt(Dh);return function t(e,n){if(null!==e){n.add(e);var i=e.Qn();null!==i&&(n.add(i),t(e.Yk(),n))}}(this,t),t},Fc.prototype.findTreeLevel=function(){return function t(e,n){var i=n.Yk();return null===i?0:1+t(e,i)}(this,this)},Fc.prototype.findTreeChildrenLinks=Fc.prototype.Yx=function(){var t=!0;null!==(e=this.g)&&(t=e.ee);var e,n=this;return(e=new tt(this.yc)).Nq=t?function(t){return!(!t.jc||t.$!==n)}:function(t){return!(!t.jc||t.ba!==n)},e},Fc.prototype.findTreeChildrenNodes=Fc.prototype.KF=function(){var t=!0,e=this.g;null!==e&&(t=e.ee);var n=e=null,i=this.yc.j;if(t)for(;i.next();)(t=i.value).jc&&t.$===this&&(t=t.ba,null!==e?e.add(t):null!==n&&n!==t?((e=new nt(Fc)).add(n),e.add(t)):n=t);else for(;i.next();)(t=i.value).jc&&t.ba===this&&(t=t.$,null!==e?e.add(t):null!==n&&n!==t?((e=new nt(Fc)).add(n),e.add(t)):n=t);return null!==e?e.j:null!==n?new Q(n):X},Fc.prototype.findTreeParts=function(t){void 0===t&&(t=1/0),s.h(t,"number",Fc,"findTreeParts:level");var e=new rt(Dh);return Kn(e,this,!1,t,!0),e},Fc.prototype.collapseTree=Fc.prototype.collapseTree=function(t){void 0===t&&(t=1),s.p(t,Fc,"collapseTree:level"),1>t&&(t=1);var e=this.g;if(null!==e&&!e.Ph){e.Ph=!0;var n=new rt(Fc);n.add(this),function t(e,n,i,r,o,s,a){if(1<r)for(var l=i?e.Wx():e.Yg();l.next();){var h=l.value;h.jc&&(null===(h=h.fB(e))||h===e||n.contains(h)||(n.add(h),t(h,n,i,r-1,o,s,a)))}else!function t(e,n,i,r,o,s){for(var a=o===e||e.Dc,l=i?e.Wx():e.Yg();l.next();){var h=l.value;h.jc&&(null===(h=h.fB(e))||h===e||n.contains(h)||(n.add(h),a&&(s&&Er(r,h,o),h.cl(),h.Pd(!1)),h.Dc&&(h.br=h.Dc,t(h,n,i,r,o,s))))}e.Dc=!1}(e,n,i,o,s,a)}(this,n,e.ee,t,e.Ra,this,e.rC===Wr),e.Ph=!1}},Fc.prototype.expandTree=Fc.prototype.expandTree=function(t){void 0===t&&(t=2),s.p(t,Fc,"expandTree:level"),2>t&&(t=2);var e=this.g;if(null!==e&&!e.Ph){e.Ph=!0;var n=new rt(Fc);n.add(this),function t(e,n,i,r,o,s,a){for(var l=s!==e&&e.Dc,h=i?e.Wx():e.Yg();h.next();){var u=h.value;u.jc&&(l||u.Uf||u.ec(),null!==(u=u.fB(e))&&u!==e&&!n.contains(u)&&(n.add(u),l||(u.Pd(!0),u.cl(),a&&Or(o,u,s)),2<r||u.br))&&(u.br=!1,t(u,n,i,r-1,o,s,a))}e.Dc=!0}(this,n,e.ee,t,e.Ra,this,e.rC===Wr),e.Ph=!1}},s.defineProperty(Fc,{Dc:"isTreeExpanded"},function(){return 0!=(1&this.Ca)},function(t){var e=0!=(1&this.Ca);if(e!==t){r&&s.h(t,"boolean",Fc,"isTreeExpanded"),this.Ca^=1;var n=this.g;if(this.i("isTreeExpanded",e,t),null!==(e=this.GK)){var i=!0;null!==n&&(i=n.ab,n.ab=!0),e(this),null!==n&&(n.ab=i)}null!==n&&n.na.ub?this.Pd(t):t?this.expandTree():this.collapseTree()}}),s.defineProperty(Fc,{br:"wasTreeExpanded"},function(){return 0!=(2&this.Ca)},function(t){var e=0!=(2&this.Ca);e!==t&&(r&&s.h(t,"boolean",Fc,"wasTreeExpanded"),this.Ca^=2,this.i("wasTreeExpanded",e,t))}),s.defineProperty(Fc,{GK:"treeExpandedChanged"},function(){return this.Vt},function(t){var e=this.Vt;e!==t&&(null!==t&&s.h(t,"function",Fc,"treeExpandedChanged"),this.Vt=t,this.i("treeExpandedChanged",e,t))}),s.defineProperty(Fc,{Rj:"isTreeLeaf"},function(){return 0!=(4&this.Ca)},function(t){var e=0!=(4&this.Ca);e!==t&&(r&&s.h(t,"boolean",Fc,"isTreeLeaf"),this.Ca^=4,this.i("isTreeLeaf",e,t))}),s.Ta(Kc,Dh),s.ka("Link",Kc),Kc.prototype.cloneProtected=function(t){Dh.prototype.cloneProtected.call(this,t),t.gc=-113&this.gc,t.gi=this.gi,t.cs=this.cs,t.Ai=this.Ai,t.Ut=this.Ut,t.ir=this.ir,t.Dr=this.Dr,t.Gr=this.Gr,t.Hr=this.Hr,t.on=this.on,t.Jt=this.Jt,null!==this.Z&&(t.Z=this.Z.copy())},Kc.prototype.Ei=function(t){Dh.prototype.Ei.call(this,t),this.gi=t.gi,this.Ai=t.Ai,t.ef=null,t.ec(),t.Oi=this.Oi},Kc.prototype.qc=function(t){t.Qe===Kc?2==(2&t.value)?this.My=t:t===tu||t===eu||t===nu?this.kf=t:t===iu||t===ru||t===ou?this.Yp=t:t!==Xh&&t!==$h&&s.k("Unknown Link enum value for a Link property: "+t):Dh.prototype.qc.call(this,t)},Kc.Normal=Xh=s.s(Kc,"Normal",1),Kc.Orthogonal=s.s(Kc,"Orthogonal",2),Kc.AvoidsNodes=s.s(Kc,"AvoidsNodes",6),Kc.AvoidsNodesStraight=Qh=s.s(Kc,"AvoidsNodesStraight",7),Kc.None=$h=s.s(Kc,"None",0),Kc.Bezier=tu=s.s(Kc,"Bezier",9),Kc.JumpGap=eu=s.s(Kc,"JumpGap",10),Kc.JumpOver=nu=s.s(Kc,"JumpOver",11),Kc.End=iu=s.s(Kc,"End",17),Kc.Scale=ru=s.s(Kc,"Scale",18),Kc.Stretch=ou=s.s(Kc,"Stretch",19),Kc.OrientAlong=su=s.s(Kc,"OrientAlong",21),Kc.OrientPlus90=au=s.s(Kc,"OrientPlus90",22),Kc.OrientMinus90=lu=s.s(Kc,"OrientMinus90",23),Kc.OrientOpposite=hu=s.s(Kc,"OrientOpposite",24),Kc.OrientUpright=uu=s.s(Kc,"OrientUpright",25),Kc.OrientPlus90Upright=cu=s.s(Kc,"OrientPlus90Upright",26),Kc.OrientMinus90Upright=fu=s.s(Kc,"OrientMinus90Upright",27),Kc.OrientUpright45=pu=s.s(Kc,"OrientUpright45",28),(n=Kc.prototype).ae=function(){null===this.Z&&(this.Z=new Cf)},n.ym=function(){var t=this.$;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),La(t)||jc(t))return!1}return null===(t=this.ba)||(null!==(e=t.findVisibleNode())&&(t=e),!La(t)&&!jc(t))},n.bC=function(){return!1},n.cC=function(){},n.qe=function(){return!1},Kc.prototype.computeAngle=function(t,e,n){return Kc.computeAngle(e,n)},Kc.computeAngle=function(t,e){var n=0;switch(t){default:case $h:n=0;break;case su:n=e;break;case au:n=e+90;break;case lu:n=e-90;break;case hu:n=e+180;break;case uu:90<(n=He(e))&&270>n&&(n-=180);break;case cu:90<(n=He(e+90))&&270>n&&(n-=180);break;case fu:90<(n=He(e-90))&&270>n&&(n-=180);break;case pu:if(45<(n=He(e))&&135>n||225<n&&315>n)return 0;90<n&&270>n&&(n-=180)}return He(n)},s.defineProperty(Kc,{$:"fromNode"},function(){return this.Cg},function(t){var e=this.Cg;if(e!==t){r&&null!==t&&s.l(t,Fc,Kc,"fromNode");var n=this.oc;null!==e&&(this.Tg!==e&&qc(e,this,n),uf(this),this.L(jh)),this.Cg=t,null!==t&&this.Pd(t.isVisible()),this.$i=null,this.ec();var i=this.g;if(null!==i){var o=this.data,a=i.ea;if(null!==o)if(a instanceof En){var l=null!==t?t.data:null;a.YB(o,a.zb(l))}else a instanceof In&&(l=null!==t?t.data:null,i.ee?a.Ii(o,a.zb(l)):(null!==e&&a.Ii(e.data,void 0),a.Ii(l,a.zb(null!==this.Tg?this.Tg.data:null))))}o=this.oc,null!==(a=this.NF)&&(l=!0,null!==i&&(l=i.ab,i.ab=!0),a(this,n,o),null!==i&&(i.ab=l)),null!==t&&(this.Tg!==t&&zc(t,this,o),hf(this),this.L(Nh)),this.i("fromNode",e,t),Jc(this)}}),s.defineProperty(Kc,{hg:"fromPortId"},function(){return this.gi},function(t){var e=this.gi;if(e!==t){r&&s.h(t,"string",Kc,"fromPortId");var n=this.$,i=this.oc;null!==i&&Bc(n,i),uf(this),this.gi=t;var o=this.oc;if(null!==o&&Bc(n,o),null!==(n=this.g)){var a=this.data,l=n.ea;null!==a&&l instanceof En&&l.ZB(a,t)}i!==o&&(this.$i=null,this.ec(),null!==(a=this.NF)&&(l=!0,null!==n&&(l=n.ab,n.ab=!0),a(this,i,o),null!==n&&(n.ab=l))),hf(this),this.i("fromPortId",e,t)}}),s.w(Kc,{oc:"fromPort"},function(){var t=this.Cg;return null===t?null:t.aB(this.gi)}),s.defineProperty(Kc,{NF:"fromPortChanged"},function(){return this.cs},function(t){var e=this.cs;e!==t&&(null!==t&&s.h(t,"function",Kc,"fromPortChanged"),this.cs=t,this.i("fromPortChanged",e,t))}),s.defineProperty(Kc,{ba:"toNode"},function(){return this.Tg},function(t){var e=this.Tg;if(e!==t){r&&null!==t&&s.l(t,Fc,Kc,"toNode");var n=this.Gc;null!==e&&(this.Cg!==e&&qc(e,this,n),uf(this),this.L(jh)),this.Tg=t,null!==t&&this.Pd(t.isVisible()),this.$i=null,this.ec();var i=this.g;if(null!==i){var o=this.data,a=i.ea;if(null!==o)if(a instanceof En){var l=null!==t?t.data:null;a.dC(o,a.zb(l))}else a instanceof In&&(l=null!==t?t.data:null,i.ee?(null!==e&&a.Ii(e.data,void 0),a.Ii(l,a.zb(null!==this.Cg?this.Cg.data:null))):a.Ii(o,a.zb(l)))}o=this.Gc,null!==(a=this.oH)&&(l=!0,null!==i&&(l=i.ab,i.ab=!0),a(this,n,o),null!==i&&(i.ab=l)),null!==t&&(this.Cg!==t&&zc(t,this,o),hf(this),this.L(Nh)),this.i("toNode",e,t),Jc(this)}}),s.defineProperty(Kc,{jh:"toPortId"},function(){return this.Ai},function(t){var e=this.Ai;if(e!==t){r&&s.h(t,"string",Kc,"toPortId");var n=this.ba,i=this.Gc;null!==i&&Bc(n,i),uf(this),this.Ai=t;var o=this.Gc;if(null!==o&&Bc(n,o),null!==(n=this.g)){var a=this.data,l=n.ea;null!==a&&l instanceof En&&l.eC(a,t)}i!==o&&(this.$i=null,this.ec(),null!==(a=this.oH)&&(l=!0,null!==n&&(l=n.ab,n.ab=!0),a(this,i,o),null!==n&&(n.ab=l))),hf(this),this.i("toPortId",e,t)}}),s.w(Kc,{Gc:"toPort"},function(){var t=this.Tg;return null===t?null:t.aB(this.Ai)}),s.defineProperty(Kc,{oH:"toPortChanged"},function(){return this.Ut},function(t){var e=this.Ut;e!==t&&(null!==t&&s.h(t,"function",Kc,"toPortChanged"),this.Ut=t,this.i("toPortChanged",e,t))}),s.defineProperty(Kc,{Gb:"fromSpot"},function(){return null!==this.Z?this.Z.ok:m},function(t){this.ae();var e=this.Z.ok;e.O(t)||(r&&s.l(t,Ct,Kc,"fromSpot"),t=t.V(),this.Z.ok=t,this.i("fromSpot",e,t),this.ec())}),s.defineProperty(Kc,{rm:"fromEndSegmentLength"},function(){return null!==this.Z?this.Z.mk:NaN},function(t){this.ae();var e=this.Z.mk;e!==t&&(r&&s.h(t,"number",Kc,"fromEndSegmentLength"),0>t&&s.ua(t,">= 0",Kc,"fromEndSegmentLength"),this.Z.mk=t,this.i("fromEndSegmentLength",e,t),this.ec())}),s.defineProperty(Kc,{zu:"fromEndSegmentDirection"},function(){return null!==this.Z?this.Z.lk:Kh},function(t){this.ae();var e=this.Z.lk;e!==t&&(s.On("Link.fromEndSegmentDirection","2.0"),r&&s.Da(t,Fc,Kc,"fromEndSegmentDirection"),this.Z.lk=t,this.i("fromEndSegmentDirection",e,t),this.ec())}),s.defineProperty(Kc,{Au:"fromShortLength"},function(){return null!==this.Z?this.Z.nk:NaN},function(t){this.ae();var e=this.Z.nk;e!==t&&(r&&s.h(t,"number",Kc,"fromShortLength"),this.Z.nk=t,this.i("fromShortLength",e,t),this.ec())}),s.defineProperty(Kc,{Hb:"toSpot"},function(){return null!==this.Z?this.Z.Mk:m},function(t){this.ae();var e=this.Z.Mk;e.O(t)||(r&&s.l(t,Ct,Kc,"toSpot"),t=t.V(),this.Z.Mk=t,this.i("toSpot",e,t),this.ec())}),s.defineProperty(Kc,{Hm:"toEndSegmentLength"},function(){return null!==this.Z?this.Z.Kk:NaN},function(t){this.ae();var e=this.Z.Kk;e!==t&&(r&&s.h(t,"number",Kc,"toEndSegmentLength"),0>t&&s.ua(t,">= 0",Kc,"toEndSegmentLength"),this.Z.Kk=t,this.i("toEndSegmentLength",e,t),this.ec())}),s.defineProperty(Kc,{uv:"toEndSegmentDirection"},function(){return null!==this.Z?this.Z.Jk:Kh},function(t){this.ae();var e=this.Z.Jk;e!==t&&(s.On("Link.toEndSegmentDirection","2.0"),r&&s.Da(t,Fc,Kc,"toEndSegmentDirection"),this.Z.Jk=t,this.i("toEndSegmentDirection",e,t),this.ec())}),s.defineProperty(Kc,{vv:"toShortLength"},function(){return null!==this.Z?this.Z.Lk:NaN},function(t){this.ae();var e=this.Z.Lk;e!==t&&(r&&s.h(t,"number",Kc,"toShortLength"),this.Z.Lk=t,this.i("toShortLength",e,t),this.ec())}),Kc.prototype.cl=function(){var t=this.Ka;null!==t&&this.$!==t&&this.ba!==t&&t.Jx&&Dh.prototype.cl.call(this)},Kc.prototype.getOtherNode=Kc.prototype.fB=function(t){r&&s.l(t,Fc,Kc,"getOtherNode:node");var e=this.$;return t===e?this.ba:e},Kc.prototype.getOtherPort=function(t){r&&s.l(t,fa,Kc,"getOtherPort:port");var e=this.oc;return t===e?this.Gc:e},s.w(Kc,{pJ:"isLabeledLink"},function(){return null!==this.Hf&&0<this.Hf.count}),s.w(Kc,{Bf:"labelNodes"},function(){return null===this.Hf?X:this.Hf.j}),Kc.prototype.Fu=function(t){if(Dh.prototype.Fu.call(this,t),of(this)&&af(this,this.aa),!t){var e=null;null!==(t=this.Cg)&&zc(t,this,e=this.oc);var n=this.Tg,i=null;null!==n&&(i=this.Gc,n===t&&i===e||zc(n,this,i)),hf(this)}},Kc.prototype.Gu=function(t){if(Dh.prototype.Gu.call(this,t),of(this)&&af(this,this.aa),!t){var e=null;null!==(t=this.Cg)&&qc(t,this,e=this.oc);var n=this.Tg,i=null;null!==n&&(i=this.Gc,n===t&&i===e||qc(n,this,i)),uf(this)}},Kc.prototype.Nn=function(){if(this.Uf=!0,null!==this.Hf){var t=this.g;if(null!==t)for(var e=this.Hf.copy().j;e.next();)t.remove(e.value)}null!==(e=this.data)&&null!==(t=this.g)&&((t=t.ea)instanceof En?t.Jy(e):t instanceof In&&t.Ii(e,void 0))},Kc.prototype.updateRelationshipsFromData=function(){var t=this.data;if(null!==t){var e=this.g;if(null!==e){var n=e.ea;if(n instanceof En){var i=n.tm(t);if(this.$=i=e.Se(i),i=n.um(t),this.ba=i=e.Se(i),0<(t=n.$k(t)).length||0<this.Bf.count){if(1===t.length&&1===this.Bf.count){i=t[0];var r=this.Bf.first();if(n.zb(r.data)===i)return}i=(new rt).Vc(t);var o=new rt;if(this.Bf.each(function(t){null!==t.data&&void 0!==(t=n.zb(t.data))&&o.add(t)}),(t=o.copy()).Iy(i),(i=i.copy()).Iy(o),0<t.count||0<i.count){var s=this;t.each(function(t){null!==(t=e.Se(t))&&t.Xb===s&&(t.Xb=null)}),i.each(function(t){null!==(t=e.Se(t))&&t.Xb!==s&&(t.Xb=s)})}}}}}},Kc.prototype.move=function(t){var e=this.position,n=e.x;for(isNaN(n)&&(n=0),e=e.y,isNaN(e)&&(e=0),n=t.x-n,e=t.y-e,Dh.prototype.move.call(this,t),this.gl(n,e),t=this.Bf;t.next();){var i=t.value,r=i.position;i.moveTo(r.x+n,r.y+e)}},s.defineProperty(Kc,{cK:"relinkableFrom"},function(){return 0!=(1&this.gc)},function(t){var e=0!=(1&this.gc);e!==t&&(r&&s.h(t,"boolean",Kc,"relinkableFrom"),this.gc^=1,this.i("relinkableFrom",e,t),this.pe())}),s.defineProperty(Kc,{dK:"relinkableTo"},function(){return 0!=(2&this.gc)},function(t){var e=0!=(2&this.gc);e!==t&&(r&&s.h(t,"boolean",Kc,"relinkableTo"),this.gc^=2,this.i("relinkableTo",e,t),this.pe())}),Kc.prototype.canRelinkFrom=function(){if(!this.cK)return!1;var t=this.layer;return null===t||!!t.Dn&&!(null!==(t=t.g)&&!t.Dn)},Kc.prototype.canRelinkTo=function(){if(!this.dK)return!1;var t=this.layer;return null===t||!!t.Dn&&!(null!==(t=t.g)&&!t.Dn)},s.defineProperty(Kc,{jv:"resegmentable"},function(){return 0!=(4&this.gc)},function(t){var e=0!=(4&this.gc);e!==t&&(r&&s.h(t,"boolean",Kc,"resegmentable"),this.gc^=4,this.i("resegmentable",e,t),this.pe())}),s.defineProperty(Kc,{jc:"isTreeLink"},function(){return 0!=(8&this.gc)},function(t){var e=0!=(8&this.gc);e!==t&&(r&&s.h(t,"boolean",Kc,"isTreeLink"),this.gc^=8,this.i("isTreeLink",e,t),null!==this.$&&Gc(this.$),null!==this.ba&&Gc(this.ba))}),s.w(Kc,{path:"path"},function(){var t=this.Ld();return t instanceof Nl?t:null}),s.w(Kc,{so:"routeBounds"},function(){this.zo();var t=new vt,e=1/0,n=1/0,i=this.ta;if(0===i)t.n(NaN,NaN,0,0);else{if(1===i)i=this.m(0),e=Math.min(i.x,e),n=Math.min(i.y,n),t.n(i.x,i.y,0,0);else if(2===i){var r=this.m(0),o=this.m(1);e=Math.min(r.x,o.x),n=Math.min(r.y,o.y),t.n(r.x,r.y,0,0),t.Mi(o)}else if(this.computeCurve()===tu&&3<=i&&!this.ic)if(r=this.m(0),t.n(e=r.x,n=r.y,0,0),3===i)i=this.m(1),e=Math.min(i.x,e),n=Math.min(i.y,n),o=this.m(2),e=Math.min(o.x,e),n=Math.min(o.y,n),je(r.x,r.y,i.x,i.y,i.x,i.y,o.x,o.y,.5,t);else for(var s=3;s<i;s+=3){var a=this.m(s-2);s+3>=i&&(s=i-1);var l=this.m(s-1);o=this.m(s),je(r.x,r.y,a.x,a.y,l.x,l.y,o.x,o.y,.5,t),e=Math.min(o.x,e),n=Math.min(o.y,n),r=o}else for(r=this.m(0),o=this.m(1),e=Math.min(r.x,o.x),n=Math.min(r.y,o.y),t.n(r.x,r.y,0,0),t.Mi(o),s=2;s<i;s++)r=this.m(s),e=Math.min(r.x,e),n=Math.min(r.y,n),t.Mi(r);this.uA.n(e-t.x,n-t.y)}return this.Vw=t}),s.w(Kc,{xG:"midPoint"},function(){return this.zo(),this.computeMidPoint(new ft)}),Kc.prototype.computeMidPoint=function(t){if(0===(r=this.ta))return t.assign(ve),t;if(1===r)return t.assign(this.m(0)),t;if(2===r){var e=this.m(0),n=this.m(1);return t.n((e.x+n.x)/2,(e.y+n.y)/2),t}if(this.computeCurve()===tu&&3<=r&&!this.ic){if(3===r)return this.m(1);var i=3*((e=(r-1)/3|0)/2|0);if(1==e%2){e=this.m(i),n=this.m(i+1);var r,o=this.m(i+2),a=(i=this.m(i+3),((l=n.y)+(h=o.y))/2),l=((e.y+l)/2+a)/2,h=(a+(h+i.y)/2)/2;t.x=(((e.x+(r=n.x))/2+(o=(r+(n=o.x))/2))/2+(o+(n+i.x)/2)/2)/2,t.y=(l+h)/2}else t.assign(this.m(i));return t}for(i=0,o=s.nb(),l=0;l<r-1;l++)e=0,e=this.m(l),n=this.m(l+1),Te(e.x,n.x)?0>(e=n.y-e.y)&&(e=-e):Te(e.y,n.y)?0>(e=n.x-e.x)&&(e=-e):e=Math.sqrt(e.Kf(n)),o.push(e),i+=e;for(n=l=e=0;e<i/2&&l<r&&!(e+(n=o[l])>i/2);)e+=n,l++;return s.ya(o),r=this.m(l),o=this.m(l+1),r.x===o.x?t.n(r.x,r.y>o.y?r.y-(i/2-e):r.y+(i/2-e)):r.y===o.y?t.n(r.x>o.x?r.x-(i/2-e):r.x+(i/2-e),r.y):t.n(r.x+(e=(i/2-e)/n)*(o.x-r.x),r.y+e*(o.y-r.y)),t},s.w(Kc,{wG:"midAngle"},function(){return this.zo(),this.computeMidAngle()}),Kc.prototype.computeMidAngle=function(){if(2>(i=this.ta))return NaN;if(this.computeCurve()===tu&&4<=i&&!this.ic){var t=3*((e=(i-1)/3|0)/2|0);if(1==e%2){t=Math.floor(t);var e=this.m(t),n=this.m(t+1),i=this.m(t+2),r=(t=this.m(t+3),n.x),o=i.x,s=(r+o)/2,a=((n=n.y)+(i=i.y))/2;return d(((e.x+r)/2+s)/2,((e.y+n)/2+a)/2,(s+(o+t.x)/2)/2,(a+(i+t.y)/2)/2)}if(0<t&&t+1<i)return e=this.m(t-1),n=this.m(t+1),e.Wb(n)}return t=i/2|0,0==i%2?(e=this.m(t-1),n=this.m(t),4<=i&&e.Wc(n)?(e=this.m(t-2),i=this.m(t+1),(t=e.Kf(n))>(r=n.Kf(i))+10?e.Wb(n):r>t+10?n.Wb(i):e.Wb(i)):null===this.Za||this.ic?e.Wb(n):this.Za.OF(.5)):null===this.Za||this.ic?(e=this.m(t-1),n=this.m(t),i=this.m(t+1),(t=e.Kf(n))>(r=n.Kf(i))+10?e.Wb(n):r>t+10?n.Wb(i):e.Wb(i)):this.Za.OF(.5)},s.defineProperty(Kc,{points:"points"},function(){return this.gd},function(t){var e=this.gd;if(e!==t){var n=null;if(Array.isArray(t)){var i=0==t.length%2;if(i)for(var r=0;r<t.length;r++)if("number"!=typeof t[r]||isNaN(t[r])){i=!1;break}if(i)for(n=new nt(ft),i=0;i<t.length/2;i++)r=new ft(t[2*i],t[2*i+1]).freeze(),n.add(r);else{for(r=!0,i=0;i<t.length;i++){var o=t[i];if(!s.Qa(o)||"number"!=typeof o.x||isNaN(o.x)||"number"!=typeof o.y||isNaN(o.y)){r=!1;break}}if(r)for(n=new nt(ft),i=0;i<t.length;i++)n.add(new ft((r=t[i]).x,r.y).freeze());else s.k("Link.points array must contain only an even number of numbers or objects with x and y properties, not: "+t)}}else if(t instanceof nt)for(t=(n=t.copy()).j;t.next();)t.value.freeze();else s.k("Link.points value is not an instance of List or Array: "+t);n.freeze(),this.gd=n,this.Te(),this.K(),Yc(this),null!==(t=this.g)&&(t.Zn||t.na.ub||t.ty.add(this),t.Ra.zc&&(this.Hp=n)),this.i("points",e,n)}}),s.w(Kc,{ta:"pointsCount"},function(){return this.gd.count}),Kc.prototype.getPoint=Kc.prototype.m=function(t){return this.gd.o[t]},Kc.prototype.setPoint=Kc.prototype.gh=function(t,e){r&&(s.l(e,ft,Kc,"setPoint"),e.H()||s.k("Link.setPoint called with a Point that does not have real numbers: "+e.toString())),null===this.ef&&s.k("Call Link.startRoute before modifying the points of the route."),this.gd.ug(t,e)},Kc.prototype.setPointAt=Kc.prototype.ia=function(t,e,n){r&&(s.p(e,Kc,"setPointAt:x"),s.p(n,Kc,"setPointAt:y")),null===this.ef&&s.k("Call Link.startRoute before modifying the points of the route."),this.gd.ug(t,new ft(e,n))},Kc.prototype.insertPoint=function(t,e){r&&(s.l(e,ft,Kc,"insertPoint"),e.H()||s.k("Link.insertPoint called with a Point that does not have real numbers: "+e.toString())),null===this.ef&&s.k("Call Link.startRoute before modifying the points of the route."),this.gd.be(t,e)},Kc.prototype.insertPointAt=Kc.prototype.B=function(t,e,n){r&&(s.p(e,Kc,"insertPointAt:x"),s.p(n,Kc,"insertPointAt:y")),null===this.ef&&s.k("Call Link.startRoute before modifying the points of the route."),this.gd.be(t,new ft(e,n))},Kc.prototype.addPoint=Kc.prototype.Ci=function(t){r&&(s.l(t,ft,Kc,"addPoint"),t.H()||s.k("Link.addPoint called with a Point that does not have real numbers: "+t.toString())),null===this.ef&&s.k("Call Link.startRoute before modifying the points of the route."),this.gd.add(t)},Kc.prototype.addPointAt=Kc.prototype.Bj=function(t,e){r&&(s.p(t,Kc,"insertPointAt:x"),s.p(e,Kc,"insertPointAt:y")),null===this.ef&&s.k("Call Link.startRoute before modifying the points of the route."),this.gd.add(new ft(t,e))},Kc.prototype.removePoint=Kc.prototype.KG=function(t){null===this.ef&&s.k("Call Link.startRoute before modifying the points of the route."),this.gd.pd(t)},Kc.prototype.clearPoints=Kc.prototype.dq=function(){null===this.ef&&s.k("Call Link.startRoute before modifying the points of the route."),this.gd.clear()},Kc.prototype.movePoints=Kc.prototype.gl=function(t,e){if(0!==t||0!==e){for(var n=this.Uf,i=new nt(ft),r=this.gd.j;r.next();){var o=r.value;i.add(new ft(o.x+t,o.y+e).freeze())}i.freeze(),r=this.gd,this.gd=i,this.K(),n&&Yc(this),null!==(n=this.g)&&n.Ra.zc&&(this.Hp=i),this.i("points",r,i)}},Kc.prototype.startRoute=Kc.prototype.Dm=function(){null===this.ef&&(this.ef=this.gd,this.gd=this.gd.copy())},Kc.prototype.commitRoute=Kc.prototype.Ej=function(){if(null!==this.ef){for(var t=this.ef,e=this.gd,n=1/0,i=1/0,r=t.o,o=r.length,s=0;s<o;s++){var a=r[s];n=Math.min(a.x,n),i=Math.min(a.y,i)}var l=1/0,h=1/0,u=e.o,c=u.length;for(s=0;s<c;s++)a=u[s],l=Math.min(a.x,l),h=Math.min(a.y,h),a.freeze();if(e.freeze(),c===o){for(s=0;s<c;s++)if((o=r[s]).x-n!=(a=u[s]).x-l||o.y-i!=a.y-h){this.K(),this.Te();break}}else this.K(),this.Te();this.ef=null,null!==(n=this.g)&&n.Ra.zc&&(this.Hp=e),Yc(this),this.i("points",t,e)}},Kc.prototype.rollbackRoute=Kc.prototype.hK=function(){null!==this.ef&&(this.gd=this.ef,this.ef=null)},Kc.prototype.invalidateRoute=Kc.prototype.ec=function(){if(!this.Ji){var t=this.g;t&&(t.ty.contains(this)||t.na.ub||t.Ra.vJ&&!t.Ra.of)||null!==(t=this.path)&&(this.Uf=!1,this.K(),t.K())}},s.defineProperty(Kc,{Uf:null},function(){return 0!=(16&this.gc)},function(t){0!=(16&this.gc)!==t&&(this.gc^=16)}),s.defineProperty(Kc,{Ji:"suspendsRouting"},function(){return 0!=(32&this.gc)},function(t){0!=(32&this.gc)!==t&&(this.gc^=32)}),s.defineProperty(Kc,{KA:null},function(){return 0!=(64&this.gc)},function(t){0!=(64&this.gc)!==t&&(this.gc^=64)}),s.defineProperty(Kc,{iq:"defaultFromPoint"},function(){return this.dD},function(t){this.dD=t.copy()}),s.defineProperty(Kc,{jq:"defaultToPoint"},function(){return this.jD},function(t){this.jD=t.copy()}),Kc.prototype.updateRoute=Kc.prototype.zo=function(){if(!this.Uf&&!this.KA){var t=!0;try{this.KA=!0,this.Dm(),t=this.computePoints()}finally{this.KA=!1,t?this.Ej():this.hK()}}},Kc.prototype.computePoints=function(){if(null===(a=this.g))return!1;var t=this.$,e=null;if(null===t?(a.Vl||(a.tt=new Nl,a.tt.Ea=ue,a.tt.mb=0,a.Vl=new Fc,a.Vl.add(a.tt),a.Vl.lf()),this.iq&&(a.Vl.position=a.Vl.location=this.iq,a.Vl.lf(),t=a.Vl,e=a.tt)):e=this.oc,null===e||t.isVisible()||(null!==(o=t.findVisibleNode())&&o!==t?(t=o,e=o.port):t=o),this.zE=t,null===t||!t.location.H())return!1;for(;!(null===e||e.aa.H()&&e.Sj());)e=e.R;if(null===e)return!1;var n=this.ba,i=null;if(null===n?(a.Wl||(a.ut=new Nl,a.ut.Ea=ue,a.ut.mb=0,a.Wl=new Fc,a.Wl.add(a.ut),a.Wl.lf()),this.jq&&(a.Wl.position=a.Wl.location=this.jq,a.Wl.lf(),n=a.Wl,i=a.ut)):i=this.Gc,null===i||n.isVisible()||(null!==(a=n.findVisibleNode())&&a!==n?(n=a,i=a.port):n=a),this.AE=n,null===n||!n.location.H())return!1;for(;!(null===i||i.aa.H()&&i.Sj());)i=i.R;if(null===i)return!1;var r=this.ta,o=this.computeSpot(!0,e),a=this.computeSpot(!1,i),l=o===g,h=a===g,u=this.ic,c=this.kf===tu;this.$i=!(!(p=e===i&&null!==e)||u)&&(c=!0);var f=this.Yp===$h||p;if(!u&&!p&&l&&h){if(l=!1,!f&&3<=r&&(f=this.getLinkPoint(t,e,o,!0,!1,n,i),h=this.getLinkPoint(n,i,a,!1,!1,t,e),l=this.adjustPoints(0,f,r-1,h))&&(f=this.getLinkPoint(t,e,o,!0,!1,n,i),h=this.getLinkPoint(n,i,a,!1,!1,t,e),this.adjustPoints(0,f,r-1,h)),!l)if(this.dq(),c){r=this.getLinkPoint(t,e,o,!0,!1,n,i),l=(f=this.getLinkPoint(n,i,a,!1,!1,t,e)).x-r.x,h=f.y-r.y;var p=this.computeCurviness(),d=(c=u=0,w=r.x+l/3),y=v=r.y+h/3;Ce(h,0)?y=0<l?y-p:y+p:(u=-l/h,c=Math.sqrt(p*p/(u*u+1)),0>p&&(c=-c),y=u*((d=(0>h?-1:1)*c+w)-w)+v);var v,m=w=r.x+2*l/3,b=v=r.y+2*h/3;b=Ce(h,0)?0<l?b-p:b+p:u*((m=(0>h?-1:1)*c+w)-w)+v,this.dq(),this.Ci(r),this.Bj(d,y),this.Bj(m,b),this.Ci(f),this.gh(0,this.getLinkPoint(t,e,o,!0,!1,n,i)),this.gh(3,this.getLinkPoint(n,i,a,!1,!1,t,e))}else o=this.getLinkPoint(t,e,o,!0,!1,n,i),a=this.getLinkPoint(n,i,a,!1,!1,t,e),this.hasCurviness()?(f=a.x-o.x,n=a.y-o.y,i=this.computeCurviness(),r=t=o.x+f/2,l=e=o.y+n/2,Ce(n,0)?l=0<f?l-i:l+i:(f=-f/n,r=Math.sqrt(i*i/(f*f+1)),0>i&&(r=-r),l=f*((r=(0>n?-1:1)*r+t)-t)+e),this.Ci(o),this.Bj(r,l)):this.Ci(o),this.Ci(a)}else{c=this.Nj,f&&(u&&c||p)&&this.dq();var x=p?this.computeCurviness():0,w=(c=this.getLinkPoint(t,e,o,!0,u,n,i),d=v=0);if((u||!l||p)&&(y=this.computeEndSegmentLength(t,e,o,!0),w=this.getLinkDirection(t,e,c,o,!0,u,n,i),p&&(l||o.O(a)||!u&&1===o.x+a.x&&1===o.y+a.y)&&(w-=u?90:30,0>x&&(w-=180)),0>w?w+=360:360<=w&&(w-=360),p&&(y+=Math.abs(x)*(u?1:2)),0===w?v=y:90===w?d=y:180===w?v=-y:270===w?d=-y:(v=y*Math.cos(w*Math.PI/180),d=y*Math.sin(w*Math.PI/180)),o.de()&&p)){var k=e.fb(P,s.P()),S=s.Fb(k.x+1e3*v,k.y+1e3*d);this.getLinkPointFromPoint(t,e,k,S,!0,c),s.A(k),s.A(S)}y=this.getLinkPoint(n,i,a,!1,u,t,e);var C=b=m=0;(u||!h||p)&&(k=this.computeEndSegmentLength(n,i,a,!1),C=this.getLinkDirection(n,i,y,a,!1,u,t,e),p&&(h||o.O(a)||!u&&1===o.x+a.x&&1===o.y+a.y)&&(C+=u?0:30,0>x&&(C+=180)),0>C?C+=360:360<=C&&(C-=360),p&&(k+=Math.abs(x)*(u?1:2)),0===C?m=k:90===C?b=k:180===C?m=-k:270===C?b=-k:(m=k*Math.cos(C*Math.PI/180),b=k*Math.sin(C*Math.PI/180)),a.de()&&p&&(k=i.fb(P,s.P()),S=s.Fb(k.x+1e3*m,k.y+1e3*b),this.getLinkPointFromPoint(n,i,k,S,!1,y),s.A(k),s.A(S))),a=c,(u||!l||p)&&(a=new ft(c.x+v,c.y+d)),o=y,(u||!h||p)&&(o=new ft(y.x+m,y.y+b)),!f&&!u&&l&&3<r&&this.adjustPoints(0,c,r-2,o)?this.gh(r-1,y):!f&&!u&&h&&3<r&&this.adjustPoints(1,a,r-1,y)?this.gh(0,c):!f&&(u?6<=r:4<r)&&this.adjustPoints(1,a,r-2,o)?(this.gh(0,c),this.gh(r-1,y)):(this.dq(),this.Ci(c),(u||!l||p)&&this.Ci(a),u&&this.addOrthoPoints(a,w,o,C,t,n),(u||!h||p)&&this.Ci(o),this.Ci(y))}return!0},Kc.prototype.getLinkPointFromPoint=function(t,e,n,i,r,o){if(void 0===o&&(o=new ft),null===t||null===e)return o.assign(n),o;t.isVisible()||null!==(r=t.findVisibleNode())&&r!==t&&(e=r.port);var s=r=0,a=0,l=0;if(t=null,null===(r=e.R)||r.kh()||(r=r.R),null===r)r=i.x,s=i.y,a=n.x,l=n.y;else{l=-(t=r.Hh).m12*(r=1/(t.m11*t.m22-t.m12*t.m21));var h=-t.m21*r,u=t.m11*r,c=r*(t.m21*t.dy-t.m22*t.dx),f=r*(t.m12*t.dx-t.m11*t.dy);r=i.x*(a=t.m22*r)+i.y*h+c,s=i.x*l+i.y*u+f,a=n.x*a+n.y*h+c,l=n.x*l+n.y*u+f}return e.Tn(r,s,a,l,o),null!==t&&o.transform(t),o},Kc.prototype.getLinkPoint=function(t,e,n,i,r,o,a,l){if(void 0===l&&(l=new ft),n.Xc())return e.fb(n,l),l;if(n.Pj()&&null!==(h=Xc(this,e))){if(l.assign(h.Eq),r&&this.My===Qh&&null!==(u=Xc(this,a))&&h.Ln<u.Ln){var h=s.P(),u=s.P(),c=new vt(e.fb(b,h),e.fb(M,u)),f=this.computeSpot(!i,a);t=this.getLinkPoint(o,a,f,!i,r,t,e,u),(n.Mj(I)||n.Mj(R))&&t.y>=c.y&&t.y<=c.y+c.height?l.y=t.y:(n.Mj(F)||n.Mj(V))&&t.x>=c.x&&t.x<=c.x+c.width&&(l.x=t.x),s.A(h),s.A(u)}return l}return n=e.fb(P,s.P()),h=o=null,this.ta>(r?6:2)?(h=this.m(i?1:this.ta-2),r&&(h=Zc(n,h.copy()))):(o=s.P(),h=a.fb(P,o),r&&(h=Zc(n,h)),s.A(o)),this.getLinkPointFromPoint(t,e,n,h,i,l),s.A(n),l},Kc.prototype.getLinkDirection=function(t,e,n,i,r,o,a,l){t:if(i.Xc())n=i.x>i.y?i.x>1-i.y?0:i.x<1-i.y?270:315:i.x<i.y?i.x>1-i.y?90:i.x<1-i.y?180:135:.5>i.x?225:.5<i.x?45:0;else{if(i.Pj()&&null!==(h=Xc(this,e)))switch(h.Le){case s.Ad:n=270;break t;case s.bd:n=180;break t;default:case s.rd:n=0;break t;case s.qd:n=90;break t}var h=e.fb(P,s.P()),u=null,c=null;this.ta>(o?6:2)?(c=this.m(r?1:this.ta-2),c=o?Zc(h,c.copy()):n):(u=s.P(),c=l.fb(P,u),s.A(u)),n=0,n=Math.abs(c.x-h.x)>Math.abs(c.y-h.y)?c.x>=h.x?0:180:c.y>=h.y?90:270,s.A(h)}switch(i.de()&&a.Fi(t)&&360<=(n+=180)&&(n-=360),t=Kh,(t=r?this.zu:this.uv)===Kh&&(t=r?e.zu:e.uv),t){case Jh:360<=(n+=e=e.sm())&&(n-=360);break;case Kh:case Wh:if(i.sJ())break;if(0===(e=e.sm()))break;45<=e&&135>e?n+=90:135<=e&&225>e?n+=180:225<=e&&315>e&&(n+=270),360<=n&&(n-=360)}return n},Kc.prototype.computeEndSegmentLength=function(t,e,n,i){return null!==e&&n.Pj()&&null!==(t=Xc(this,e))?t.Sx:(t=NaN,t=i?this.rm:this.Hm,null!==e&&isNaN(t)&&(t=i?e.rm:e.Hm),isNaN(t)&&(t=10),t)},Kc.prototype.computeSpot=function(t,e){var n;if(t)if(null===(n=e||this.oc))n=P;else{var i=this.Gb;i.ld()&&null!==n&&(i=n.Gb),n=i===m?g:i}else null===(n=e||this.Gc)?n=P:((i=this.Hb).ld()&&null!==n&&(i=n.Hb),n=i===m?g:i);return n},Kc.prototype.computeOtherPoint=function(t,e){var n,i=e.fb(P);return null!==(n=null!==(n=e.jt)?Pf(n,this):null)&&(i=n.Eq),i},Kc.prototype.computeShortLength=function(t){if(t){if(t=this.Au,isNaN(t)){var e=this.oc;null!==e&&(t=e.Au)}}else t=this.vv,isNaN(t)&&null!==(e=this.Gc)&&(t=e.vv);return isNaN(t)?0:t},Kc.prototype.Xk=function(t,e,n,i,r,o){if(!1===this.tg)return!1;void 0===e&&(e=null),void 0===n&&(n=null);var a=o;if(void 0===o&&(a=s.hh()).reset(),a.multiply(this.transform),this.In(t,a))return ul(this,e,n,r),void 0===o&&s.mf(a),!0;if(this.jg(t,a)){var l=!1;if(!this.Yn)for(var h=this.xa.o,u=h.length;u--;){var c=h[u];if(c.visible||c===this.Cf){var f=c.aa;if(!(f.x>(y=this.Ga).width||f.y>y.height||0>f.x+f.width||0>f.y+f.height)){if((f=s.hh()).set(a),c instanceof tl)l=c.Xk(t,e,n,i,r,f);else if(this.path===c){if(c instanceof Nl){var p=t,d=i,y=f;if(!1===(l=c).tg)l=!1;else if(y.multiply(l.transform),d)t:{var v=y;if(l.In(g=p,v))l=!0;else{if(void 0===v&&(v=l.transform,g.Sk(l.aa))){l=!0;break t}y=g.left,p=g.right,d=g.top;var g=g.bottom,m=s.P(),b=s.P(),x=s.P(),w=s.hh();w.set(v),w.GB(l.transform),w.pB(),b.x=p,b.y=d,b.transform(w),m.x=y,m.y=d,m.transform(w),v=!1,Ll(l,m,b,x)?v=!0:(m.x=p,m.y=g,m.transform(w),Ll(l,m,b,x)?v=!0:(b.x=y,b.y=g,b.transform(w),Ll(l,m,b,x)?v=!0:(m.x=y,m.y=d,m.transform(w),Ll(l,m,b,x)&&(v=!0)))),s.mf(w),s.A(m),s.A(b),s.A(x),l=v}}else l=l.In(p,y)}}else l=ga(c,t,i,f);l&&(null!==e&&(c=e(c)),c&&(null===n||n(c))&&(r instanceof rt&&r.add(c),r instanceof nt&&r.add(c))),s.mf(f)}}}return void 0===o&&s.mf(a),l||null!==this.background||null!==this.gm}return void 0===o&&s.mf(a),!1},s.w(Kc,{ic:"isOrthogonal"},function(){return 2==(2&this.on.value)}),s.w(Kc,{Nj:"isAvoiding"},function(){return 4==(4&this.on.value)}),Kc.prototype.computeCurve=function(){if(null===this.$i){var t=this.oc;this.$i=null!==t&&t===this.Gc&&!this.ic}return this.$i?tu:this.kf},Kc.prototype.computeCorner=function(){if(this.kf===tu)return 0;var t=this.QA;return(isNaN(t)||0>t)&&(t=10),t},Kc.prototype.findMidLabel=function(){for(var t=this.path,e=this.xa.o,n=e.length,i=0;i<n;i++){var r=e[i];if(r!==t&&!r.Ue&&(-1/0===r.We||isNaN(r.We)))return r}for(t=this.Bf;t.next();)if(-1/0===(e=t.value).We||isNaN(e.We))return e;return null},Kc.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t;t=Math.max(14,this.computeThickness());var e=this.oc,n=this.Gc;if(null!==e&&null!==n&&null!==(i=this.findMidLabel())){var i,r=i.Ga,o=i.margin,s=isNaN(r.width)?30:r.width*i.scale+o.left+o.right;r=isNaN(r.height)?14:r.height*i.scale+o.top+o.bottom,(i=i.Uq)===su||i===uu||i===hu?t=Math.max(t,r):i===lu||i===fu||i===au||i===cu?t=Math.max(t,s):(e=e.fb(P).Wb(n.fb(P))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(e)*s)+Math.abs(Math.cos(e)*r)+1)),this.kf===tu&&(t*=1.333)}return t},Kc.prototype.arrangeBundledLinks=function(t,e){if(e)for(var n=0;n<t.length;n++){var i=t[n];i.Yp===$h&&i.ec()}},Kc.prototype.computeCurviness=function(){var t=this.Nx;if(isNaN(t)){t=16;var e=this.Oi;if(null!==e){for(var n=s.nb(),i=0,r=e.links,o=0;o<r.length;o++){var a=(a=r[o]).computeSpacing();n.push(a),i+=a}for(i=-i/2,o=0;o<r.length;o++){if((a=r[o])===this){t=i+n[o]/2;break}i+=n[o]}e.Hq===this.$&&(t=-t),s.ya(n)}}return t},Kc.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return null!==t?Math.max(t.mb,1):1},Kc.prototype.hasCurviness=function(){return!isNaN(this.Nx)||null!==this.Oi},Kc.prototype.adjustPoints=function(t,e,n,i){var r=this.Yp;if(this.ic){if(r===ru)return!1;r===ou&&(r=iu)}switch(r){case ru:var o=this.m(t),s=this.m(n);if(!o.Wc(e)||!s.Wc(i)){var a=s.x-(r=o.x),l=s.y-(o=o.y);if(!Te(p=Math.sqrt(a*a+l*l),0)){var h=0;Te(a,0)?h=0>l?-Math.PI/2:Math.PI/2:(h=Math.atan(l/Math.abs(a)),0>a&&(h=Math.PI-h)),l=i.x-(s=e.x);var u=i.y-(f=e.y),c=Math.sqrt(l*l+u*u);for(a=0,Te(l,0)?a=0>u?-Math.PI/2:Math.PI/2:(a=Math.atan(u/Math.abs(l)),0>l&&(a=Math.PI-a)),p=c/p,h=a-h,this.gh(t,e),t+=1;t<n;t++)a=(e=this.m(t)).x-r,l=e.y-o,Te(e=Math.sqrt(a*a+l*l),0)||(u=0,Te(a,0)?u=0>l?-Math.PI/2:Math.PI/2:(u=Math.atan(l/Math.abs(a)),0>a&&(u=Math.PI-u)),a=u+h,this.ia(t,s+(e*=p)*Math.cos(a),f+e*Math.sin(a)));this.gh(n,i)}}return!0;case ou:if(o=this.m(t),f=this.m(n),!o.Wc(e)||!f.Wc(i)){var f,p=((s=f.x)-(r=o.x))*(s-r)+((f=f.y)-(o=o.y))*(f-o),d=(h=e.y,u=i.y,c=0,1);for(0!=(l=i.x)-(a=e.x)?(c=(u-h)/(l-a),d=Math.sqrt(1+1/(c*c))):c=9e9,this.gh(t,e),t+=1;t<n;t++){var y=(e=this.m(t)).x,v=e.y,g=.5;0!==p&&(g=((r-y)*(r-s)+(o-v)*(o-f))/p);var m=r+g*(s-r),b=o+g*(f-o);e=Math.sqrt((y-m)*(y-m)+(v-b)*(v-b)),v<c*(y-m)+b&&(e=-e),0<c&&(e=-e),y=a+g*(l-a),g=h+g*(u-h),0!==c?this.ia(t,e=y+e/d,g-(e-y)/c):this.ia(t,y,g+e)}this.gh(n,i)}return!0;case iu:return this.ic&&(r=this.m(t),o=this.m(t+1),s=this.m(t+2),f=a=o.x,p=h=o.y,Ce(r.y,o.y)?Ce(o.x,s.x)?h=e.y:Ce(o.y,s.y)&&(a=e.x):Ce(r.x,o.x)&&(Ce(o.y,s.y)?a=e.x:Ce(o.x,s.x)&&(h=e.y)),this.ia(t+1,a,h),r=this.m(n),o=this.m(n-1),s=this.m(n-2),l=a=o.x,u=h=o.y,Ce(r.y,o.y)?Ce(o.x,s.x)?h=i.y:Ce(o.y,s.y)&&(a=i.x):Ce(r.x,o.x)&&(Ce(o.y,s.y)?a=i.x:Ce(o.x,s.x)&&(h=i.y)),this.ia(n-1,a,h),Qc(this))?(this.ia(t+1,f,p),this.ia(n-1,l,u),n=!1):(this.gh(t,e),this.gh(n,i),n=!0),n;default:return!1}},Kc.prototype.addOrthoPoints=function(t,e,n,i,r,o){e=-45<=e&&45>e?0:45<=e&&135>e?90:135<=e&&225>e?180:270,i=-45<=i&&45>i?0:45<=i&&135>i?90:135<=i&&225>i?180:270;var a=r.aa.copy(),l=o.aa.copy();if(a.H()&&l.H()){var h,u;a.ig(8,8),l.ig(8,8),a.Mi(t),l.Mi(n),0===e?n.x>t.x||270===i&&n.y<t.y&&l.right>t.x||90===i&&n.y>t.y&&l.right>t.x?(h=new ft(n.x,t.y),u=new ft(n.x,(t.y+n.y)/2),180===i?(h.x=this.computeMidOrthoPosition(t.x,n.x,!1),u.x=h.x,u.y=n.y):270===i&&n.y<t.y||90===i&&n.y>t.y?(h.x=t.x<l.left?this.computeMidOrthoPosition(t.x,l.left,!1):t.x<l.right&&(270===i&&t.y<l.top||90===i&&t.y>l.bottom)?this.computeMidOrthoPosition(t.x,n.x,!1):l.right,u.x=h.x,u.y=n.y):0===i&&t.x<l.left&&t.y>l.top&&t.y<l.bottom&&(h.x=t.x,h.y=t.y<n.y?Math.min(n.y,l.top):Math.max(n.y,l.bottom),u.y=h.y)):(h=new ft(t.x,n.y),u=new ft((t.x+n.x)/2,n.y),(180===i||90===i&&n.y<a.top||270===i&&n.y>a.bottom)&&(180===i&&(l.Pa(t)||a.Pa(n))?h.y=this.computeMidOrthoPosition(t.y,n.y,!0):n.y<t.y&&(180===i||90===i)?h.y=this.computeMidOrthoPosition(a.top,Math.max(n.y,l.bottom),!0):n.y>t.y&&(180===i||270===i)&&(h.y=this.computeMidOrthoPosition(a.bottom,Math.min(n.y,l.top),!0)),u.x=n.x,u.y=h.y),h.y>a.top&&h.y<a.bottom&&(n.x>=a.left&&n.x<=t.x||t.x<=l.right&&t.x>=n.x?90!==i&&270!==i||(u=new ft((h=new ft(Math.max((t.x+n.x)/2,t.x),t.y)).x,n.y)):(h.y=270===i||(0===i||180===i)&&n.y<t.y?Math.min(n.y,0===i?a.top:Math.min(a.top,l.top)):Math.max(n.y,0===i?a.bottom:Math.max(a.bottom,l.bottom)),u.x=n.x,u.y=h.y))):180===e?n.x<t.x||270===i&&n.y<t.y&&l.left<t.x||90===i&&n.y>t.y&&l.left<t.x?(h=new ft(n.x,t.y),u=new ft(n.x,(t.y+n.y)/2),0===i?(h.x=this.computeMidOrthoPosition(t.x,n.x,!1),u.x=h.x,u.y=n.y):270===i&&n.y<t.y||90===i&&n.y>t.y?(h.x=t.x>l.right?this.computeMidOrthoPosition(t.x,l.right,!1):t.x>l.left&&(270===i&&t.y<l.top||90===i&&t.y>l.bottom)?this.computeMidOrthoPosition(t.x,n.x,!1):l.left,u.x=h.x,u.y=n.y):180===i&&t.x>l.right&&t.y>l.top&&t.y<l.bottom&&(h.x=t.x,h.y=t.y<n.y?Math.min(n.y,l.top):Math.max(n.y,l.bottom),u.y=h.y)):(h=new ft(t.x,n.y),u=new ft((t.x+n.x)/2,n.y),(0===i||90===i&&n.y<a.top||270===i&&n.y>a.bottom)&&(0===i&&(l.Pa(t)||a.Pa(n))?h.y=this.computeMidOrthoPosition(t.y,n.y,!0):n.y<t.y&&(0===i||90===i)?h.y=this.computeMidOrthoPosition(a.top,Math.max(n.y,l.bottom),!0):n.y>t.y&&(0===i||270===i)&&(h.y=this.computeMidOrthoPosition(a.bottom,Math.min(n.y,l.top),!0)),u.x=n.x,u.y=h.y),h.y>a.top&&h.y<a.bottom&&(n.x<=a.right&&n.x>=t.x||t.x>=l.left&&t.x<=n.x?90!==i&&270!==i||(u=new ft((h=new ft(Math.min((t.x+n.x)/2,t.x),t.y)).x,n.y)):(h.y=270===i||(0===i||180===i)&&n.y<t.y?Math.min(n.y,180===i?a.top:Math.min(a.top,l.top)):Math.max(n.y,180===i?a.bottom:Math.max(a.bottom,l.bottom)),u.x=n.x,u.y=h.y))):90===e?n.y>t.y||180===i&&n.x<t.x&&l.bottom>t.y||0===i&&n.x>t.x&&l.bottom>t.y?(h=new ft(t.x,n.y),u=new ft((t.x+n.x)/2,n.y),270===i?(h.y=this.computeMidOrthoPosition(t.y,n.y,!0),u.x=n.x,u.y=h.y):180===i&&n.x<t.x||0===i&&n.x>t.x?(h.y=t.y<l.top?this.computeMidOrthoPosition(t.y,l.top,!0):t.y<l.bottom&&(180===i&&t.x<l.left||0===i&&t.x>l.right)?this.computeMidOrthoPosition(t.y,n.y,!0):l.bottom,u.x=n.x,u.y=h.y):90===i&&t.y<l.top&&t.x>l.left&&t.x<l.right&&(h.x=t.x<n.x?Math.min(n.x,l.left):Math.max(n.x,l.right),h.y=t.y,u.x=h.x)):(h=new ft(n.x,t.y),u=new ft(n.x,(t.y+n.y)/2),(270===i||0===i&&n.x<a.left||180===i&&n.x>a.right)&&(270===i&&(l.Pa(t)||a.Pa(n))?h.x=this.computeMidOrthoPosition(t.x,n.x,!1):n.x<t.x&&(270===i||0===i)?h.x=this.computeMidOrthoPosition(a.left,Math.max(n.x,l.right),!1):n.x>t.x&&(270===i||180===i)&&(h.x=this.computeMidOrthoPosition(a.right,Math.min(n.x,l.left),!1)),u.x=h.x,u.y=n.y),h.x>a.left&&h.x<a.right&&(n.y>=a.top&&n.y<=t.y||t.y<=l.bottom&&t.y>=n.y?0!==i&&180!==i||(h=new ft(t.x,Math.max((t.y+n.y)/2,t.y)),u=new ft(n.x,h.y)):(h.x=180===i||(90===i||270===i)&&n.x<t.x?Math.min(n.x,90===i?a.left:Math.min(a.left,l.left)):Math.max(n.x,90===i?a.right:Math.max(a.right,l.right)),u.x=h.x,u.y=n.y))):n.y<t.y||180===i&&n.x<t.x&&l.top<t.y||0===i&&n.x>t.x&&l.top<t.y?(h=new ft(t.x,n.y),u=new ft((t.x+n.x)/2,n.y),90===i?(h.y=this.computeMidOrthoPosition(t.y,n.y,!0),u.x=n.x,u.y=h.y):180===i&&n.x<t.x||0===i&&n.x>=t.x?(h.y=t.y>l.bottom?this.computeMidOrthoPosition(t.y,l.bottom,!0):t.y>l.top&&(180===i&&t.x<l.left||0===i&&t.x>l.right)?this.computeMidOrthoPosition(t.y,n.y,!0):l.top,u.x=n.x,u.y=h.y):270===i&&t.y>l.bottom&&t.x>l.left&&t.x<l.right&&(h.x=t.x<n.x?Math.min(n.x,l.left):Math.max(n.x,l.right),h.y=t.y,u.x=h.x)):(h=new ft(n.x,t.y),u=new ft(n.x,(t.y+n.y)/2),(90===i||0===i&&n.x<a.left||180===i&&n.x>a.right)&&(90===i&&(l.Pa(t)||a.Pa(n))?h.x=this.computeMidOrthoPosition(t.x,n.x,!1):n.x<t.x&&(90===i||0===i)?h.x=this.computeMidOrthoPosition(a.left,Math.max(n.x,l.right),!1):n.x>t.x&&(90===i||180===i)&&(h.x=this.computeMidOrthoPosition(a.right,Math.min(n.x,l.left),!1)),u.x=h.x,u.y=n.y),h.x>a.left&&h.x<a.right&&(n.y<=a.bottom&&n.y>=t.y||t.y>=l.top&&t.y<=n.y?0!==i&&180!==i||(h=new ft(t.x,Math.min((t.y+n.y)/2,t.y)),u=new ft(n.x,h.y)):(h.x=180===i||(90===i||270===i)&&n.x<t.x?Math.min(n.x,270===i?a.left:Math.min(a.left,l.left)):Math.max(n.x,270===i?a.right:Math.max(a.right,l.right)),u.x=h.x,u.y=n.y)));var c=h,f=u;if(this.Nj){var p,d=this.g;if((p=null===d)||(p=!(p=!d.Ra.of&&(!((p=d.eb)instanceof Xn)||!p.nx||p.mJ))),p||a.Pa(n)&&!o.Fi(r)||l.Pa(t)&&!r.Fi(o)||r===o||this.layer.Yc)e=!1;else{var y=gs(d,!0,this.Ka,null);if(y.Dq(Math.min(t.x,c.x),Math.min(t.y,c.y),Math.abs(t.x-c.x),Math.abs(t.y-c.y))&&y.Dq(Math.min(c.x,f.x),Math.min(c.y,f.y),Math.abs(c.x-f.x),Math.abs(c.y-f.y))&&y.Dq(Math.min(f.x,n.x),Math.min(f.y,n.y),Math.abs(f.x-n.x),Math.abs(f.y-n.y)))e=!1;else{r=t,o=n;var v=p=null;if(d.uB){(d=y.ib.copy()).ig(-y.cq,-y.aq);var g=s.P();pf(y,t.x,t.y)||(Ve(d.x,d.y,d.x+d.width,d.y+d.height,t.x,t.y,c.x,c.y,g)?(p=t=g.copy(),e=g.Wb(c)):Ve(d.x,d.y,d.x+d.width,d.y+d.height,c.x,c.y,f.x,f.y,g)?(p=t=g.copy(),e=g.Wb(f)):Ve(d.x,d.y,d.x+d.width,d.y+d.height,f.x,f.y,n.x,n.y,g)&&(p=t=g.copy(),e=g.Wb(n))),pf(y,n.x,n.y)||(Ve(d.x,d.y,d.x+d.width,d.y+d.height,n.x,n.y,f.x,f.y,g)?(v=n=g.copy(),i=f.Wb(g)):Ve(d.x,d.y,d.x+d.width,d.y+d.height,f.x,f.y,c.x,c.y,g)?(v=n=g.copy(),i=c.Wb(g)):Ve(d.x,d.y,d.x+d.width,d.y+d.height,c.x,c.y,t.x,t.y,g)&&(v=n=g.copy(),i=t.Wb(g))),s.A(g)}(a=a.copy().Zh(l)).ig(y.cq*(l=y.fH),y.aq*l),xf(y,t,e,n,i,a),l=df(y,n.x,n.y),!y.abort&&999999<=l&&(vf(y),a.ig(y.cq*(l=y.rG),y.aq*l),xf(y,t,e,n,i,a),l=df(y,n.x,n.y)),!y.abort&&999999<=l&&y.xH&&(vf(y),xf(y,t,e,n,i,y.ib),l=df(y,n.x,n.y)),!y.abort&&999999>l&&0!==df(y,n.x,n.y)?(function t(e,n,i,r,o,s){var a=n.cq,l=n.aq,h=df(n,i,r),u=i,c=r;for(0===o?u+=a:90===o?c+=l:180===o?u-=a:c-=l;1<h&&df(n,u,c)===h-1;)i=u,r=c,0===o?u+=a:90===o?c+=l:180===o?u-=a:c-=l,h-=1;s?1<h&&(180===o||0===o?i=Math.floor(i/a)*a+a/2:90!==o&&270!==o||(r=Math.floor(r/l)*l+l/2)):(i=Math.floor(i/a)*a+a/2,r=Math.floor(r/l)*l+l/2),1<h&&(s=o,u=i,c=r,0===o?(s=90,c+=l):90===o?(s=180,u-=a):180===o?(s=270,c-=l):270===o&&(s=0,u+=a),df(n,u,c)===h-1?t(e,n,u,c,s,!1):(u=i,c=r,0===o?(s=270,c-=l):90===o?(s=0,u+=a):180===o?(s=90,c+=l):270===o&&(s=180,u-=a),df(n,u,c)===h-1&&t(e,n,u,c,s,!1))),e.Bj(i,r)}(this,y,n.x,n.y,i,!0),a=this.m(2),4>this.ta?(0===e||180===e?(a.x=t.x,a.y=n.y):(a.x=n.x,a.y=t.y),this.ia(2,a.x,a.y),this.B(3,a.x,a.y)):(n=this.m(3),0===e||180===e?Ce(a.x,n.x)?(a=0===e?Math.max(a.x,t.x):Math.min(a.x,t.x),this.ia(2,a,t.y),this.ia(3,a,n.y)):Ce(a.y,n.y)?(Math.abs(t.y-a.y)<=y.aq/2&&(this.ia(2,a.x,t.y),this.ia(3,n.x,t.y)),this.B(2,a.x,t.y)):this.ia(2,t.x,a.y):90!==e&&270!==e||(Ce(a.y,n.y)?(a=90===e?Math.max(a.y,t.y):Math.min(a.y,t.y),this.ia(2,t.x,a),this.ia(3,n.x,a)):Ce(a.x,n.x)?(Math.abs(t.x-a.x)<=y.cq/2&&(this.ia(2,t.x,a.y),this.ia(3,t.x,n.y)),this.B(2,t.x,a.y)):this.ia(2,a.x,t.y))),null!==p&&(t=this.m(1),n=this.m(2),t.x!==n.x&&t.y!==n.y?0===e||180===e?this.B(2,t.x,n.y):this.B(2,n.x,t.y):0===e||180===e?this.B(2,r.x,p.y):this.B(2,p.x,r.y)),null!==v&&(0===i||180===i?this.Bj(o.x,v.y):this.Bj(v.x,o.y)),e=!0):e=!1}}}else e=!1;e||(this.Ci(h),this.Ci(u))}},Kc.prototype.computeMidOrthoPosition=function(t,e){return this.hasCurviness()?(t+e)/2+this.computeCurviness():(t+e)/2},Kc.prototype.findClosestSegment=function(t){r&&s.l(t,ft,Kc,"findClosestSegment:p");var e=t.x;t=t.y;for(var n=this.m(0),i=this.m(1),o=f(e,t,n.x,n.y,i.x,i.y),a=0,l=1;l<this.ta-1;l++){n=this.m(l+1);var h=f(e,t,i.x,i.y,n.x,n.y);i=n,h<o&&(a=l,o=h)}return a},Kc.prototype.Te=function(){this.Za=null},s.w(Kc,{wf:"geometry"},function(){return null===this.Za&&(this.zo(),this.Za=this.makeGeometry()),this.Za}),Kc.prototype.Wu=function(t){if(!t){if(!1===this.Uf)return;if(t=this.Ld(),null!==this.Za&&(null===t||null!==t.wf))return}if(this.Za=this.makeGeometry(),null!==(t=this.path)){t.Za=this.Za;for(var e=this.xa.o,n=e.length,i=0;i<n;i++){var r=e[i];r!==t&&r.Ue&&r instanceof Nl&&(r.Za=this.Za)}}},Kc.prototype.makeGeometry=function(){if(2>(h=this.ta))return new We(Bt);var t=!1;null!==(i=this.g)&&of(this)&&i.Cl.contains(this)&&null!==this.Vw&&(t=!0);var e=i=0,n=(a=this.m(0).copy()).copy(),i=this.gd.o;if((l=this.computeCurve())===tu&&3<=h&&!Te(this.Yq,0))if(3===h){var r=this.m(1);i=Math.min(a.x,r.x),e=Math.min(a.y,r.y),r=this.m(2),i=Math.min(i,r.x),e=Math.min(e,r.y)}else{if(this.ic)for(r=0;r<h;r++)e=i[r],n.x=Math.min(e.x,n.x),n.y=Math.min(e.y,n.y);else for(r=3;r<h;r+=3)r+3>=h&&(r=h-1),i=this.m(r),n.x=Math.min(i.x,n.x),n.y=Math.min(i.y,n.y);i=n.x,e=n.y}else{for(r=0;r<h;r++)e=i[r],n.x=Math.min(e.x,n.x),n.y=Math.min(e.y,n.y);i=n.x,e=n.y}if(e-=this.uA.y,a.x-=i-=this.uA.x,a.y-=e,2!==h||of(this)){var o=s.v();if(0!==this.computeShortLength(!0)&&(a=tf(this,a,!0,n)),gh(o,a.x,a.y,!1,!1),l===tu&&3<=h&&!Te(this.Yq,0))if(3===h)h=(r=this.m(1)).x-i,t=r.y-e,(r=this.m(2).copy()).x-=i,r.y-=e,0!==this.computeShortLength(!1)&&(r=tf(this,r,!1,n)),xh(o,h,t,h,t,r.x,r.y);else if(this.ic){n=new ft(i,e);var a=this.m(1).copy(),l=new ft(i,e),h=new ft(i,e),u=(t=this.m(0),null),c=this.Yq/3;for(r=1;r<this.ta-1;r++){var f=t,p=u=this.m(r),d=this.m(ef(this,u,r,!1));if(!(Te(f.x,p.x)&&Te(p.x,d.x)||Te(f.y,p.y)&&Te(p.y,d.y))){var y=c,v=l,g=h;isNaN(y)&&(y=this.Yq/3);var m=f.x,b=p.x,x=d.x,w=(d=d.y,y*$c(m,f=f.y,b,p=p.y));y*=$c(b,p,x,d),Te(f,p)&&Te(b,x)&&(b>m?d>p?(v.x=b-w,v.y=p-w,g.x=b+y,g.y=p+y):(v.x=b-w,v.y=p+w,g.x=b+y,g.y=p-y):d>p?(v.x=b+w,v.y=p-w,g.x=b-y,g.y=p+y):(v.x=b+w,v.y=p+w,g.x=b-y,g.y=p-y)),Te(m,b)&&Te(p,d)&&(p>f?(x>b?(v.x=b-w,v.y=p-w,g.x=b+y):(v.x=b+w,v.y=p-w,g.x=b-y),g.y=p+y):(x>b?(v.x=b-w,v.y=p+w,g.x=b+y):(v.x=b+w,v.y=p+w,g.x=b-y),g.y=p-y)),(Te(m,b)&&Te(b,x)||Te(f,p)&&Te(p,d))&&(f=.5*(f+d),v.x=m=.5*(m+x),v.y=f,g.x=m,g.y=f),1===r?(a.x=.5*(t.x+u.x),a.y=.5*(t.y+u.y)):2===r&&Te(t.x,this.m(0).x)&&Te(t.y,this.m(0).y)&&(a.x=.5*(t.x+u.x),a.y=.5*(t.y+u.y)),xh(o,a.x-i,a.y-e,l.x-i,l.y-e,u.x-i,u.y-e),n.set(l),a.set(h),t=u}}r=t.x,t=t.y,n=this.m(this.ta-1),0!==this.computeShortLength(!1)&&(n=tf(this,n.copy(),!1,ie)),xh(o,h.x-i,h.y-e,(r=.5*(r+n.x))-i,(t=.5*(t+n.y))-e,n.x-i,n.y-e)}else for(r=3;r<h;r+=3)t=this.m(r-2),r+3>=h&&(r=h-1),n=this.m(r-1),a=this.m(r),r===h-1&&0!==this.computeShortLength(!1)&&(a=tf(this,a.copy(),!1,ie)),xh(o,t.x-i,t.y-e,n.x-i,n.y-e,a.x-i,a.y-e);else{for((n=s.P()).assign(this.m(0)),r=1,a=0;r<h;){if(r=ef(this,n,r,1<r),v=this.m(r),r>=h-1){if(n.O(v)){if(0===a)for(r=1;r<h;)nf(this,o,-i,-e,n,v=this.m(r++),t),n.assign(v)}else 0!==this.computeShortLength(!1)&&(v=tf(this,v.copy(),!1,ie)),nf(this,o,-i,-e,n,v,t);break}a=ef(this,v,r+1,r<h-3),r=o,l=-i,u=-e,c=n,g=this.m(a),m=n,f=t,Ce(c.y,v.y)&&Ce(v.x,g.x)?(y=this.computeCorner(),y=Math.min(y,Math.abs(v.x-c.x)/2),Ce(y=b=Math.min(y,Math.abs(g.y-v.y)/2),0)?(nf(this,r,l,u,c,v,f),m.assign(v)):(d=p=v.x,w=x=v.y,p=v.x>c.x?v.x-y:v.x+y,w=g.y>v.y?v.y+b:v.y-b,nf(this,r,l,u,c,new ft(p,x),f),wh(r,v.x+l,v.y+u,d+l,w+u),m.n(d,w))):Ce(c.x,v.x)&&Ce(v.y,g.y)?(y=this.computeCorner(),b=Math.min(y,Math.abs(v.y-c.y)/2),b=y=Math.min(b,Math.abs(g.x-v.x)/2),Ce(y,0)?(nf(this,r,l,u,c,v,f),m.assign(v)):(p=v.x,w=x=v.y,x=v.y>c.y?v.y-b:v.y+b,d=g.x>v.x?v.x+y:v.x-y,nf(this,r,l,u,c,new ft(p,x),f),wh(r,v.x+l,v.y+u,d+l,w+u),m.n(d,w))):(nf(this,r,l,u,c,v,f),m.assign(v)),r=a}s.A(n)}i=o.q,s.u(o)}else(o=this.m(1).copy()).x-=i,o.y-=e,0!==this.computeShortLength(!0)&&(a=tf(this,a,!0,n)),0!==this.computeShortLength(!1)&&(o=tf(this,o,!1,n)),(i=new We(Bt)).la=a.x,i.ja=a.y,i.F=o.x,i.G=o.y;return i},s.w(Kc,{tu:"firstPickIndex"},function(){var t;return 2>=this.ta?t=0:((t=this.ic)||(t=this.computeSpot(!0)!==g),t=t?1:0),t}),s.w(Kc,{oy:"lastPickIndex"},function(){var t=this.ta;if(0===t)t=0;else if(2>=t)t-=1;else{var e;(e=this.ic)||(e=this.computeSpot(!1)!==g),t=e?t-2:t-1}return t}),Kc.prototype.usesSamePort=function(t){var e=this.ta,n=t.ta;if(0<e&&0<n){var i=this.m(0),r=t.m(0);if(i.Wc(r))return!0;if(e=this.m(e-1),t=t.m(n-1),e.Wc(t)||i.Wc(t)||e.Wc(r))return!0}else if(this.$===t.$||this.ba===t.ba||this.$===t.ba||this.ba===t.$)return!0;return!1},Kc.prototype.isVisible=function(){if(!Dh.prototype.isVisible.call(this))return!1;var t=this.Ka,e=!0,n=this.g;null!==n&&(e=n.ee);var i=this.$;if(null!==i){if(this.jc&&e&&!i.Dc)return!1;if(i===t)return!0;for(n=i;null!==n;){if(n.Xb===this)return!0;n=n.Ka}if(null===(n=i.findVisibleNode())||n===t)return!1}if(null!==(i=this.ba)){if(this.jc&&!e&&!i.Dc)return!1;if(i===t)return!0;for(n=i;null!==n;){if(n.Xb===this)return!0;n=n.Ka}if(null===(e=i.findVisibleNode())||e===t)return!1}return!0},Kc.prototype.Pd=function(t){if(Dh.prototype.Pd.call(this,t),null!==this.Oi&&this.Oi.wq(),null!==this.Hf)for(var e=this.Hf.j;e.next();)e.value.Pd(t)},s.defineProperty(Kc,{Yp:"adjusting"},function(){return this.ir},function(t){var e=this.ir;e!==t&&(r&&s.Da(t,Kc,Kc,"adjusting"),this.ir=t,this.i("adjusting",e,t))}),s.defineProperty(Kc,{QA:"corner"},function(){return this.Dr},function(t){var e=this.Dr;e!==t&&(r&&s.h(t,"number",Kc,"corner"),this.Dr=t,this.Te(),this.i("corner",e,t))}),s.defineProperty(Kc,{kf:"curve"},function(){return this.Gr},function(t){var e=this.Gr;e!==t&&(r&&s.Da(t,Kc,Kc,"curve"),this.Gr=t,this.ec(),this.Te(),sf(this,e===eu||e===nu||t===eu||t===nu),this.i("curve",e,t))}),s.defineProperty(Kc,{Nx:"curviness"},function(){return this.Hr},function(t){var e=this.Hr;e!==t&&(r&&s.h(t,"number",Kc,"curviness"),this.Hr=t,this.ec(),this.Te(),this.i("curviness",e,t))}),s.defineProperty(Kc,{My:"routing"},function(){return this.on},function(t){var e=this.on;e!==t&&(r&&s.Da(t,Kc,Kc,"routing"),this.on=t,this.$i=null,this.ec(),sf(this,2==(2&e.value)||2==(2&t.value)),this.i("routing",e,t))}),s.defineProperty(Kc,{Yq:"smoothness"},function(){return this.Jt},function(t){var e=this.Jt;e!==t&&(r&&s.h(t,"number",Kc,"smoothness"),this.Jt=t,this.Te(),this.i("smoothness",e,t))}),s.w(Kc,{key:"key"},function(){var t=this.g;return null!==t&&t.ea instanceof En?t.ea.nf(this.data):void 0},{configurable:!0}),cf.prototype.wq=function(){if(!this.pw){var t=this.links;0<t.length&&null!==(t=t[0].g)&&(t.AD.add(this),this.uh=t.na.ub)}this.pw=!0},cf.prototype.tC=function(){if(this.pw){this.pw=!1;var t=this.links;if(0<t.length){var e=t[0],n=null===(n=e.g)||n.Zn&&!this.uh;this.uh=!1,e.arrangeBundledLinks(t,n),1===t.length&&(e.Oi=null,t.length=0)}0===t.length&&(t=this.Hq,null!==this&&null!==t.ai&&t.ai.remove(this),t=this.av,null!==this&&null!==t.ai&&t.ai.remove(this))}},s.me(cf,{Hq:!0,Cy:!0,av:!0,Dy:!0,links:!0,spacing:!0}),s.me(ff,{group:!0,gC:!0,vq:!0,abort:!0,xH:!0,fH:!0,rG:!0}),ff.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,n=t.x+t.width,i=t.y+t.height;if(this.$f=Math.floor((t.x-this.he)/this.he)*this.he,this.ag=Math.floor((e-this.Rd)/this.Rd)*this.Rd,this.Hs=Math.ceil((n+2*this.he)/this.he)*this.he,this.Is=Math.ceil((i+2*this.Rd)/this.Rd)*this.Rd,t=1+(0|Math.ceil((this.Hs-this.$f)/this.he)),e=1+(0|Math.ceil((this.Is-this.ag)/this.Rd)),null===this.sd||this.zn<t-1||this.An<e-1){for(n=[],i=0;i<=t;i++)n[i]=[];this.sd=n,this.zn=t-1,this.An=e-1}if(null!==this.sd)for(t=0;t<=this.zn;t++)for(e=0;e<=this.An;e++)this.sd[t][e]=1e6}},s.w(ff,{ib:null},function(){return new vt(this.$f,this.ag,this.Hs-this.$f,this.Is-this.ag)}),s.defineProperty(ff,{cq:null},function(){return this.he},function(t){0<t&&t!==this.he&&(this.he=t,this.initialize(this.ib))}),s.defineProperty(ff,{aq:null},function(){return this.Rd},function(t){0<t&&t!==this.Rd&&(this.Rd=t,this.initialize(this.ib))}),ff.prototype.Dq=function(t,e,n,i){if(t>this.Hs||t+n<this.$f||e>this.Is||e+i<this.ag)return!0;t=(t-this.$f)/this.he|0,e=(e-this.ag)/this.Rd|0,n=Math.max(0,n)/this.he+1|0;var r=Math.max(0,i)/this.Rd+1|0;if(0>t&&(n+=t,t=0),0>e&&(r+=e,e=0),0>n||0>r)return!0;for(i=0|Math.min(t+n-1,this.zn),n=0|Math.min(e+r-1,this.An);t<=i;t++)for(r=e;r<=n;r++)if(0===this.sd[t][r])return!1;return!0},s.me(wf,{Zc:!0,port:!0,og:!0,Gq:!0}),wf.prototype.toString=function(){for(var t=this.og,e=this.Zc.toString()+" "+t.length.toString()+":",n=0;n<t.length;n++){var i=t[n];null!==i&&(e+="\n  "+i.toString())}return e},wf.prototype.wq=function(){this.og.length=0},wf.prototype.VJ=function(t,e){return t===e?0:null===t?-1:null===e?1:t.Le<e.Le?-1:t.Le>e.Le?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},wf.prototype.computeEndSegmentLength=function(t){var e=(r=t.link).computeEndSegmentLength(this.Zc,this.port,g,r.oc===this.port),n=t.tq;if(0>n)return e;var i=t.Ln;if(1>=i||!r.ic)return e;var r=t.Ay,o=t.Eq;return t.Le!==s.bd&&t.Le!==s.qd||(n=i-1-n),((t=t.Le===s.bd||t.Le===s.rd)?r.y<o.y:r.x<o.x)?e+8*n:(t?r.y===o.y:r.x===o.x)?e:e+8*(i-1-n)},s.me(Sf,{link:!0,angle:!0,Le:!0,Ay:!0,tq:!0,Ln:!0,Eq:!0,Sx:!0}),Sf.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.Le.toString()+":"+this.tq.toString()+"/"+this.Ln.toString()+" "+this.Eq.toString()+" "+this.Sx.toString()+" "+this.Ay.toString()},Cf.prototype.copy=function(){var t=new Cf;return t.ok=this.ok.V(),t.Mk=this.Mk.V(),t.mk=this.mk,t.Kk=this.Kk,t.lk=this.lk,t.Jk=this.Jk,t.nk=this.nk,t.Lk=this.Lk,t.as=this.as,t.St=this.St,t.bs=this.bs,t.Tt=this.Tt,t},s.Ta(Tf,Fc),s.ka("Group",Tf),Tf.prototype.cloneProtected=function(t){Fc.prototype.cloneProtected.call(this,t),this.Ca&=-32769,t.Js=this.Js,t.Ls=this.Ls,t.Rl=this.Rl,t.Nt=this.Nt;var e=t.qu(function(t){return t instanceof jf});t.Rb=e instanceof jf?e:null,null!==this.we?(t.we=this.we.copy(),t.we.group=t):(null!==t.we&&(t.we.group=null),t.we=null)},Tf.prototype.Ei=function(t){Fc.prototype.Ei.call(this,t);var e=t.pq();for(t=t.uc;t.next();){var n=t.value;if(n.K(),n.L(8),n.iu(),n instanceof Fc)n.kg(e);else if(n instanceof Kc)for(n=n.Bf;n.next();)n.value.kg(e)}},Tf.prototype.qo=function(t,e,n,i,r,o,a){if(t===te&&"elements"===e)if(r instanceof jf){var l=r;null===this.Rb?this.Rb=l:this.Rb!==l&&s.k("Cannot insert a second Placeholder into the visual tree of a Group.")}else r instanceof tl&&(l=r.qu(function(t){return t instanceof jf}))instanceof jf&&(null===this.Rb?this.Rb=l:this.Rb!==l&&s.k("Cannot insert a second Placeholder into the visual tree of a Group."));else t===ee&&"elements"===e&&null!==this.Rb&&(i===this.Rb?this.Rb=null:i instanceof tl&&this.Rb.xm(i)&&(this.Rb=null));Fc.prototype.qo.call(this,t,e,n,i,r,o,a)},Tf.prototype.Cj=function(t,e,n,i){this.Ql=this.Rb,tl.prototype.Cj.call(this,t,e,n,i)},Tf.prototype.ym=function(){if(!Fc.prototype.ym.call(this))return!1;for(var t=this.uc;t.next();){var e=t.value;if(e instanceof Fc){if(e.isVisible()&&La(e))return!1}else if(e instanceof Kc&&e.isVisible()&&La(e)&&e.$!==this&&e.ba!==this)return!1}return!0},s.w(Tf,{placeholder:"placeholder"},function(){return this.Rb}),s.defineProperty(Tf,{nI:"computesBoundsAfterDrag"},function(){return 0!=(2048&this.Ca)},function(t){var e=0!=(2048&this.Ca);e!==t&&(s.h(t,"boolean",Tf,"computesBoundsAfterDrag"),this.Ca^=2048,this.i("computesBoundsAfterDrag",e,t))}),s.defineProperty(Tf,{Jx:"computesBoundsIncludingLinks"},function(){return 0!=(4096&this.Ca)},function(t){s.h(t,"boolean",Tf,"computesBoundsIncludingLinks");var e=0!=(4096&this.Ca);e!==t&&(this.Ca^=4096,this.i("computesBoundsIncludingLinks",e,t))}),s.defineProperty(Tf,{oI:"computesBoundsIncludingLocation"},function(){return 0!=(8192&this.Ca)},function(t){s.h(t,"boolean",Tf,"computesBoundsIncludingLocation");var e=0!=(8192&this.Ca);e!==t&&(this.Ca^=8192,this.i("computesBoundsIncludingLocation",e,t))}),s.defineProperty(Tf,{cJ:"handlesDragDropForMembers"},function(){return 0!=(16384&this.Ca)},function(t){s.h(t,"boolean",Tf,"handlesDragDropForMembers");var e=0!=(16384&this.Ca);e!==t&&(this.Ca^=16384,this.i("handlesDragDropForMembers",e,t))}),s.w(Tf,{uc:"memberParts"},function(){return this.Ks.j}),Tf.prototype.Nn=function(){if(0<this.Ks.count){var t=this.g;if(null!==t)for(var e=this.Ks.copy().j;e.next();)t.remove(e.value)}Fc.prototype.Nn.call(this)},s.defineProperty(Tf,{Yb:"layout"},function(){return this.we},function(t){var e=this.we;e!==t&&(null!==t&&s.l(t,Af,Tf,"layout"),null!==e&&(e.g=null,e.group=null),this.we=t,null!==t&&(t.g=this.g,t.group=this),this.i("layout",e,t))}),s.defineProperty(Tf,{MJ:"memberAdded"},function(){return this.Js},function(t){var e=this.Js;e!==t&&(null!==t&&s.h(t,"function",Tf,"memberAdded"),this.Js=t,this.i("memberAdded",e,t))}),s.defineProperty(Tf,{NJ:"memberRemoved"},function(){return this.Ls},function(t){var e=this.Ls;e!==t&&(null!==t&&s.h(t,"function",Tf,"memberRemoved"),this.Ls=t,this.i("memberRemoved",e,t))}),s.defineProperty(Tf,{BB:"memberValidation"},function(){return this.Rl},function(t){var e=this.Rl;e!==t&&(null!==t&&s.h(t,"function",Tf,"memberValidation"),this.Rl=t,this.i("memberValidation",e,t))}),Tf.prototype.canAddMembers=function(t){var e=this.g;if(null===e)return!1;for(e=e.yb,t=Wn(t).j;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},Tf.prototype.addMembers=function(t,e){if(null===(n=this.g))return!1;for(var n=n.yb,i=!0,r=Wn(t).j;r.next();){var o=r.value;!e||n.isValidMember(this,o)?o.Ka=this:i=!1}return i},s.defineProperty(Tf,{IK:"ungroupable"},function(){return 0!=(256&this.Ca)},function(t){var e=0!=(256&this.Ca);e!==t&&(s.h(t,"boolean",Tf,"ungroupable"),this.Ca^=256,this.i("ungroupable",e,t))}),Tf.prototype.canUngroup=function(){if(!this.IK)return!1;var t=this.layer;return!(null!==t&&!t.Ex||null!==(t=t.g)&&!t.Ex)},Tf.prototype.kg=function(t){void 0===t&&(t=null);var e=0!=(65536&this.Ca);if(Fc.prototype.kg.call(this,t),!e)for(0!=(65536&this.Ca)!=1&&(this.Ca^=65536),e=this.EF();e.next();){var n=e.value;if(null===t||!t.contains(n)){var i=n.$;null!==i&&i!==this&&i.Fi(this)&&!i.isVisible()?(Bc(i,n.oc),Bc(i,n.Gc),n.ec()):null!==(i=n.ba)&&i!==this&&i.Fi(this)&&!i.isVisible()&&(Bc(i,n.oc),Bc(i,n.Gc),n.ec())}}},Tf.prototype.findExternalLinksConnected=Tf.prototype.EF=function(){var t=this.pq();t.add(this);for(var e=new rt(Kc),n=t.j;n.next();){var i=n.value;if(i instanceof Fc)for(i=i.Od;i.next();){var r=i.value;t.contains(r)||e.add(r)}}return e.j},Tf.prototype.findExternalNodesConnected=function(){var t=this.pq();t.add(this);for(var e=new rt(Fc),n=t.j;n.next();){var i=n.value;if(i instanceof Fc)for(i=i.Od;i.next();){var r=i.value,o=r.$;t.contains(o)&&o!==this||e.add(o),t.contains(r=r.ba)&&r!==this||e.add(r)}}return e.j},Tf.prototype.findContainingGroupChain=function(){var t=new rt(Tf);return function t(e,n){null!==e&&(n.add(e),t(e.Ka,n))}(this,t),t},Tf.prototype.findSubGraphParts=Tf.prototype.pq=function(){var t=new rt(Dh);return Kn(t,this,!0,0,!0),t.remove(this),t},Tf.prototype.Pd=function(t){Fc.prototype.Pd.call(this,t);for(var e=this.uc;e.next();)e.value.Pd(t)},Tf.prototype.collapseSubGraph=Tf.prototype.collapseSubGraph=function(){var t=this.g;null===t||t.Ph||(t.Ph=!0,function t(e,n,i,r){for(var o=e.uc;o.next();){var s=o.value;if(s.Pd(!1),s instanceof Tf){var a=s;a.md&&(a.Zy=a.md,t(a,n,i,r))}if(s instanceof Fc)s.kg(n),Er(i,s,r);else if(s instanceof Kc)for(s=s.Bf;s.next();)s.value.kg(n)}e.md=!1}(this,this.pq(),t.Ra,this),t.Ph=!1)},Tf.prototype.expandSubGraph=Tf.prototype.expandSubGraph=function(){var t=this.g;null===t||t.Ph||(t.Ph=!0,function t(e,n,i,r){for(var o=e.uc;o.next();){var s=o.value;if(s.Pd(!0),s instanceof Tf){var a=s;a.Zy&&(a.Zy=!1,t(a,n,i,r))}if(s instanceof Fc)s.kg(n),Or(i,s,r);else if(s instanceof Kc)for(s=s.Bf;s.next();)s.value.kg(n)}e.md=!0}(this,this.pq(),t.Ra,this),t.Ph=!1)},s.defineProperty(Tf,{md:"isSubGraphExpanded"},function(){return 0!=(512&this.Ca)},function(t){var e=0!=(512&this.Ca);if(e!==t){s.h(t,"boolean",Tf,"isSubGraphExpanded"),this.Ca^=512;var n=this.g;if(this.i("isSubGraphExpanded",e,t),null!==(e=this.yK)){var i=!0;null!==n&&(i=n.ab,n.ab=!0),e(this),null!==n&&(n.ab=i)}null!==n&&n.na.ub?null!==this.Rb&&this.Rb.K():t?this.expandSubGraph():this.collapseSubGraph()}}),s.defineProperty(Tf,{Zy:"wasSubGraphExpanded"},function(){return 0!=(1024&this.Ca)},function(t){var e=0!=(1024&this.Ca);e!==t&&(s.h(t,"boolean",Tf,"wasSubGraphExpanded"),this.Ca^=1024,this.i("wasSubGraphExpanded",e,t))}),s.defineProperty(Tf,{yK:"subGraphExpandedChanged"},function(){return this.Nt},function(t){var e=this.Nt;e!==t&&(null!==t&&s.h(t,"function",Tf,"subGraphExpandedChanged"),this.Nt=t,this.i("subGraphExpandedChanged",e,t))}),Tf.prototype.move=function(t){var e=(n=this.position).x;isNaN(e)&&(e=0),n=n.y,isNaN(n)&&(n=0);var n,i=s.Fb(e=t.x-e,n=t.y-n);Fc.prototype.move.call(this,t),t=new rt(Kc);for(var r=this.pq().j;r.next();){var o=r.value;o instanceof Kc&&(o.Ji&&t.add(o),o.Ji=!0)}for(r.reset();r.next();)if(!((o=r.value)instanceof Kc||o instanceof Fc&&o.Lf)){var a=o.position,l=o.location;a.H()?(i.x=a.x+e,i.y=a.y+n,o.position=i):l.H()&&(i.x=l.x+e,i.y=l.y+n,o.location=i)}for(r.reset();r.next();)(o=r.value)instanceof Kc&&(o.Ji=t.contains(o),o.Uf||o.$!==this&&o.ba!==this)&&(i.x=(a=o.position).x+e,i.y=a.y+n,o.move(i),Qc(o)&&o.ec());s.A(i)},s.defineProperty(Tf,{no:null},function(){return 0!=(32768&this.Ca)},function(t){0!=(32768&this.Ca)!==t&&(this.Ca^=32768)}),s.Ta(jf,fa),s.ka("Placeholder",jf),jf.prototype.cloneProtected=function(t){fa.prototype.cloneProtected.call(this,t),t.uf=this.uf.V(),t.xt=this.xt.copy()},jf.prototype.Rk=function(t){if(null===this.background&&null===this.gm)return!1;var e=this.Ga;return y(0,0,e.width,e.height,t.x,t.y)},jf.prototype.ho=function(){var t=this.Y;if(null!==t&&(t instanceof Tf||t instanceof Lc)||s.k("Placeholder is not inside a Group or Adornment."),t instanceof Tf){var e=this.computeBorder(this.xt);gt(i=this.fd,e.width||0,e.height||0),va(this,0,0,i.width,i.height);for(var n=t.uc,i=!1;n.next();)if(n.value.isVisible()){i=!0;break}n=t.g,!i||null===n||n.Ra.of||isNaN(e.x)||isNaN(e.y)||((i=s.P()).uo(e,t.Of),t.location=new ft(i.x,i.y),s.A(i))}else{i=this.fd;var r=(n=this.padding).left+n.right,o=n.top+n.bottom;if((e=this.Ea).H())gt(i,e.width+r||0,e.height+o||0),va(this,-n.left,-n.top,i.width,i.height);else{var a=t.Bb,l=a.fb(b,s.P());(e=s.vg(l.x,l.y,0,0)).Mi(a.fb(M,l)),e.Mi(a.fb(w,l)),e.Mi(a.fb(C,l)),t.jj.n(e.x,e.y),gt(i,e.width+r||0,e.height+o||0),va(this,-n.left,-n.top,i.width,i.height),s.A(l),s.Lb(e)}}},jf.prototype.Cj=function(t,e,n,i){var r=this.aa;r.x=t,r.y=e,r.width=n,r.height=i},jf.prototype.computeBorder=function(t){var e=this.Y;if(e instanceof Tf&&(n=e).nI&&this.xt.H()&&null!==(i=n.g)&&(i=i.eb)instanceof Xn&&!i.Vr&&null!==i.hc&&!i.hc.contains(n))return t.assign(this.xt),t;var n=s.Sf(),i=this.computeMemberBounds(n),r=this.padding;return t.n(i.x-r.left,i.y-r.top,Math.max(i.width+r.left+r.right,0),Math.max(i.height+r.top+r.bottom,0)),s.Lb(n),e instanceof Tf&&(n=e).oI&&n.location.H()&&t.Mi(n.location),t},jf.prototype.computeMemberBounds=function(t){if(!(this.Y instanceof Tf))return t.n(0,0,0,0),t;for(var e=this.Y,n=1/0,i=1/0,r=-1/0,o=-1/0,s=e.uc;s.next();){var a=s.value;if(a.isVisible()){if(a instanceof Kc){var l=a;if(!e.Jx)continue;if(Ea(l))continue;if(l.$===e||l.ba===e)continue}(a=a.aa).left<n&&(n=a.left),a.top<i&&(i=a.top),a.right>r&&(r=a.right),a.bottom>o&&(o=a.bottom)}}return isFinite(n)&&isFinite(i)?t.n(n,i,r-n,o-i):t.n((e=e.location).x+(n=this.padding).left,e.y+n.top,0,0),t},s.defineProperty(jf,{padding:"padding"},function(){return this.uf},function(t){"number"==typeof t?t=new Pt(t):s.l(t,Pt,jf,"padding");var e=this.uf;e.O(t)||(this.uf=t=t.V(),this.i("padding",e,t))}),s.ka("Layout",Af),Af.prototype.cloneProtected=function(t){t.qs=this.qs,t.Kl=this.Kl,t.ws=this.ws,t.mr.assign(this.mr),t.ts=this.ts,t.ss=this.ss,t.mD=this.mD,t.vs=!0},Af.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Af.prototype.qc=function(t){s.ak(this,t)},Af.prototype.toString=function(){var t=(t=s.xf(Object.getPrototypeOf(this)))+"(";return null!==this.group&&(t+=" in "+this.group),null!==this.g&&(t+=" for "+this.g),t+")"},s.defineProperty(Af,{g:"diagram"},function(){return this.ca},function(t){null!==t&&s.l(t,eo,Af,"diagram"),this.ca=t}),s.defineProperty(Af,{group:"group"},function(){return this.Uz},function(t){this.Uz!==t&&(null!==t&&s.l(t,Tf,Af,"group"),this.Uz=t,null!==t&&(this.ca=t.g))}),s.defineProperty(Af,{tJ:"isOngoing"},function(){return this.qs},function(t){this.qs!==t&&(s.h(t,"boolean",Af,"isOngoing"),this.qs=t)}),s.defineProperty(Af,{kG:"isInitial"},function(){return this.Kl},function(t){s.h(t,"boolean",Af,"isInitial"),this.Kl=t,t||(this.vs=!0)}),s.defineProperty(Af,{my:"isViewportSized"},function(){return this.ws},function(t){this.ws!==t&&(s.h(t,"boolean",Af,"isViewportSized"),(this.ws=t)&&this.L())}),s.defineProperty(Af,{Pu:"isRouting"},function(){return this.ts},function(t){this.ts!==t&&(s.h(t,"boolean",Af,"isRouting"),this.ts=t)}),s.defineProperty(Af,{mG:"isRealtime"},function(){return this.ss},function(t){this.ss!==t&&(s.h(t,"boolean",Af,"isRealtime"),this.ss=t)}),s.defineProperty(Af,{Af:"isValidLayout"},function(){return this.vs},function(t){this.vs!==t&&(s.h(t,"boolean",Af,"isValidLayout"),this.vs=t,t||null!==(t=this.g)&&(t.xl=!0))}),Af.prototype.invalidateLayout=Af.prototype.L=function(){if(this.Af){var t=this.g;if(null!==t&&!t.na.ub){var e=t.Ra;!e.np&&(e.of&&e.Yh(),this.tJ&&t.Zn||this.kG&&!t.Zn)&&(this.Af=!1,t.Ve())}}},s.defineProperty(Af,{network:"network"},function(){return this.gA},function(t){var e=this.gA;e!==t&&(null!==t&&s.l(t,Ef,Af,"network"),null!==e&&(e.Yb=null),this.gA=t,null!==t&&(t.Yb=this))}),Af.prototype.createNetwork=function(){return new Ef},Af.prototype.makeNetwork=function(t){var e=this.createNetwork();return e.Yb=this,t instanceof eo?(e.Ok(t.rg,!0),e.Ok(t.links,!0)):e.Ok(t instanceof Tf?t.uc:t.j),e},Af.prototype.updateParts=function(){var t=this.g;if(null===t&&null!==this.network)for(var e=this.network.vertexes.j;e.next();){var n=e.value.Zc;if(null!==n&&null!==(t=n.g))break}this.Af=!0;try{null!==t&&t.Nb("Layout"),this.commitLayout()}finally{null!==t&&t.jd("Layout")}},Af.prototype.commitLayout=function(){for(var t=this.network.vertexes.j;t.next();)t.value.commit();if(this.Pu)for(t=this.network.edges.j;t.next();)t.value.commit()},Af.prototype.doLayout=function(t){null===t&&s.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");var e=new rt(Dh);t instanceof eo?(_f(this,e,t.rg,!0,this.no,!0,!1,!0),_f(this,e,t.Hi,!0,this.no,!0,!1,!0)):t instanceof Tf?_f(this,e,t.uc,!1,this.no,!0,!1,!0):e.Vc(t.j);var n=e.count;if(0<n){null!==(t=this.g)&&t.Nb("Layout"),n=Math.ceil(Math.sqrt(n)),this.Zd=this.initialOrigin(this.Zd);var i=this.Zd.x,r=i,o=this.Zd.y,a=0,l=0;for(e=e.j;e.next();){var h=e.value;h.lf();var u=(c=h.Fa).width,c=c.height;h.moveTo(r,o),h instanceof Tf&&(h.no=!1),r+=Math.max(u,50)+20,l=Math.max(l,Math.max(c,50)),a>=n-1?(a=0,r=i,o+=l+20,l=0):a++}null!==t&&t.jd("Layout")}this.Af=!0},Af.prototype.no=function(t){return!(t.location.H()&&!(t instanceof Tf&&t.no))},Af.prototype.collectParts=Af.prototype.iI=function(t){var e=new rt(Dh);return t instanceof eo?(_f(this,e,t.rg,!0,null,!0,!0,!0),_f(this,e,t.links,!0,null,!0,!0,!0),_f(this,e,t.Hi,!0,null,!0,!0,!0)):_f(this,e,t instanceof Tf?t.uc:t.j,!1,null,!0,!0,!0),e},s.defineProperty(Af,{Zd:"arrangementOrigin"},function(){return this.mr},function(t){s.l(t,ft,Af,"arrangementOrigin"),this.mr.O(t)||(this.mr.assign(t),this.L())}),Af.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var n=e.position.copy();return(isNaN(n.x)||isNaN(n.y))&&n.set(t),null!==(e=e.placeholder)&&(n=e.fb(b),(isNaN(n.x)||isNaN(n.y))&&n.set(t),n.x+=e.padding.left,n.y+=e.padding.top),n}return t},s.ka("LayoutNetwork",Ef),Ef.prototype.clear=function(){if(this.vertexes)for(var t=this.vertexes.j;t.next();){var e=t.value;e.clear(),e.network=null}if(this.edges)for(t=this.edges.j;t.next();)(e=t.value).clear(),e.network=null;this.vertexes=new rt(If),this.edges=new rt(Rf),this.xy=new ut(Fc,If),this.qy=new ut(Kc,Rf)},Ef.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.Yb?"("+this.Yb.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.vertexes.count+" edges: "+this.edges.count,1<t){for(var n=this.vertexes.j;n.next();)e+="\n    "+n.value.toString(t-1);for(n=this.edges.j;n.next();)e+="\n    "+n.value.toString(t-1)}return e},s.defineProperty(Ef,{Yb:"layout"},function(){return this.we},function(t){r&&null!==t&&s.l(t,Af,Ef,"layout"),this.we=t}),Ef.prototype.createVertex=function(){return new If},Ef.prototype.createEdge=function(){return new Rf},Ef.prototype.addParts=Ef.prototype.Ok=function(t,e,n){if(null!==t){for(void 0===e&&(e=!1),s.h(e,"boolean",Ef,"addParts:toplevelonly"),void 0===n&&(n=null),null===n&&(n=function(t){if(t instanceof Fc)return!t.Lf;if(t instanceof Kc){var e=t.$;return null!==e&&!e.Lf&&null!==(t=t.ba)&&!t.Lf}return!1}),t=t.j;t.next();){var i=t.value;i instanceof Fc&&(!e||i.Bq)&&i.canLayout()&&n(i)&&(i instanceof Tf&&null===i.Yb?this.Ok(i.uc,!1):null===this.Rn(i)&&((o=this.createVertex()).Zc=i,this.em(o)))}for(t.reset();t.next();)if((i=t.value)instanceof Kc&&(!e||i.Bq)&&i.canLayout()&&n(i)&&null===this.Ux(i)){var r=i.$,o=i.ba;null!==r&&null!==o&&r!==o&&(r=this.findGroupVertex(r),o=this.findGroupVertex(o),null!==r&&null!==o&&this.Fq(r,o,i))}}},Ef.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(null!==(t=this.Rn(e)))return t;for(e=e.Ka;null!==e;){if(null!==(t=this.Rn(e)))return t;e=e.Ka}return null},Ef.prototype.addVertex=Ef.prototype.em=function(t){if(null!==t){r&&s.l(t,If,Ef,"addVertex:vertex"),this.vertexes.add(t);var e=t.Zc;null!==e&&this.xy.add(e,t),t.network=this}},Ef.prototype.addNode=Ef.prototype.bu=function(t){if(null===t)return null;r&&s.l(t,Fc,Ef,"addNode:node");var e=this.Rn(t);return null===e&&((e=this.createVertex()).Zc=t,this.em(e)),e},Ef.prototype.deleteVertex=Ef.prototype.uF=function(t){if(null!==t&&(r&&s.l(t,If,Ef,"deleteVertex:vertex"),Df(this,t))){for(var e=t.Ye,n=e.count-1;0<=n;n--){var i=e.fa(n);this.kq(i)}for(n=(e=t.Re).count-1;0<=n;n--)i=e.fa(n),this.kq(i)}},Ef.prototype.deleteNode=function(t){null!==t&&(r&&s.l(t,Fc,Ef,"deleteNode:node"),null!==(t=this.Rn(t))&&this.uF(t))},Ef.prototype.findVertex=Ef.prototype.Rn=function(t){return null===t?null:(r&&s.l(t,Fc,Ef,"findVertex:node"),this.xy.oa(t))},Ef.prototype.addEdge=Ef.prototype.Xp=function(t){if(null!==t){r&&s.l(t,Rf,Ef,"addEdge:edge"),this.edges.add(t);var e=t.link;null!==e&&null===this.Ux(e)&&this.qy.add(e,t),null!==(e=t.toVertex)&&e.WE(t),null!==(e=t.fromVertex)&&e.UE(t),t.network=this}},Ef.prototype.addLink=function(t){if(null===t)return null;r&&s.l(t,Kc,Ef,"addLink:link");var e=t.$,n=t.ba,i=this.Ux(t);return null===i?((i=this.createEdge()).link=t,null!==e&&(i.fromVertex=this.bu(e)),null!==n&&(i.toVertex=this.bu(n)),this.Xp(i)):(i.fromVertex=null!==e?this.bu(e):null,i.toVertex=null!==n?this.bu(n):null),i},Ef.prototype.deleteEdge=Ef.prototype.kq=function(t){if(null!==t){r&&s.l(t,Rf,Ef,"deleteEdge:edge");var e=t.toVertex;null!==e&&e.tF(t),null!==(e=t.fromVertex)&&e.sF(t),Lf(this,t)}},Ef.prototype.deleteLink=function(t){null!==t&&(r&&s.l(t,Kc,Ef,"deleteLink:link"),null!==(t=this.Ux(t))&&this.kq(t))},Ef.prototype.findEdge=Ef.prototype.Ux=function(t){return null===t?null:(r&&s.l(t,Kc,Ef,"findEdge:link"),this.qy.oa(t))},Ef.prototype.linkVertexes=Ef.prototype.Fq=function(t,e,n){if(null===t||null===e)return null;if(r&&(s.l(t,If,Ef,"linkVertexes:fromVertex"),s.l(e,If,Ef,"linkVertexes:toVertex"),null!==n&&s.l(n,Kc,Ef,"linkVertexes:link")),t.network===this&&e.network===this){var i=this.createEdge();return i.link=n,i.fromVertex=t,i.toVertex=e,this.Xp(i),i}return null},Ef.prototype.reverseEdge=Ef.prototype.Ly=function(t){if(null!==t){r&&s.l(t,Rf,Ef,"reverseEdge:edge");var e=t.fromVertex,n=t.toVertex;null!==e&&null!==n&&(e.sF(t),n.tF(t),t.Ly(),e.WE(t),n.UE(t))}},Ef.prototype.deleteSelfEdges=Ef.prototype.Px=function(){for(var t=s.nb(),e=this.edges.j;e.next();){var n=e.value;n.fromVertex===n.toVertex&&t.push(n)}for(e=t.length,n=0;n<e;n++)this.kq(t[n]);s.ya(t)},Ef.prototype.deleteArtificialVertexes=function(){for(var t=s.nb(),e=this.vertexes.j;e.next();)null===(n=e.value).Zc&&t.push(n);for(var n=t.length,i=0;i<n;i++)this.uF(t[i]);for(e=s.nb(),n=this.edges.j;n.next();)null===(i=n.value).link&&e.push(i);for(n=e.length,i=0;i<n;i++)this.kq(e[i]);s.ya(t),s.ya(e)},Ef.prototype.splitIntoSubNetworks=Ef.prototype.xK=function(){this.deleteArtificialVertexes(),function(t){for(var e=s.nb(),n=t.edges.j;n.next();){var i=n.value;null!==i.fromVertex&&null!==i.toVertex||e.push(i)}for(n=e.length,i=0;i<n;i++)t.kq(e[i]);s.ya(e)}(this),this.Px();for(var t=new nt(Ef),e=!0;e;){e=!1;for(var n=this.vertexes.j;n.next();){var i=n.value;if(0<i.Ye.count||0<i.Re.count){e=this.Yb.createNetwork(),t.add(e),Ff(this,e,i),e=!0;break}}}return t.sort(function(t,e){return null===t||null===e||t===e?0:e.vertexes.count-t.vertexes.count}),t},Ef.prototype.findAllParts=function(){for(var t=new rt(Dh),e=this.vertexes.j;e.next();)t.add(e.value.Zc);for(e=this.edges.j;e.next();)t.add(e.value.link);return t},s.ka("LayoutVertex",If),If.prototype.clear=function(){this.Gd=this.Sd=null,this.Ye=new nt(Rf),this.Re=new nt(Rf)},If.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+s.Nd(this);if(0<t&&(e+=null!==this.Zc?"("+this.Zc.toString()+")":"",1<t)){t="";for(var n=!0,i=this.Ye.j;i.next();){var r=i.value;n?n=!1:t+=",",t+=r.toString(0)}for(r="",n=!0,i=this.Re.j;i.next();)n?n=!1:r+=",",r+=i.value.toString(0);e+=" sources: "+t+" destinations: "+r}return e},s.defineProperty(If,{data:"data"},function(){return this.Sd},function(t){if(this.Sd=t,null!==t){t=(e=t.bounds).x;var e,n=e.y,i=e.width;this.W.n(i/2,(e=e.height)/2),this.Q.n(t,n,i,e)}}),s.defineProperty(If,{Zc:"node"},function(){return this.Gd},function(t){if(this.Gd!==t){r&&null!==t&&s.l(t,Fc,If,"node"),this.Gd=t,t.lf();var e=(o=t.aa).x,n=o.y,i=o.width,o=o.height;if(isNaN(e)&&(e=0),isNaN(n)&&(n=0),this.Q.n(e,n,i,o),!(t instanceof Tf)&&(t=t.Cf.fb(P)).H())return void this.W.n(t.x-e,t.y-n);this.W.n(i/2,o/2)}}),s.defineProperty(If,{ib:"bounds"},function(){return this.Q},function(t){this.Q.O(t)||(r&&s.l(t,vt,If,"bounds"),this.Q.assign(t))}),s.defineProperty(If,{focus:"focus"},function(){return this.W},function(t){this.W.O(t)||(r&&s.l(t,ft,If,"focus"),this.W.assign(t))}),s.defineProperty(If,{pa:"centerX"},function(){return this.Q.x+this.W.x},function(t){var e=this.Q;e.x+this.W.x!==t&&(r&&s.p(t,If,"centerX"),e.Xa(),e.x=t-this.W.x,e.freeze())}),s.defineProperty(If,{va:"centerY"},function(){return this.Q.y+this.W.y},function(t){var e=this.Q;e.y+this.W.y!==t&&(r&&s.p(t,If,"centerY"),e.Xa(),e.y=t-this.W.y,e.freeze())}),s.defineProperty(If,{xu:"focusX"},function(){return this.W.x},function(t){var e=this.W;e.x!==t&&(e.Xa(),e.x=t,e.freeze())}),s.defineProperty(If,{yu:"focusY"},function(){return this.W.y},function(t){var e=this.W;e.y!==t&&(e.Xa(),e.y=t,e.freeze())}),s.defineProperty(If,{x:"x"},function(){return this.Q.x},function(t){var e=this.Q;e.x!==t&&(e.Xa(),e.x=t,e.freeze())}),s.defineProperty(If,{y:"y"},function(){return this.Q.y},function(t){var e=this.Q;e.y!==t&&(e.Xa(),e.y=t,e.freeze())}),s.defineProperty(If,{width:"width"},function(){return this.Q.width},function(t){var e=this.Q;e.width!==t&&(e.Xa(),e.width=t,e.freeze())}),s.defineProperty(If,{height:"height"},function(){return this.Q.height},function(t){var e=this.Q;e.height!==t&&(e.Xa(),e.height=t,e.freeze())}),If.prototype.commit=function(){var t=this.Sd;if(null!==t){var e=this.ib;s.Qa(n=t.bounds)?(n.x=e.x,n.y=e.y,n.width=e.width,n.height=e.height):t.bounds=e.copy()}else if(null!==(t=this.Zc)){if(e=this.ib,!(t instanceof Tf)){var n=t.aa,i=t.Cf.fb(P);if(n.H()&&i.H())return void t.moveTo(e.x+this.xu-(i.x-n.x),e.y+this.yu-(i.y-n.y))}t.moveTo(e.x,e.y)}},If.prototype.addSourceEdge=If.prototype.WE=function(t){null!==t&&(r&&s.l(t,Rf,If,"addSourceEdge:edge"),this.Ye.contains(t)||this.Ye.add(t))},If.prototype.deleteSourceEdge=If.prototype.tF=function(t){null!==t&&(r&&s.l(t,Rf,If,"deleteSourceEdge:edge"),this.Ye.remove(t))},If.prototype.addDestinationEdge=If.prototype.UE=function(t){null!==t&&(r&&s.l(t,Rf,If,"addDestinationEdge:edge"),this.Re.contains(t)||this.Re.add(t))},If.prototype.deleteDestinationEdge=If.prototype.sF=function(t){null!==t&&(r&&s.l(t,Rf,If,"deleteDestinationEdge:edge"),this.Re.remove(t))},s.w(If,{wK:"sourceVertexes"},function(){for(var t=new rt(If),e=this.wc;e.next();)t.add(e.value.fromVertex);return t.j}),s.w(If,{zI:"destinationVertexes"},function(){for(var t=new rt(If),e=this.tc;e.next();)t.add(e.value.toVertex);return t.j}),s.w(If,{vertexes:"vertexes"},function(){for(var t=new rt(If),e=this.wc;e.next();)t.add(e.value.fromVertex);for(e=this.tc;e.next();)t.add(e.value.toVertex);return t.j}),s.w(If,{wc:"sourceEdges"},function(){return this.Ye.j}),s.w(If,{tc:"destinationEdges"},function(){return this.Re.j}),s.w(If,{edges:"edges"},function(){for(var t=new nt(Rf),e=this.wc;e.next();)t.add(e.value);for(e=this.tc;e.next();)t.add(e.value);return t.j}),s.w(If,{KI:"edgesCount"},function(){return this.Ye.count+this.Re.count}),If.standardComparer=du=function(t,e){r&&s.l(t,If,If,"standardComparer:m"),r&&s.l(e,If,If,"standardComparer:n");var n=t.Gd,i=e.Gd;return n?i?(n=n.text)<(i=i.text)?-1:n>i?1:0:1:null!==i?-1:0},If.smartComparer=function(t,e){if(r&&s.l(t,If,If,"smartComparer:m"),r&&s.l(e,If,If,"smartComparer:n"),null!==t){if(null!==e){var n=e.Gd;if(null!==(i=t.Gd)){if(null!==n){for(var i=i.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),o=(n=n.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),0);o<i.length;o++)if(""!==n[o]&&void 0!==n[o]){var a=parseFloat(i[o]),l=parseFloat(n[o]);if(isNaN(a)){if(!isNaN(l))return 1;if(0!==i[o].localeCompare(n[o]))return i[o].localeCompare(n[o])}else{if(isNaN(l))return-1;if(0!=a-l)return a-l}}else if(""!==i[o])return 1;return""!==n[o]&&void 0!==n[o]?-1:0}return 1}return null!==n?-1:0}return 1}return null!==e?-1:0},s.ka("LayoutEdge",Rf),Rf.prototype.clear=function(){this.toVertex=this.fromVertex=this.link=this.data=null},Rf.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+s.Nd(this);return 0<t&&(e+=null!==this.link?"("+this.link.toString()+")":"",1<t&&(e+=" "+(this.fromVertex?this.fromVertex.toString():"null")+" --\x3e "+(this.toVertex?this.toVertex.toString():"null"))),e},Rf.prototype.Ly=function(){var t=this.fromVertex;this.fromVertex=this.toVertex,this.toVertex=t},Rf.prototype.commit=function(){},Rf.prototype.getOtherVertex=Rf.prototype.VI=function(t){return r&&s.l(t,If,Rf,"getOtherVertex:v"),this.toVertex===t?this.fromVertex:this.fromVertex===t?this.toVertex:null},s.Ta(Vf,Af),s.ka("GridLayout",Vf),Vf.prototype.cloneProtected=function(t){Af.prototype.cloneProtected.call(this,t),t.Yt=this.Yt,t.Xt=this.Xt,t.fk.assign(this.fk),t.ui.assign(this.ui),t.ue=this.ue,t.Bd=this.Bd,t.ti=this.ti,t.ci=this.ci},Vf.prototype.qc=function(t){t.Qe===Vf?t===ku||t===Pu||t===xu||t===wu?this.sorting=t:t===mu||t===bu?this.eg=t:t===gu||t===vu?this.alignment=t:s.k("Unknown enum value: "+t):Af.prototype.qc.call(this,t)},Vf.prototype.doLayout=function(t){null===t&&s.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),this.Zd=this.initialOrigin(this.Zd);for(var e=this.g,n=(t=this.iI(t)).copy().j;n.next();){var i=n.value;if(i instanceof Kc){var r=i;if(null!==r.$||null!==r.ba){t.remove(r);continue}}if(i.lf(),i instanceof Tf)for(i=i.uc;i.next();)t.remove(i.value)}if(0!==(r=t.Fc()).length){switch(this.sorting){case wu:r.reverse();break;case ku:r.sort(this.comparer);break;case Pu:r.sort(this.comparer),r.reverse()}var o=this.MK;isNaN(o)&&(o=0);var a=this.zH;switch(a=isNaN(a)&&null!==e?Math.max(e.wb.width-e.padding.left-e.padding.right,0):Math.max(this.zH,0),0>=o&&0>=a&&(o=1),t=this.spacing.width,isFinite(t)||(t=0),n=this.spacing.height,isFinite(n)||(n=0),null!==e&&e.Nb("Layout"),i=[],this.alignment){case vu:var l=t,h=n,u=Math.max(this.bq.width,1);if(!isFinite(u))for(var c=u=0;c<r.length;c++){var f=(x=r[c]).Fa;u=Math.max(u,f.width)}u=Math.max(u+l,1);var p=Math.max(this.bq.height,1);if(!isFinite(p))for(c=p=0;c<r.length;c++)f=(x=r[c]).Fa,p=Math.max(p,f.height);p=Math.max(p+h,1);var d=this.eg,y=this.Zd.x,v=y,g=this.Zd.y,m=0,b=0;for(c=0;c<r.length;c++){f=(x=r[c]).Fa;var x,w=Math.ceil((f.width+l)/u)*u,k=Math.ceil((f.height+h)/p)*p,P=0;switch(d){case bu:P=Math.abs(v-f.width);break;default:P=v+f.width}switch((0<o&&m>o-1||0<a&&0<m&&P>a)&&(i.push(new vt(0,g,a+l,b)),m=0,v=y,g+=b,b=0),b=Math.max(b,k),k=0,d){case bu:k=-f.width;break;default:k=0}switch(x.moveTo(v+k,g),d){case bu:v-=w;break;default:v+=w}m++}i.push(new vt(0,g,a+l,b));break;case gu:for(l=o,h=t,u=n,c=Math.max(this.bq.width,1),x=g=w=0,f=s.P(),o=0;o<r.length;o++)d=(p=r[o]).Fa,y=Rh(p,p.Cf,p.Of,f),w=Math.max(w,y.x),g=Math.max(g,d.width-y.x),x=Math.max(x,y.y);switch(v=this.eg){case bu:w+=h;break;default:g+=h}c=isFinite(c)?Math.max(c+h,1):Math.max(w+g,1);var S=g=this.Zd.x;m=this.Zd.y,b=0,a>=w&&(a-=w),w=k=0,P=Math.max(this.bq.height,1);var C=x=0,T=!0,M=s.P();for(o=0;o<r.length;o++){if(d=(p=r[o]).Fa,y=Rh(p,p.Cf,p.Of,f),0<b)switch(v){case bu:S=(S-g-(d.width-y.x))/c,S=(S=Te(Math.round(S),S)?Math.round(S):Math.floor(S))*c+g;break;default:S=(S-g+y.x)/c,S=(S=Te(Math.round(S),S)?Math.round(S):Math.ceil(S))*c+g}else switch(v){case bu:k=S+y.x+d.width;break;default:k=S-y.x}var N=0;switch(v){case bu:N=-(S+y.x)+k;break;default:N=S+d.width-y.x-k}if(0<l&&b>l-1||0<a&&0<b&&N>a){for(i.push(new vt(0,T?m-x:m,a+h,C+x+u)),S=0;S<b&&o!==b;S++){var j=Rh(N=r[o-b+S],N.Cf,N.Of,M);N.moveTo(N.position.x,N.position.y+x-j.y)}C+=u,m=T?m+C:m+(C+x),b=C=x=0,S=g,T=!1}switch(S===g&&(w=v===bu?Math.max(w,d.width-y.x):Math.min(w,-y.x)),x=Math.max(x,y.y),C=Math.max(C,d.height-y.y),isFinite(P)&&(C=Math.max(C,Math.max(d.height,P)-y.y)),p.moveTo(S-y.x,T?m-y.y:m),v){case bu:S-=y.x+h;break;default:S+=d.width-y.x+h}b++}for(i.push(new vt(0,m,a+h,(T?C:C+x)+u)),S=0;S<b&&o!==b;S++)j=Rh(N=r[o-b+S],N.Cf,N.Of,f),N.moveTo(N.position.x,N.position.y+x-j.y);if(s.A(f),s.A(M),v===bu)for(o=0;o<i.length;o++)(r=i[o]).width+=w,r.x-=w;else for(o=0;o<i.length;o++)(r=i[o]).x>w&&(r.width+=r.x-w,r.x=w)}for(l=o=a=r=0;l<i.length;l++)h=i[l],r=Math.min(r,h.x),a=Math.min(a,h.y),o=Math.max(o,h.x+h.width);this.commitLayers(i,new ft(this.eg===bu?r+t/2-(o+r):r-t/2,a-n/2)),null!==e&&e.jd("Layout"),this.Af=!0}},Vf.prototype.commitLayers=function(){},s.defineProperty(Vf,{zH:"wrappingWidth"},function(){return this.Yt},function(t){this.Yt!==t&&(s.h(t,"number",Vf,"wrappingWidth"),0<t||isNaN(t))&&(this.Yt=t,this.my=isNaN(t),this.L())}),s.defineProperty(Vf,{MK:"wrappingColumn"},function(){return this.Xt},function(t){this.Xt!==t&&(s.h(t,"number",Vf,"wrappingColumn"),0<t||isNaN(t))&&(this.Xt=t,this.L())}),s.defineProperty(Vf,{bq:"cellSize"},function(){return this.fk},function(t){s.l(t,yt,Vf,"cellSize"),this.fk.O(t)||(this.fk.assign(t),this.L())}),s.defineProperty(Vf,{spacing:"spacing"},function(){return this.ui},function(t){s.l(t,yt,Vf,"spacing"),this.ui.O(t)||(this.ui.assign(t),this.L())}),s.defineProperty(Vf,{alignment:"alignment"},function(){return this.ue},function(t){this.ue!==t&&(s.Da(t,Vf,Vf,"alignment"),t===gu||t===vu)&&(this.ue=t,this.L())}),s.defineProperty(Vf,{eg:"arrangement"},function(){return this.Bd},function(t){this.Bd!==t&&(s.Da(t,Vf,Vf,"arrangement"),t===mu||t===bu)&&(this.Bd=t,this.L())}),s.defineProperty(Vf,{sorting:"sorting"},function(){return this.ti},function(t){this.ti!==t&&(s.Da(t,Vf,Vf,"sorting"),t===xu||t===wu||t===ku||t===Pu)&&(this.ti=t,this.L())}),s.defineProperty(Vf,{comparer:"comparer"},function(){return this.ci},function(t){this.ci!==t&&(s.h(t,"function",Vf,"comparer"),this.ci=t,this.L())}),Vf.standardComparer=yu=function(t,e){r&&s.l(t,Dh,Vf,"standardComparer:a"),r&&s.l(e,Dh,Vf,"standardComparer:b");var n=t.text,i=e.text;return n<i?-1:n>i?1:0},Vf.smartComparer=function(t,e){if(r&&s.l(t,Dh,Vf,"standardComparer:a"),r&&s.l(e,Dh,Vf,"standardComparer:b"),null!==t){if(null!==e){for(var n=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),i=e.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),o=0;o<n.length;o++)if(""!==i[o]&&void 0!==i[o]){var a=parseFloat(n[o]),l=parseFloat(i[o]);if(isNaN(a)){if(!isNaN(l))return 1;if(0!==n[o].localeCompare(i[o]))return n[o].localeCompare(i[o])}else{if(isNaN(l))return-1;if(0!=a-l)return a-l}}else if(""!==n[o])return 1;return""!==i[o]&&void 0!==i[o]?-1:0}return 1}return null!==e?-1:0},Vf.Position=vu=s.s(Vf,"Position",0),Vf.Location=gu=s.s(Vf,"Location",1),Vf.LeftToRight=mu=s.s(Vf,"LeftToRight",2),Vf.RightToLeft=bu=s.s(Vf,"RightToLeft",3),Vf.Forward=xu=s.s(Vf,"Forward",4),Vf.Reverse=wu=s.s(Vf,"Reverse",5),Vf.Ascending=ku=s.s(Vf,"Ascending",6),Vf.Descending=Pu=s.s(Vf,"Descending",7),s.Ta(Bf,Af),s.ka("CircularLayout",Bf),Bf.prototype.cloneProtected=function(t){Af.prototype.cloneProtected.call(this,t),t.lt=this.lt,t.or=this.or,t.Mt=this.Mt,t.Ot=this.Ot,t.Bd=this.Bd,t.ga=this.ga,t.ti=this.ti,t.ci=this.ci,t.ui=this.ui,t.Zs=this.Zs},Bf.prototype.qc=function(t){t.Qe===Bf?t===Du||t===Lu||t===Ou||t===Eu||t===Fu?this.sorting=t:t===Au||t===_u||t===Nu||t===ju?this.direction=t:t===Tu||t===Cu||t===Su||t===Mu?this.eg=t:t!==Ru&&t!==Iu||(this.wy=t):Af.prototype.qc.call(this,t)},Bf.prototype.createNetwork=function(){return new Xf},Bf.prototype.doLayout=function(t){if(null===t&&s.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.Zd=this.initialOrigin(this.Zd),1>=(t=this.network.vertexes).count)1===t.count&&((t=t.first()).pa=0,t.va=0);else{(u=new nt(Qf)).Vc(t.j),t=new nt(Qf);var e,n=new nt(Qf);e=this.sort(u);var i=this.Kz,r=this.tD,o=this.Td,a=this.Yo,l=this.Lz,h=this.Wr,u=this.Dl,c=this.IE,f=this.dg,p=this.Qv;if(i=this.eg,r=this.wy,o=this.aK,(!isFinite(o)||0>=o)&&(o=NaN),a=this.cI,(!isFinite(a)||0>=a)&&(a=1),l=this.Me,isFinite(l)||(l=0),h=this.Ef,(!isFinite(h)||360<h||1>h)&&(h=360),u=this.spacing,isFinite(u)||(u=NaN),i===Mu&&r===Ru?i=Su:i===Mu&&r!==Ru&&(r=Ru,i=this.eg),(this.direction===Au||this.direction===_u)&&this.sorting!==Fu){for(var d=0;!(d>=e.length||(t.add(e.fa(d)),d+1>=e.length));d+=2)n.add(e.fa(d+1));this.direction===Au?(this.eg===Mu&&t.reverse(),(e=new nt(Qf)).Vc(t),e.Vc(n)):(this.eg===Mu&&n.reverse(),(e=new nt(Qf)).Vc(n),e.Vc(t))}var y=e.length,v=c=0;for(d=0;d<e.length;d++){f=l+h*v*(this.direction===Nu?1:-1)/y;var g=e.fa(d).diameter;isNaN(g)&&(g=$f(e.fa(d),f)),360>h&&(0===d||d===e.length-1)&&(g/=2),c+=g,v++}if(isNaN(o)||i===Mu){if(isNaN(u)&&(u=6),i!==Su&&i!==Mu){for(g=-1/0,d=0;d<y;d++){p=e.fa(d);var m=e.fa(d===y-1?0:d+1);isNaN(p.diameter)&&$f(p,0),isNaN(m.diameter)&&$f(m,0),g=Math.max(g,(p.diameter+m.diameter)/2)}p=g+u,o=i===Tu?(g+u)/(f=2*Math.PI/y):Wf(this,p*(360<=h?y:y-1),a,l*Math.PI/180,h*Math.PI/180)}else o=Wf(this,c+(360<=h?y:y-1)*(i!==Mu?u:1.6*u),a,l*Math.PI/180,h*Math.PI/180);f=o*a}else if(v=Jf(this,o,f=o*a,l*Math.PI/180,h*Math.PI/180),isNaN(u))i!==Su&&i!==Mu||(u=(v-c)/(360<=h?y:y-1));else if(i===Su||i===Mu)(d=(v-c)/(360<=h?y:y-1))<u?f=(o=Wf(this,c+u*(360<=h?y:y-1),a,l*Math.PI/180,h*Math.PI/180))*a:u=d;else{for(g=-1/0,d=0;d<y;d++)p=e.fa(d),m=e.fa(d===y-1?0:d+1),isNaN(p.diameter)&&$f(p,0),isNaN(m.diameter)&&$f(m,0),g=Math.max(g,(p.diameter+m.diameter)/2);(d=Wf(this,(p=g+u)*(360<=h?y:y-1),a,l*Math.PI/180,h*Math.PI/180))>o?f=(o=d)*a:p=v/(360<=h?y:y-1)}if(this.Kz=i,this.tD=r,this.Td=o,this.Yo=a,this.Lz=l,this.Wr=h,this.Dl=u,this.IE=c,this.dg=f,this.Qv=p,u=e,e=this.Kz,i=this.Td,r=this.Lz,a=this.Wr,l=this.Dl,h=this.dg,c=this.Qv,this.direction!==Au&&this.direction!==_u||e!==Mu)if(this.direction===Au||this.direction===_u){switch(o=0,e){case Cu:o=180*Yf(this,i,h,r,c)/Math.PI;break;case Su:c=u=0,null!==(o=t.first())&&(u=$f(o,Math.PI/2)),null!==(o=n.first())&&(c=$f(o,Math.PI/2)),o=180*Yf(this,i,h,r,l+(u+c)/2)/Math.PI;break;case Tu:o=a/u.length}if(this.direction===Au){switch(e){case Cu:Gf(this,t,r,ju);break;case Su:qf(this,t,r,ju);break;case Tu:zf(this,t,a/2,r,ju)}switch(e){case Cu:Gf(this,n,r+o,Nu);break;case Su:qf(this,n,r+o,Nu);break;case Tu:zf(this,n,a/2,r+o,Nu)}}else{switch(e){case Cu:Gf(this,n,r,ju);break;case Su:qf(this,n,r,ju);break;case Tu:zf(this,n,a/2,r,ju)}switch(e){case Cu:Gf(this,t,r+o,Nu);break;case Su:qf(this,t,r+o,Nu);break;case Tu:zf(this,t,a/2,r+o,Nu)}}}else switch(e){case Cu:Gf(this,u,r,this.direction);break;case Su:qf(this,u,r,this.direction);break;case Tu:zf(this,u,a,r,this.direction);break;case Mu:Hf(this,u,a,r,this.direction)}else Hf(this,u,a,r-a/2,Nu)}this.updateParts(),this.network=null,this.Af=!0},Bf.prototype.commitLayout=function(){this.commitNodes(),this.Pu&&this.commitLinks()},Bf.prototype.commitNodes=function(){var t=this.VH,e=null!==this.group&&null!==this.group.placeholder&&this.group.md,n=e?this.group.location.copy():null;e?t=new ft(0,0):(t.x=this.Zd.x+this.Td,t.y=this.Zd.y+this.dg);for(var i=this.network.vertexes.j;i.next();){var r=i.value;r.x+=t.x,r.y+=t.y,r.commit()}e&&(this.group.lf(),t=this.group.position.copy(),e=this.group.location.copy(),n=n.$j(e.$j(t)),this.group.move(n),this.HC=n.$j(t))},Bf.prototype.commitLinks=function(){for(var t=this.network.edges.j;t.next();)t.value.commit()},Bf.prototype.sort=function(t){switch(this.sorting){case Ou:break;case Eu:t.reverse();break;case Du:t.sort(this.comparer);break;case Lu:t.sort(this.comparer),t.reverse();break;case Fu:for(var e=[],n=0;n<t.length;n++)e.push(0);var i=new nt(Qf);for(n=0;n<t.length;n++){var r=-1,o=-1;if(0===n)for(var a=0;a<t.length;a++)(h=t.fa(a).KI)>r&&(r=h,o=a);else for(a=0;a<t.length;a++)(h=e[a])>r&&(r=h,o=a);for(i.add(t.fa(o)),e[o]=-1,r=0,a=(o=t.fa(o)).wc;a.next();)0>(r=t.indexOf(a.value.fromVertex))||0<=e[r]&&e[r]++;for(o=o.tc;o.next();)0>(r=t.indexOf(o.value.toVertex))||0<=e[r]&&e[r]++}for(t=[],o=0;o<i.length;o++){e=i.fa(o),t[o]=[];var l=0;for(n=e.tc;n.next();)(l=i.indexOf(n.value.toVertex))!==o&&0>t[o].indexOf(l)&&t[o].push(l);for(e=e.wc;e.next();)(l=i.indexOf(e.value.fromVertex))!==o&&0>t[o].indexOf(l)&&t[o].push(l)}for(a=[],o=0;o<t.length;o++)a[o]=0;e=[];var h=[],u=[],c=(n=[],r=new nt(Qf),0);for(o=0;o<t.length;o++)if(1===(v=t[o].length))n.push(o);else if(0===v)r.add(i.fa(o));else{if(0===c)e.push(o);else{for(var f=1/0,p=1/0,d=-1,y=[],v=0;v<e.length;v++)0>t[e[v]].indexOf(e[v===e.length-1?0:v+1])&&y.push(v===e.length-1?0:v+1);if(0===y.length)for(v=0;v<e.length;v++)y.push(v);for(v=0;v<y.length;v++){var g,m=y[v];l=t[o],g=h;for(var b=u,x=a,w=m,k=e,P=0,S=0;S<g.length;S++){var C=x[g[S]],T=x[b[S]],M=0,N=0;if(C<T?(M=C,N=T):(M=T,N=C),M<w&&w<=N)for(C=0;C<l.length;C++)0>k.indexOf(T=l[C])||M<x[T]&&x[T]<N||M===x[T]||N===x[T]||P++;else for(C=0;C<l.length;C++)0>k.indexOf(T=l[C])||M<x[T]&&x[T]<N&&M!==x[T]&&N!==x[T]&&P++}for(g=P,x=b=0;x<t[o].length;x++)0<=(l=e.indexOf(t[o][x]))&&(b+=(l=Math.abs(m-(l>=m?l+1:l)))<e.length+1-l?l:e.length+1-l);for(x=0;x<h.length;x++)w=a[u[x]],(l=a[h[x]])>=m&&l++,w>=m&&w++,l>w&&(k=w,w=l,l=k),w-l<(e.length+2)/2==(l<m&&m<=w)&&b++;(g<f||g===f&&b<p)&&(f=g,p=b,d=m)}for(e.splice(d,0,o),v=0;v<e.length;v++)a[e[v]]=v;for(v=0;v<t[o].length;v++)0<=e.indexOf(f=t[o][v])&&(h.push(o),u.push(f))}c++}for(o=!1,a=e.length;;){for(o=!0,h=0;h<n.length;h++)if(0<=(l=e.indexOf(c=t[u=n[h]][0]))){for(p=v=0;p<t[c].length;p++)0>(f=e.indexOf(f=t[c][p]))||f===l||(v+=f<l!=(d=f>l?f-l:l-f)>a-d?1:-1);e.splice(0>v?l:l+1,0,u),n.splice(h,1),h--}else o=!1;if(o)break;e.push(n[0]),n.splice(0,1)}for(o=0;o<e.length;o++)r.add(i.fa(e[o]));return r;default:s.k("Invalid sorting type.")}return t},s.defineProperty(Bf,{aK:"radius"},function(){return this.lt},function(t){this.lt!==t&&(s.h(t,"number",Bf,"radius"),0<t||isNaN(t))&&(this.lt=t,this.L())}),s.defineProperty(Bf,{cI:"aspectRatio"},function(){return this.or},function(t){this.or!==t&&(s.h(t,"number",Bf,"aspectRatio"),0<t&&(this.or=t,this.L()))}),s.defineProperty(Bf,{Me:"startAngle"},function(){return this.Mt},function(t){this.Mt!==t&&(s.h(t,"number",Bf,"startAngle"),this.Mt=t,this.L())}),s.defineProperty(Bf,{Ef:"sweepAngle"},function(){return this.Ot},function(t){this.Ot!==t&&(s.h(t,"number",Bf,"sweepAngle"),this.Ot=0<t&&360>=t?t:360,this.L())}),s.defineProperty(Bf,{eg:"arrangement"},function(){return this.Bd},function(t){this.Bd!==t&&(s.Da(t,Bf,Bf,"arrangement"),t===Mu||t===Su||t===Cu||t===Tu)&&(this.Bd=t,this.L())}),s.defineProperty(Bf,{direction:"direction"},function(){return this.ga},function(t){this.ga!==t&&(s.Da(t,Bf,Bf,"direction"),t===Nu||t===ju||t===Au||t===_u)&&(this.ga=t,this.L())}),s.defineProperty(Bf,{sorting:"sorting"},function(){return this.ti},function(t){this.ti!==t&&(s.Da(t,Bf,Bf,"sorting"),t===Ou||t===Eu||t===Du||Lu||t===Fu)&&(this.ti=t,this.L())}),s.defineProperty(Bf,{comparer:"comparer"},function(){return this.ci},function(t){this.ci!==t&&(s.h(t,"function",Bf,"comparer"),this.ci=t,this.L())}),s.defineProperty(Bf,{spacing:"spacing"},function(){return this.ui},function(t){this.ui!==t&&(s.h(t,"number",Bf,"spacing"),this.ui=t,this.L())}),s.defineProperty(Bf,{wy:"nodeDiameterFormula"},function(){return this.Zs},function(t){this.Zs!==t&&(s.Da(t,Bf,Bf,"nodeDiameterFormula"),t===Iu||t===Ru)&&(this.Zs=t,this.L())}),s.w(Bf,{PK:"actualXRadius"},function(){return this.Td}),s.w(Bf,{QK:"actualYRadius"},function(){return this.dg}),s.w(Bf,{OK:"actualSpacing"},function(){return this.Dl}),s.w(Bf,{VH:"actualCenter"},function(){return this.HC}),Bf.ConstantSpacing=Su=s.s(Bf,"ConstantSpacing",0),Bf.ConstantDistance=Cu=s.s(Bf,"ConstantDistance",1),Bf.ConstantAngle=Tu=s.s(Bf,"ConstantAngle",2),Bf.Packed=Mu=s.s(Bf,"Packed",3),Bf.Clockwise=Nu=s.s(Bf,"Clockwise",4),Bf.Counterclockwise=ju=s.s(Bf,"Counterclockwise",5),Bf.BidirectionalLeft=Au=s.s(Bf,"BidirectionalLeft",6),Bf.BidirectionalRight=_u=s.s(Bf,"BidirectionalRight",7),Bf.Forwards=Ou=s.s(Bf,"Forwards",8),Bf.Reverse=Eu=s.s(Bf,"Reverse",9),Bf.Ascending=Du=s.s(Bf,"Ascending",10),Bf.Descending=Lu=s.s(Bf,"Descending",11),Bf.Optimized=Fu=s.s(Bf,"Optimized",12),Bf.Pythagorean=Iu=s.s(Bf,"Pythagorean",13),Bf.Circular=Ru=s.s(Bf,"Circular",14),Zf.prototype.compare=function(t,e){if(0<t&&0>this.qq||Math.abs(t)<Math.abs(this.qq)&&!(0>t&&0<this.qq)){this.qq=t,this.Bo=[],this.cr=[];for(var n=0;n<e.length;n++)this.Bo[n]=e[n].ib.x,this.cr[n]=e[n].ib.y}},Zf.prototype.commit=function(t){if(null!==this.Bo&&null!==this.cr)for(var e=0;e<this.Bo.length;e++){var n=t.fa(e);n.x=this.Bo[e],n.y=this.cr[e]}},s.Ta(Xf,Ef),s.ka("CircularNetwork",Xf),Xf.prototype.createVertex=function(){return new Qf},Xf.prototype.createEdge=function(){return new tp},s.Ta(Qf,If),s.ka("CircularVertex",Qf),s.Ta(tp,Rf),s.ka("CircularEdge",tp),s.Ta(ep,Af),s.ka("ForceDirectedLayout",ep),ep.prototype.cloneProtected=function(t){Af.prototype.cloneProtected.call(this,t),t.xg.assign(this.xg),t.nr=this.nr,t.si=this.si,t.bi=this.bi,t.xp=this.xp,t.Zr=this.Zr,t.bj=this.bj,t.Ts=this.Ts,t.mt=this.mt,t.Vo=this.Vo,t.Uo=this.Uo,t.So=this.So,t.To=this.To,t.Lr=this.Lr,t.Kr=this.Kr},ep.prototype.createNetwork=function(){return new hp},ep.prototype.doLayout=function(t){if(null===t&&s.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),t=this.AB,0<this.network.vertexes.count){this.network.Px();for(var e=this.network.vertexes.j;e.next();){var n=e.value;n.charge=this.electricalCharge(n),n.mass=this.gravitationalMass(n)}for(e=this.network.edges.j;e.next();)(n=e.value).stiffness=this.springStiffness(n),n.length=this.springLength(n);if(this.FA(),this.ys=0,this.needsClusterLayout()){for(n=(e=this.network).xK().j;n.next();){this.network=n.value;for(var i=this.network.vertexes.j;i.next();){var o=i.value;o.sg=o.vertexes.count,o.hl=1,o.Hn=null,o.Xh=null}np(this,0,t)}this.network=e,n.reset(),r&&s.l(e,hp,ep,"arrangeConnectedGraphs:singletons"),i=this.bF;for(var a=n.count,l=!0,h=o=0,u=s.nb(),c=0;c<a+e.vertexes.count+2;c++)u[c]=null;a=0,n.reset();for(var f=s.Sf();n.next();)if(this.Kh(c=n.value,f),l)l=!1,o=f.x+f.width/2,h=f.y+f.height/2,u[0]=new ft(f.x+f.width+i.width,f.y),u[1]=new ft(f.x,f.y+f.height+i.height),a=2;else{var p=rp(u,a,o,h,f.width,f.height,i),d=u[p],y=new ft(d.x+f.width+i.width,d.y),v=new ft(d.x,d.y+f.height+i.height);for(p+1<a&&u.splice(p+1,0,null),u[p]=y,u[p+1]=v,a++,p=d.x-f.x,d=d.y-f.y,c=c.vertexes.j;c.next();)(y=c.value).pa+=p,y.va+=d}for(s.Lb(f),c=e.vertexes.j;c.next();)f=(l=c.value).ib,2>a?(o=f.x+f.width/2,h=f.y+f.height/2,u[0]=new ft(f.x+f.width+i.width,f.y),u[1]=new ft(f.x,f.y+f.height+i.height),a=2):(y=new ft((d=u[p=rp(u,a,o,h,f.width,f.height,i)]).x+f.width+i.width,d.y),v=new ft(d.x,d.y+f.height+i.height),p+1<a&&u.splice(p+1,0,null),u[p]=y,u[p+1]=v,a++,l.pa=d.x+l.width/2,l.va=d.y+l.height/2);for(s.ya(u),n.reset();n.next();){for(o=(i=n.value).vertexes.j;o.next();)e.em(o.value);for(i=i.edges.j;i.next();)e.Xp(i.value)}}sp(this,t),this.updateParts()}this.xp=t,this.network=null,this.Af=!0},ep.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,n=this.network.vertexes.first().ib,i=this.network.vertexes.j;i.next();){if(i.value.ib.jg(n)&&2<++t)return!0;if(10<e)break;e++}return!1},ep.prototype.Kh=function(t,e){for(var n=!0,i=t.vertexes.j;i.next();){var r=i.value;n?(n=!1,e.set(r.ib)):e.Zh(r.ib)}return e},ep.prototype.FA=function(){if(this.comments)for(var t=this.network.vertexes.j;t.next();)this.addComments(t.value)},ep.prototype.addComments=function(t){var e=t.Zc;if(null!==e)for(e=e.GF();e.next();)if("Comment"===(i=e.value).Kd&&i.isVisible()){var n=this.network.Rn(i);null===n&&(n=this.network.bu(i)),n.charge=this.vI;for(var i=null,r=n.tc;r.next();){var o=r.value;if(o.toVertex===t){i=o;break}}if(null===i)for(r=n.wc;r.next();)if((o=r.value).fromVertex===t){i=o;break}null===i&&(i=this.network.Fq(t,n,null)),i.length=this.wI}},ep.prototype.moveFixedVertex=function(){},ep.prototype.commitLayout=function(){this.aC(),this.commitNodes(),this.Pu&&this.commitLinks()},ep.prototype.aC=function(){if(this.Xq)for(var t=this.network.edges.j;t.next();){var e=t.value.link;null!==e&&(e.Gb=m,e.Hb=m)}},ep.prototype.commitNodes=function(){var t=0,e=0;if(this.bI){var n=s.Sf();this.Kh(this.network,n),t=(e=this.Zd).x-n.x,e=e.y-n.y,s.Lb(n)}n=s.Sf();for(var i=this.network.vertexes.j;i.next();){var r=i.value;0===t&&0===e||(n.assign(r.ib),n.x+=t,n.y+=e,r.ib=n),r.commit()}s.Lb(n)},ep.prototype.commitLinks=function(){for(var t=this.network.edges.j;t.next();)t.value.commit()},ep.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.Vo:t},ep.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.Uo:t},ep.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.So:t},ep.prototype.electricalFieldX=function(){return 0},ep.prototype.electricalFieldY=function(){return 0},ep.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.To:t},ep.prototype.gravitationalFieldX=function(){return 0},ep.prototype.gravitationalFieldY=function(){return 0},ep.prototype.isFixed=function(t){return t.isFixed},s.w(ep,{vL:"currentIteration"},function(){return this.ys}),s.defineProperty(ep,{bF:"arrangementSpacing"},function(){return this.xg},function(t){s.l(t,yt,ep,"arrangementSpacing"),this.xg.O(t)||(this.xg.assign(t),this.L())}),s.defineProperty(ep,{bI:"arrangesToOrigin"},function(){return this.nr},function(t){this.nr!==t&&(s.h(t,"boolean",ep,"arrangesToOrigin"),this.nr=t,this.L())}),s.defineProperty(ep,{Xq:"setsPortSpots"},function(){return this.si},function(t){this.si!==t&&(s.h(t,"boolean",ep,"setsPortSpots"),this.si=t,this.L())}),s.defineProperty(ep,{comments:"comments"},function(){return this.bi},function(t){this.bi!==t&&(s.h(t,"boolean",ep,"comments"),this.bi=t,this.L())}),s.defineProperty(ep,{AB:"maxIterations"},function(){return this.xp},function(t){this.xp!==t&&(s.h(t,"number",ep,"maxIterations"),0<=t&&(this.xp=t,this.L()))}),s.defineProperty(ep,{DF:"epsilonDistance"},function(){return this.Zr},function(t){this.Zr!==t&&(s.h(t,"number",ep,"epsilonDistance"),0<t&&(this.Zr=t,this.L()))}),s.defineProperty(ep,{UL:"infinityDistance"},function(){return this.bj},function(t){this.bj!==t&&(s.h(t,"number",ep,"infinityDistance"),1<t&&(this.bj=t,this.L()))}),s.defineProperty(ep,{UJ:"moveLimit"},function(){return this.Ts},function(t){this.Ts!==t&&(s.h(t,"number",ep,"moveLimit"),1<t&&(this.Ts=t,this.L()))}),s.defineProperty(ep,{Fy:"randomNumberGenerator"},function(){return this.mt},function(t){this.mt!==t&&(null!==t&&"function"!=typeof t.random&&s.k('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.mt=t)}),s.defineProperty(ep,{HL:"defaultSpringStiffness"},function(){return this.Vo},function(t){this.Vo!==t&&(s.h(t,"number",ep,"defaultSpringStiffness"),this.Vo=t,this.L())}),s.defineProperty(ep,{GL:"defaultSpringLength"},function(){return this.Uo},function(t){this.Uo!==t&&(s.h(t,"number",ep,"defaultSpringLength"),this.Uo=t,this.L())}),s.defineProperty(ep,{AL:"defaultElectricalCharge"},function(){return this.So},function(t){this.So!==t&&(s.h(t,"number",ep,"defaultElectricalCharge"),this.So=t,this.L())}),s.defineProperty(ep,{BL:"defaultGravitationalMass"},function(){return this.To},function(t){this.To!==t&&(s.h(t,"number",ep,"defaultGravitationalMass"),this.To=t,this.L())}),s.defineProperty(ep,{wI:"defaultCommentSpringLength"},function(){return this.Lr},function(t){this.Lr!==t&&(s.h(t,"number",ep,"defaultCommentSpringLength"),this.Lr=t,this.L())}),s.defineProperty(ep,{vI:"defaultCommentElectricalCharge"},function(){return this.Kr},function(t){this.Kr!==t&&(s.h(t,"number",ep,"defaultCommentElectricalCharge"),this.Kr=t,this.L())}),s.Ta(hp,Ef),s.ka("ForceDirectedNetwork",hp),hp.prototype.createVertex=function(){return new up},hp.prototype.createEdge=function(){return new cp},s.Ta(up,If),s.ka("ForceDirectedVertex",up),s.Ta(cp,Rf),s.ka("ForceDirectedEdge",cp),s.Ta(fp,Af),s.ka("LayeredDigraphLayout",fp),fp.prototype.cloneProtected=function(t){Af.prototype.cloneProtected.call(this,t),t.an=this.an,t.ie=this.ie,t.ga=this.ga,t.Ro=this.Ro,t.sp=this.sp,t.ip=this.ip,t.$m=this.$m,t.Fo=this.Fo,t.qj=this.qj,t.si=this.si,t.Ds=this.Ds},fp.prototype.qc=function(t){t.Qe===fp?0===t.name.indexOf("Aggressive")?this.aI=t:0===t.name.indexOf("Cycle")?this.uI=t:0===t.name.indexOf("Init")?this.lJ=t:0===t.name.indexOf("Layer")?this.zJ=t:s.k("Unknown enum value: "+t):Af.prototype.qc.call(this,t)},fp.prototype.createNetwork=function(){return new Wp},fp.prototype.doLayout=function(t){for(null===t&&s.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.Zd=this.initialOrigin(this.Zd),this.Bw=-1,this.Zf=this.Ms=0,this.Ws=this.Us=this.fn=null,t=0;t<this.yh.length;t++)this.yh[t]=null;if(0<this.network.vertexes.count){for(this.network.Px(),t=this.network.edges.j;t.next();)t.value.rev=!1;switch(this.Ro){default:case Bu:var e=0,n=(t=this.network).vertexes.count-1,i=[];i.length=n+1;for(var r=t.vertexes.j;r.next();)r.value.valid=!0;for(;null!==kp(t);){for(r=Pp(t);null!==r;)i[n]=r,n--,r.valid=!1,r=Pp(t);for(r=Sp(t);null!==r;)i[e]=r,e++,r.valid=!1,r=Sp(t);r=null;for(var o=0,a=this.network.vertexes.j;a.next();)if((p=a.value).valid){for(var l=0,h=p.tc;h.next();)h.value.toVertex.valid&&l++;h=0;for(var u=p.wc;u.next();)u.value.fromVertex.valid&&h++;(null===r||o<l-h)&&(r=p,o=l-h)}null!==r&&(i[e]=r,e++,r.valid=!1)}for(e=0;e<t.vertexes.count;e++)i[e].index=e;for(i=t.edges.j;i.next();)(e=i.value).fromVertex.index>e.toVertex.index&&(t.Ly(e),e.rev=!0);break;case Vu:for(i=this.network.vertexes.j;i.next();)(t=i.value).lq=-1,t.finish=-1;for(t=this.network.edges.j;t.next();)t.value.forest=!1;for(this.Vs=0,i.reset();i.next();)0===(e=i.value).wc.count&&Cp(this,e);for(i.reset();i.next();)-1===(e=i.value).lq&&Cp(this,e);for(t.reset();t.next();)(i=t.value).forest||(n=(e=i.fromVertex).finish,o=(r=i.toVertex).finish,r.lq<e.lq&&n<o&&(this.network.Ly(i),i.rev=!0))}for(t=this.network.vertexes.j;t.next();)t.value.layer=-1;for(this.Ab=-1,this.assignLayers(),t.reset();t.next();)this.Ab=Math.max(this.Ab,t.value.layer);for(i=[],n=(t=this.network).edges.j;n.next();)(e=n.value).valid=!1,i.push(e);for(n=0;n<i.length;n++)if(o=(e=i[n]).fromVertex,r=e.toVertex,!e.valid&&(null!==o.Gd&&null!==r.Gd||o.layer!==r.layer)){if(h=p=l=a=0,null!==e.link){if(null===(l=e.link))continue;var c=o.Gd;if(a=r.Gd,null===c||null===a)continue;var f=l.$,p=l.ba,d=l.oc;h=l.Gc,e.rev&&(l=f,u=d,f=p,d=h,p=l,h=u);var y=o.W,v=(l=r.W,e.rev?r.Q:o.Q);u=s.P(),v.H()?(Rh(f,d,P,u),u.H()||u.assign(y)):u.assign(y),c!==f&&v.H()&&f.isVisible()&&(c=o.Q).H()&&(u.x+=v.x-c.x,u.y+=v.y-c.y),f=e.rev?o.Q:r.Q,c=s.P(),f.H()?(Rh(p,h,P,c),c.H()||c.assign(l)):c.assign(l),a!==p&&f.H()&&p.isVisible()&&(a=r.Q).H()&&(c.x+=f.x-a.x,c.y+=f.y-a.y),90===this.ga||270===this.ga?(a=Math.round((u.x-y.x)/this.ie),p=u.x,l=Math.round((c.x-l.x)/this.ie),h=c.x):(a=Math.round((u.y-y.y)/this.ie),p=u.y,l=Math.round((c.y-l.y)/this.ie),h=c.y),s.A(u),s.A(c),e.portFromColOffset=a,e.portFromPos=p,e.portToColOffset=l,e.portToPos=h}else e.portFromColOffset=0,e.portFromPos=0,e.portToColOffset=0,e.portToPos=0;u=o.layer,y=r.layer;t:if(c=e,f=0,v=c.link,null!==v){var m=v.oc,b=v.Gc;if(null!==m&&null!==b){var x=v.$;if(d=v.ba,null!==x&&null!==d){var w=m.Gb,k=b.Hb;this.Xq||(v.Gb.ld()||(w=v.Gb),v.Hb.ld()||(k=v.Hb));var S=v.ic,C=qp(this,!0);(w.ld()||w===g)&&(w=C);var T=qp(this,!1);if((k.ld()||k===g)&&(k=T),w.Pj()&&w.Mj(T)&&k.Pj()&&k.Mj(C)){f=0;break t}C=v.getLinkPoint(x,m,w,!0,S,d,b,s.P()),w=v.getLinkDirection(x,m,C,w,!0,S,d,b),s.A(C),w===Ap(this,c,!0)?f+=1:this.Xq&&null!==x&&1===x.ports.count&&c.rev&&(f+=1),w=v.getLinkPoint(d,b,k,!1,S,x,m,s.P()),v=v.getLinkDirection(d,b,w,k,!1,S,x,m),s.A(w),v===Ap(this,c,!1)?f+=2:this.Xq&&null!==d&&1===d.ports.count&&c.rev&&(f+=2)}}}if(c=1===f||3===f,(f=2===f||3===f)&&((d=t.createVertex()).Gd=null,d.En=1,d.layer=u,d.near=o,t.em(d),(o=t.Fq(o,d,e.link)).valid=!1,o.rev=e.rev,o.portFromColOffset=a,o.portToColOffset=0,o.portFromPos=p,o.portToPos=0,o=d),v=1,c&&v--,u-y>v&&0<u){for(e.valid=!1,(d=t.createVertex()).Gd=null,d.En=2,d.layer=u-1,t.em(d),(o=t.Fq(o,d,e.link)).valid=!0,o.rev=e.rev,o.portFromColOffset=f?0:a,o.portToColOffset=0,o.portFromPos=f?0:p,o.portToPos=0,o=d,u--;u-y>v&&0<u;)(d=t.createVertex()).Gd=null,d.En=3,d.layer=u-1,t.em(d),(o=t.Fq(o,d,e.link)).valid=!0,o.rev=e.rev,o.portFromColOffset=0,o.portToColOffset=0,o.portFromPos=0,o.portToPos=0,o=d,u--;(o=t.Fq(d,r,e.link)).valid=!c,c&&(d.near=r),o.rev=e.rev,o.portFromColOffset=0,o.portToColOffset=l,o.portFromPos=0,o.portToPos=h}else e.valid=!0}for(i=this.ve=[],e=0;e<=this.Ab;e++)i[e]=0;for(t=this.network.vertexes.j;t.next();)t.value.index=-1;for(this.initializeIndices(),this.Bw=-1,e=this.Zf=this.Ms=0;e<=this.Ab;e++)i[e]>i[this.Zf]&&(this.Bw=i[e]-1,this.Zf=e),i[e]<i[this.Ms]&&(this.Ms=e);for(this.Ws=[],e=0;e<i.length;e++)this.Ws[e]=[];for(t.reset();t.next();)this.Ws[(i=t.value).layer][i.index]=i;for(this.Qb=-1,t=0;t<=this.Ab;t++){for(i=Up(this,t),e=0,n=this.ve[t],r=0;r<n;r++)e+=this.nodeMinColumnSpace(o=i[r],!0),o.column=e,e+=1,e+=this.nodeMinColumnSpace(o,!1);this.Qb=Math.max(this.Qb,e-1),Kp(this,t,i)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.Af=!0},fp.prototype.linkMinLength=function(){return 1},fp.prototype.nodeMinLayerSpace=function(t,e){return null===t.Gd?0:90===this.ga||270===this.ga?e?t.W.y+10:t.Q.height-t.W.y+10:e?t.W.x+10:t.Q.width-t.W.x+10},fp.prototype.nodeMinColumnSpace=function(t,e){if(null===t.Gd)return 0;var n=e?t.IB:t.HB;return null!==n?n:90===(n=this.ga)||270===n?e?t.IB=t.W.x/this.ie+1|0:t.HB=(t.Q.width-t.W.x)/this.ie+1|0:e?t.IB=t.W.y/this.ie+1|0:t.HB=(t.Q.height-t.W.y)/this.ie+1|0},fp.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.Ab;e++)for(var n=vp(this,e,1),i=this.ve[e],r=0;r<i;r++)for(var o=r;o<i;o++)t+=n[r*i+o];return t},fp.prototype.normalize=function(){var t=1/0;this.Qb=-1;for(var e=this.network.vertexes.j;e.next();){var n=e.value;t=Math.min(t,n.column-this.nodeMinColumnSpace(n,!0)),this.Qb=Math.max(this.Qb,n.column+this.nodeMinColumnSpace(n,!1))}for(e.reset();e.next();)e.value.column-=t;this.Qb-=t},fp.prototype.assignLayers=function(){switch(this.sp){case qu:Tp(this);break;case Gu:for(var t=0,e=this.network.vertexes.j;e.next();)t=Np(this,e.value),this.Ab=Math.max(t,this.Ab);for(e.reset();e.next();)(t=e.value).layer=this.Ab-t.layer;break;default:case zu:for(Tp(this),e=this.network.vertexes.j;e.next();)e.value.valid=!1;for(e.reset();e.next();)0===(t=e.value).wc.count&&jp(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.Ab=-1,e.reset();e.next();){var n=e.value;n.layer-=t,this.Ab=Math.max(this.Ab,n.layer)}}},fp.prototype.initializeIndices=function(){switch(this.ip){default:case Ku:for(var t=this.network.vertexes.j;t.next();){var e=t.value,n=e.layer;e.index=this.ve[n],this.ve[n]++}break;case Hu:for(t=this.network.vertexes.j,e=this.Ab;0<=e;e--)for(t.reset();t.next();)(n=t.value).layer===e&&-1===n.index&&_p(this,n);break;case Uu:for(t=this.network.vertexes.j,e=0;e<=this.Ab;e++)for(t.reset();t.next();)(n=t.value).layer===e&&-1===n.index&&Op(this,n)}},fp.prototype.reduceCrossings=function(){var t=this.countCrossings(),e=dp(this),n=0,i=0,r=0;for(n=0;n<this.$m;n++){for(i=0;i<=this.Ab;i++)Ep(this,i,1),Dp(this,i,1);for((r=this.countCrossings())<t&&(t=r,e=dp(this)),i=this.Ab;0<=i;i--)Ep(this,i,-1),Dp(this,i,-1);(r=this.countCrossings())<t&&(t=r,e=dp(this))}for(yp(this,e),n=0;n<this.$m;n++){for(i=0;i<=this.Ab;i++)Ep(this,i,0),Dp(this,i,0);for((r=this.countCrossings())<t&&(t=r,e=dp(this)),i=this.Ab;0<=i;i--)Ep(this,i,0),Dp(this,i,0);(r=this.countCrossings())<t&&(t=r,e=dp(this))}yp(this,e);var o=!1,s=n=0,a=0;switch(i=0,this.Fo){case Ju:break;case Yu:for(a=t+1;(i=this.countCrossings())<a;)for(a=i,n=this.Ab;0<=n;n--)for(s=0;s<=n;s++){for(o=!0;o;)for(o=!1,i=n;i>=s;i--)o=Dp(this,i,-1)||o;for((r=this.countCrossings())>=t?yp(this,e):(t=r,e=dp(this)),o=!0;o;)for(o=!1,i=n;i>=s;i--)o=Dp(this,i,1)||o;for((r=this.countCrossings())>=t?yp(this,e):(t=r,e=dp(this)),o=!0;o;)for(o=!1,i=s;i<=n;i++)o=Dp(this,i,1)||o;for(r>=t?yp(this,e):(t=r,e=dp(this)),o=!0;o;)for(o=!1,i=s;i<=n;i++)o=Dp(this,i,-1)||o;for(r>=t?yp(this,e):(t=r,e=dp(this)),o=!0;o;)for(o=!1,i=n;i>=s;i--)o=Dp(this,i,0)||o;for(r>=t?yp(this,e):(t=r,e=dp(this)),o=!0;o;)for(o=!1,i=s;i<=n;i++)o=Dp(this,i,0)||o;r>=t?yp(this,e):(t=r,e=dp(this))}break;default:case Wu:for(n=this.Ab,s=0,a=t+1;(i=this.countCrossings())<a;){for(a=i,o=!0;o;)for(o=!1,i=n;i>=s;i--)o=Dp(this,i,-1)||o;for((r=this.countCrossings())>=t?yp(this,e):(t=r,e=dp(this)),o=!0;o;)for(o=!1,i=n;i>=s;i--)o=Dp(this,i,1)||o;for((r=this.countCrossings())>=t?yp(this,e):(t=r,e=dp(this)),o=!0;o;)for(o=!1,i=s;i<=n;i++)o=Dp(this,i,1)||o;for(r>=t?yp(this,e):(t=r,e=dp(this)),o=!0;o;)for(o=!1,i=s;i<=n;i++)o=Dp(this,i,-1)||o;for(r>=t?yp(this,e):(t=r,e=dp(this)),o=!0;o;)for(o=!1,i=n;i>=s;i--)o=Dp(this,i,0)||o;for(r>=t?yp(this,e):(t=r,e=dp(this)),o=!0;o;)for(o=!1,i=s;i<=n;i++)o=Dp(this,i,0)||o;r>=t?yp(this,e):(t=r,e=dp(this))}}yp(this,e)},fp.prototype.straightenAndPack=function(){var t=0,e=!1,n=0!=(this.qj&Zu);if(t=this.qj===$u,1e3<this.network.edges.count&&!t&&(n=!1),n){for(e=[],t=t=0;t<=this.Ab;t++)e[t]=0;for(var i=0,r=this.network.vertexes.j;r.next();){t=(o=r.value).layer,i=o.column;var o=this.nodeMinColumnSpace(o,!1);e[t]=Math.max(e[t],i+o)}for(r.reset();r.next();)(o=r.value).column=(8*(this.Qb-e[t=o.layer])>>1)+8*(i=o.column);this.Qb*=8}if(0!=(this.qj&Xu))for(e=!0;e;){for(e=!1,t=this.Zf+1;t<=this.Ab;t++)e=Lp(this,t,1)||e;for(t=this.Zf-1;0<=t;t--)e=Lp(this,t,-1)||e;e=Lp(this,this.Zf,0)||e}if(0!=(this.qj&Qu)){for(t=this.Zf+1;t<=this.Ab;t++)Ip(this,t,1);for(t=this.Zf-1;0<=t;t--)Ip(this,t,-1);Ip(this,this.Zf,0)}if(n&&(Bp(this,-1),Bp(this,1)),0!=(this.qj&Xu))for(e=!0;e;){for(e=!1,e=Lp(this,this.Zf,0)||e,t=this.Zf+1;t<=this.Ab;t++)e=Lp(this,t,0)||e;for(t=this.Zf-1;0<=t;t--)e=Lp(this,t,0)||e}},fp.prototype.commitLayout=function(){if(this.Xq)for(var t=qp(this,!0),e=qp(this,!1),n=this.network.edges.j;n.next();){var i=n.value.link;null!==i&&(i.Gb=t,i.Hb=e)}this.commitNodes(),this.JA(),this.Pu&&this.commitLinks()},fp.prototype.commitNodes=function(){this.Jg=[],this.Yf=[],this.Xf=[],this.Vb=[];for(var t=0;t<=this.Ab;t++)this.Jg[t]=0,this.Yf[t]=0,this.Xf[t]=0,this.Vb[t]=0;for(t=this.network.vertexes.j;t.next();)this.Jg[i=(e=t.value).layer]=Math.max(this.Jg[i],this.nodeMinLayerSpace(e,!0)),this.Yf[i]=Math.max(this.Yf[i],this.nodeMinLayerSpace(e,!1));for(var e=0,n=this.an,i=0;i<=this.Ab;i++){var r=n;0>=this.Jg[i]+this.Yf[i]&&(r=0),0<i&&(e+=r/2),90===this.ga||0===this.ga?(this.Xf[i]=e+=this.Yf[i],e+=this.Jg[i]):(this.Xf[i]=e+=this.Jg[i],e+=this.Yf[i]),i<this.Ab&&(e+=r/2),this.Vb[i]=e}for(n=e,e=this.Zd,i=0;i<=this.Ab;i++)270===this.ga?this.Xf[i]=e.y+this.Xf[i]:90===this.ga?(this.Xf[i]=e.y+n-this.Xf[i],this.Vb[i]=n-this.Vb[i]):180===this.ga?this.Xf[i]=e.x+this.Xf[i]:(this.Xf[i]=e.x+n-this.Xf[i],this.Vb[i]=n-this.Vb[i]);for(t.reset(),n=r=1/0;t.next();){var o=(i=t.value).layer,s=0|i.column,a=0,l=0;270===this.ga||90===this.ga?(a=e.x+this.ie*s,l=this.Xf[o]):(a=this.Xf[o],l=e.y+this.ie*s),i.pa=a,i.va=l,r=Math.min(i.x,r),n=Math.min(i.y,n)}for(this.KC=new ft(r=e.x-r,e=e.y-n),t.reset();t.next();)(i=t.value).x+=r,i.y+=e,i.commit()},fp.prototype.JA=function(){for(var t=0,e=this.an,n=0;n<=this.Ab;n++)t+=this.Jg[n],t+=this.Yf[n];t+=this.Ab*e,e=[],n=this.ie*this.Qb;for(var i=this.HJ;0<=i;i--)e.push(270===this.ga?0===i?new vt(0,0,n,Math.abs(this.Vb[0])):new vt(0,this.Vb[i-1],n,Math.abs(this.Vb[i-1]-this.Vb[i])):90===this.ga?0===i?new vt(0,this.Vb[0],n,Math.abs(this.Vb[0]-t)):new vt(0,this.Vb[i],n,Math.abs(this.Vb[i-1]-this.Vb[i])):180===this.ga?0===i?new vt(0,0,Math.abs(this.Vb[0]),n):new vt(this.Vb[i-1],0,Math.abs(this.Vb[i-1]-this.Vb[i]),n):0===i?new vt(this.Vb[0],0,Math.abs(this.Vb[0]-t),n):new vt(this.Vb[i],0,Math.abs(this.Vb[i-1]-this.Vb[i]),n));this.commitLayers(e,this.KC)},fp.prototype.commitLayers=function(){},fp.prototype.commitLinks=function(){for(var t,e=this.network.edges.j;e.next();)null!==(t=e.value.link)&&(t.Dm(),t.dq(),t.Ej());for(e.reset();e.next();)null!==(t=e.value.link)&&t.zo();for(e.reset();e.next();){var n=e.value;if(null!==(t=n.link)){t.Dm();var i=t,r=i.ba,o=i.oc,s=i.Gc;if(null!==(d=i.$)){var a=d.findVisibleNode();null!==a&&a!==d&&(d=a,o=a.port)}if(null!==r){var l=r.findVisibleNode();null!==l&&l!==r&&(r=l,s=l.port)}var h=t.computeSpot(!0,o),u=t.computeSpot(!1,s),c=n.fromVertex,f=n.toVertex;if(n.valid){if(t.kf===tu&&4===t.ta){if(n.rev){var p=d,d=r,y=(r=p,o);o=s,s=y}if(c.column===f.column){var v=t.getLinkPoint(d,o,h,!0,!1,r,s),m=t.getLinkPoint(r,s,u,!1,!1,d,o);v.H()||v.set(d.aa.jm),m.H()||m.set(r.aa.jm),t.dq(),t.Bj(v.x,v.y),t.Bj((2*v.x+m.x)/3,(2*v.y+m.y)/3),t.Bj((v.x+2*m.x)/3,(v.y+2*m.y)/3),t.Bj(m.x,m.y)}else{var b=!1,x=!1;if(null!==o&&h===g&&(b=!0),null!==s&&u===g&&(x=!0),b||x){var w=t.m(0).x,k=t.m(0).y,P=t.m(1).x,S=t.m(1).y,C=t.m(2).x,T=t.m(2).y,M=t.m(3).x,N=t.m(3).y;if(b){90===this.ga||270===this.ga?(P=w,S=(k+N)/2):(P=(w+M)/2,S=k),t.ia(1,P,S);var j=t.getLinkPoint(d,o,h,!0,!1,r,s);j.H()||j.set(d.aa.jm),t.ia(0,j.x,j.y)}x&&(90===this.ga||270===this.ga?(C=M,T=(k+N)/2):(C=(w+M)/2,T=N),t.ia(2,C,T),(j=t.getLinkPoint(r,s,u,!1,!1,d,o)).H()||j.set(r.aa.jm),t.ia(3,j.x,j.y))}}}t.Ej()}else if(c.layer===f.layer)t.Ej();else{var A,_,O=!1,E=!1,D=0,L=t.tu+1;if(t.ic)E=!0,4<(D=t.ta)&&t.points.removeRange(2,D-3);else if(t.kf===tu)O=!0,4<(D=t.ta)&&t.points.removeRange(2,D-3),L=2;else{var F=h===g,I=u===g;2<(D=t.ta)&&F&&I?t.points.removeRange(1,D-2):3<D&&F&&!I?t.points.removeRange(1,D-3):3<D&&!F&&I?t.points.removeRange(2,D-2):4<D&&!F&&!I&&t.points.removeRange(2,D-3)}if(n.rev){for(var R=0;null!==f&&c!==f;){_=A=null;for(var V=f.wc.j;V.next();){var B=V.value;if(B.link===n.link&&(_=B.toVertex,null===(A=B.fromVertex).Gd))break}if(A!==c)if(K=t.m(L-1).x,J=t.m(L-1).y,W=A.pa,Y=A.va,E)180===this.ga||0===this.ga?2===L?(t.B(L++,K,J),t.B(L++,K,Y)):($=null!==_?_.va:J)!==Y&&(t.B(L++,Z=this.Vb[A.layer-1],J),t.B(L++,Z,Y)):2===L?(t.B(L++,K,J),t.B(L++,W,J)):(tt=null!==_?_.pa:K)!==W&&(t.B(L++,K,Z=this.Vb[A.layer-1]),t.B(L++,W,Z));else if(2===L)if(X=Math.max(10,this.Jg[f.layer]),Q=Math.max(10,this.Yf[f.layer]),O)180===this.ga?W<=f.Q.x?(t.B(L++,(R=f.Q.x)-X,Y),t.B(L++,R,Y),t.B(L++,R+Q,Y)):(t.B(L++,W-X,Y),t.B(L++,W,Y),t.B(L++,W+Q,Y)):90===this.ga?Y>=f.Q.bottom?(t.B(L++,W,(R=f.Q.y+f.Q.height)+Q),t.B(L++,W,R),t.B(L++,W,R-X)):(t.B(L++,W,Y+Q),t.B(L++,W,Y),t.B(L++,W,Y-X)):270===this.ga?Y<=f.Q.y?(t.B(L++,W,(R=f.Q.y)-X),t.B(L++,W,R),t.B(L++,W,R+Q)):(t.B(L++,W,Y-X),t.B(L++,W,Y),t.B(L++,W,Y+Q)):0===this.ga&&(W>=f.Q.right?(t.B(L++,(R=f.Q.x+f.Q.width)+Q,Y),t.B(L++,R,Y),t.B(L++,R-X,Y)):(t.B(L++,W+Q,Y),t.B(L++,W,Y),t.B(L++,W-X,Y)));else{t.B(L++,K,J);var z=0;180===this.ga||0===this.ga?((180===this.ga?W>=f.Q.right:W<=f.Q.x)&&(z=(0===this.ga?-X:Q)/2),t.B(L++,K+z,Y)):((270===this.ga?Y>=f.Q.bottom:Y<=f.Q.y)&&(z=(90===this.ga?-X:Q)/2),t.B(L++,W,J+z)),t.B(L++,W,Y)}else X=Math.max(10,this.Jg[A.layer]),Q=Math.max(10,this.Yf[A.layer]),180===this.ga?(O&&t.B(L++,W-X,Y),t.B(L++,W,Y),O&&t.B(L++,W+Q,Y)):90===this.ga?(O&&t.B(L++,W,Y+Q),t.B(L++,W,Y),O&&t.B(L++,W,Y-X)):270===this.ga?(O&&t.B(L++,W,Y-X),t.B(L++,W,Y),O&&t.B(L++,W,Y+Q)):(O&&t.B(L++,W+Q,Y),t.B(L++,W,Y),O&&t.B(L++,W-X,Y));f=A}if(null===s||h!==g||E)if(K=t.m(L-1).x,J=t.m(L-1).y,W=t.m(L).x,Y=t.m(L).y,E){var q=this.Yf[c.layer],G=0;180===this.ga||0===this.ga?((G=J)>=c.Q.y&&G<=c.Q.bottom&&(180===this.ga?W>=c.Q.x:W<=c.Q.right)&&(R=c.pa+(180===this.ga?-q:q),G=G<c.Q.y+c.Q.height/2?c.Q.y-this.ie/2:c.Q.bottom+this.ie/2,t.B(L++,R,J),t.B(L++,R,G)),t.B(L++,W,G)):((G=K)>=c.Q.x&&G<=c.Q.right&&(270===this.ga?Y>=c.Q.y:Y<=c.Q.bottom)&&(R=c.va+(270===this.ga?-q:q),G=G<c.Q.x+c.Q.width/2?c.Q.x-this.ie/2:c.Q.right+this.ie/2,t.B(L++,K,R),t.B(L++,G,R)),t.B(L++,G,Y)),t.B(L++,W,Y)}else O?(X=Math.max(10,this.Jg[c.layer]),Q=Math.max(10,this.Yf[c.layer]),180===this.ga&&W>=c.Q.x?(t.ia(L-2,R=c.Q.x+c.Q.width,J),t.ia(L-1,R+Q,J)):90===this.ga&&Y<=c.Q.bottom?(t.ia(L-2,K,R=c.Q.y),t.ia(L-1,K,R-X)):270===this.ga&&Y>=c.Q.y?(t.ia(L-2,K,R=c.Q.y+c.Q.height),t.ia(L-1,K,R+Q)):0===this.ga&&W<=c.Q.right&&(t.ia(L-2,R=c.Q.x,J),t.ia(L-1,R-X,J))):(X=Math.max(10,this.Jg[c.layer]),Q=Math.max(10,this.Yf[c.layer]),z=0,180===this.ga||0===this.ga?((180===this.ga?W<=c.Q.x:W>=c.Q.right)&&(z=(0===this.ga?Q:-X)/2),t.B(L++,W+z,J)):((270===this.ga?Y<=c.Q.y:Y>=c.Q.bottom)&&(z=(90===this.ga?Q:-X)/2),t.B(L++,K,Y+z)),t.B(L++,W,Y))}else{for(;null!==c&&c!==f;){_=A=null;for(var H=c.tc.j;H.next();){var U=H.value;if(U.link===n.link&&(A=U.toVertex,null!==(_=U.fromVertex).Gd&&(_=null),null===A.Gd))break}var K=0,J=0,W=0,Y=0,Z=0,X=0,Q=0;if(A!==f)if(K=t.m(L-1).x,J=t.m(L-1).y,W=A.pa,Y=A.va,E)if(180===this.ga||0===this.ga){var $=null!==_?_.va:J;$!==Y&&(Z=this.Vb[A.layer],2===L&&(Z=0===this.ga?Math.max(Z,K):Math.min(Z,K)),t.B(L++,Z,J),t.B(L++,Z,Y))}else{var tt=null!==_?_.pa:K;tt!==W&&(Z=this.Vb[A.layer],2===L&&(Z=90===this.ga?Math.max(Z,J):Math.min(Z,J)),t.B(L++,K,Z),t.B(L++,W,Z))}else X=Math.max(10,this.Jg[A.layer]),Q=Math.max(10,this.Yf[A.layer]),180===this.ga?(t.B(L++,W+Q,Y),O&&t.B(L++,W,Y),t.B(L++,W-X,Y)):90===this.ga?(t.B(L++,W,Y-X),O&&t.B(L++,W,Y),t.B(L++,W,Y+Q)):270===this.ga?(t.B(L++,W,Y+Q),O&&t.B(L++,W,Y),t.B(L++,W,Y-X)):(t.B(L++,W-X,Y),O&&t.B(L++,W,Y),t.B(L++,W+Q,Y));c=A}E&&(K=t.m(L-1).x,J=t.m(L-1).y,W=t.m(L).x,Y=t.m(L).y,180===this.ga||0===this.ga?J!==Y&&(Z=0===this.ga?Math.min(Math.max((W+K)/2,this.Vb[f.layer]),W):Math.max(Math.min((W+K)/2,this.Vb[f.layer]),W),t.B(L++,Z,J),t.B(L++,Z,Y)):K!==W&&(Z=90===this.ga?Math.min(Math.max((Y+J)/2,this.Vb[f.layer]),Y):Math.max(Math.min((Y+J)/2,this.Vb[f.layer]),Y),t.B(L++,K,Z),t.B(L++,W,Z)))}if(null!==i&&O){if(null!==o){if(h===g){var et=t.m(0),it=t.m(2);et.O(it)||t.ia(1,(et.x+it.x)/2,(et.y+it.y)/2)}(j=t.getLinkPoint(d,o,g,!0,!1,r,s)).H()||j.set(d.aa.jm),t.ia(0,j.x,j.y)}null!==s&&(u===g&&(et=t.m(t.ta-1),it=t.m(t.ta-3),et.O(it)||t.ia(t.ta-2,(et.x+it.x)/2,(et.y+it.y)/2)),(j=t.getLinkPoint(r,s,g,!1,!1,d,o)).H()||j.set(r.aa.jm),t.ia(t.ta-1,j.x,j.y))}t.Ej(),n.commit()}}}for(var rt=new nt(Kc),ot=this.network.edges.j;ot.next();){var st=ot.value.link;null!==st&&st.ic&&!rt.contains(st)&&rt.add(st)}if(0<rt.count)if(90===this.ga||270===this.ga){for(var at,lt,ht=new nt(Jp),ut=rt.j;ut.next();){var ct=ut.value;if(null!==ct&&ct.ic)for(var ft=2;ft<ct.ta-3;ft++)if(at=ct.m(ft),lt=ct.m(ft+1),Gp(at.y,lt.y)&&!Gp(at.x,lt.x)){var pt=new Jp;pt.layer=Math.floor(at.y/2);var dt=ct.m(0),yt=ct.m(ct.ta-1);if(pt.first=dt.x*dt.x+dt.y,pt.re=yt.x*yt.x+yt.y,pt.hf=Math.min(at.x,lt.x),pt.Fe=Math.max(at.x,lt.x),pt.index=ft,pt.link=ct,ft+2<ct.ta){var vt=ct.m(ft-1),gt=ct.m(ft+2),mt=0;vt.y<at.y?mt=gt.y<at.y?3:at.x<lt.x?2:1:vt.y>at.y&&(mt=gt.y>at.y?0:lt.x<at.x?2:1),pt.Li=mt}ht.add(pt)}}if(1<ht.count){ht.sort(this.YG);for(var bt=0;bt<ht.count;){for(var xt=ht.o[bt].layer,wt=bt+1;wt<ht.count&&ht.o[wt].layer===xt;)wt++;if(1<wt-bt)for(var kt=bt;kt<wt;){for(var Pt=ht.o[kt].Fe,St=bt+1;St<wt&&ht.o[St].hf<Pt;)Pt=Math.max(Pt,ht.o[St].Fe),St++;var Ct=St-kt;if(1<Ct){ht.Zq(this.Oy,kt,kt+Ct);var Tt=1,Mt=ht.o[kt].re;for(ft=kt;ft<St;ft++){var Nt=ht.o[ft];Nt.re!==Mt&&(Tt++,Mt=Nt.re)}ht.Zq(this.XG,kt,kt+Ct);var jt=1;for(Mt=ht.o[kt].first,ft=kt;ft<St;ft++)(Nt=ht.o[ft]).first!==Mt&&(jt++,Mt=Nt.first);var At=!0,_t=jt;Tt<jt?(At=!1,_t=Tt,Mt=ht.o[kt].re,ht.Zq(this.Oy,kt,kt+Ct)):Mt=ht.o[kt].first;var Ot=0;for(ft=kt;ft<St;ft++){Nt=ht.o[ft],(At?Nt.first:Nt.re)!==Mt&&(Ot++,Mt=At?Nt.first:Nt.re),at=(ct=Nt.link).m(Nt.index),lt=ct.m(Nt.index+1);var Et=this.tG*(Ot-(_t-1)/2);ct.Nj&&!Hp(at.x,at.y+Et,lt.x,lt.y+Et)||(ct.Dm(),ct.ia(Nt.index,at.x,at.y+Et),ct.ia(Nt.index+1,lt.x,lt.y+Et),ct.Ej())}}kt=St}bt=wt}}}else{for(var Dt,Lt,Ft=new nt(Jp),It=rt.j;It.next();){var Rt=It.value;if(null!==Rt&&Rt.ic)for(var Vt=2;Vt<Rt.ta-3;Vt++)if(Dt=Rt.m(Vt),Lt=Rt.m(Vt+1),Gp(Dt.x,Lt.x)&&!Gp(Dt.y,Lt.y)){var Bt=new Jp;Bt.layer=Math.floor(Dt.x/2);var zt=Rt.m(0),qt=Rt.m(Rt.ta-1);if(Bt.first=zt.x+zt.y*zt.y,Bt.re=qt.x+qt.y*qt.y,Bt.hf=Math.min(Dt.y,Lt.y),Bt.Fe=Math.max(Dt.y,Lt.y),Bt.index=Vt,Bt.link=Rt,Vt+2<Rt.ta){var Gt=Rt.m(Vt-1),Ht=Rt.m(Vt+2),Ut=0;Gt.x<Dt.x?Ut=Ht.x<Dt.x?3:Dt.y<Lt.y?2:1:Gt.x>Dt.x&&(Ut=Ht.x>Dt.x?0:Lt.y<Dt.y?2:1),Bt.Li=Ut}Ft.add(Bt)}}if(1<Ft.count){Ft.sort(this.YG);for(var Kt=0;Kt<Ft.count;){for(var Jt=Ft.o[Kt].layer,Wt=Kt+1;Wt<Ft.count&&Ft.o[Wt].layer===Jt;)Wt++;if(1<Wt-Kt)for(var Yt=Kt;Yt<Wt;){for(var Zt=Ft.o[Yt].Fe,Xt=Kt+1;Xt<Wt&&Ft.o[Xt].hf<Zt;)Zt=Math.max(Zt,Ft.o[Xt].Fe),Xt++;var Qt=Xt-Yt;if(1<Qt){Ft.Zq(this.Oy,Yt,Yt+Qt);var $t=1,te=Ft.o[Yt].re;for(Vt=Yt;Vt<Xt;Vt++){var ee=Ft.o[Vt];ee.re!==te&&($t++,te=ee.re)}Ft.Zq(this.XG,Yt,Yt+Qt);var ne=1;for(te=Ft.o[Yt].first,Vt=Yt;Vt<Xt;Vt++)(ee=Ft.o[Vt]).first!==te&&(ne++,te=ee.first);var ie=!0,re=ne;$t<ne?(ie=!1,re=$t,te=Ft.o[Yt].re,Ft.Zq(this.Oy,Yt,Yt+Qt)):te=Ft.o[Yt].first;var oe=0;for(Vt=Yt;Vt<Xt;Vt++){ee=Ft.o[Vt],(ie?ee.first:ee.re)!==te&&(oe++,te=ie?ee.first:ee.re),Dt=(Rt=ee.link).m(ee.index),Lt=Rt.m(ee.index+1);var se=this.tG*(oe-(re-1)/2);Rt.Nj&&!Hp(Dt.x+se,Dt.y,Lt.x+se,Lt.y)||(Rt.Dm(),Rt.ia(ee.index,Dt.x+se,Dt.y),Rt.ia(ee.index+1,Lt.x+se,Lt.y),Rt.Ej())}}Yt=Xt}Kt=Wt}}}},fp.prototype.YG=function(t,e){return t instanceof Jp&&e instanceof Jp&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.hf<e.hf?-1:t.hf>e.hf?1:t.Fe<e.Fe?-1:t.Fe>e.Fe?1:0:0},fp.prototype.XG=function(t,e){return t instanceof Jp&&e instanceof Jp&&t!==e?t.first<e.first?-1:t.first>e.first||t.Li<e.Li?1:t.Li>e.Li||t.hf<e.hf?-1:t.hf>e.hf?1:t.Fe<e.Fe?-1:t.Fe>e.Fe?1:0:0},fp.prototype.Oy=function(t,e){return t instanceof Jp&&e instanceof Jp&&t!==e?t.re<e.re?-1:t.re>e.re||t.Li<e.Li?1:t.Li>e.Li||t.hf<e.hf?-1:t.hf>e.hf?1:t.Fe<e.Fe?-1:t.Fe>e.Fe?1:0:0},s.defineProperty(fp,{layerSpacing:"layerSpacing"},function(){return this.an},function(t){this.an!==t&&(s.h(t,"number",fp,"layerSpacing"),0<=t&&(this.an=t,this.L()))}),s.defineProperty(fp,{sL:"columnSpacing"},function(){return this.ie},function(t){this.ie!==t&&(s.h(t,"number",fp,"columnSpacing"),0<t&&(this.ie=t,this.L()))}),s.defineProperty(fp,{direction:"direction"},function(){return this.ga},function(t){this.ga!==t&&(s.h(t,"number",fp,"direction"),0===t||90===t||180===t||270===t?(this.ga=t,this.L()):s.k("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}),s.defineProperty(fp,{angle:"angle"},function(){return this.direction},function(t){this.direction=t}),s.defineProperty(fp,{uI:"cycleRemoveOption"},function(){return this.Ro},function(t){this.Ro!==t&&(s.Da(t,fp,fp,"cycleRemoveOption"),t===Bu||t===Vu)&&(this.Ro=t,this.L())}),s.defineProperty(fp,{zJ:"layeringOption"},function(){return this.sp},function(t){this.sp!==t&&(s.Da(t,fp,fp,"layeringOption"),t===zu||t===qu||t===Gu)&&(this.sp=t,this.L())}),s.defineProperty(fp,{lJ:"initializeOption"},function(){return this.ip},function(t){this.ip!==t&&(s.Da(t,fp,fp,"initializeOption"),t===Hu||t===Uu||t===Ku)&&(this.ip=t,this.L())}),s.defineProperty(fp,{$L:"iterations"},function(){return this.$m},function(t){this.$m!==t&&(s.p(t,Wp,"iterations"),0<=t&&(this.$m=t,this.L()))}),s.defineProperty(fp,{aI:"aggressiveOption"},function(){return this.Fo},function(t){this.Fo!==t&&(s.Da(t,fp,fp,"aggressiveOption"),t===Ju||t===Wu||t===Yu)&&(this.Fo=t,this.L())}),s.defineProperty(fp,{tM:"packOption"},function(){return this.qj},function(t){this.qj!==t&&(s.h(t,"number",fp,"packOption"),0<=t&&8>t&&(this.qj=t,this.L()))}),s.defineProperty(fp,{Xq:"setsPortSpots"},function(){return this.si},function(t){this.si!==t&&(s.h(t,"boolean",fp,"setsPortSpots"),this.si=t,this.L())}),s.defineProperty(fp,{tG:"linkSpacing"},function(){return this.Ds},function(t){this.Ds!==t&&(s.h(t,"number",fp,"linkSpacing"),0<=t&&(this.Ds=t,this.L()))}),s.w(fp,{HJ:"maxLayer"},function(){return this.Ab}),s.w(fp,{eM:"maxIndex"},function(){return this.Bw}),s.w(fp,{dM:"maxColumn"},function(){return this.Qb}),s.w(fp,{jM:"minIndexLayer"},function(){return this.Ms}),s.w(fp,{fM:"maxIndexLayer"},function(){return this.Zf}),fp.CycleDepthFirst=Vu=s.s(fp,"CycleDepthFirst",0),fp.CycleGreedy=Bu=s.s(fp,"CycleGreedy",1),fp.LayerOptimalLinkLength=zu=s.s(fp,"LayerOptimalLinkLength",0),fp.LayerLongestPathSink=qu=s.s(fp,"LayerLongestPathSink",1),fp.LayerLongestPathSource=Gu=s.s(fp,"LayerLongestPathSource",2),fp.InitDepthFirstOut=Hu=s.s(fp,"InitDepthFirstOut",0),fp.InitDepthFirstIn=Uu=s.s(fp,"InitDepthFirstIn",1),fp.InitNaive=Ku=s.s(fp,"InitNaive",2),fp.AggressiveNone=Ju=s.s(fp,"AggressiveNone",0),fp.AggressiveLess=Wu=s.s(fp,"AggressiveLess",1),fp.AggressiveMore=Yu=s.s(fp,"AggressiveMore",2),fp.PackNone=0,fp.PackExpand=Zu=1,fp.PackStraighten=Xu=2,fp.PackMedian=Qu=4,fp.PackAll=$u=7,s.me(Jp,{layer:!0,first:!0,re:!0,hf:!0,Fe:!0,index:!0,link:!0,Li:!0}),s.Ta(Wp,Ef),s.ka("LayeredDigraphNetwork",Wp),Wp.prototype.createVertex=function(){return new Yp},Wp.prototype.createEdge=function(){return new Zp},s.Ta(Yp,If),s.ka("LayeredDigraphVertex",Yp),s.Ta(Zp,Rf),s.ka("LayeredDigraphEdge",Zp),s.Ta(Xp,Af),s.ka("TreeLayout",Xp),Xp.prototype.cloneProtected=function(t){Af.prototype.cloneProtected.call(this,t),t.gt=this.gt,t.Wt=this.Wt,t.yw=this.yw,t.bi=this.bi,t.Bd=this.Bd,t.xg.assign(this.xg),t.Aa.copyInheritedPropertiesFrom(this.Aa),t.Ba.copyInheritedPropertiesFrom(this.Ba)},Xp.prototype.qc=function(t){t.Qe===Xp?0===t.name.indexOf("Alignment")?this.alignment=t:0===t.name.indexOf("Arrangement")?this.eg=t:0===t.name.indexOf("Compaction")?this.compaction=t:0===t.name.indexOf("Path")?this.path=t:0===t.name.indexOf("Sorting")?this.sorting=t:0===t.name.indexOf("Style")?this.HK=t:s.k("Unknown enum value: "+t):Af.prototype.qc.call(this,t)},Xp.prototype.createNetwork=function(){return new jd},Xp.prototype.makeNetwork=function(t){function e(t){if(t instanceof Fc)return!t.Lf&&"Comment"!==t.Kd;if(t instanceof Kc){var e=t.$;return null!==e&&!e.Lf&&"Comment"!==e.Kd&&null!==(t=t.ba)&&!t.Lf&&"Comment"!==t.Kd}return!1}var n=this.createNetwork();return n.Yb=this,t instanceof eo?(n.Ok(t.rg,!0,e),n.Ok(t.links,!0,e)):n.Ok(t instanceof Tf?t.uc:t.j,!1,e),n},Xp.prototype.doLayout=function(t){if(null===t&&s.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.eg!==Pc&&(this.Zd=this.initialOrigin(this.Zd)),null===(i=this.g)&&t instanceof eo&&(i=t),this.Wf=this.path===tc&&null!==i?i.ee?ec:nc:this.path===tc?ec:this.path,0<this.network.vertexes.count){for(this.network.Px(),t=this.network.vertexes.j;t.next();)(i=t.value).initialized=!1,i.level=0,i.parent=null,i.children=[];if(0<this.Jd.count){for(t=new rt(Ad),i=this.Jd.j;i.next();){var e=i.value;e instanceof Fc?null!==(e=this.network.Rn(e))&&t.add(e):e instanceof Ad&&t.add(e)}this.Jd=t}for(0===this.Jd.count&&this.findRoots(),t=this.Jd.copy().j;t.next();)(i=t.value).initialized||(i.initialized=!0,td(this,i));for(i=this.network.vertexes,t=null;0<(t=Qp(i)).count;)null!==(i=$p(this,t))&&this.Jd.add(i),i.initialized=!0,td(this,i),i=t;for(t=this.Jd.j;t.next();)(i=t.value)instanceof Ad&&nd(this,i);for(t=this.Jd.j;t.next();)(i=t.value)instanceof Ad&&id(this,i);for(t=this.Jd.j;t.next();)(i=t.value)instanceof Ad&&rd(this,i);if(this.FA(),this.vB===Tc){for(e=[],t=this.network.vertexes.j;t.next();){var n=t.value;null===(i=n.parent)&&(i=n);var i=0===i.angle||180===i.angle;void 0===(o=e[n.level])&&(o=0),e[n.level]=Math.max(o,i?n.width:n.height)}for(n=0;n<e.length;n++)void 0===e[n]&&(e[n]=0);for(this.IC=e,t=this.network.vertexes.j;t.next();)null===(i=(n=t.value).parent)&&(i=n),0===i.angle||180===i.angle?(180===i.angle&&(n.xu+=e[n.level]-n.width),n.width=e[n.level]):(270===i.angle&&(n.yu+=e[n.level]-n.height),n.height=e[n.level])}else if(this.vB===Cc)for(t=this.network.vertexes.j;t.next();){for(i=0===(e=t.value).angle||180===e.angle,o=-1,n=0;n<e.children.length;n++)var r=e.children[n],o=Math.max(o,i?r.width:r.height);if(0<=o)for(n=0;n<e.children.length;n++)r=e.children[n],i?(180===e.angle&&(r.xu+=o-r.width),r.width=o):(270===e.angle&&(r.yu+=o-r.height),r.height=o)}for(t=this.Jd.j;t.next();)(i=t.value)instanceof Ad&&this.layoutTree(i);this.arrangeTrees(),this.updateParts()}this.network=null,this.Jd=new rt(Object),this.Af=!0},Xp.prototype.findRoots=function(){for(var t=this.network.vertexes,e=t.j;e.next();){var n=e.value;switch(this.Wf){case ec:0===n.wc.count&&this.Jd.add(n);break;case nc:0===n.tc.count&&this.Jd.add(n);break;default:s.k("Unhandled path value "+this.Wf.toString())}}0===this.Jd.count&&null!==(t=$p(this,t))&&this.Jd.add(t)},Xp.prototype.removeChild=function(t,e){if(null!==t&&null!==e){r&&s.l(t,Ad,Xp,"removeChild:p"),r&&s.l(e,Ad,Xp,"removeChild:c");for(var n=t.children,i=0,o=0;o<n.length;o++)n[o]===e&&i++;if(0<i){i=Array(n.length-i);var a=0;for(o=0;o<n.length;o++)n[o]!==e&&(i[a++]=n[o]);t.children=i}}},Xp.prototype.initializeTreeVertexValues=function(t){r&&s.l(t,Ad,Xp,"initializeTreeVertexValues:v");var e=function(t,e){switch(r&&s.l(e,Ad,Xp,"mom:v"),t.Wt){default:case gc:return null!==e.parent?e.parent:t.Aa;case xc:return null===e.parent?t.Aa:null===e.parent.parent?t.Ba:e.parent;case bc:return null!==e.parent?null!==e.parent.parent?e.parent.parent:t.Ba:t.Aa;case mc:var n=!0;if(0===e.Gn)n=!1;else for(var i=e.children,o=i.length,a=0;a<o;a++)if(0<i[a].Gn){n=!1;break}return n&&null!==e.parent?t.Ba:null!==e.parent?e.parent:t.Aa}}(this,t);if(t.copyInheritedPropertiesFrom(e),null!==t.parent&&t.parent.alignment===fc){e=t.angle;for(var n=t.parent.children,i=0;i<n.length&&t!==n[i];)i++;0==i%2?i!==n.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},Xp.prototype.assignTreeVertexValues=function(){},Xp.prototype.sortTreeVertexChildren=function(t){switch(r&&s.l(t,Ad,Xp,"sortTreeVertexChildren:v"),t.sorting){case ic:break;case rc:t.children.reverse();break;case oc:t.children.sort(t.comparer);break;case sc:t.children.sort(t.comparer),t.children.reverse();break;default:s.k("Unhandled sorting value "+t.sorting.toString())}},Xp.prototype.FA=function(){if(this.comments)for(var t=this.network.vertexes.j;t.next();)this.addComments(t.value)},Xp.prototype.addComments=function(t){r&&s.l(t,Ad,Xp,"addComments:v");var e=t.angle,n=0,i=lc;i=!1,null!==(o=t.parent)&&(n=o.angle,i=od(i=o.alignment)),e=90===e||270===e,n=90===n||270===n;var o=0===t.Gn,a=0,l=0,h=0,u=t.commentSpacing;if(null!==t.Zc)for(var c=t.Zc.GF();c.next();){var f=c.value;"Comment"===f.Kd&&f.canLayout()&&(null===t.comments&&(t.comments=[]),t.comments.push(f),f.lf(),f=f.Fa,e&&!o||!i&&!n&&o||i&&n&&o?(a=Math.max(a,f.width),l+=f.height+Math.abs(h)):(a+=f.width+Math.abs(h),l=Math.max(l,f.height)),h=u)}null!==t.comments&&(e&&!o||!i&&!n&&o||i&&n&&o?(a+=Math.abs(t.commentMargin),l=Math.max(0,l-t.height)):(l+=Math.abs(t.commentMargin),a=Math.max(0,a-t.width)),i=s.vg(0,0,t.Q.width+a,t.Q.height+l),t.ib=i,s.Lb(i))},Xp.prototype.layoutComments=function(t){if(r&&s.l(t,Ad,Xp,"layoutComments:v"),null!==t.comments){var e=t.Zc.Fa,n=t.angle,i=0,o=lc;o=!1,null!==(a=t.parent)&&(i=a.angle,o=od(o=a.alignment));for(var a=90===n||270===n,l=(n=90===i||270===i,0===t.Gn),h=ad(t),u=0,c=t.comments,f=c.length,p=s.P(),d=0;d<f;d++){var y=c[d],v=y.Fa;if(a&&!l||!o&&!n&&l||o&&n&&l){if(135<i&&!o||n&&h)if(0<=t.commentMargin)for(p.n(t.Q.x-t.commentMargin-v.width,t.Q.y+u),y.move(p),y=y.Yg();y.next();){var g=y.value;g.Gb=j,g.Hb=A}else for(p.n(t.Q.x+2*t.W.x-t.commentMargin,t.Q.y+u),y.move(p),y=y.Yg();y.next();)(g=y.value).Gb=A,g.Hb=j;else if(0<=t.commentMargin)for(p.n(t.Q.x+2*t.W.x+t.commentMargin,t.Q.y+u),y.move(p),y=y.Yg();y.next();)(g=y.value).Gb=A,g.Hb=j;else for(p.n(t.Q.x+t.commentMargin-v.width,t.Q.y+u),y.move(p),y=y.Yg();y.next();)(g=y.value).Gb=j,g.Hb=A;u=0<=t.commentSpacing?u+(v.height+t.commentSpacing):u+(t.commentSpacing-v.height)}else{if(135<i&&!o||!n&&h)if(0<=t.commentMargin)for(p.n(t.Q.x+u,t.Q.y-t.commentMargin-v.height),y.move(p),y=y.Yg();y.next();)(g=y.value).Gb=N,g.Hb=_;else for(p.n(t.Q.x+u,t.Q.y+2*t.W.y-t.commentMargin),y.move(p),y=y.Yg();y.next();)(g=y.value).Gb=_,g.Hb=N;else if(0<=t.commentMargin)for(p.n(t.Q.x+u,t.Q.y+2*t.W.y+t.commentMargin),y.move(p),y=y.Yg();y.next();)(g=y.value).Gb=_,g.Hb=N;else for(p.n(t.Q.x+u,t.Q.y+t.commentMargin-v.height),y.move(p),y=y.Yg();y.next();)(g=y.value).Gb=N,g.Hb=_;u=0<=t.commentSpacing?u+(v.width+t.commentSpacing):u+(t.commentSpacing-v.width)}}if(s.A(p),e=u-t.commentSpacing-(a?e.height:e.width),this.Wf===ec)for(i=t.tc;i.next();)null===(t=i.value.link)||t.Nj||(t.rm=0<e?e:NaN);else for(i=t.wc;i.next();)null===(t=i.value.link)||t.Nj||(t.Hm=0<e?e:NaN)}},Xp.prototype.layoutTree=function(t){if(null!==t){r&&s.l(t,Ad,Xp,"layoutTree:v");for(var e=(i=t.children).length,n=0;n<e;n++)this.layoutTree(i[n]);switch(t.compaction){case yc:ld(this,t);break;case vc:if(t.alignment===fc)ld(this,t);else if(r&&s.l(t,Ad,Xp,"layoutTreeBlock:v"),0===t.Gn){var i=!1,o=(e=0,lc);null!==(n=t.parent)&&(e=n.angle,i=od(o=n.alignment)),n=ad(t),t.sa.n(0,0),t.tb.n(t.width,t.height),null===t.parent||null===t.comments||(180!==e&&270!==e||i)&&!n?t.Wa.n(0,0):180===e&&!i||(90===e||270===e)&&n?t.Wa.n(t.width-2*t.W.x,0):t.Wa.n(0,t.height-2*t.W.y),t.Ru=null,t.kv=null}else{for(var a=Td(t),l=(i=90===a||270===a,0),h=t.children,u=h.length,c=0;c<u;c++){var f=h[c];l=Math.max(l,i?f.tb.width:f.tb.height)}var p=t.alignment,d=(n=p===hc,p===uc),y=od(p),v=Math.max(0,t.breadthLimit),g=(e=Md(t),t.nodeSpacing),m=Nd(t),b=t.rowSpacing,x=0;(n||d||t.Rq||t.Sq&&1===t.maxGenerationCount)&&(x=Math.max(0,t.rowIndent)),n=t.width,o=t.height;var w=0,k=0,P=0,S=null,C=null,T=0,M=0,N=0,j=0,A=0,_=0,O=0,E=0;if(f=0,y&&!sd(p)&&135<a&&h.reverse(),sd(p))if(1<u)for(c=0;c<u;c++)0==c%2&&c!==u-1?E=Math.max(E,i?h[c].tb.width:h[c].tb.height):0!=c%2&&(f=Math.max(f,i?h[c].tb.width:h[c].tb.height));else 1===u&&(E=i?h[0].tb.width:h[0].tb.height);if(y){switch(p){case cc:E=(k=135>a?hd(t,h,E,w,k):ud(t,h,E,w,k)).x,w=k.width,k=k.height;break;case pc:for(c=0;c<u;c++){var D=(f=h[c]).tb;S=0===_?0:b,i?(f.sa.n(l-D.width,j+S),w=Math.max(w,D.width),k=Math.max(k,j+S+D.height),j+=S+D.height):(f.sa.n(N+S,l-D.height),w=Math.max(w,N+S+D.width),k=Math.max(k,D.height),N+=S+D.width),_++}break;case dc:for(c=0;c<u;c++)D=(f=h[c]).tb,S=0===_?0:b,i?(f.sa.n(g/2+t.W.x,j+S),w=Math.max(w,D.width),k=Math.max(k,j+S+D.height),j+=S+D.height):(f.sa.n(N+S,g/2+t.W.y),w=Math.max(w,N+S+D.width),k=Math.max(k,D.height),N+=S+D.width),_++}S=kd(this,2),C=kd(this,2),i?(S[0].n(0,0),S[1].n(0,k),C[0].n(w,0)):(S[0].n(0,0),S[1].n(w,0),C[0].n(0,k)),C[1].n(w,k)}else for(c=0;c<u;c++){if(D=(f=h[c]).tb,i){0<v&&0<_&&N+g+D.width>v&&(N<l&&gd(t,p,l-N,0,O,c-1),A++,_=0,O=c,P=k,N=0,j=135<a?-k-b:k+b),bd(this,f,0,j);var L=0;if(0===_)C=f.kv,T=D.width,M=D.height,(null===(S=f.Ru)||null===C||a!==Td(f))&&(S=kd(this,2),C=kd(this,2),S[0].n(0,0),S[1].n(0,M),C[0].n(T,0),C[1].n(T,M));else{var F=s.nb();L=(M=wd(this,t,f,S,C,T,M,F)).x,S=F[0],C=F[1],T=M.width,M=M.height,s.ya(F),N<D.width&&0>L&&(md(t,-L,0,O,c-1),xd(S,-L,0),xd(C,-L,0),L=0)}f.sa.n(L,j),w=Math.max(w,T),k=Math.max(k,P+(0===A?0:b)+D.height),N=T}else 0<v&&0<_&&j+g+D.height>v&&(j<l&&gd(t,p,0,l-j,O,c-1),A++,_=0,O=c,P=w,j=0,N=135<a?-w-b:w+b),bd(this,f,N,0),L=0,0===_?(C=f.kv,T=D.width,M=D.height,(null===(S=f.Ru)||null===C||a!==Td(f))&&(S=kd(this,2),C=kd(this,2),S[0].n(0,0),S[1].n(T,0),C[0].n(0,M),C[1].n(T,M))):(L=(M=wd(this,t,f,S,C,T,M,F=s.nb())).x,S=F[0],C=F[1],T=M.width,M=M.height,s.ya(F),j<D.height&&0>L&&(md(t,0,-L,O,c-1),xd(S,0,-L),xd(C,0,-L),L=0)),f.sa.n(N,L),k=Math.max(k,M),w=Math.max(w,P+(0===A?0:b)+D.width),j=M;_++}switch(0<A&&(i?(k+=Math.max(0,e),N<w&&gd(t,p,w-N,0,O,u-1),0<x&&(d||md(t,x,0,0,u-1),w+=x)):(w+=Math.max(0,e),j<k&&gd(t,p,0,k-j,O,u-1),0<x&&(d||md(t,0,x,0,u-1),k+=x))),x=d=0,p){case ac:i?d+=w/2-t.W.x-m/2:x+=k/2-t.W.y-m/2;break;case lc:0<A?i?d+=w/2-t.W.x-m/2:x+=k/2-t.W.y-m/2:i?d+=(E=h[0].sa.x+h[0].Wa.x)+((c=h[u-1].sa.x+h[u-1].Wa.x+2*h[u-1].W.x)-E)/2-t.W.x-m/2:x+=(E=h[0].sa.y+h[0].Wa.y)+((c=h[u-1].sa.y+h[u-1].Wa.y+2*h[u-1].W.y)-E)/2-t.W.y-m/2;break;case hc:i?(d-=m,w+=m):(x-=m,k+=m);break;case uc:i?(d+=w-t.width+m,w+=m):(x+=k-t.height+m,k+=m);break;case cc:i?d=1<u?d+(E+g/2-t.W.x):d+(h[0].W.x-t.W.x+h[0].Wa.x):x=1<u?x+(E+g/2-t.W.y):x+(h[0].W.y-t.W.y+h[0].Wa.y);break;case pc:i?d+=w+g/2-t.W.x:x+=k+g/2-t.W.y;break;case dc:break;default:s.k("Unhandled alignment value "+p.toString())}for(c=0;c<u;c++)f=h[c],i?f.sa.n(f.sa.x+f.Wa.x-d,f.sa.y+(135<a?(y?-k:-f.tb.height)+f.Wa.y-e:o+e+f.Wa.y)):f.sa.n(f.sa.x+(135<a?(y?-w:-f.tb.width)+f.Wa.x-e:n+e+f.Wa.x),f.sa.y+f.Wa.y-x);if(u=h=0,y?i?(w=dd(t,w,d),0>d&&(d=0),135<a&&(x+=k+e),k+=o+e,p===dc&&(h+=g/2+t.W.x),u+=o+e):(135<a&&(d+=w+e),w+=n+e,k=yd(t,k,x),0>x&&(x=0),p===dc&&(u+=g/2+t.W.y),h+=n+e):i?(null===t.comments?n>w&&(h=(p=vd(p,n-w,0)).x,u=p.y,w=n,d=0):w=dd(t,w,d),0>d&&(h-=d,d=0),135<a&&(x+=k+e),k=Math.max(Math.max(k,o),k+o+e),u+=o+e):(135<a&&(d+=w+e),w=Math.max(Math.max(w,n),w+n+e),null===t.comments?o>k&&(h=(p=vd(p,0,o-k)).x,u=p.y,k=o,x=0):k=yd(t,k,x),0>x&&(u-=x,x=0),h+=n+e),0<A)a=kd(this,4),p=kd(this,4),i?(a[2].n(0,o+e),a[3].n(a[2].x,k),p[2].n(w,a[2].y),p[3].n(p[2].x,a[3].y)):(a[2].n(n+e,0),a[3].n(w,a[2].y),p[2].n(a[2].x,k),p[3].n(a[3].x,p[2].y));else{for(a=kd(this,S.length+2),p=kd(this,C.length+2),c=0;c<S.length;c++)a[c+2].n((y=S[c]).x+h,y.y+u);for(c=0;c<C.length;c++)p[c+2].n((y=C[c]).x+h,y.y+u)}i?(a[0].n(d,0),a[1].n(a[0].x,o),a[2].y<a[1].y&&(a[2].x>a[0].x?a[2].assign(a[1]):a[1].assign(a[2])),a[3].y<a[2].y&&(a[3].x>a[0].x?a[3].assign(a[2]):a[2].assign(a[3])),p[0].n(d+n,0),p[1].n(p[0].x,o),p[2].y<p[1].y&&(p[2].x<p[0].x?p[2].assign(p[1]):p[1].assign(p[2])),p[3].y<p[2].y&&(p[3].x<p[0].x?p[3].assign(p[2]):p[2].assign(p[3])),a[2].y-=e/2,p[2].y-=e/2):(a[0].n(0,x),a[1].n(n,a[0].y),a[2].x<a[1].x&&(a[2].y>a[0].y?a[2].assign(a[1]):a[1].assign(a[2])),a[3].x<a[2].x&&(a[3].y>a[0].y?a[3].assign(a[2]):a[2].assign(a[3])),p[0].n(0,x+o),p[1].n(n,p[0].y),p[2].x<p[1].x&&(p[2].y<p[0].y?p[2].assign(p[1]):p[1].assign(p[2])),p[3].x<p[2].x&&(p[3].y<p[0].y?p[3].assign(p[2]):p[2].assign(p[3])),a[2].x-=e/2,p[2].x-=e/2),Pd(this,S),Pd(this,C),t.Ru=a,t.kv=p,t.Wa.n(d,x),t.tb.n(w,k)}break;default:s.k("Unhandled compaction value "+t.compaction.toString())}}},Xp.prototype.arrangeTrees=function(){if(this.Bd===Pc)for(var t=this.Jd.j;t.next();){var e=t.value;if(e instanceof Ad&&null!==(n=e.Zc)){var n=(i=n.position).x,i=i.y;isFinite(n)||(n=0),isFinite(i)||(i=0),Sd(this,e,n,i)}}else{for(n=[],t=this.Jd.j;t.next();)(e=t.value)instanceof Ad&&n.push(e);switch(this.sorting){case ic:break;case rc:n.reverse();break;case oc:n.sort(this.comparer);break;case sc:n.sort(this.comparer),n.reverse();break;default:s.k("Unhandled sorting value "+this.sorting.toString())}for(t=(e=this.Zd).x,e=e.y,i=0;i<n.length;i++){var r=n[i];switch(Sd(this,r,t+r.Wa.x,e+r.Wa.y),this.Bd){case wc:e+=r.tb.height+this.xg.height;break;case kc:t+=r.tb.width+this.xg.width;break;default:s.k("Unhandled arrangement value "+this.Bd.toString())}}}},Xp.prototype.commitLayout=function(){this.aC(),this.commitNodes(),this.JA(),this.Pu&&this.commitLinks()},Xp.prototype.commitNodes=function(){for(var t=this.network.vertexes.j;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},Xp.prototype.JA=function(){if(this.vB===Tc){for(var t=this.IC,e=[],n=null,i=this.network.vertexes.j;i.next();){var r=i.value;null===n?n=r.ib.copy():n.Zh(r.ib);var o=void 0===(o=e[r.level])?Md(r):Math.max(o,Md(r));e[r.level]=o}for(i=0;i<e.length;i++)void 0===e[i]&&(e[i]=0);90===this.angle||270===this.angle?(n.ig(this.nodeSpacing/2,this.layerSpacing),r=new ft(-this.nodeSpacing/2,-this.layerSpacing/2)):(n.ig(this.layerSpacing,this.nodeSpacing/2),r=new ft(-this.layerSpacing/2,-this.nodeSpacing/2)),o=[],n=90===this.angle||270===this.angle?n.width:n.height;var s=0;if(180===this.angle||270===this.angle)for(i=0;i<t.length;i++)s+=t[i]+e[i];for(i=0;i<t.length;i++){var a=t[i]+e[i];270===this.angle?o.push(new vt(0,s-=a,n,a)):90===this.angle?(o.push(new vt(0,s,n,a)),s+=a):180===this.angle?o.push(new vt(s-=a,0,a,n)):(o.push(new vt(s,0,a,n)),s+=a)}this.commitLayers(o,r)}},Xp.prototype.commitLayers=function(){},Xp.prototype.commitLinks=function(){for(var t=this.network.edges.j;t.next();)t.value.commit()},Xp.prototype.aC=function(){for(var t=this.Jd.j;t.next();){var e=t.value;e instanceof Ad&&Cd(this,e)}},Xp.prototype.setPortSpots=function(t){r&&s.l(t,Ad,Xp,"setPortSpots:v");var e=t.alignment;if(od(e)){r&&s.l(t,Ad,Xp,"setPortSpotsBus:v"),r&&s.l(e,a,Xp,"setPortSpots:align");var n,i=this.Wf===ec,o=Td(t);switch(o){case 0:n=A;break;case 90:n=_;break;case 180:n=j;break;default:n=N}var l=t.children,h=l.length;switch(e){case cc:case fc:for(e=0;e<h;e++){var u=l[e];if(null!==(u=(i?u.wc:u.tc).first())&&null!==(u=u.link)){var c=90===o||270===o?j:N;if(1===h||e===h-1&&1==h%2)switch(o){case 0:c=j;break;case 90:c=N;break;case 180:c=A;break;default:c=_}else 0==e%2&&(c=90===o||270===o?A:_);i?(t.setsPortSpot&&(u.Gb=n),t.setsChildPortSpot&&(u.Hb=c)):(t.setsPortSpot&&(u.Gb=c),t.setsChildPortSpot&&(u.Hb=n))}}break;case pc:for(c=90===o||270===o?A:_,o=i?t.tc:t.wc;o.next();)null!==(u=o.value.link)&&(i?(t.setsPortSpot&&(u.Gb=n),t.setsChildPortSpot&&(u.Hb=c)):(t.setsPortSpot&&(u.Gb=c),t.setsChildPortSpot&&(u.Hb=n)));break;case dc:for(c=90===o||270===o?j:N,o=i?t.tc:t.wc;o.next();)null!==(u=o.value.link)&&(i?(t.setsPortSpot&&(u.Gb=n),t.setsChildPortSpot&&(u.Hb=c)):(t.setsPortSpot&&(u.Gb=c),t.setsChildPortSpot&&(u.Hb=n)))}}else if(i=Td(t),this.Wf===ec){for(n=t.tc;n.next();)if(null!==(o=n.value.link)){if(t.setsPortSpot)if(t.portSpot.ld())switch(i){case 0:o.Gb=A;break;case 90:o.Gb=_;break;case 180:o.Gb=j;break;default:o.Gb=N}else o.Gb=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.ld())switch(i){case 0:o.Hb=j;break;case 90:o.Hb=N;break;case 180:o.Hb=A;break;default:o.Hb=_}else o.Hb=t.childPortSpot}}else for(n=t.wc;n.next();)if(null!==(o=n.value.link)){if(t.setsPortSpot)if(t.portSpot.ld())switch(i){case 0:o.Hb=A;break;case 90:o.Hb=_;break;case 180:o.Hb=j;break;default:o.Hb=N}else o.Hb=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.ld())switch(i){case 0:o.Gb=j;break;case 90:o.Gb=N;break;case 180:o.Gb=A;break;default:o.Gb=_}else o.Gb=t.childPortSpot}},s.defineProperty(Xp,{DM:"roots"},function(){return this.Jd},function(t){this.Jd!==t&&(s.l(t,rt,Xp,"roots"),this.Jd=t,this.L())}),s.defineProperty(Xp,{path:"path"},function(){return this.gt},function(t){this.gt!==t&&(s.Da(t,Xp,Xp,"path"),this.gt=t,this.L())}),s.defineProperty(Xp,{HK:"treeStyle"},function(){return this.Wt},function(t){this.Bd!==t&&(s.Da(t,Xp,Xp,"treeStyle"),t===gc||t===bc||t===mc||t===xc)&&(this.Wt=t,this.L())}),s.defineProperty(Xp,{vB:"layerStyle"},function(){return this.yw},function(t){this.Bd!==t&&(s.Da(t,Xp,Xp,"layerStyle"),t===Sc||t===Cc||t===Tc)&&(this.yw=t,this.L())}),s.defineProperty(Xp,{comments:"comments"},function(){return this.bi},function(t){this.bi!==t&&(s.h(t,"boolean",Xp,"comments"),this.bi=t,this.L())}),s.defineProperty(Xp,{eg:"arrangement"},function(){return this.Bd},function(t){this.Bd!==t&&(s.Da(t,Xp,Xp,"arrangement"),t===wc||t===kc||t===Pc)&&(this.Bd=t,this.L())}),s.defineProperty(Xp,{bF:"arrangementSpacing"},function(){return this.xg},function(t){s.l(t,yt,Xp,"arrangementSpacing"),this.xg.O(t)||(this.xg.assign(t),this.L())}),s.defineProperty(Xp,{CM:"rootDefaults"},function(){return this.Aa},function(t){this.Aa!==t&&(s.l(t,Ad,Xp,"rootDefaults"),this.Aa=t,this.L())}),s.defineProperty(Xp,{$K:"alternateDefaults"},function(){return this.Ba},function(t){this.Ba!==t&&(s.l(t,Ad,Xp,"alternateDefaults"),this.Ba=t,this.L())}),s.defineProperty(Xp,{sorting:"sorting"},function(){return this.Aa.sorting},function(t){this.Aa.sorting!==t&&(s.Da(t,Xp,Xp,"sorting"),t===ic||t===rc||t===oc||sc)&&(this.Aa.sorting=t,this.L())}),s.defineProperty(Xp,{comparer:"comparer"},function(){return this.Aa.comparer},function(t){this.Aa.comparer!==t&&(s.h(t,"function",Xp,"comparer"),this.Aa.comparer=t,this.L())}),s.defineProperty(Xp,{angle:"angle"},function(){return this.Aa.angle},function(t){this.Aa.angle!==t&&(s.h(t,"number",Xp,"angle"),0===t||90===t||180===t||270===t?(this.Aa.angle=t,this.L()):s.k("TreeLayout.angle must be 0, 90, 180, or 270"))}),s.defineProperty(Xp,{alignment:"alignment"},function(){return this.Aa.alignment},function(t){this.Aa.alignment!==t&&(s.Da(t,Xp,Xp,"alignment"),this.Aa.alignment=t,this.L())}),s.defineProperty(Xp,{nodeIndent:"nodeIndent"},function(){return this.Aa.nodeIndent},function(t){this.Aa.nodeIndent!==t&&(s.h(t,"number",Xp,"nodeIndent"),0<=t&&(this.Aa.nodeIndent=t,this.L()))}),s.defineProperty(Xp,{nodeIndentPastParent:"nodeIndentPastParent"},function(){return this.Aa.nodeIndentPastParent},function(t){this.Aa.nodeIndentPastParent!==t&&(s.h(t,"number",Xp,"nodeIndentPastParent"),0<=t&&1>=t&&(this.Aa.nodeIndentPastParent=t,this.L()))}),s.defineProperty(Xp,{nodeSpacing:"nodeSpacing"},function(){return this.Aa.nodeSpacing},function(t){this.Aa.nodeSpacing!==t&&(s.h(t,"number",Xp,"nodeSpacing"),this.Aa.nodeSpacing=t,this.L())}),s.defineProperty(Xp,{layerSpacing:"layerSpacing"},function(){return this.Aa.layerSpacing},function(t){this.Aa.layerSpacing!==t&&(s.h(t,"number",Xp,"layerSpacing"),this.Aa.layerSpacing=t,this.L())}),s.defineProperty(Xp,{layerSpacingParentOverlap:"layerSpacingParentOverlap"},function(){return this.Aa.layerSpacingParentOverlap},function(t){this.Aa.layerSpacingParentOverlap!==t&&(s.h(t,"number",Xp,"layerSpacingParentOverlap"),0<=t&&1>=t&&(this.Aa.layerSpacingParentOverlap=t,this.L()))}),s.defineProperty(Xp,{compaction:"compaction"},function(){return this.Aa.compaction},function(t){this.Aa.compaction!==t&&(s.Da(t,Xp,Xp,"compaction"),t===yc||t===vc)&&(this.Aa.compaction=t,this.L())}),s.defineProperty(Xp,{breadthLimit:"breadthLimit"},function(){return this.Aa.breadthLimit},function(t){this.Aa.breadthLimit!==t&&(s.h(t,"number",Xp,"breadthLimit"),0<=t&&(this.Aa.breadthLimit=t,this.L()))}),s.defineProperty(Xp,{rowSpacing:"rowSpacing"},function(){return this.Aa.rowSpacing},function(t){this.Aa.rowSpacing!==t&&(s.h(t,"number",Xp,"rowSpacing"),this.Aa.rowSpacing=t,this.L())}),s.defineProperty(Xp,{rowIndent:"rowIndent"},function(){return this.Aa.rowIndent},function(t){this.Aa.rowIndent!==t&&(s.h(t,"number",Xp,"rowIndent"),0<=t&&(this.Aa.rowIndent=t,this.L()))}),s.defineProperty(Xp,{commentSpacing:"commentSpacing"},function(){return this.Aa.commentSpacing},function(t){this.Aa.commentSpacing!==t&&(s.h(t,"number",Xp,"commentSpacing"),this.Aa.commentSpacing=t,this.L())}),s.defineProperty(Xp,{commentMargin:"commentMargin"},function(){return this.Aa.commentMargin},function(t){this.Aa.commentMargin!==t&&(s.h(t,"number",Xp,"commentMargin"),this.Aa.commentMargin=t,this.L())}),s.defineProperty(Xp,{setsPortSpot:"setsPortSpot"},function(){return this.Aa.setsPortSpot},function(t){this.Aa.setsPortSpot!==t&&(s.h(t,"boolean",Xp,"setsPortSpot"),this.Aa.setsPortSpot=t,this.L())}),s.defineProperty(Xp,{portSpot:"portSpot"},function(){return this.Aa.portSpot},function(t){s.l(t,Ct,Xp,"portSpot"),this.Aa.portSpot.O(t)||(this.Aa.portSpot=t,this.L())}),s.defineProperty(Xp,{setsChildPortSpot:"setsChildPortSpot"},function(){return this.Aa.setsChildPortSpot},function(t){this.Aa.setsChildPortSpot!==t&&(s.h(t,"boolean",Xp,"setsChildPortSpot"),this.Aa.setsChildPortSpot=t,this.L())}),s.defineProperty(Xp,{childPortSpot:"childPortSpot"},function(){return this.Aa.childPortSpot},function(t){s.l(t,Ct,Xp,"childPortSpot"),this.Aa.childPortSpot.O(t)||(this.Aa.childPortSpot=t,this.L())}),s.defineProperty(Xp,{kL:"alternateSorting"},function(){return this.Ba.sorting},function(t){this.Ba.sorting!==t&&(s.Da(t,Xp,Xp,"alternateSorting"),t===ic||t===rc||t===oc||sc)&&(this.Ba.sorting=t,this.L())}),s.defineProperty(Xp,{ZK:"alternateComparer"},function(){return this.Ba.comparer},function(t){this.Ba.comparer!==t&&(s.h(t,"function",Xp,"alternateComparer"),this.Ba.comparer=t,this.L())}),s.defineProperty(Xp,{TK:"alternateAngle"},function(){return this.Ba.angle},function(t){this.Ba.angle!==t&&(s.h(t,"number",Xp,"alternateAngle"),0===t||90===t||180===t||270===t)&&(this.Ba.angle=t,this.L())}),s.defineProperty(Xp,{SK:"alternateAlignment"},function(){return this.Ba.alignment},function(t){this.Ba.alignment!==t&&(s.Da(t,Xp,Xp,"alternateAlignment"),this.Ba.alignment=t,this.L())}),s.defineProperty(Xp,{cL:"alternateNodeIndent"},function(){return this.Ba.nodeIndent},function(t){this.Ba.nodeIndent!==t&&(s.h(t,"number",Xp,"alternateNodeIndent"),0<=t&&(this.Ba.nodeIndent=t,this.L()))}),s.defineProperty(Xp,{dL:"alternateNodeIndentPastParent"},function(){return this.Ba.nodeIndentPastParent},function(t){this.Ba.nodeIndentPastParent!==t&&(s.h(t,"number",Xp,"alternateNodeIndentPastParent"),0<=t&&1>=t&&(this.Ba.nodeIndentPastParent=t,this.L()))}),s.defineProperty(Xp,{eL:"alternateNodeSpacing"},function(){return this.Ba.nodeSpacing},function(t){this.Ba.nodeSpacing!==t&&(s.h(t,"number",Xp,"alternateNodeSpacing"),this.Ba.nodeSpacing=t,this.L())}),s.defineProperty(Xp,{aL:"alternateLayerSpacing"},function(){return this.Ba.layerSpacing},function(t){this.Ba.layerSpacing!==t&&(s.h(t,"number",Xp,"alternateLayerSpacing"),this.Ba.layerSpacing=t,this.L())}),s.defineProperty(Xp,{bL:"alternateLayerSpacingParentOverlap"},function(){return this.Ba.layerSpacingParentOverlap},function(t){this.Ba.layerSpacingParentOverlap!==t&&(s.h(t,"number",Xp,"alternateLayerSpacingParentOverlap"),0<=t&&1>=t&&(this.Ba.layerSpacingParentOverlap=t,this.L()))}),s.defineProperty(Xp,{YK:"alternateCompaction"},function(){return this.Ba.compaction},function(t){this.Ba.compaction!==t&&(s.Da(t,Xp,Xp,"alternateCompaction"),t===yc||t===vc)&&(this.Ba.compaction=t,this.L())}),s.defineProperty(Xp,{UK:"alternateBreadthLimit"},function(){return this.Ba.breadthLimit},function(t){this.Ba.breadthLimit!==t&&(s.h(t,"number",Xp,"alternateBreadthLimit"),0<=t&&(this.Ba.breadthLimit=t,this.L()))}),s.defineProperty(Xp,{hL:"alternateRowSpacing"},function(){return this.Ba.rowSpacing},function(t){this.Ba.rowSpacing!==t&&(s.h(t,"number",Xp,"alternateRowSpacing"),this.Ba.rowSpacing=t,this.L())}),s.defineProperty(Xp,{gL:"alternateRowIndent"},function(){return this.Ba.rowIndent},function(t){this.Ba.rowIndent!==t&&(s.h(t,"number",Xp,"alternateRowIndent"),0<=t&&(this.Ba.rowIndent=t,this.L()))}),s.defineProperty(Xp,{XK:"alternateCommentSpacing"},function(){return this.Ba.commentSpacing},function(t){this.Ba.commentSpacing!==t&&(s.h(t,"number",Xp,"alternateCommentSpacing"),this.Ba.commentSpacing=t,this.L())}),s.defineProperty(Xp,{WK:"alternateCommentMargin"},function(){return this.Ba.commentMargin},function(t){this.Ba.commentMargin!==t&&(s.h(t,"number",Xp,"alternateCommentMargin"),this.Ba.commentMargin=t,this.L())}),s.defineProperty(Xp,{jL:"alternateSetsPortSpot"},function(){return this.Ba.setsPortSpot},function(t){this.Ba.setsPortSpot!==t&&(s.h(t,"boolean",Xp,"alternateSetsPortSpot"),this.Ba.setsPortSpot=t,this.L())}),s.defineProperty(Xp,{fL:"alternatePortSpot"},function(){return this.Ba.portSpot},function(t){s.l(t,Ct,Xp,"alternatePortSpot"),this.Ba.portSpot.O(t)||(this.Ba.portSpot=t,this.L())}),s.defineProperty(Xp,{iL:"alternateSetsChildPortSpot"},function(){return this.Ba.setsChildPortSpot},function(t){this.Ba.setsChildPortSpot!==t&&(s.h(t,"boolean",Xp,"alternateSetsChildPortSpot"),this.Ba.setsChildPortSpot=t,this.L())}),s.defineProperty(Xp,{VK:"alternateChildPortSpot"},function(){return this.Ba.childPortSpot},function(t){s.l(t,Ct,Xp,"alternateChildPortSpot"),this.Ba.childPortSpot.O(t)||(this.Ba.childPortSpot=t,this.L())}),Xp.PathDefault=tc=s.s(Xp,"PathDefault",-1),Xp.PathDestination=ec=s.s(Xp,"PathDestination",0),Xp.PathSource=nc=s.s(Xp,"PathSource",1),Xp.SortingForwards=ic=s.s(Xp,"SortingForwards",10),Xp.SortingReverse=rc=s.s(Xp,"SortingReverse",11),Xp.SortingAscending=oc=s.s(Xp,"SortingAscending",12),Xp.SortingDescending=sc=s.s(Xp,"SortingDescending",13),Xp.AlignmentCenterSubtrees=ac=s.s(Xp,"AlignmentCenterSubtrees",20),Xp.AlignmentCenterChildren=lc=s.s(Xp,"AlignmentCenterChildren",21),Xp.AlignmentStart=hc=s.s(Xp,"AlignmentStart",22),Xp.AlignmentEnd=uc=s.s(Xp,"AlignmentEnd",23),Xp.AlignmentBus=cc=s.s(Xp,"AlignmentBus",24),Xp.AlignmentBusBranching=fc=s.s(Xp,"AlignmentBusBranching",25),Xp.AlignmentTopLeftBus=pc=s.s(Xp,"AlignmentTopLeftBus",26),Xp.AlignmentBottomRightBus=dc=s.s(Xp,"AlignmentBottomRightBus",27),Xp.CompactionNone=yc=s.s(Xp,"CompactionNone",30),Xp.CompactionBlock=vc=s.s(Xp,"CompactionBlock",31),Xp.StyleLayered=gc=s.s(Xp,"StyleLayered",40),Xp.StyleLastParents=mc=s.s(Xp,"StyleLastParents",41),Xp.StyleAlternating=bc=s.s(Xp,"StyleAlternating",42),Xp.StyleRootOnly=xc=s.s(Xp,"StyleRootOnly",43),Xp.ArrangementVertical=wc=s.s(Xp,"ArrangementVertical",50),Xp.ArrangementHorizontal=kc=s.s(Xp,"ArrangementHorizontal",51),Xp.ArrangementFixedRoots=Pc=s.s(Xp,"ArrangementFixedRoots",52),Xp.LayerIndividual=Sc=s.s(Xp,"LayerIndividual",60),Xp.LayerSiblings=Cc=s.s(Xp,"LayerSiblings",61),Xp.LayerUniform=Tc=s.s(Xp,"LayerUniform",62),s.Ta(jd,Ef),s.ka("TreeNetwork",jd),jd.prototype.createVertex=function(){return new Ad},jd.prototype.createEdge=function(){return new _d},s.Ta(Ad,If),s.ka("TreeVertex",Ad),Ad.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.sorting=t.sorting,this.comparer=t.comparer,this.angle=t.angle,this.alignment=t.alignment,this.nodeIndent=t.nodeIndent,this.nodeIndentPastParent=t.nodeIndentPastParent,this.nodeSpacing=t.nodeSpacing,this.layerSpacing=t.layerSpacing,this.layerSpacingParentOverlap=t.layerSpacingParentOverlap,this.compaction=t.compaction,this.breadthLimit=t.breadthLimit,this.rowSpacing=t.rowSpacing,this.rowIndent=t.rowIndent,this.commentSpacing=t.commentSpacing,this.commentMargin=t.commentMargin,this.setsPortSpot=t.setsPortSpot,this.portSpot=t.portSpot,this.setsChildPortSpot=t.setsChildPortSpot,this.childPortSpot=t.childPortSpot)},s.w(Ad,{Gn:"childrenCount"},function(){return this.children.length}),s.defineProperty(Ad,{BM:"relativePosition"},function(){return this.sa},function(t){this.sa.set(t)}),s.defineProperty(Ad,{OM:"subtreeSize"},function(){return this.tb},function(t){this.tb.set(t)}),s.defineProperty(Ad,{NM:"subtreeOffset"},function(){return this.Wa},function(t){this.Wa.set(t)}),s.Ta(_d,Rf),s.ka("TreeEdge",_d),_d.prototype.commit=function(){var t=this.link;if(null!==t&&!t.Nj){var e=this.network.Yb,n=null,i=null;switch(e.Wf){case ec:n=this.fromVertex,i=this.toVertex;break;case nc:n=this.toVertex,i=this.fromVertex;break;default:s.k("Unhandled path value "+e.Wf.toString())}if(null!==n&&null!==i)if(0!==(e=this.nt).x||0!==e.y||n.lK){i=n.ib;var o=Td(n),a=Md(n),l=n.rowSpacing;t.zo();var h,u,c=t.kf===tu,f=t.ic,p=0;if(t.Dm(),f||c){for(p=2;4<t.ta;)t.KG(2);h=t.m(1),u=t.m(2)}else{for(p=1;3<t.ta;)t.KG(1);h=t.m(0),u=t.m(t.ta-1)}var d=t.m(t.ta-1),y=0;0===o?(n.alignment===uc?(y=i.bottom+e.y,0===e.y&&h.y>d.y+n.rowIndent&&(y=Math.min(y,Math.max(h.y,y-Nd(n))))):n.alignment===hc?(y=i.top+e.y,0===e.y&&h.y<d.y-n.rowIndent&&(y=Math.max(y,Math.min(h.y,y+Nd(n))))):y=n.Rq||n.Sq&&1===n.maxGenerationCount?i.top-n.Wa.y+e.y:i.y+i.height/2+e.y,c?(t.B(p,h.x,y),t.B(++p,i.right+a,y),t.B(++p,i.right+a+(e.x-l)/3,y),t.B(++p,i.right+a+2*(e.x-l)/3,y),t.B(++p,i.right+a+(e.x-l),y),t.B(++p,u.x,y)):(f&&(t.B(p,i.right+a/2,h.y),p++),t.B(p,i.right+a/2,y),t.B(++p,i.right+a+e.x-(f?l/2:l),y),p++,f&&t.B(p,t.m(p-1).x,u.y))):90===o?(n.alignment===uc?(y=i.right+e.x,0===e.x&&h.x>d.x+n.rowIndent&&(y=Math.min(y,Math.max(h.x,y-Nd(n))))):n.alignment===hc?(y=i.left+e.x,0===e.x&&h.x<d.x-n.rowIndent&&(y=Math.max(y,Math.min(h.x,y+Nd(n))))):y=n.Rq||n.Sq&&1===n.maxGenerationCount?i.left-n.Wa.x+e.x:i.x+i.width/2+e.x,c?(t.B(p,y,h.y),t.B(++p,y,i.bottom+a),t.B(++p,y,i.bottom+a+(e.y-l)/3),t.B(++p,y,i.bottom+a+2*(e.y-l)/3),t.B(++p,y,i.bottom+a+(e.y-l)),t.B(++p,y,u.y)):(f&&(t.B(p,h.x,i.bottom+a/2),p++),t.B(p,y,i.bottom+a/2),t.B(++p,y,i.bottom+a+e.y-(f?l/2:l)),p++,f&&t.B(p,u.x,t.m(p-1).y))):180===o?(n.alignment===uc?(y=i.bottom+e.y,0===e.y&&h.y>d.y+n.rowIndent&&(y=Math.min(y,Math.max(h.y,y-Nd(n))))):n.alignment===hc?(y=i.top+e.y,0===e.y&&h.y<d.y-n.rowIndent&&(y=Math.max(y,Math.min(h.y,y+Nd(n))))):y=n.Rq||n.Sq&&1===n.maxGenerationCount?i.top-n.Wa.y+e.y:i.y+i.height/2+e.y,c?(t.B(p,h.x,y),t.B(++p,i.left-a,y),t.B(++p,i.left-a+(e.x+l)/3,y),t.B(++p,i.left-a+2*(e.x+l)/3,y),t.B(++p,i.left-a+(e.x+l),y),t.B(++p,u.x,y)):(f&&(t.B(p,i.left-a/2,h.y),p++),t.B(p,i.left-a/2,y),t.B(++p,i.left-a+e.x+(f?l/2:l),y),p++,f&&t.B(p,t.m(p-1).x,u.y))):270===o?(n.alignment===uc?(y=i.right+e.x,0===e.x&&h.x>d.x+n.rowIndent&&(y=Math.min(y,Math.max(h.x,y-Nd(n))))):n.alignment===hc?(y=i.left+e.x,0===e.x&&h.x<d.x-n.rowIndent&&(y=Math.max(y,Math.min(h.x,y+Nd(n))))):y=n.Rq||n.Sq&&1===n.maxGenerationCount?i.left-n.Wa.x+e.x:i.x+i.width/2+e.x,c?(t.B(p,y,h.y),t.B(++p,y,i.top-a),t.B(++p,y,i.top-a+(e.y+l)/3),t.B(++p,y,i.top-a+2*(e.y+l)/3),t.B(++p,y,i.top-a+(e.y+l)),t.B(++p,y,u.y)):(f&&(t.B(p,h.x,i.top-a/2),p++),t.B(p,y,i.top-a/2),t.B(++p,y,i.top-a+e.y+(f?l/2:l)),p++,f&&t.B(p,u.x,t.m(p-1).y))):s.k("Invalid angle "+o),t.Ej()}else o=n,a=i,r&&s.l(o,Ad,_d,"adjustRouteForAngleChange:parent"),r&&s.l(a,Ad,_d,"adjustRouteForAngleChange:child"),t=this.link,(n=Td(o))!==Td(a)&&(e=Md(o),i=o.ib,o=a.ib,0===n&&o.left-i.right<e+1||90===n&&o.top-i.bottom<e+1||180===n&&i.left-o.right<e+1||270===n&&i.top-o.bottom<e+1||(t.zo(),o=t.kf===tu,a=t.ic,l=od(this.fromVertex.alignment),t.Dm(),0===n?(n=i.right+e/2,o?4===t.ta&&(e=t.m(3).y,t.ia(1,n-20,t.m(1).y),t.B(2,n-20,e),t.B(3,n,e),t.B(4,n+20,e),t.ia(5,t.m(5).x,e)):a?l?t.ia(3,t.m(2).x,t.m(4).y):6===t.ta&&(t.ia(2,n,t.m(2).y),t.ia(3,n,t.m(3).y)):4===t.ta?t.B(2,n,t.m(2).y):3===t.ta?t.ia(1,n,t.m(2).y):2===t.ta&&t.B(1,n,t.m(1).y)):90===n?(e=i.bottom+e/2,o?4===t.ta&&(n=t.m(3).x,t.ia(1,t.m(1).x,e-20),t.B(2,n,e-20),t.B(3,n,e),t.B(4,n,e+20),t.ia(5,n,t.m(5).y)):a?l?t.ia(3,t.m(2).x,t.m(4).y):6===t.ta&&(t.ia(2,t.m(2).x,e),t.ia(3,t.m(3).x,e)):4===t.ta?t.B(2,t.m(2).x,e):3===t.ta?t.ia(1,t.m(2).x,e):2===t.ta&&t.B(1,t.m(1).x,e)):180===n?(n=i.left-e/2,o?4===t.ta&&(e=t.m(3).y,t.ia(1,n+20,t.m(1).y),t.B(2,n+20,e),t.B(3,n,e),t.B(4,n-20,e),t.ia(5,t.m(5).x,e)):a?l?t.ia(3,t.m(2).x,t.m(4).y):6===t.ta&&(t.ia(2,n,t.m(2).y),t.ia(3,n,t.m(3).y)):4===t.ta?t.B(2,n,t.m(2).y):3===t.ta?t.ia(1,n,t.m(2).y):2===t.ta&&t.B(1,n,t.m(1).y)):270===n&&(e=i.top-e/2,o?4===t.ta&&(n=t.m(3).x,t.ia(1,t.m(1).x,e+20),t.B(2,n,e+20),t.B(3,n,e),t.B(4,n,e-20),t.ia(5,n,t.m(5).y)):a?l?t.ia(3,t.m(2).x,t.m(4).y):6===t.ta&&(t.ia(2,t.m(2).x,e),t.ia(3,t.m(3).x,e)):4===t.ta?t.B(2,t.m(2).x,e):3===t.ta?t.ia(1,t.m(2).x,e):2===t.ta&&t.B(1,t.m(1).x,e)),t.Ej()))}},s.defineProperty(_d,{AM:"relativePoint"},function(){return this.nt},function(t){this.nt.set(t)}),s.Ta(Od,fa),Od.prototype.cloneProtected=function(t){fa.prototype.cloneProtected.call(this,t),t.element=this.af.cloneNode(!0)},Od.prototype.toString=function(){return"HTMLHost("+this.af.toString()+")#"+s.Nd(this)},Od.prototype.Wk=function(t,e){var n=this.af;if(null!==n){(i=this.fb(P)).x-=this.aa.width/2,i.y-=this.aa.height/2,i.x-=this.aa.x,i.y-=this.aa.y;var i=e.pC(i),r=e.Hj;null===r||r.contains(n)||r.appendChild(n),n.style.transform="matrix("+(r=this.transform).m11+","+r.m12+","+r.m21+","+r.m22+","+r.dx+","+r.dy+")",n.style.transformOrigin="0 0",r=i.y,n.style.left=i.x+"px",n.style.top=r+"px"}},Od.prototype.ho=function(t,e,n,i){var r=this.Ea;isFinite(r.width)&&(t=r.width),isFinite(r.height)&&(e=r.height),r=this.qf;var o=this.ah;n=Math.max(n,o.width),i=Math.max(i,o.height),t=Math.min(r.width,t),e=Math.min(r.height,e),t=Math.max(n,t),e=Math.max(i,e),null!==(n=this.af)&&(t=(e=n.getBoundingClientRect()).width,e=e.height),gt(this.fd,t,e),va(this,0,0,t,e)},Od.prototype.Cj=function(t,e,n,i){ba(this,t,e,n,i)},s.w(Od,{Ga:"naturalBounds"},function(){return this.fd}),s.defineProperty(Od,{element:"element"},function(){return this.af},function(t){var e=this.af;e!==t&&(t instanceof HTMLElement||s.k("HTMLHost.element must be an instance of Element."),this.af=t,t.className="HTMLHost",this.i("element",e,t),this.ra())}),i.version="1.8.14",e&&(e.module&&"object"==typeof e.module&&"object"==typeof e.module.exports?e.module.exports=i:e.define&&"function"==typeof e.define&&e.define.amd?(e.go=i,e.define(i)):e.go=i),"undefined"!=typeof t&&"object"==typeof t.exports&&(t.exports=i)}(window)},TILf:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("TToO"),r=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return Object(i.b)(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.value,n=t.subscriber;t.done?n.complete():(n.next(e),n.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.value,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(n("YaPU").a)},TToO:function(t,e,n){"use strict";e.b=function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"a",function(){return r});var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}},Veqx:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("TToO"),r=n("YaPU"),o=n("TILf"),s=n("+3/4"),a=n("1Q68"),l=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Object(i.b)(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var i=t[t.length-1];Object(a.a)(i)?t.pop():i=null;var r=t.length;return r>1?new e(t,i):1===r?new o.a(t[0],i):new s.a(i)},e.dispatch=function(t){var e=t.array,n=t.index,i=t.subscriber;n>=t.count?i.complete():(i.next(e[n]),i.closed||(t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.array,i=n.length,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{array:n,index:0,count:i,subscriber:t});for(var o=0;o<i&&!t.closed;o++)t.next(n[o]);t.complete()},e}(r.a)},VwZZ:function(t,e,n){"use strict";var i=n("BX3T"),r=n("dgOU"),o=n("/iUD"),s=n("GK6M"),a=n("fKB6"),l=n("TToO"),h=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return Object(l.b)(e,t),e}(Error);n.d(e,"a",function(){return u});var u=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,l=this._parents,u=this._unsubscribe,f=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,d=l?l.length:0;n;)n.remove(this),n=++p<d&&l[p]||null;if(Object(o.a)(u)&&Object(s.a)(u).call(this)===a.a&&(e=!0,t=t||(a.a.e instanceof h?c(a.a.e.errors):[a.a.e])),Object(i.a)(f))for(p=-1,d=f.length;++p<d;){var y=f[p];if(Object(r.a)(y)&&Object(s.a)(y.unsubscribe).call(y)===a.a){e=!0,t=t||[];var v=a.a.e;v instanceof h?t=t.concat(c(v.errors)):t.push(v)}}if(e)throw new h(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var i=n;(n=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function c(t){return t.reduce(function(t,e){return t.concat(e instanceof h?e.errors:e)},[])}},WT6e:function(t,e,n){"use strict";(function(t){n.d(e,"g",function(){return $t}),n.d(e,"Q",function(){return Kt}),n.d(e,"T",function(){return Jt}),n.d(e,"P",function(){return Yt}),n.d(e,"w",function(){return Wt}),n.d(e,"c",function(){return ot}),n.d(e,"A",function(){return lt}),n.d(e,"z",function(){return ht}),n.d(e,"b",function(){return ut}),n.d(e,"d",function(){return it}),n.d(e,"e",function(){return rt}),n.d(e,"S",function(){return be}),n.d(e,"K",function(){return Rt}),n.d(e,"V",function(){return Bt}),n.d(e,"s",function(){return qe}),n.d(e,"f",function(){return Ke}),n.d(e,"m",function(){return At}),n.d(e,"l",function(){return tt}),n.d(e,"E",function(){return We}),n.d(e,"F",function(){return Je}),n.d(e,"a",function(){return f}),n.d(e,"N",function(){return p}),n.d(e,"L",function(){return d}),n.d(e,"R",function(){return j}),n.d(e,"p",function(){return D}),n.d(e,"o",function(){return h}),n.d(e,"n",function(){return v}),n.d(e,"y",function(){return g}),n.d(e,"G",function(){return b}),n.d(e,"x",function(){return _t}),n.d(e,"B",function(){return ie}),n.d(e,"C",function(){return ee}),n.d(e,"D",function(){return ne}),n.d(e,"i",function(){return pt}),n.d(e,"j",function(){return wt}),n.d(e,"k",function(){return re}),n.d(e,"t",function(){return Ct}),n.d(e,"v",function(){return St}),n.d(e,"u",function(){return oe}),n.d(e,"H",function(){return he}),n.d(e,"I",function(){return ae}),n.d(e,"J",function(){return ce}),n.d(e,"M",function(){return fe}),n.d(e,"h",function(){return pe}),n.d(e,"q",function(){return Fe}),n.d(e,"r",function(){return Ie}),n.d(e,"O",function(){return ke}),n.d(e,"U",function(){return ze}),n.d(e,"_7",function(){return Se}),n.d(e,"X",function(){return ct}),n.d(e,"W",function(){return kt}),n.d(e,"_4",function(){return k}),n.d(e,"_10",function(){return M}),n.d(e,"_18",function(){return N}),n.d(e,"_8",function(){return nt}),n.d(e,"_9",function(){return et}),n.d(e,"Y",function(){return Bn}),n.d(e,"Z",function(){return oi}),n.d(e,"_0",function(){return ro}),n.d(e,"_1",function(){return fn}),n.d(e,"_2",function(){return Ni}),n.d(e,"_3",function(){return zn}),n.d(e,"_6",function(){return Rn}),n.d(e,"_11",function(){return Zn}),n.d(e,"_12",function(){return Yn}),n.d(e,"_14",function(){return vi}),n.d(e,"_16",function(){return ji}),n.d(e,"_19",function(){return Yi}),n.d(e,"_20",function(){return Qi}),n.d(e,"_13",function(){return Ge}),n.d(e,"_15",function(){return He}),n.d(e,"_17",function(){return Ue}),n.d(e,"_5",function(){return st});var i=n("TToO"),r=n("YaPU"),o=n("/nXB"),s=n("Rf9G"),a=n("g5jc"),l=n("VwZZ"),h=function(){function t(t){this._desc=t,this.ngMetadataName="InjectionToken"}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),u="__paramaters__";function c(t,e,n){var i=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,e);for(var r in i)this[r]=i[r]}}}(e);function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof r)return i.apply(this,t),this;var n,o=new((n=r).bind.apply(n,[void 0].concat(t)));return s.annotation=o,s;function s(t,e,n){for(var i=t.hasOwnProperty(u)?t[u]:Object.defineProperty(t,u,{value:[]})[u];i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(o),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}var f=new h("AnalyzeForEntryComponents"),p=function(){var t={Emulated:0,Native:1,None:2};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t}(),d=function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},y=new d("5.2.6"),v=c("Inject",function(t){return{token:t}}),g=c("Optional"),m=c("Self"),b=c("SkipSelf"),x="undefined"!=typeof window&&window,w="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,k=x||"undefined"!=typeof t&&t||w,P=Promise.resolve(0),S=null;function C(){if(!S){var t=k.Symbol;if(t&&t.iterator)S=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(S=i)}}return S}function T(t){"undefined"==typeof Zone?P.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function M(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function N(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(N).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function j(t){return t.__forward_ref__=j,t.toString=function(){return N(this())},t}function A(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===j?t():t}var _="__source",O=new Object,E=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=O),e===O)throw new Error("NullInjectorError: No provider for "+N(t)+"!");return e},t}(),D=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new H(t,e):new H(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=O,t.NULL=new E,t}(),L=function(t){return t},F=[],I=L,R=function(){return Array.prototype.slice.call(arguments)},V={},B=function(t){for(var e in t)if(t[e]===V)return e;throw Error("!prop")}({provide:String,useValue:V}),z=D.NULL,q=/\n/gm,G="\u0275",H=function(){function t(t,e,n){void 0===e&&(e=z),void 0===n&&(n=null),this.parent=e,this.source=n;var i=this._records=new Map;i.set(D,{token:D,fn:L,deps:F,value:this,useNew:!1}),function t(e,n){if(n)if((n=A(n))instanceof Array)for(var i=0;i<n.length;i++)t(e,n[i]);else{if("function"==typeof n)throw J("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw J("Unexpected provider",n);var r=A(n.provide),o=function(t){var e=function(t){var e=F,n=t.deps;if(n&&n.length){e=[];for(var i=0;i<n.length;i++){var r=6;if((l=A(n[i]))instanceof Array)for(var o=0,s=l;o<s.length;o++){var a=s[o];a instanceof g||a==g?r|=1:a instanceof b||a==b?r&=-3:a instanceof m||a==m?r&=-5:l=a instanceof v?a.token:A(a)}e.push({token:l,options:r})}}else if(t.useExisting){var l;e=[{token:l=A(t.useExisting),options:6}]}else if(!(n||B in t))throw J("'deps' required",t);return e}(t),n=L,i=F,r=!1,o=A(t.provide);if(B in t)i=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)r=!0,n=A(t.useClass);else{if("function"!=typeof o)throw J("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);r=!0,n=o}return{deps:e,fn:n,useNew:r,value:i}}(n);if(!0===n.multi){var s=e.get(r);if(s){if(s.fn!==R)throw U(r)}else e.set(r,s={token:n.provide,deps:[],useNew:!1,fn:R,value:F});s.deps.push({token:r=n,options:6})}var a=e.get(r);if(a&&a.fn==R)throw U(r);e.set(r,o)}}(i,t)}return t.prototype.get=function(t,e){var n=this._records.get(t);try{return function t(e,n,i,r,o){try{return function(e,n,i,r,o){var s,a;if(n){if((s=n.value)==I)throw Error(G+"Circular dependency");if(s===F){n.value=I;var l=n.useNew,h=n.fn,u=n.deps,c=F;if(u.length){c=[];for(var f=0;f<u.length;f++){var p=u[f],d=p.options,y=2&d?i.get(p.token):void 0;c.push(t(p.token,y,i,y||4&d?r:z,1&d?null:D.THROW_IF_NOT_FOUND))}}n.value=s=l?new((a=h).bind.apply(a,[void 0].concat(c))):h.apply(void 0,c)}}else s=r.get(e,o);return s}(e,n,i,r,o)}catch(t){throw t instanceof Error||(t=new Error(t)),(t.ngTempTokenPath=t.ngTempTokenPath||[]).unshift(e),n&&n.value==I&&(n.value=F),t}}(t,n,this._records,this.parent,e)}catch(e){var i=e.ngTempTokenPath;throw t[_]&&i.unshift(t[_]),e.message=K("\n"+e.message,i,this.source),e.ngTokenPath=i,e.ngTempTokenPath=null,e}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(N(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function U(t){return J("Cannot mix multi providers and regular providers",t)}function K(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==G?t.substr(2):t;var i=N(e);if(e instanceof Array)i=e.map(N).join(" -> ");else if("object"==typeof e){var r=[];for(var o in e)if(e.hasOwnProperty(o)){var s=e[o];r.push(o+":"+("string"==typeof s?JSON.stringify(s):N(s)))}i="{"+r.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+i+"]: "+t.replace(q,"\n  ")}function J(t,e){return new Error(K(t,e))}var W="ngDebugContext",Y="ngOriginalError",Z="ngErrorLogger";function X(t){return t[W]}function Q(t){return t[Y]}function $(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}var tt=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t[Z]||$}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?X(t)?X(t):this._findContext(Q(t)):null},t.prototype._findOriginalError=function(t){for(var e=Q(t);e&&Q(e);)e=Q(e);return e},t}();function et(t){return!!t&&"function"==typeof t.then}function nt(t){return!!t&&"function"==typeof t.subscribe}Function;var it=new h("Application Initializer"),rt=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();et(r)&&e.push(r)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),ot=new h("AppId");function st(){return""+at()+at()+at()}function at(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var lt=new h("Platform Initializer"),ht=new h("Platform ID"),ut=new h("appBootstrapListener"),ct=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t.ctorParameters=function(){return[]},t}();function ft(){throw new Error("Runtime compiler is not loaded")}var pt=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw ft()},t.prototype.compileModuleAsync=function(t){throw ft()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw ft()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw ft()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}(),dt=function(){},yt=function(){};function vt(t){var e=Error("No component factory found for "+N(t)+". Did you add it to @NgModule.entryComponents?");return e[bt]=t,e}var gt,mt,bt="ngComponent",xt=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw vt(t)},t}(),wt=function(){function t(){}return t.NULL=new xt,t}(),kt=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var i=0;i<t.length;i++){var r=t[i];this._factories.set(r.componentType,r)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw vt(t);return new Pt(e,this._ngModule)},t}(),Pt=function(t){function e(e,n){var i=t.call(this)||this;return i.factory=e,i.ngModule=n,i.selector=e.selector,i.componentType=e.componentType,i.ngContentSelectors=e.ngContentSelectors,i.inputs=e.inputs,i.outputs=e.outputs,i}return Object(i.b)(e,t),e.prototype.create=function(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)},e}(yt),St=function(){},Ct=function(){},Tt=function(){var t=k.wtf;return!(!t||!(gt=t.trace)||(mt=gt.events,0))}();function Mt(t,e){return null}var Nt=Tt?function(t,e){return void 0===e&&(e=null),mt.createScope(t,e)}:function(t,e){return Mt},jt=Tt?function(t,e){return gt.leaveScope(t,e),e}:function(t,e){return e},At=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(i.b)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,i){var r,o=function(t){return null},s=function(){return null};e&&"object"==typeof e?(r=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(r=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),i&&(s=this.__isAsync?function(){setTimeout(function(){return i()})}:function(){i()}));var a=t.prototype.subscribe.call(this,r,o,s);return e instanceof l.a&&e.add(a),a},e}(a.a),_t=function(){function t(t){var e,n=t.enableLongStackTrace,i=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new At(!1),this.onMicrotaskEmpty=new At(!1),this.onStable=new At(!1),this.onError=new At(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,i,r,o,s){try{return Lt(e),t.invokeTask(i,r,o,s)}finally{Ft(e)}},onInvoke:function(t,n,i,r,o,s,a){try{return Lt(e),t.invoke(i,r,o,s,a)}finally{Ft(e)}},onHasTask:function(t,n,i,r){t.hasTask(i,r),n===i&&("microTask"==r.change?(e.hasPendingMicrotasks=r.microTask,Dt(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,n,i,r){return t.handleError(i,r),e.runOutsideAngular(function(){return e.onError.emit(r)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,Et,Ot,Ot);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function Ot(){}var Et={};function Dt(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Lt(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ft(t){t._nesting--,Dt(t)}var It=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new At,this.onMicrotaskEmpty=new At,this.onStable=new At,this.onError=new At}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Rt=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){_t.assertNotInAngularZone(),T(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?T(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Vt=function(){function t(){this._applications=new Map,qt.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),qt.findTestabilityInTree(this,t,e)},t.ctorParameters=function(){return[]},t}();function Bt(t){qt=t}var zt,qt=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Gt=!0,Ht=!1,Ut=new h("AllowMultipleToken");function Kt(){if(Ht)throw new Error("Cannot enable prod mode after platform setup.");Gt=!1}function Jt(){return Ht=!0,Gt}var Wt=function(t,e){this.name=t,this.token=e};function Yt(t,e,n){void 0===n&&(n=[]);var i="Platform: "+e,r=new h(i);return function(e){void 0===e&&(e=[]);var o=Zt();if(!o||o.injector.get(Ut,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{var s=n.concat(e).concat({provide:r,useValue:!0});!function(t){if(zt&&!zt.destroyed&&!zt.injector.get(Ut,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");zt=t.get(Xt);var e=t.get(lt,null);e&&e.forEach(function(t){return t()})}(D.create({providers:s,name:i}))}return function(t){var e=Zt();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Zt(){return zt&&!zt.destroyed?zt:null}var Xt=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,i=this,r="noop"===(n=e?e.ngZone:void 0)?new It:("zone.js"===n?void 0:n)||new _t({enableLongStackTrace:Jt()}),o=[{provide:_t,useValue:r}];return r.run(function(){var e=D.create({providers:o,parent:i.injector,name:t.moduleType.name}),n=t.create(e),s=n.injector.get(tt,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return te(i._modules,n)}),r.runOutsideAngular(function(){return r.onError.subscribe({next:function(t){s.handleError(t)}})}),function(t,e,r){try{var o=((s=n.injector.get(rt)).runInitializers(),s.donePromise.then(function(){return i._moduleDoBootstrap(n),n}));return et(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}var s}(s,r)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var i=this.injector.get(dt),r=Qt({},e);return i.createCompiler([r]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,r)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get($t);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+N(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function Qt(t,e){return Array.isArray(e)?e.reduce(Qt,t):Object(i.a)({},t,e)}var $t=function(){function t(t,e,n,i,a,l){var h=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=a,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Jt(),this._zone.onMicrotaskEmpty.subscribe({next:function(){h._zone.run(function(){h.tick()})}});var u=new r.a(function(t){h._stable=h._zone.isStable&&!h._zone.hasPendingMacrotasks&&!h._zone.hasPendingMicrotasks,h._zone.runOutsideAngular(function(){t.next(h._stable),t.complete()})}),c=new r.a(function(t){var e;h._zone.runOutsideAngular(function(){e=h._zone.onStable.subscribe(function(){_t.assertNotInAngularZone(),T(function(){h._stable||h._zone.hasPendingMacrotasks||h._zone.hasPendingMicrotasks||(h._stable=!0,t.next(!0))})})});var n=h._zone.onUnstable.subscribe(function(){_t.assertInAngularZone(),h._stable&&(h._stable=!1,h._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,s.a.call(c))}return t.prototype.bootstrap=function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof yt?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var r=n instanceof Pt?null:this._injector.get(St),o=n.create(D.NULL,[],e||n.selector,r);o.onDestroy(function(){i._unloadComponent(o)});var s=o.injector.get(Rt,null);return s&&o.injector.get(Vt).registerApplication(o.location.nativeElement,s),this._loadComponent(o),Jt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,jt(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;te(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ut,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),te(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Nt("ApplicationRef#tick()"),t}();function te(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var ee=function(){},ne=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),ie=function(){},re=function(t){this.nativeElement=t},oe=function(){},se=function(){function t(){this.dirty=!0,this._results=[],this.changes=new At,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[C()]=function(){return this._results[C()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var i=Array.isArray(n)?t(n):n;return e.concat(i)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),ae=function(){},le={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},he=function(){function t(t,e){this._compiler=t,this._config=e||le}return t.prototype.load=function(t){return this._compiler instanceof pt?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=t.split("#"),r=i[0],o=i[1];return void 0===o&&(o="default"),n("Jnfr")(r).then(function(t){return t[o]}).then(function(t){return ue(t,r,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split("#"),i=e[0],r=e[1],o="NgFactory";return void 0===r&&(r="default",o=""),n("Jnfr")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[r+o]}).then(function(t){return ue(t,i,r)})},t}();function ue(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var ce=function(){},fe=function(){},pe=function(){},de=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof ye?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),ye=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.properties={},r.attributes={},r.classes={},r.styles={},r.childNodes=[],r.nativeElement=e,r}return Object(i.b)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,i=this,r=this.childNodes.indexOf(t);-1!==r&&((n=this.childNodes).splice.apply(n,[r+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=i}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return ve(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return ge(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(de);function ve(t,e,n){t.childNodes.forEach(function(t){t instanceof ye&&(e(t)&&n.push(t),ve(t,e,n))})}function ge(t,e,n){t instanceof ye&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof ye&&ge(t,e,n)})}var me=new Map;function be(t){return me.get(t)||null}function xe(t){me.set(t.nativeNode,t)}function we(t,e){var n=Se(t),i=Se(e);return n&&i?function(t,e,n){for(var i=t[C()](),r=e[C()]();;){var o=i.next(),s=r.next();if(o.done&&s.done)return!0;if(o.done||s.done)return!1;if(!n(o.value,s.value))return!1}}(t,e,we):!(n||!t||"object"!=typeof t&&"function"!=typeof t||i||!e||"object"!=typeof e&&"function"!=typeof e)||M(t,e)}var ke=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),Pe=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function Se(t){return!!Ce(t)&&(Array.isArray(t)||!(t instanceof Map)&&C()in t)}function Ce(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var Te=function(){function t(){}return t.prototype.supports=function(t){return Se(t)},t.prototype.create=function(t){return new Ne(t)},t}(),Me=function(t,e){return e},Ne=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Me}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var o=!n||e&&e.currentIndex<Oe(n,i,r)?e:n,s=Oe(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);var l=s-i,h=a-i;if(l!=h){for(var u=0;u<l;u++){var c=u<r.length?r[u]:r[u]=0,f=c+u;h<=f&&f<l&&(r[u]=c+1)}r[o.previousIndex]=h-l}}s!==a&&t(o,s,a)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Se(t))throw new Error("Error trying to diff '"+N(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,i,r,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=this._trackByFn(a,i=t[a]),null!==o&&M(o.trackById,r)?(s&&(o=this._verifyReinsertion(o,i,r,a)),M(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,a),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i=t[C()](),r=void 0;!(r=i.next()).done;)e(r.value)}(t,function(t){r=e._trackByFn(n,t),null!==o&&M(o.trackById,r)?(s&&(o=e._verifyReinsertion(o,t,r,n)),M(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,r,n),s=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(M(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(M(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new je(e,n),r,i),t},t.prototype._verifyReinsertion=function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new _e),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _e),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),je=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ae=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&M(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),_e=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Ae,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Oe(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var Ee=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Ce(t)},t.prototype.create=function(){return new De},t}(),De=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Ce(t)))throw new Error("Error trying to diff '"+N(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new Le(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){M(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Le=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Fe=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var i=n.factories.slice();return new t(e=e.concat(i))}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new g]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t}(),Ie=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new g]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),Re=[new Ee],Ve=new Fe([new Te]),Be=new Ie(Re),ze=Yt(null,"core",[{provide:ht,useValue:"unknown"},{provide:Xt,deps:[D]},{provide:Vt,deps:[]},{provide:ct,deps:[]}]),qe=new h("LocaleId");function Ge(){return Ve}function He(){return Be}function Ue(t){return t||"en-US"}var Ke=function(t){},Je=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),We=function(){};function Ye(t,e,n){var i=t.state,r=1792&i;return r===e?(t.state=-1793&i|n,t.initIndex=-1,!0):r===n}function Ze(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Xe(t,e){return t.nodes[e]}function Qe(t,e){return t.nodes[e]}function $e(t,e){return t.nodes[e]}function tn(t,e){return t.nodes[e]}function en(t,e){return t.nodes[e]}var nn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function rn(t,e,n,i){var r="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return on(n,e),n}(r,t)}function on(t,e){t[W]=e,t[Z]=e.logError.bind(e)}function sn(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var an=function(){},ln=new Map;function hn(t){var e=ln.get(t);return e||(e=N(t)+"_"+ln.size,ln.set(t,e)),e}var un="$$undefined",cn="$$empty";function fn(t){return{id:un,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var pn=0;function dn(t,e,n,i){return!(!(2&t.state)&&M(t.oldValues[e.bindingIndex+n],i))}function yn(t,e,n,i){return!!dn(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function vn(t,e,n,i){var r=t.oldValues[e.bindingIndex+n];if(1&t.state||!we(r,i)){var o=e.bindings[n].name;throw rn(nn.createDebugContext(t,e.nodeIndex),o+": "+r,o+": "+i,0!=(1&t.state))}}function gn(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function mn(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function bn(t,e,n,i){try{return gn(33554432&t.def.nodes[e].flags?Qe(t,e).componentView:t),nn.handleEvent(t,e,n,i)}catch(e){t.root.errorHandler.handleError(e)}}function xn(t){return t.parent?Qe(t.parent,t.parentNodeDef.nodeIndex):null}function wn(t){return t.parent?t.parentNodeDef.parent:null}function kn(t,e){switch(201347067&e.flags){case 1:return Qe(t,e.nodeIndex).renderElement;case 2:return Xe(t,e.nodeIndex).renderText}}function Pn(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Sn(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Cn(t){var e={},n=0,i={};return t&&t.forEach(function(t){var r=t[0],o=t[1];"number"==typeof r?(e[r]=o,n|=function(t){return 1<<t%32}(r)):i[r]=o}),{matchedQueries:e,references:i,matchedQueryIds:n}}function Tn(t,e){return t.map(function(t){var n,i;return Array.isArray(t)?(i=t[0],n=t[1]):(i=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,_,{value:e,configurable:!0}),{flags:i,token:n,tokenKey:hn(n)}})}function Mn(t,e,n){var i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===p.Native?Qe(t,n.renderParent.nodeIndex).renderElement:void 0:e}var Nn=new WeakMap;function jn(t){var e=Nn.get(t);return e||((e=t(function(){return an})).factory=t,Nn.set(t,e)),e}function An(t,e,n,i,r){3===e&&(n=t.renderer.parentNode(kn(t,t.def.lastRenderRootNode))),_n(t,e,0,t.def.nodes.length-1,n,i,r)}function _n(t,e,n,i,r,o,s){for(var a=n;a<=i;a++){var l=t.def.nodes[a];11&l.flags&&En(t,l,e,r,o,s),a+=l.childCount}}function On(t,e,n,i,r,o){for(var s=t;s&&!Pn(s);)s=s.parent;for(var a=s.parent,l=wn(s),h=l.nodeIndex+l.childCount,u=l.nodeIndex+1;u<=h;u++){var c=a.def.nodes[u];c.ngContentIndex===e&&En(a,c,n,i,r,o),u+=c.childCount}if(!a.parent){var f=t.root.projectableNodes[e];if(f)for(u=0;u<f.length;u++)Dn(t,f[u],n,i,r,o)}}function En(t,e,n,i,r,o){if(8&e.flags)On(t,e.ngContent.index,n,i,r,o);else{var s=kn(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Dn(t,s,n,i,r,o),32&e.bindingFlags&&Dn(Qe(t,e.nodeIndex).componentView,s,n,i,r,o)):Dn(t,s,n,i,r,o),16777216&e.flags)for(var a=Qe(t,e.nodeIndex).viewContainer._embeddedViews,l=0;l<a.length;l++)An(a[l],n,i,r,o);1&e.flags&&!e.element.name&&_n(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,r,o)}}function Dn(t,e,n,i,r,o){var s=t.renderer;switch(n){case 1:s.appendChild(i,e);break;case 2:s.insertBefore(i,e,r);break;case 3:s.removeChild(i,e);break;case 0:o.push(e)}}var Ln=/^:([^:]+):(.+)$/;function Fn(t){if(":"===t[0]){var e=t.match(Ln);return[e[1],e[2]]}return["",t]}function In(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Rn(t,e,n,i,r,o,s,a,l,h,u,c,f,p,d,y,v,g,m,b){switch(t){case 1:return e+Vn(n)+i;case 2:return e+Vn(n)+i+Vn(r)+o;case 3:return e+Vn(n)+i+Vn(r)+o+Vn(s)+a;case 4:return e+Vn(n)+i+Vn(r)+o+Vn(s)+a+Vn(l)+h;case 5:return e+Vn(n)+i+Vn(r)+o+Vn(s)+a+Vn(l)+h+Vn(u)+c;case 6:return e+Vn(n)+i+Vn(r)+o+Vn(s)+a+Vn(l)+h+Vn(u)+c+Vn(f)+p;case 7:return e+Vn(n)+i+Vn(r)+o+Vn(s)+a+Vn(l)+h+Vn(u)+c+Vn(f)+p+Vn(d)+y;case 8:return e+Vn(n)+i+Vn(r)+o+Vn(s)+a+Vn(l)+h+Vn(u)+c+Vn(f)+p+Vn(d)+y+Vn(v)+g;case 9:return e+Vn(n)+i+Vn(r)+o+Vn(s)+a+Vn(l)+h+Vn(u)+c+Vn(f)+p+Vn(d)+y+Vn(v)+g+Vn(m)+b;default:throw new Error("Does not support more than 9 expressions")}}function Vn(t){return null!=t?t.toString():""}function Bn(t,e,n,i,r,o){t|=1;var s=Cn(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s.matchedQueries,matchedQueryIds:s.matchedQueryIds,references:s.references,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?jn(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||an},provider:null,text:null,query:null,ngContent:null}}function zn(t,e,n,i,r,o,s,a,l,h,u,c){void 0===s&&(s=[]),h||(h=an);var f=Cn(n),d=f.matchedQueries,y=f.references,v=f.matchedQueryIds,g=null,m=null;o&&(g=(_=Fn(o))[0],m=_[1]),a=a||[];for(var b=new Array(a.length),x=0;x<a.length;x++){var w=a[x],k=w[0],P=w[2],S=Fn(w[1]),C=S[0],T=S[1],M=void 0,N=void 0;switch(15&k){case 4:N=P;break;case 1:case 8:M=P}b[x]={flags:k,ns:C,name:T,nonMinifiedName:T,securityContext:M,suffix:N}}l=l||[];var j=new Array(l.length);for(x=0;x<l.length;x++){var A=l[x];j[x]={type:0,target:A[0],eventName:A[1],propName:null}}var _,O=(s=s||[]).map(function(t){var e=t[1],n=Fn(t[0]);return[n[0],n[1],e]});return c=function(t){if(t&&t.id===un){var e=null!=t.encapsulation&&t.encapsulation!==p.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+pn++:cn}return t&&t.id===cn&&(t=null),t||null}(c),u&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:v,references:y,ngContentIndex:i,childCount:r,bindings:b,bindingFlags:In(b),outputs:j,element:{ns:g,name:m,attrs:O,template:null,componentProvider:null,componentView:u||null,componentRendererType:c,publicProviders:null,allProviders:null,handleEvent:h||an},provider:null,text:null,query:null,ngContent:null}}function qn(t,e,n){var i,r=n.element,o=t.root.selectorOrNode,s=t.renderer;if(t.parent||!o){i=r.name?s.createElement(r.name,r.ns):s.createComment("");var a=Mn(t,e,n);a&&s.appendChild(a,i)}else i=s.selectRootElement(o);if(r.attrs)for(var l=0;l<r.attrs.length;l++){var h=r.attrs[l];s.setAttribute(i,h[1],h[2],h[0])}return i}function Gn(t,e,n,i){for(var r=0;r<n.outputs.length;r++){var o=n.outputs[r],s=Hn(t,n.nodeIndex,(c=o.eventName,(u=o.target)?u+":"+c:c)),a=o.target,l=t;"component"===o.target&&(a=null,l=e);var h=l.renderer.listen(a||i,o.eventName,s);t.disposables[n.outputIndex+r]=h}var u,c}function Hn(t,e,n){return function(i){return bn(t,e,n,i)}}function Un(t,e,n,i){if(!yn(t,e,n,i))return!1;var r=e.bindings[n],o=Qe(t,e.nodeIndex),s=o.renderElement,a=r.name;switch(15&r.flags){case 1:!function(t,e,n,i,r,o){var s=e.securityContext,a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;var l=t.renderer;null!=o?l.setAttribute(n,r,a,i):l.removeAttribute(n,r,i)}(t,r,s,r.ns,a,i);break;case 2:!function(t,e,n,i){var r=t.renderer;i?r.addClass(e,n):r.removeClass(e,n)}(t,s,a,i);break;case 4:!function(t,e,n,i,r){var o=t.root.sanitizer.sanitize(Je.STYLE,r);if(null!=o){o=o.toString();var s=e.suffix;null!=s&&(o+=s)}else o=null;var a=t.renderer;null!=o?a.setStyle(n,i,o):a.removeStyle(n,i)}(t,r,s,a,i);break;case 8:!function(t,e,n,i,r){var o=e.securityContext,s=o?t.root.sanitizer.sanitize(o,r):r;t.renderer.setProperty(n,i,s)}(33554432&e.flags&&32&r.flags?o.componentView:t,r,s,a,i)}return!0}var Kn=new Object,Jn=hn(D),Wn=hn(St);function Yn(t,e,n,i){return n=A(n),{index:-1,deps:Tn(i,N(e)),flags:t,token:e,value:n}}function Zn(t){for(var e={},n=0;n<t.length;n++){var i=t[n];i.index=n,e[hn(i.token)]=i}return{factory:null,providersByKey:e,providers:t}}function Xn(t,e,n){if(void 0===n&&(n=D.THROW_IF_NOT_FOUND),8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var i=e.tokenKey;switch(i){case Jn:case Wn:return t}var r=t._def.providersByKey[i];if(r){var o=t._providers[r.index];return void 0===o&&(o=t._providers[r.index]=Qn(t,r)),o===Kn?void 0:o}return t._parent.get(e.token,n)}function Qn(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(Xn(t,n[0]));case 2:return new e(Xn(t,n[0]),Xn(t,n[1]));case 3:return new e(Xn(t,n[0]),Xn(t,n[1]),Xn(t,n[2]));default:for(var r=new Array(i),o=0;o<i;o++)r[o]=Xn(t,n[o]);return new(e.bind.apply(e,[void 0].concat(r)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(Xn(t,n[0]));case 2:return e(Xn(t,n[0]),Xn(t,n[1]));case 3:return e(Xn(t,n[0]),Xn(t,n[1]),Xn(t,n[2]));default:for(var r=Array(i),o=0;o<i;o++)r[o]=Xn(t,n[o]);return e.apply(void 0,r)}}(t,e.value,e.deps);break;case 2048:n=Xn(t,e.deps[0]);break;case 256:n=e.value}return void 0===n?Kn:n}function $n(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var i=n[e];return i.viewContainerParent=null,ii(n,e),nn.dirtyParentQueries(i),ei(i),i}function ti(t,e,n){var i=e?kn(e,e.def.lastRenderRootNode):t.renderElement;An(n,2,n.renderer.parentNode(i),n.renderer.nextSibling(i),void 0)}function ei(t){An(t,3,null,null,void 0)}function ni(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ii(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var ri=new Object;function oi(t,e,n,i,r,o){return new si(t,e,n,i,r,o)}var si=function(t){function e(e,n,i,r,o,s){var a=t.call(this)||this;return a.selector=e,a.componentType=n,a._inputs=r,a._outputs=o,a.ngContentSelectors=s,a.viewDefFactory=i,a}return Object(i.b)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,i){if(!i)throw new Error("ngModule should be provided");var r=jn(this.viewDefFactory),o=r.nodes[0].element.componentProvider.nodeIndex,s=nn.createRootView(t,e||[],n,r,i,ri),a=$e(s,o).instance;return n&&s.renderer.setAttribute(Qe(s,0).renderElement,"ng-version",y.full),new ai(s,new ci(s),a)},e}(yt),ai=function(t){function e(e,n,i){var r=t.call(this)||this;return r._view=e,r._viewRef=n,r._component=i,r._elDef=r._view.def.nodes[0],r.hostView=n,r.changeDetectorRef=n,r.instance=i,r}return Object(i.b)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new re(Qe(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new yi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(function(){});function li(t,e,n){return new hi(t,e,n)}var hi=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new re(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new yi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=wn(t),t=t.parent;return t?new yi(t,e):new yi(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=$n(this._data,t);nn.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new ci(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i},t.prototype.createComponent=function(t,e,n,i,r){var o=n||this.parentInjector;r||t instanceof Pt||(r=o.get(St));var s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,i,r,o,s=t;return r=s._view,o=(n=this._data).viewContainer._embeddedViews,null!==(i=e)&&void 0!==i||(i=o.length),r.viewContainerParent=this._view,ni(o,i,r),function(t,e){var n=xn(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var i=n.parent;i;)i.childFlags|=4,i=i.parent}}(0,e.parentNodeDef)}}(n,r),nn.dirtyParentQueries(r),ti(n,i>0?o[i-1]:null,r),s.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,i,r,o,s,a=this._embeddedViews.indexOf(t._view);return r=e,s=(o=(n=this._data).viewContainer._embeddedViews)[i=a],ii(o,i),null==r&&(r=o.length),ni(o,r,s),nn.dirtyParentQueries(s),ei(s),ti(n,r>0?o[r-1]:null,s),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=$n(this._data,t);e&&nn.destroyView(e)},t.prototype.detach=function(t){var e=$n(this._data,t);return e?new ci(e):null},t}();function ui(t){return new ci(t)}var ci=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return An(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){gn(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{nn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){nn.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),nn.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,ei(this._view),nn.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function fi(t,e){return new pi(t,e)}var pi=function(t){function e(e,n){var i=t.call(this)||this;return i._parentView=e,i._def=n,i}return Object(i.b)(e,t),e.prototype.createEmbeddedView=function(t){return new ci(nn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new re(Qe(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(ce);function di(t,e){return new yi(t,e)}var yi=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=D.THROW_IF_NOT_FOUND),nn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:hn(t)},e)},t}();function vi(t,e){var n=t.def.nodes[e];if(1&n.flags){var i=Qe(t,n.nodeIndex);return n.element.template?i.template:i.renderElement}if(2&n.flags)return Xe(t,n.nodeIndex).renderText;if(20240&n.flags)return $e(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function gi(t){return new mi(t.renderer)}var mi=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Fn(e),i=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t),r=0;r<e.length;r++)this.delegate.insertBefore(n,e[r],i)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=Fn(e),r=i[0],o=i[1];null!=n?this.delegate.setAttribute(t,o,n,r):this.delegate.removeAttribute(t,o,r)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function bi(t,e,n,i){return new xi(t,e,n,i)}var xi=function(){function t(t,e,n,i){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),i=0;i<e.providers.length;i++){var r=e.providers[i];4096&r.flags||(n[i]=Qn(t,r))}}(this)}return t.prototype.get=function(t,e){return void 0===e&&(e=D.THROW_IF_NOT_FOUND),Xn(this,{token:t,tokenKey:hn(t),flags:0},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(wt)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+N(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var r=t._providers[i];r&&r!==Kn&&r.ngOnDestroy()}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),wi=hn(function(){}),ki=hn(ie),Pi=hn(re),Si=hn(fe),Ci=hn(ce),Ti=hn(pe),Mi=hn(D);function Ni(t,e,n,i,r,o,s,a){var l=[];if(s)for(var h in s){var u=s[h];l[u[0]]={flags:8,name:h,nonMinifiedName:u[1],ns:null,securityContext:null,suffix:null}}var c=[];if(a)for(var f in a)c.push({type:1,propName:f,target:null,eventName:a[f]});return Ai(t,e|=16384,n,i,r,r,o,l,c)}function ji(t,e,n,i,r){return Ai(-1,t,e,0,n,i,r)}function Ai(t,e,n,i,r,o,s,a,l){var h=Cn(n),u=h.matchedQueries,c=h.references,f=h.matchedQueryIds;l||(l=[]),a||(a=[]),o=A(o);var p=Tn(s,N(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:f,references:c,ngContentIndex:-1,childCount:i,bindings:a,bindingFlags:In(a),outputs:l,element:null,provider:{token:r,value:o,deps:p},text:null,query:null,ngContent:null}}function _i(t,e){return Li(t,e)}function Oi(t,e){for(var n=t;n.parent&&!Pn(n);)n=n.parent;return Fi(n.parent,wn(n),!0,e.provider.value,e.provider.deps)}function Ei(t,e){var n=Fi(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var i=0;i<e.outputs.length;i++){var r=e.outputs[i],o=n[r.propName].subscribe(Di(t,e.parent.nodeIndex,r.eventName));t.disposables[e.outputIndex+i]=o.unsubscribe.bind(o)}return n}function Di(t,e,n){return function(i){return bn(t,e,n,i)}}function Li(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return Fi(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,r){var o=r.length;switch(o){case 0:return i();case 1:return i(Ri(t,e,n,r[0]));case 2:return i(Ri(t,e,n,r[0]),Ri(t,e,n,r[1]));case 3:return i(Ri(t,e,n,r[0]),Ri(t,e,n,r[1]),Ri(t,e,n,r[2]));default:for(var s=Array(o),a=0;a<o;a++)s[a]=Ri(t,e,n,r[a]);return i.apply(void 0,s)}}(t,e.parent,n,i.value,i.deps);case 2048:return Ri(t,e.parent,n,i.deps[0]);case 256:return i.value}}function Fi(t,e,n,i,r){var o=r.length;switch(o){case 0:return new i;case 1:return new i(Ri(t,e,n,r[0]));case 2:return new i(Ri(t,e,n,r[0]),Ri(t,e,n,r[1]));case 3:return new i(Ri(t,e,n,r[0]),Ri(t,e,n,r[1]),Ri(t,e,n,r[2]));default:for(var s=new Array(o),a=0;a<o;a++)s[a]=Ri(t,e,n,r[a]);return new(i.bind.apply(i,[void 0].concat(s)))}}var Ii={};function Ri(t,e,n,i,r){if(void 0===r&&(r=D.THROW_IF_NOT_FOUND),8&i.flags)return i.token;var o=t;2&i.flags&&(r=null);var s=i.tokenKey;for(s===Ti&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);t;){if(e)switch(s){case wi:return gi(Vi(t,e,n));case ki:return Vi(t,e,n).renderer;case Pi:return new re(Qe(t,e.nodeIndex).renderElement);case Si:return Qe(t,e.nodeIndex).viewContainer;case Ci:if(e.element.template)return Qe(t,e.nodeIndex).template;break;case Ti:return ui(Vi(t,e,n));case Mi:return di(t,e);default:var a=(n?e.element.allProviders:e.element.publicProviders)[s];if(a){var l=$e(t,a.nodeIndex);return l||(l={instance:Li(t,a)},t.nodes[a.nodeIndex]=l),l.instance}}n=Pn(t),e=wn(t),t=t.parent}var h=o.root.injector.get(i.token,Ii);return h!==Ii||r===Ii?h:o.root.ngModule.injector.get(i.token,r)}function Vi(t,e,n){var i;if(n)i=Qe(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!Pn(i);)i=i.parent;return i}function Bi(t,e,n,i,r,o){if(32768&n.flags){var s=Qe(t,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(e.instance[n.bindings[i].name]=r,524288&n.flags){o=o||{};var a=ke.unwrap(t.oldValues[n.bindingIndex+i]);o[n.bindings[i].nonMinifiedName]=new Pe(a,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=r,o}function zi(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,i=0,r=0;r<n.length;r++){var o=n[r],s=o.parent;for(!s&&o.flags&e&&Gi(t,r,o.flags&e,i++),0==(o.childFlags&e)&&(r+=o.childCount);s&&1&s.flags&&r===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(i=qi(t,s,e,i)),s=s.parent}}function qi(t,e,n,i){for(var r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){var o=t.def.nodes[r];o.flags&n&&Gi(t,r,o.flags&n,i++),r+=o.childCount}return i}function Gi(t,e,n,i){var r=$e(t,e);if(r){var o=r.instance;o&&(nn.setCurrentNode(t,e),1048576&n&&Ze(t,512,i)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Ze(t,768,i)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function Hi(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Sn(t);){var n=t.parentNodeDef;t=t.parent;for(var i=n.nodeIndex+n.childCount,r=0;r<=i;r++)67108864&(o=t.def.nodes[r]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&en(t,r).setDirty(),!(1&o.flags&&r+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(r+=o.childCount)}if(134217728&t.def.nodeFlags)for(r=0;r<t.def.nodes.length;r++){var o;134217728&(o=t.def.nodes[r]).flags&&536870912&o.flags&&en(t,r).setDirty(),r+=o.childCount}}function Ui(t,e){var n=en(t,e.nodeIndex);if(n.dirty){var i,r=void 0;if(67108864&e.flags){var o=e.parent.parent;r=Ki(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),i=$e(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=Ki(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(r);for(var s=e.query.bindings,a=!1,l=0;l<s.length;l++){var h=s[l],u=void 0;switch(h.bindingType){case 0:u=n.first;break;case 1:u=n,a=!0}i[h.propName]=u}a&&n.notifyOnChanges()}}function Ki(t,e,n,i,r){for(var o=e;o<=n;o++){var s=t.def.nodes[o],a=s.matchedQueries[i.id];if(null!=a&&r.push(Ji(t,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&i.filterId)===i.filterId){var l=Qe(t,o);if((s.childMatchedQueries&i.filterId)===i.filterId&&(Ki(t,o+1,o+s.childCount,i,r),o+=s.childCount),16777216&s.flags)for(var h=l.viewContainer._embeddedViews,u=0;u<h.length;u++){var c=h[u],f=xn(c);f&&f===l&&Ki(c,0,c.def.nodes.length-1,i,r)}var p=l.template._projectedViews;if(p)for(u=0;u<p.length;u++){var d=p[u];Ki(d,0,d.def.nodes.length-1,i,r)}}(s.childMatchedQueries&i.filterId)!==i.filterId&&(o+=s.childCount)}return r}function Ji(t,e,n){if(null!=n)switch(n){case 1:return Qe(t,e.nodeIndex).renderElement;case 0:return new re(Qe(t,e.nodeIndex).renderElement);case 2:return Qe(t,e.nodeIndex).template;case 3:return Qe(t,e.nodeIndex).viewContainer;case 4:return $e(t,e.nodeIndex).instance}}function Wi(t,e,n){var i=Mn(t,e,n);i&&On(t,n.ngContent.index,1,i,null,void 0)}function Yi(t,e,n){for(var i=new Array(n.length-1),r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Zi(t,e,n){var i,r=t.renderer;i=r.createText(n.text.prefix);var o=Mn(t,e,n);return o&&r.appendChild(o,i),{renderText:i}}function Xi(t,e){return(null!=t?t.toString():"")+e.suffix}function Qi(t,e,n,i){for(var r=0,o=0,s=0,a=0,l=0,h=null,u=null,c=!1,f=!1,p=null,d=0;d<e.length;d++){var y=e[d];if(y.nodeIndex=d,y.parent=h,y.bindingIndex=r,y.outputIndex=o,y.renderParent=u,s|=y.flags,l|=y.matchedQueryIds,y.element){var v=y.element;v.publicProviders=h?h.element.publicProviders:Object.create(null),v.allProviders=v.publicProviders,c=!1,f=!1,y.element.template&&(l|=y.element.template.nodeMatchedQueries)}if(tr(h,y,e.length),r+=y.bindings.length,o+=y.outputs.length,!u&&3&y.flags&&(p=y),20224&y.flags){c||(c=!0,h.element.publicProviders=Object.create(h.element.publicProviders),h.element.allProviders=h.element.publicProviders);var g=0!=(32768&y.flags);0==(8192&y.flags)||g?h.element.publicProviders[hn(y.provider.token)]=y:(f||(f=!0,h.element.allProviders=Object.create(h.element.publicProviders)),h.element.allProviders[hn(y.provider.token)]=y),g&&(h.element.componentProvider=y)}if(h?(h.childFlags|=y.flags,h.directChildFlags|=y.flags,h.childMatchedQueries|=y.matchedQueryIds,y.element&&y.element.template&&(h.childMatchedQueries|=y.element.template.nodeMatchedQueries)):a|=y.flags,y.childCount>0)h=y,$i(y)||(u=y);else for(;h&&d===h.nodeIndex+h.childCount;){var m=h.parent;m&&(m.childFlags|=h.childFlags,m.childMatchedQueries|=h.childMatchedQueries),u=(h=m)&&$i(h)?h.renderParent:h}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||an,updateRenderer:i||an,handleEvent:function(t,n,i,r){return e[n].element.handleEvent(t,i,r)},bindingCount:r,outputCount:o,lastRenderRootNode:p}}function $i(t){return 0!=(1&t.flags)&&null===t.element.name}function tr(t,e,n){var i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function er(t,e,n,i){var r=rr(t.root,t.renderer,t,e,n);return or(r,t.component,i),sr(r),r}function nr(t,e,n){var i=rr(t,t.renderer,null,null,e);return or(i,n,n),sr(i),i}function ir(t,e,n,i){var r,o=e.element.componentRendererType;return r=o?t.root.rendererFactory.createRenderer(i,o):t.root.renderer,rr(t.root,r,t,e.element.componentProvider,n)}function rr(t,e,n,i,r){var o=new Array(r.nodes.length),s=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:s,initIndex:-1}}function or(t,e,n){t.component=e,t.context=n}function sr(t){var e;Pn(t)&&(e=Qe(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,i=t.nodes,r=0;r<n.nodes.length;r++){var o=n.nodes[r];nn.setCurrentNode(t,r);var s=void 0;switch(201347067&o.flags){case 1:var a=qn(t,e,o),l=void 0;if(33554432&o.flags){var h=jn(o.element.componentView);l=nn.createComponentView(t,o,h,a)}Gn(t,l,o,a),s={renderElement:a,componentView:l,viewContainer:null,template:o.element.template?fi(t,o):void 0},16777216&o.flags&&(s.viewContainer=li(t,o,s));break;case 2:s=Zi(t,e,o);break;case 512:case 1024:case 2048:case 256:(s=i[r])||4096&o.flags||(s={instance:_i(t,o)});break;case 16:s={instance:Oi(t,o)};break;case 16384:(s=i[r])||(s={instance:Ei(t,o)}),32768&o.flags&&or(Qe(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new se;break;case 8:Wi(t,e,o),s=void 0}i[r]=s}yr(t,dr.CreateViewNodes),br(t,201326592,268435456,0)}function ar(t){ur(t),nn.updateDirectives(t,1),vr(t,dr.CheckNoChanges),nn.updateRenderer(t,1),yr(t,dr.CheckNoChanges),t.state&=-97}function lr(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Ye(t,0,256),ur(t),nn.updateDirectives(t,0),vr(t,dr.CheckAndUpdate),br(t,67108864,536870912,0);var e=Ye(t,256,512);zi(t,2097152|(e?1048576:0)),nn.updateRenderer(t,0),yr(t,dr.CheckAndUpdate),br(t,134217728,536870912,0),zi(t,8388608|((e=Ye(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Ye(t,768,1024)}function hr(t,e,n,i,r,o,s,a,l,h,u,c,f){return 0===n?function(t,e,n,i,r,o,s,a,l,h,u,c){switch(201347067&e.flags){case 1:return function(t,e,n,i,r,o,s,a,l,h,u,c){var f=e.bindings.length,p=!1;return f>0&&Un(t,e,0,n)&&(p=!0),f>1&&Un(t,e,1,i)&&(p=!0),f>2&&Un(t,e,2,r)&&(p=!0),f>3&&Un(t,e,3,o)&&(p=!0),f>4&&Un(t,e,4,s)&&(p=!0),f>5&&Un(t,e,5,a)&&(p=!0),f>6&&Un(t,e,6,l)&&(p=!0),f>7&&Un(t,e,7,h)&&(p=!0),f>8&&Un(t,e,8,u)&&(p=!0),f>9&&Un(t,e,9,c)&&(p=!0),p}(t,e,n,i,r,o,s,a,l,h,u,c);case 2:return function(t,e,n,i,r,o,s,a,l,h,u,c){var f=!1,p=e.bindings,d=p.length;if(d>0&&yn(t,e,0,n)&&(f=!0),d>1&&yn(t,e,1,i)&&(f=!0),d>2&&yn(t,e,2,r)&&(f=!0),d>3&&yn(t,e,3,o)&&(f=!0),d>4&&yn(t,e,4,s)&&(f=!0),d>5&&yn(t,e,5,a)&&(f=!0),d>6&&yn(t,e,6,l)&&(f=!0),d>7&&yn(t,e,7,h)&&(f=!0),d>8&&yn(t,e,8,u)&&(f=!0),d>9&&yn(t,e,9,c)&&(f=!0),f){var y=e.text.prefix;d>0&&(y+=Xi(n,p[0])),d>1&&(y+=Xi(i,p[1])),d>2&&(y+=Xi(r,p[2])),d>3&&(y+=Xi(o,p[3])),d>4&&(y+=Xi(s,p[4])),d>5&&(y+=Xi(a,p[5])),d>6&&(y+=Xi(l,p[6])),d>7&&(y+=Xi(h,p[7])),d>8&&(y+=Xi(u,p[8])),d>9&&(y+=Xi(c,p[9]));var v=Xe(t,e.nodeIndex).renderText;t.renderer.setValue(v,y)}return f}(t,e,n,i,r,o,s,a,l,h,u,c);case 16384:return function(t,e,n,i,r,o,s,a,l,h,u,c){var f=$e(t,e.nodeIndex),p=f.instance,d=!1,y=void 0,v=e.bindings.length;return v>0&&dn(t,e,0,n)&&(d=!0,y=Bi(t,f,e,0,n,y)),v>1&&dn(t,e,1,i)&&(d=!0,y=Bi(t,f,e,1,i,y)),v>2&&dn(t,e,2,r)&&(d=!0,y=Bi(t,f,e,2,r,y)),v>3&&dn(t,e,3,o)&&(d=!0,y=Bi(t,f,e,3,o,y)),v>4&&dn(t,e,4,s)&&(d=!0,y=Bi(t,f,e,4,s,y)),v>5&&dn(t,e,5,a)&&(d=!0,y=Bi(t,f,e,5,a,y)),v>6&&dn(t,e,6,l)&&(d=!0,y=Bi(t,f,e,6,l,y)),v>7&&dn(t,e,7,h)&&(d=!0,y=Bi(t,f,e,7,h,y)),v>8&&dn(t,e,8,u)&&(d=!0,y=Bi(t,f,e,8,u,y)),v>9&&dn(t,e,9,c)&&(d=!0,y=Bi(t,f,e,9,c,y)),y&&p.ngOnChanges(y),65536&e.flags&&Ze(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),d}(t,e,n,i,r,o,s,a,l,h,u,c);case 32:case 64:case 128:return function(t,e,n,i,r,o,s,a,l,h,u,c){var f=e.bindings,p=!1,d=f.length;if(d>0&&yn(t,e,0,n)&&(p=!0),d>1&&yn(t,e,1,i)&&(p=!0),d>2&&yn(t,e,2,r)&&(p=!0),d>3&&yn(t,e,3,o)&&(p=!0),d>4&&yn(t,e,4,s)&&(p=!0),d>5&&yn(t,e,5,a)&&(p=!0),d>6&&yn(t,e,6,l)&&(p=!0),d>7&&yn(t,e,7,h)&&(p=!0),d>8&&yn(t,e,8,u)&&(p=!0),d>9&&yn(t,e,9,c)&&(p=!0),p){var y=tn(t,e.nodeIndex),v=void 0;switch(201347067&e.flags){case 32:v=new Array(f.length),d>0&&(v[0]=n),d>1&&(v[1]=i),d>2&&(v[2]=r),d>3&&(v[3]=o),d>4&&(v[4]=s),d>5&&(v[5]=a),d>6&&(v[6]=l),d>7&&(v[7]=h),d>8&&(v[8]=u),d>9&&(v[9]=c);break;case 64:v={},d>0&&(v[f[0].name]=n),d>1&&(v[f[1].name]=i),d>2&&(v[f[2].name]=r),d>3&&(v[f[3].name]=o),d>4&&(v[f[4].name]=s),d>5&&(v[f[5].name]=a),d>6&&(v[f[6].name]=l),d>7&&(v[f[7].name]=h),d>8&&(v[f[8].name]=u),d>9&&(v[f[9].name]=c);break;case 128:var g=n;switch(d){case 1:v=g.transform(n);break;case 2:v=g.transform(i);break;case 3:v=g.transform(i,r);break;case 4:v=g.transform(i,r,o);break;case 5:v=g.transform(i,r,o,s);break;case 6:v=g.transform(i,r,o,s,a);break;case 7:v=g.transform(i,r,o,s,a,l);break;case 8:v=g.transform(i,r,o,s,a,l,h);break;case 9:v=g.transform(i,r,o,s,a,l,h,u);break;case 10:v=g.transform(i,r,o,s,a,l,h,u,c)}}y.value=v}return p}(t,e,n,i,r,o,s,a,l,h,u,c);default:throw"unreachable"}}(t,e,i,r,o,s,a,l,h,u,c,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var i=!1,r=0;r<n.length;r++)Un(t,e,r,n[r])&&(i=!0);return i}(t,e,n);case 2:return function(t,e,n){for(var i=e.bindings,r=!1,o=0;o<n.length;o++)yn(t,e,o,n[o])&&(r=!0);if(r){var s="";for(o=0;o<n.length;o++)s+=Xi(n[o],i[o]);s=e.text.prefix+s;var a=Xe(t,e.nodeIndex).renderText;t.renderer.setValue(a,s)}return r}(t,e,n);case 16384:return function(t,e,n){for(var i=$e(t,e.nodeIndex),r=i.instance,o=!1,s=void 0,a=0;a<n.length;a++)dn(t,e,a,n[a])&&(o=!0,s=Bi(t,i,e,a,n[a],s));return s&&r.ngOnChanges(s),65536&e.flags&&Ze(t,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,r=!1,o=0;o<n.length;o++)yn(t,e,o,n[o])&&(r=!0);if(r){var s=tn(t,e.nodeIndex),a=void 0;switch(201347067&e.flags){case 32:a=n;break;case 64:for(a={},o=0;o<n.length;o++)a[i[o].name]=n[o];break;case 128:var l=n[0],h=n.slice(1);a=l.transform.apply(l,h)}s.value=a}return r}(t,e,n);default:throw"unreachable"}}(t,e,i)}function ur(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(4&i.flags){var r=Qe(t,n).template._projectedViews;if(r)for(var o=0;o<r.length;o++){var s=r[o];s.state|=32,mn(s,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function cr(t,e,n,i,r,o,s,a,l,h,u,c,f){return 0===n?function(t,e,n,i,r,o,s,a,l,h,u,c){var f=e.bindings.length;f>0&&vn(t,e,0,n),f>1&&vn(t,e,1,i),f>2&&vn(t,e,2,r),f>3&&vn(t,e,3,o),f>4&&vn(t,e,4,s),f>5&&vn(t,e,5,a),f>6&&vn(t,e,6,l),f>7&&vn(t,e,7,h),f>8&&vn(t,e,8,u),f>9&&vn(t,e,9,c)}(t,e,i,r,o,s,a,l,h,u,c,f):function(t,e,n){for(var i=0;i<n.length;i++)vn(t,e,i,n[i])}(t,e,i),!1}function fr(t,e){if(en(t,e.nodeIndex).dirty)throw rn(nn.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function pr(t){if(!(128&t.state)){if(vr(t,dr.Destroy),yr(t,dr.Destroy),zi(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=xn(t);if(e){var n=e.template._projectedViews;n&&(ii(n,n.indexOf(t)),nn.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var i=t.def.nodes[n];1&i.flags?t.renderer.destroyNode(Qe(t,n).renderElement):2&i.flags?t.renderer.destroyNode(Xe(t,n).renderText):(67108864&i.flags||134217728&i.flags)&&en(t,n).destroy()}}(t),Pn(t)&&t.renderer.destroy(),t.state|=128}}var dr=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function yr(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];33554432&r.flags?gr(Qe(t,i).componentView,e):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function vr(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];if(16777216&r.flags)for(var o=Qe(t,i).viewContainer._embeddedViews,s=0;s<o.length;s++)gr(o[s],e);else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function gr(t,e){var n=t.state;switch(e){case dr.CheckNoChanges:0==(128&n)&&(12==(12&n)?ar(t):64&n&&mr(t,dr.CheckNoChangesProjectedViews));break;case dr.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ar(t):64&n&&mr(t,e));break;case dr.CheckAndUpdate:0==(128&n)&&(12==(12&n)?lr(t):64&n&&mr(t,dr.CheckAndUpdateProjectedViews));break;case dr.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?lr(t):64&n&&mr(t,e));break;case dr.Destroy:pr(t);break;case dr.CreateViewNodes:sr(t)}}function mr(t,e){vr(t,e),yr(t,e)}function br(t,e,n,i){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var r=t.def.nodes.length,o=0;o<r;o++){var s=t.def.nodes[o];if(s.flags&e&&s.flags&n)switch(nn.setCurrentNode(t,s.nodeIndex),i){case 0:Ui(t,s);break;case 1:fr(t,s)}s.childFlags&e&&s.childFlags&n||(o+=s.childCount)}}var xr=!1;function wr(t,e,n,i,r,o){return nr(Pr(t,r,r.injector.get(ee),e,n),i,o)}function kr(t,e,n,i,r,o){var s=r.injector.get(ee),a=Pr(t,r,new no(s),e,n),l=Or(i);return to(zr.create,nr,null,[a,l,o])}function Pr(t,e,n,i,r){var o=e.injector.get(We),s=e.injector.get(tt);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:r,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:s}}function Sr(t,e,n,i){var r=Or(n);return to(zr.create,er,null,[t,e,r,i])}function Cr(t,e,n,i){return n=Nr.get(e.element.componentProvider.provider.token)||Or(n),to(zr.create,ir,null,[t,e,n,i])}function Tr(t,e,n,i){return bi(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Mr.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var i=Mr.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var i=t.providers[e];n&&(i.flags|=4096);var r=Mr.get(i.token);r&&(i.flags=-3841&i.flags|r.flags,i.deps=Tn(r.deps),i.value=r.value)}}(t=t.factory(function(){return an})),t):t}(i))}var Mr=new Map,Nr=new Map;function jr(t){Mr.set(t.token,t)}function Ar(t,e){var n=jn(jn(e.viewDefFactory).nodes[0].element.componentView);Nr.set(t,n)}function _r(){Mr.clear(),Nr.clear()}function Or(t){if(0===Mr.size)return t;var e=function(t){for(var e=[],n=null,i=0;i<t.nodes.length;i++){var r=t.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&Mr.has(r.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return an});for(var n=0;n<e.length;n++)i(t,e[n]);return t;function i(t,e){for(var n=e+1;n<t.nodes.length;n++){var i=t.nodes[n];if(1&i.flags)return;if(3840&i.flags){var r=i.provider,o=Mr.get(r.token);o&&(i.flags=-3841&i.flags|o.flags,r.deps=Tn(o.deps),r.value=o.value)}}}}function Er(t,e,n,i,r,o,s,a,l,h,u,c,f){var p=t.def.nodes[e];return hr(t,p,n,i,r,o,s,a,l,h,u,c,f),224&p.flags?tn(t,e).value:void 0}function Dr(t,e,n,i,r,o,s,a,l,h,u,c,f){var p=t.def.nodes[e];return cr(t,p,n,i,r,o,s,a,l,h,u,c,f),224&p.flags?tn(t,e).value:void 0}function Lr(t){return to(zr.detectChanges,lr,null,[t])}function Fr(t){return to(zr.checkNoChanges,ar,null,[t])}function Ir(t){return to(zr.destroy,pr,null,[t])}var Rr,Vr,Br,zr=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();function qr(t,e){Vr=t,Br=e}function Gr(t,e,n,i){return qr(t,e),to(zr.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function Hr(t,e){if(128&t.state)throw sn(zr[Rr]);return qr(t,Zr(t,0)),t.def.updateDirectives(function(t,n,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?Kr(t,s,i,r):Jr(t,s,i,r),16384&s.flags&&qr(t,Zr(t,n)),224&s.flags?tn(t,s.nodeIndex).value:void 0},t)}function Ur(t,e){if(128&t.state)throw sn(zr[Rr]);return qr(t,Xr(t,0)),t.def.updateRenderer(function(t,n,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?Kr(t,s,i,r):Jr(t,s,i,r),3&s.flags&&qr(t,Xr(t,n)),224&s.flags?tn(t,s.nodeIndex).value:void 0},t)}function Kr(t,e,n,i){if(hr.apply(void 0,[t,e,n].concat(i))){var r=1===n?i[0]:i;if(16384&e.flags){for(var o={},s=0;s<e.bindings.length;s++){var a=e.bindings[s],l=r[s];8&a.flags&&(o[(f=a.nonMinifiedName,"ng-reflect-"+(f=f.replace(/[$@]/g,"_").replace(Wr,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})))]=Yr(l))}var h=e.parent,u=Qe(t,h.nodeIndex).renderElement;if(h.element.name)for(var c in o)null!=(l=o[c])?t.renderer.setAttribute(u,c,l):t.renderer.removeAttribute(u,c);else t.renderer.setValue(u,"bindings="+JSON.stringify(o,null,2))}}var f}function Jr(t,e,n,i){cr.apply(void 0,[t,e,n].concat(i))}var Wr=/([A-Z])/g;function Yr(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function Zr(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(16384&i.flags&&i.bindings&&i.bindings.length)return n}return null}function Xr(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(3&i.flags&&i.bindings&&i.bindings.length)return n}return null}var Qr=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,i=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=wn(i),i=i.parent;this.elDef=n,this.elView=i}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Qe(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return di(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){$r(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&$r(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!Pn(t);)t=t.parent;return t.parent?Qe(t.parent,wn(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?kn(this.view,this.nodeDef):kn(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var o=function(t,e){for(var n=-1,i=0;i<=e;i++)3&t.nodes[i].flags&&n++;return n}(e,n),s=-1;e.factory(function(){return++s===o?(e=t.error).bind.apply(e,[t].concat(i)):an;var e}),s<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,i))},t}();function $r(t,e,n){for(var i in e.references)n[i]=Ji(t,e,e.references[i])}function to(t,e,n,i){var r=Rr,o=Vr,s=Br;try{Rr=t;var a=e.apply(n,i);return Vr=o,Br=s,Rr=r,a}catch(t){if(X(t)||!Vr)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),on(t,e),t}(t,eo())}}function eo(){return Vr?new Qr(Vr,Br):null}var no=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new io(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),io=function(){function t(t){this.delegate=t,this.data=this.delegate.data}return t.prototype.destroyNode=function(t){!function(t){me.delete(t.nativeNode)}(be(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),i=eo();if(i){var r=new ye(n,null,i);r.name=t,xe(r)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=eo();return n&&xe(new de(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=eo();return n&&xe(new de(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=be(t),i=be(e);n&&i&&n instanceof ye&&n.addChild(i),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var i=be(t),r=be(e),o=be(n);i&&r&&i instanceof ye&&i.insertBefore(o,r),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=be(t),i=be(e);n&&i&&n instanceof ye&&n.removeChild(i),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=eo();return n&&xe(new ye(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,i){var r=be(t);r&&r instanceof ye&&(r.attributes[i?i+":"+e:e]=n),this.delegate.setAttribute(t,e,n,i)},t.prototype.removeAttribute=function(t,e,n){var i=be(t);i&&i instanceof ye&&(i.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=be(t);n&&n instanceof ye&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=be(t);n&&n instanceof ye&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,i){var r=be(t);r&&r instanceof ye&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,i)},t.prototype.removeStyle=function(t,e,n){var i=be(t);i&&i instanceof ye&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var i=be(t);i&&i instanceof ye&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var i=be(t);i&&i.listeners.push(new function(t,e){this.name=t,this.callback=e}(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function ro(t,e,n){return new so(t,e,n)}var oo,so=function(t){function e(e,n,i){var r=t.call(this)||this;return r.moduleType=e,r._bootstrapComponents=n,r._ngModuleDefFactory=i,r}return Object(i.b)(e,t),e.prototype.create=function(t){!function(){if(!xr){xr=!0;var t=Jt()?{setCurrentNode:qr,createRootView:kr,createEmbeddedView:Sr,createComponentView:Cr,createNgModuleRef:Tr,overrideProvider:jr,overrideComponentView:Ar,clearOverrides:_r,checkAndUpdateView:Lr,checkNoChangesView:Fr,destroyView:Ir,createDebugContext:function(t,e){return new Qr(t,e)},handleEvent:Gr,updateDirectives:Hr,updateRenderer:Ur}:{setCurrentNode:function(){},createRootView:wr,createEmbeddedView:er,createComponentView:ir,createNgModuleRef:bi,overrideProvider:an,overrideComponentView:an,clearOverrides:an,checkAndUpdateView:lr,checkNoChangesView:ar,destroyView:pr,createDebugContext:function(t,e){return new Qr(t,e)},handleEvent:function(t,e,n,i){return t.def.handleEvent(t,e,n,i)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Er:Dr,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Er:Dr,t)}};nn.setCurrentNode=t.setCurrentNode,nn.createRootView=t.createRootView,nn.createEmbeddedView=t.createEmbeddedView,nn.createComponentView=t.createComponentView,nn.createNgModuleRef=t.createNgModuleRef,nn.overrideProvider=t.overrideProvider,nn.overrideComponentView=t.overrideComponentView,nn.clearOverrides=t.clearOverrides,nn.checkAndUpdateView=t.checkAndUpdateView,nn.checkNoChangesView=t.checkNoChangesView,nn.destroyView=t.destroyView,nn.resolveDep=Ri,nn.createDebugContext=t.createDebugContext,nn.handleEvent=t.handleEvent,nn.updateDirectives=t.updateDirectives,nn.updateRenderer=t.updateRenderer,nn.dirtyParentQueries=Hi}}();var e=jn(this._ngModuleDefFactory);return nn.createNgModuleRef(this.moduleType,t||D.NULL,this._bootstrapComponents,e)},e}(Ct);"undefined"==typeof ngDevMode&&("undefined"!=typeof window&&(window.ngDevMode=!0),"undefined"!=typeof self&&(self.ngDevMode=!0),"undefined"!=typeof t&&(t.ngDevMode=!0)),oo=function(t,e,n){return{parent:oo,id:null,node:null,data:[],ngStaticData:[],cleanup:null,renderer:null,child:null,tail:null,next:null,bindingStartIndex:null,creationMode:!0,viewHookStartIndex:null}}()}).call(e,n("DuR2"))},YaPU:function(t,e,n){"use strict";var i=n("AMGY"),r=n("OVmG"),o=n("tLDX"),s=n("t7NR"),a=n("+CnV"),l=n("f9aG");n.d(e,"a",function(){return h});var h=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var i=this.operator,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(i?i.call(a,this.source):a.add(this.source||!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(i.a.Rx&&i.a.Rx.config&&i.a.Rx.config.Promise?e=i.a.Rx.config.Promise:i.a.Promise&&(e=i.a.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,i){var r;r=n.subscribe(function(e){if(r)try{t(e)}catch(t){i(t),r.unsubscribe()}else t(e)},i,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:Object(l.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(i.a.Rx&&i.a.Rx.config&&i.a.Rx.config.Promise?t=i.a.Rx.config.Promise:i.a.Promise&&(t=i.a.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var i;e.subscribe(function(t){return i=t},function(t){return n(t)},function(){return t(i)})})},t.create=function(e){return new t(e)},t}()},cQXm:function(t,e,n){"use strict";e.a=function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},dgOU:function(t,e,n){"use strict";e.a=function(t){return null!=t&&"object"==typeof t}},etqZ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var i=t.Map;if(i)for(var r=Object.getOwnPropertyNames(i.prototype),o=0;o<r.length;++o){var s=r[o];if("entries"!==s&&"size"!==s&&i.prototype[s]===i.prototype.entries)return s}return"@@iterator"}(n("AMGY").a)},f9aG:function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r(t)},e.b=r;var i=n("gIN1");function r(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:i.a}},fKB6:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={e:{}}},g5jc:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});var i=n("TToO"),r=n("YaPU"),o=n("OVmG"),s=n("VwZZ"),a=n("x6VL"),l=n("1Bqh"),h=n("tLDX"),u=function(t){function e(e){t.call(this,e),this.destination=e}return Object(i.b)(e,t),e}(o.a),c=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return Object(i.b)(e,t),e.prototype[h.a]=function(){return new u(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new l.a(this,t))},e.prototype.asObservable=function(){var t=new r.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(r.a),f=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return Object(i.b)(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.a.EMPTY},e}(c)},gIN1:function(t,e,n){"use strict";e.a=function(){}},lAP5:function(t,e,n){"use strict";e.a=function(t){return t}},t7NR:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},tLDX:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("AMGY").a.Symbol,r="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber"},tZ2B:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("TToO"),r=function(t){function e(){t.apply(this,arguments)}return Object(i.b)(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("OVmG").a)},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("WT6e"),r=function(){},o=function(){},s=function(){function t(){this.title="Project Kdam",this.image="assets/images/PK_logo.png"}return t.prototype.ngOnInit=function(){},t}(),a=i._1({encapsulation:0,styles:[[".container-fluid[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:0 auto;padding-top:2cm}"]],data:{}});function l(t){return i._20(0,[(t()(),i._3(0,0,null,null,7,"div",[["style","text-align:center"]],null,null,null,null,null)),(t()(),i._19(-1,null,["\n  "])),(t()(),i._3(2,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),i._19(3,null,["\n    Welcome to ","!\n  "])),(t()(),i._19(-1,null,["\n  "])),(t()(),i._19(-1,null,["\n  "])),(t()(),i._3(6,0,null,null,0,"img",[["alt","Project Kdam Logo"],["width","40%"]],[[8,"src",4]],null,null,null,null)),(t()(),i._19(-1,null,["\n"])),(t()(),i._19(-1,null,["\n"]))],null,function(t,e){var n=e.component;t(e,3,0,n.title),t(e,6,0,i._6(1,"",n.image,""))})}var h=i.Z("app-init-page",s,function(t){return i._20(0,[(t()(),i._3(0,0,null,null,1,"app-init-page",[],null,null,null,l,a)),i._2(1,114688,null,0,s,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),u=n("TToO"),c=function(){},f=new i.o("Location Initialized"),p=function(){},d=new i.o("appBaseHref"),y=function(){function t(e){var n=this;this._subject=new i.m,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(v(r)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,v(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function v(t){return t.replace(/\/index.html$/,"")}var g=function(t){function e(e,n){var i=t.call(this)||this;return i._platformLocation=e,i._baseHref="",null!=n&&(i._baseHref=n),i}return Object(u.b)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=y.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,i){var r=this.prepareExternalUrl(n+y.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)},e.prototype.replaceState=function(t,e,n,i){var r=this.prepareExternalUrl(n+y.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(p),m=function(t){function e(e,n){var i=t.call(this)||this;if(i._platformLocation=e,null==n&&(n=i._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=n,i}return Object(u.b)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return y.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+y.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,i){var r=this.prepareExternalUrl(n+y.normalizeQueryParams(i));this._platformLocation.pushState(t,e,r)},e.prototype.replaceState=function(t,e,n,i){var r=this.prepareExternalUrl(n+y.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(p),b=["en",[["a","p"],["AM","PM"]],[["AM","PM"],,],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",,"{1} 'at' {0}"],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],x={},w=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),k=new i.o("UseV4Plurals"),P=function(){},S=function(t){function e(e,n){var i=t.call(this)||this;return i.locale=e,i.deprecatedPluralFn=n,i}return Object(u.b)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=x[e];if(n)return n;var i=e.split("-")[0];if(n=x[i])return n;if("en"===i)return b;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[17]}(e||this.locale)(t)){case w.Zero:return"zero";case w.One:return"one";case w.Two:return"two";case w.Few:return"few";case w.Many:return"many";default:return"other"}},e}(P);function C(t,e){e=encodeURIComponent(e);for(var n=0,i=t.split(";");n<i.length;n++){var r=i[n],o=r.indexOf("="),s=-1==o?[r,""]:[r.slice(0,o),r.slice(o+1)],a=s[1];if(s[0].trim()===e)return decodeURIComponent(a)}return null}var T=function(){function t(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),M=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(i.T)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((n=e).name||typeof n)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var n},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,i,r){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new T(null,e.ngForOf,-1,-1),r),s=new N(t,o);n.push(s)}else null==r?e._viewContainer.remove(i):(o=e._viewContainer.get(i),e._viewContainer.move(o,r),s=new N(t,o),n.push(s))});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);i=0;for(var r=this._viewContainer.length;i<r;i++){var o=this._viewContainer.get(i);o.context.index=i,o.context.count=r}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}(),N=function(t,e){this.record=t,this.view=e},j=function(){function t(t,e){this._viewContainer=t,this._context=new A,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),A=function(){this.$implicit=null,this.ngIf=null},_=function(){},O=new i.o("DocumentToken"),E=n("YaPU"),D=n("+3/4"),L=n("BX3T"),F=n("PIsA"),I=n("tZ2B"),R=function(t){function e(e,n){t.call(this),this.sources=e,this.resultSelector=n}return Object(u.b)(e,t),e.create=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];if(null===t||0===arguments.length)return new D.a;var i=null;return"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&Object(L.a)(t[0])&&(t=t[0]),0===t.length?new D.a:new e(t,i)},e.prototype._subscribe=function(t){return new V(t,this.sources,this.resultSelector)},e}(E.a),V=function(t){function e(e,n,i){t.call(this,e),this.sources=n,this.resultSelector=i,this.completed=0,this.haveValues=0;var r=n.length;this.total=r,this.values=new Array(r);for(var o=0;o<r;o++){var s=n[o],a=Object(F.a)(this,s,null,o);a&&(a.outerIndex=o,this.add(a))}}return Object(u.b)(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.values[n]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,i=this.resultSelector,r=this.values,o=r.length;if(t._hasValue){if(this.completed++,this.completed===o){if(n===o){var s=i?i.apply(this,r):r;e.next(s)}e.complete()}}else e.complete()},e}(I.a),B=R.create,z=n("AMGY"),q=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return Object(u.b)(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,i=this.scheduler;if(null==i)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){z.a.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return i.schedule(G,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(i.schedule(G,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(i.schedule(H,0,{err:e,subscriber:t}))}).then(null,function(t){z.a.setTimeout(function(){throw t})})},e}(E.a);function G(t){var e=t.subscriber;e.closed||(e.next(t.value),e.complete())}function H(t){var e=t.subscriber;e.closed||e.error(t.err)}var U=q.create,K=n("OVmG"),J=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new W(t,this.project,this.thisArg))},t}(),W=function(t){function e(e,n,i){t.call(this,e),this.project=n,this.count=0,this.thisArg=i||this}return Object(u.b)(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(K.a);function Y(t,e){return function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new J(t,e))}}(t,e)(this)}var Z=null;function X(){return Z}var Q,$={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},et={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};i._4.Node&&(Q=i._4.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var nt,it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.b)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,Z||(Z=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var i;(i=t)[e].apply(i,n)},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return $},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return Q.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),i=0;i<e.length;i++)n[i]=e[i];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(t,e),i},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var i=this.getStyle(t,e)||"";return n?i==n:i.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,i=0;i<n.length;i++){var r=n.item(i);e.set(r.name,r.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,i){t.setAttributeNS(e,n,i)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&et.hasOwnProperty(e)&&(e=et[e]))}return tt[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=rt||(rt=document.querySelector("base"))?rt.getAttribute("href"):null;return null==n?null:(e=n,nt||(nt=document.createElement("a")),nt.setAttribute("href",e),"/"===nt.pathname.charAt(0)?nt.pathname:"/"+nt.pathname)},e.prototype.resetBaseElement=function(){rt=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return C(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],r=0;r<i.length;r++)if(null!=e.getStyle(n,i[r]+"AnimationName")){e._animationPrefix="-"+i[r].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(u.b)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),rt=null,ot=O;function st(){return!!window.history.pushState}var at=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(u.b)(e,t),e.prototype._init=function(){this.location=X().getLocation(),this._history=X().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return X().getBaseHref(this._doc)},e.prototype.onPopState=function(t){X().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){X().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){st()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){st()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.n,args:[ot]}]}]},e}(c),lt=function(){function t(t){this._doc=t,this._dom=X()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,i){return i&&t.push(n._getOrCreateElement(i,e)),t},[]):[]},t.prototype.getTag=function(t){return t&&this._dom.querySelector(this._doc,"meta["+t+"]")||null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),i=this.getTag(n);if(i&&this._containsAttributes(t,i))return i}var r=this._dom.createElement("meta");this._setMetaElementAttributes(t,r);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,r),r},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(i){return n._dom.setAttribute(e,i,t[i])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(i){return n._dom.getAttribute(e,i)===t[i]})},t}(),ht=new i.o("TRANSITION_ID"),ut=[{provide:i.d,useFactory:function(t,e,n){return function(){n.get(i.e).donePromise.then(function(){var n=X();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[ht,ot,i.p],multi:!0}],ct=function(){function t(){}return t.init=function(){Object(i.V)(new t)},t.prototype.addToWindow=function(t){i._4.getAngularTestability=function(e,n){void 0===n&&(n=!0);var i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},i._4.getAllAngularTestabilities=function(){return t.getAllTestabilities()},i._4.getAllAngularRootElements=function(){return t.getAllRootElements()},i._4.frameworkStabilizers||(i._4.frameworkStabilizers=[]),i._4.frameworkStabilizers.push(function(t){var e=i._4.getAllAngularTestabilities(),n=e.length,r=!1,o=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(o)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?X().isShadowRoot(e)?this.findTestabilityInTree(t,X().getHost(e),!0):this.findTestabilityInTree(t,X().parentElement(e),!0):null},t}(),ft=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return X().getTitle(this._doc)},t.prototype.setTitle=function(t){X().setTitle(this._doc,t)},t}();function pt(t,e){"undefined"!=typeof COMPILED&&COMPILED||((i._4.ng=i._4.ng||{})[t]=e)}var dt={ApplicationRef:i.g,NgZone:i.x};function yt(t){return Object(i.S)(t)}var vt=new i.o("EventManagerPlugins"),gt=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event "+t)},t}(),mt=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var i=X().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target "+i+" for event "+e);return this.addEventListener(i,e,n)},t}(),bt=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),xt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(u.b)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var i=n._doc.createElement("style");i.textContent=t,n._styleNodes.add(e.appendChild(i))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return X().remove(t)})},e}(bt),wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},kt=/%COMP%/g,Pt="_nghost-%COMP%",St="_ngcontent-%COMP%";function Ct(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?Ct(t,r,n):(r=r.replace(kt,t),n.push(r))}return n}function Tt(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Mt=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new Nt(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.N.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Ot(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case i.N.Native:return new Et(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Ct(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),Nt=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(wt[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,i){if(i){e=i+":"+e;var r=wt[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var i=wt[n];i?t.removeAttributeNS(i,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&i.D.DashCase?t.style.setProperty(e,n,r&i.D.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&i.D.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){At(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return At(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Tt(n)):this.eventManager.addEventListener(t,e,Tt(n))},t}(),jt="@".charCodeAt(0);function At(t,e){if(t.charCodeAt(0)===jt)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var _t,Ot=function(t){function e(e,n,i){var r=t.call(this,e)||this;r.component=i;var o=Ct(i.id,i.styles,[]);return n.addStyles(o),r.contentAttr=St.replace(kt,i.id),r.hostAttr=Pt.replace(kt,i.id),r}return Object(u.b)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var i=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,i,this.contentAttr,""),i},e}(Nt),Et=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=i,o.component=r,o.shadowRoot=i.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=Ct(r.id,r.styles,[]),a=0;a<s.length;a++){var l=document.createElement("style");l.textContent=s[a],o.shadowRoot.appendChild(l)}return o}return Object(u.b)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,i){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,i)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Nt),Dt="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},Lt=Dt("addEventListener"),Ft=Dt("removeEventListener"),It={},Rt="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[Dt("BLACK_LISTED_EVENTS")]&&(_t={});var Vt=function(t){return!!_t&&_t.hasOwnProperty(t)},Bt=function(t){var e=It[t.type];if(e){var n=this[e];if(n){var i=[t];if(1===n.length)return(s=n[0]).zone!==Zone.current?s.zone.run(s.handler,this,i):s.handler.apply(this,i);for(var r=n.slice(),o=0;o<r.length&&!0!==t[Rt];o++){var s;(s=r[o]).zone!==Zone.current?s.zone.run(s.handler,this,i):s.handler.apply(this,i)}}}},zt=function(t){function e(e,n){var i=t.call(this,e)||this;return i.ngZone=n,i.patchEvent(),i}return Object(u.b)(e,t),e.prototype.patchEvent=function(){if(Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Rt]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,o=n;if(!t[Lt]||i.x.isInAngularZone()&&!Vt(e))t.addEventListener(e,o,!1);else{var s=It[e];s||(s=It[e]=Dt("ANGULAR"+e+"FALSE"));var a=t[s],l=a&&a.length>0;a||(a=t[s]=[]);var h=Vt(e)?Zone.root:Zone.current;if(0===a.length)a.push({zone:h,handler:o});else{for(var u=!1,c=0;c<a.length;c++)if(a[c].handler===o){u=!0;break}u||a.push({zone:h,handler:o})}l||t[Lt](e,Bt,!1)}return function(){return r.removeEventListener(t,e,o)}},e.prototype.removeEventListener=function(t,e,n){var i=t[Ft];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);var r=It[e],o=r&&t[r];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var s=!1,a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&i.apply(t,[e,Bt,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(mt),qt={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Gt=new i.o("HammerGestureConfig"),Ht=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),Ut=function(t){function e(e,n){var i=t.call(this,e)||this;return i._config=n,i}return Object(u.b)(e,t),e.prototype.supports=function(t){if(!qt.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var i=this,r=this.manager.getZone();return e=e.toLowerCase(),r.runOutsideAngular(function(){var o=i._config.buildHammer(t),s=function(t){r.runGuarded(function(){n(t)})};return o.on(e,s),function(){return o.off(e,s)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(mt),Kt=["alt","control","meta","shift"],Jt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Wt=function(t){function e(e){return t.call(this,e)||this}return Object(u.b)(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,i){var r=e.parseEventName(n),o=e.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return X().onAndCancel(t,r.domEventName,o)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;var r=e._normalizeKey(n.pop()),o="";if(Kt.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=r,0!=n.length||0===r.length)return null;var s={};return s.domEventName=i,s.fullKey=o,s},e.getEventFullKey=function(t){var e="",n=X().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Kt.forEach(function(i){i!=n&&(0,Jt[i])(t)&&(e+=i+".")}),e+=n},e.eventCallback=function(t,n,i){return function(r){e.getEventFullKey(r)===t&&i.runGuarded(function(){return n(r)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(mt),Yt=function(){function t(t,e){this.defaultDoc=t,this.DOM=e;var n=this.DOM.createHtmlDocument();if(this.inertBodyElement=n.body,null==this.inertBodyElement){var i=this.DOM.createElement("html",n);this.inertBodyElement=this.DOM.createElement("body",n),this.DOM.appendChild(i,this.inertBodyElement),this.DOM.appendChild(n,i)}this.DOM.setInnerHTML(this.inertBodyElement,'<svg><g onload="this.parentNode.remove()"></g></svg>'),!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.DOM.setInnerHTML(this.inertBodyElement,'<svg><p><style><img src="</style><img src=x onerror=alert(1)//">'),this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(t){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(null);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.DOM.createElement("template");return"content"in e?(this.DOM.setInnerHTML(e,t),e):(this.DOM.setInnerHTML(this.inertBodyElement,t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){var e=this;this.DOM.attributeMap(t).forEach(function(n,i){"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.DOM.removeAttribute(t,i)});for(var n=0,i=this.DOM.childNodesAsList(t);n<i.length;n++){var r=i[n];this.DOM.isElementNode(r)&&this.stripCustomNsAttrs(r)}},t}(),Zt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Xt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qt(t){return(t=String(t)).match(Zt)||t.match(Xt)?t:(Object(i.T)()&&X().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function $t(t){for(var e={},n=0,i=t.split(",");n<i.length;n++)e[i[n]]=!0;return e}function te(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},i=0,r=t;i<r.length;i++){var o=r[i];for(var s in o)o.hasOwnProperty(s)&&(n[s]=!0)}return n}var ee,ne=$t("area,br,col,hr,img,wbr"),ie=$t("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),re=$t("rp,rt"),oe=te(re,ie),se=te(ne,te(ie,$t("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),te(re,$t("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oe),ae=$t("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),le=$t("srcset"),he=te(ae,le,$t("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),ue=function(){function t(){this.sanitizedSomething=!1,this.buf=[],this.DOM=X()}return t.prototype.sanitizeChildren=function(t){for(var e=this.DOM.firstChild(t);e;)if(this.DOM.isElementNode(e)?this.startElement(e):this.DOM.isTextNode(e)?this.chars(this.DOM.nodeValue(e)):this.sanitizedSomething=!0,this.DOM.firstChild(e))e=this.DOM.firstChild(e);else for(;e;){this.DOM.isElementNode(e)&&this.endElement(e);var n=this.checkClobberedElement(e,this.DOM.nextSibling(e));if(n){e=n;break}e=this.checkClobberedElement(e,this.DOM.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=this.DOM.nodeName(t).toLowerCase();se.hasOwnProperty(n)?(this.buf.push("<"),this.buf.push(n),this.DOM.attributeMap(t).forEach(function(t,n){var i,r=n.toLowerCase();he.hasOwnProperty(r)?(ae[r]&&(t=Qt(t)),le[r]&&(i=t,t=(i=String(i)).split(",").map(function(t){return Qt(t.trim())}).join(", ")),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(pe(t)),e.buf.push('"')):e.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=this.DOM.nodeName(t).toLowerCase();se.hasOwnProperty(e)&&!ne.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(pe(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&this.DOM.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+this.DOM.getOuterHTML(t));return e},t}(),ce=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fe=/([^\#-~ |!])/g;function pe(t){return t.replace(/&/g,"&amp;").replace(ce,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(fe,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var de=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ye=/^url\(([^)]+)\)$/,ve=function(){},ge=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(u.b)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case i.F.NONE:return e;case i.F.HTML:return e instanceof be?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=X(),r=null;try{ee=ee||new Yt(t,n);var o=e?String(e):"";r=ee.getInertBodyElement(o);var s=5,a=o;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,o=a,a=n.getInnerHTML(r),r=ee.getInertBodyElement(o)}while(o!==a);var l=new ue,h=l.sanitizeChildren(n.getTemplateContent(r)||r);return Object(i.T)()&&l.sanitizedSomething&&n.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),h}finally{if(r)for(var u=n.getTemplateContent(r)||r,c=0,f=n.childNodesAsList(u);c<f.length;c++)n.removeChild(u,f[c])}}(this._doc,String(e)));case i.F.STYLE:return e instanceof xe?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(ye);return e&&Qt(e[1])===e[1]||t.match(de)&&function(t){for(var e=!0,n=!0,i=0;i<t.length;i++){var r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(Object(i.T)()&&X().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case i.F.SCRIPT:if(e instanceof we)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case i.F.URL:return e instanceof Pe||e instanceof ke?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Qt(String(e)));case i.F.RESOURCE_URL:if(e instanceof Pe)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof me)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new be(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new xe(t)},e.prototype.bypassSecurityTrustScript=function(t){return new we(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new ke(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new Pe(t)},e}(ve),me=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.b)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(me),xe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.b)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(me),we=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.b)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(me),ke=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.b)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(me),Pe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.b)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(me),Se=[{provide:i.z,useValue:"browser"},{provide:i.A,useValue:function(){it.makeCurrent(),ct.init()},multi:!0},{provide:c,useClass:at,deps:[ot]},{provide:ot,useFactory:function(){return document},deps:[]}],Ce=Object(i.P)(i.U,"browser",Se);function Te(){return new i.l}var Me=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:ht,useExisting:i.c},ut]}},t}();"undefined"!=typeof window&&window;var Ne=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.b)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(Ne);function Ae(t){return null==t||0===t.length}var _e=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Oe=function(){function t(){}return t.min=function(t){return function(e){if(Ae(e.value)||Ae(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(Ae(e.value)||Ae(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return Ae(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return _e.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(Ae(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(Ae(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}):t.nullValidator;var n,i},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(Ee);return 0==e.length?null:function(t){return Le(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(Ee);return 0==e.length?null:function(t){var n=function(t,n){return e.map(function(e){return e(t)})}(t).map(De);return Y.call(B(n),Le)}},t}();function Ee(t){return null!=t}function De(t){var e=Object(i._9)(t)?U(t):t;if(!Object(i._8)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Le(t){var e=t.reduce(function(t,e){return null!=e?Object(u.a)({},t,e):t},{});return 0===Object.keys(e).length?null:e}var Fe=new i.o("NgValueAccessor"),Ie=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),Re=new i.o("CompositionEventMode"),Ve=function(){function t(t,e,n){var i;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=X()?X().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function Be(t){return t.validate?function(e){return t.validate(e)}:t}function ze(t){return t.validate?function(e){return t.validate(e)}:t}var qe=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function Ge(){throw new Error("unimplemented")}var He=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(u.b)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return Ge()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Ge()},enumerable:!0,configurable:!0}),e}(Ne),Ue=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),Ke=function(){function t(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(He),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),Je=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function We(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var Ye=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i._10}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=We(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i),t))return i}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),Ze=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(We(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function Xe(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var Qe=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i._10}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var i=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(i.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var r=n.selectedOptions,o=0;o<r.length;o++){var s=r.item(o),a=e._getOptionValue(s.value);i.push(a)}else for(r=n.options,o=0;o<r.length;o++)(s=r.item(o)).selected&&(a=e._getOptionValue(s.value),i.push(a));e.value=i,t(i)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i)._value,t))return i}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),$e=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(Xe(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(Xe(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function tn(t,e){return e.path.concat([t])}function en(t,e){t||rn(e,"Cannot find control with"),e.valueAccessor||rn(e,"No value accessor for form control with"),t.validator=Oe.compose([t.validator,e.validator]),t.asyncValidator=Oe.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&nn(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&nn(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function nn(t,e){e.viewToModelUpdate(t._pendingValue),t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),t._pendingChange=!1}function rn(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function on(t){return null!=t?Oe.compose(t.map(Be)):null}function sn(t){return null!=t?Oe.composeAsync(t.map(ze)):null}var an=[Ie,Je,qe,Ye,Qe,Ke],ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.b)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return tn(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return on(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return sn(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(je),hn=function(t){function e(e){return t.call(this,e)||this}return Object(u.b)(e,t),e}(function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}());function un(t){var e=fn(t)?t.validators:t;return Array.isArray(e)?on(e):e||null}function cn(t,e){var n=fn(e)?e.asyncValidators:t;return Array.isArray(n)?sn(n):n||null}function fn(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var pn=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=un(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=cn(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(u.a)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(u.a)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=De(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof yn?t.controls[e]||null:t instanceof vn&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new i.m,this.statusChanges=new i.m},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){fn(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),dn=function(t){function e(e,n,i){void 0===e&&(e=null);var r=t.call(this,un(n),cn(i,n))||this;return r._onChange=[],r._applyFormState(e),r._setUpdateStrategy(n),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r._initObservables(),r}return Object(u.b)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(pn),yn=function(t){function e(e,n,i){var r=t.call(this,un(n),cn(i,n))||this;return r.controls=e,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return Object(u.b)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(i){n._throwIfControlMissing(i),n.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(i){n.controls[i]&&n.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof dn?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(i,r){n=n||e.contains(r)&&t(i)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,i){n=e(n,t,i)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++)if(this.controls[e[t]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(pn),vn=function(t){function e(e,n,i){var r=t.call(this,un(n),cn(i,n))||this;return r.controls=e,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return Object(u.b)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,i){n._throwIfControlMissing(i),n.at(i).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,i){n.at(i)&&n.at(i).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof dn?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++)if(e[t].enabled)return!1;return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(pn),gn=Promise.resolve(null),mn=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new i.m,r.form=new yn({},on(e),sn(n)),r}return Object(u.b)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;gn.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),en(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;gn.then(function(){var n,i,r=e._findContainer(t.path);r&&r.removeControl(t.name),(i=(n=e._directives).indexOf(t))>-1&&n.splice(i,1)})},e.prototype.addFormGroup=function(t){var e=this;gn.then(function(){var n=e._findContainer(t.path),i=new yn({});(function(t,e){null==t&&rn(e,"Cannot find control with"),t.validator=Oe.compose([t.validator,e.validator]),t.asyncValidator=Oe.composeAsync([t.asyncValidator,e.asyncValidator])})(i,t),n.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;gn.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;gn.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(je),bn='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',xn='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',wn=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+bn+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+xn)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+bn+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+xn)},t}(),kn=function(t){function e(e,n,i){var r=t.call(this)||this;return r._parent=e,r._validators=n,r._asyncValidators=i,r}return Object(u.b)(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof mn||wn.modelGroupParentException()},e}(ln),Pn=Promise.resolve(null),Sn=function(t){function e(e,n,r,o){var s=t.call(this)||this;return s.control=new dn,s._registered=!1,s.update=new i.m,s._parent=e,s._rawValidators=n||[],s._rawAsyncValidators=r||[],s.valueAccessor=function(t,e){if(!e)return null;var n=void 0,i=void 0,r=void 0;return e.forEach(function(e){var o;e.constructor===Ve?n=e:(o=e,an.some(function(t){return o.constructor===t})?(i&&rn(t,"More than one built-in value accessor matches form control with"),i=e):(r&&rn(t,"More than one custom value accessor matches form control with"),r=e))}),r||i||n||(rn(t,"No valid value accessor for form control with"),null)}(s,o),s}return Object(u.b)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(i._10)(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?tn(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return on(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return sn(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){en(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof kn)&&this._parent instanceof ln?wn.formGroupNameException():this._parent instanceof kn||this._parent instanceof mn||wn.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||wn.missingNameException()},e.prototype._updateValue=function(t){var e=this;Pn.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,i=""===n||n&&"false"!==n;Pn.then(function(){i&&!e.control.disabled?e.control.disable():!i&&e.control.disabled&&e.control.enable()})},e}(He),Cn=function(){},Tn=function(){},Mn=n("Veqx"),Nn=Mn.a.of,jn=n("Qnch");function An(t,e){return function(t,e){return Object(jn.a)(t,e,1)}(t,e)(this)}var _n=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new On(t,this.predicate,this.thisArg))},t}(),On=function(t){function e(e,n,i){t.call(this,e),this.predicate=n,this.thisArg=i,this.count=0}return Object(u.b)(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(K.a);function En(t,e){return function(t,e){return function(n){return n.lift(new _n(t,e))}}(t,e)(this)}var Dn=function(){},Ln=function(){},Fn=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var n=t.indexOf(":");if(n>0){var i=t.slice(0,n),r=i.toLowerCase(),o=t.slice(n+1).trim();e.maybeSetNormalizedName(i,r),e.headers.has(r)?e.headers.get(r).push(o):e.headers.set(r,[o])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(n){var i=t[n],r=n.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(e.headers.set(r,i),e.maybeSetNormalizedName(n,r))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,n),this.headers.set(e,i);break;case"d":var r=t.value;if(r){var o=this.headers.get(e);if(!o)return;0===(o=o.filter(function(t){return-1===r.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})},t}(),In=function(){function t(){}return t.prototype.encodeKey=function(t){return Rn(t)},t.prototype.encodeValue=function(t){return Rn(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function Rn(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Vn=function(){function t(t){void 0===t&&(t={});var e,n,i,r=this;if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new In,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,n=this.encoder,i=new Map,e.length>0&&e.split("&").forEach(function(t){var e=t.indexOf("="),r=-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],o=r[0],s=r[1],a=i.get(o)||[];a.push(s),i.set(o,a)}),i)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(e){var n=t.fromObject[e];r.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var i=t.map.get(e.param)||[],r=i.indexOf(e.value);-1!==r&&i.splice(r,1),i.length>0?t.map.set(e.param,i):t.map.delete(e.param)}}),this.cloneFrom=null)},t}();function Bn(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function zn(t){return"undefined"!=typeof Blob&&t instanceof Blob}function qn(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Gn=function(){function t(t,e,n,i){var r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new Fn),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var s=e.indexOf("?");this.urlWithParams=e+(-1===s?"?":s<e.length-1?"&":"")+o}}else this.params=new Vn,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:Bn(this.body)||zn(this.body)||qn(this.body)||"string"==typeof this.body?this.body:this.body instanceof Vn?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:qn(this.body)?null:zn(this.body)?this.body.type||null:Bn(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Vn?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,l=e.headers||this.headers,h=e.params||this.params;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},l)),e.setParams&&(h=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},h)),new t(n,i,o,{params:h,headers:l,reportProgress:a,responseType:r,withCredentials:s})},t}(),Hn=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),Un=function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new Fn,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),Kn=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=Hn.ResponseHeader,n}return Object(u.b)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(Un),Jn=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=Hn.Response,n.body=void 0!==e.body?e.body:null,n}return Object(u.b)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(Un),Wn=function(t){function e(e){var n=t.call(this,e,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,n.error=e.error||null,n}return Object(u.b)(e,t),e}(Un);function Yn(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Zn=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var i,r=this;if(void 0===n&&(n={}),t instanceof Gn)i=t;else{var o;o=n.headers instanceof Fn?n.headers:new Fn(n.headers);var s=void 0;n.params&&(s=n.params instanceof Vn?n.params:new Vn({fromObject:n.params})),i=new Gn(t,e,void 0!==n.body?n.body:null,{headers:o,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var a=An.call(Nn(i),function(t){return r.handler.handle(t)});if(t instanceof Gn||"events"===n.observe)return a;var l=En.call(a,function(t){return t instanceof Jn});switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return Y.call(l,function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body});case"blob":return Y.call(l,function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body});case"text":return Y.call(l,function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body});case"json":default:return Y.call(l,function(t){return t.body})}case"response":return l;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new Vn).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,Yn(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,Yn(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,Yn(n,e))},t}(),Xn=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),Qn=new i.o("HTTP_INTERCEPTORS"),$n=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}(),ti=/^\)\]\}',?\n/,ei=function(){},ni=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),ii=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new E.a(function(n){var i=e.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach(function(t,e){return i.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var r=t.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(t.responseType){var o=t.responseType.toLowerCase();i.responseType="json"!==o?o:"text"}var s=t.serializeBody(),a=null,l=function(){if(null!==a)return a;var e=1223===i.status?204:i.status,n=i.statusText||"OK",r=new Fn(i.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;return a=new Kn({headers:r,status:e,statusText:n,url:o})},h=function(){var e=l(),r=e.headers,o=e.status,s=e.statusText,a=e.url,h=null;204!==o&&(h="undefined"==typeof i.response?i.responseText:i.response),0===o&&(o=h?200:0);var u=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof h){var c=h;h=h.replace(ti,"");try{h=""!==h?JSON.parse(h):null}catch(t){h=c,u&&(u=!1,h={error:t,text:h})}}u?(n.next(new Jn({body:h,headers:r,status:o,statusText:s,url:a||void 0})),n.complete()):n.error(new Wn({error:h,headers:r,status:o,statusText:s,url:a||void 0}))},u=function(t){var e=new Wn({error:t,status:i.status||0,statusText:i.statusText||"Unknown Error"});n.error(e)},c=!1,f=function(e){c||(n.next(l()),c=!0);var r={type:Hn.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),"text"===t.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},p=function(t){var e={type:Hn.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return i.addEventListener("load",h),i.addEventListener("error",u),t.reportProgress&&(i.addEventListener("progress",f),null!==s&&i.upload&&i.upload.addEventListener("progress",p)),i.send(s),n.next({type:Hn.Sent}),function(){i.removeEventListener("error",u),i.removeEventListener("load",h),t.reportProgress&&(i.removeEventListener("progress",f),null!==s&&i.upload&&i.upload.removeEventListener("progress",p)),i.abort()}})},t}(),ri=new i.o("XSRF_COOKIE_NAME"),oi=new i.o("XSRF_HEADER_NAME"),si=function(){},ai=function(){function t(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=C(t,this.cookieName),this.lastCookieString=t),this.lastToken},t}(),li=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)},t}(),hi=function(){function t(t,e){this.backend=t,this.injector=e,this.chain=null}return t.prototype.handle=function(t){if(null===this.chain){var e=this.injector.get(Qn,[]);this.chain=e.reduceRight(function(t,e){return new Xn(t,e)},this.backend)}return this.chain.handle(t)},t}(),ui=function(){function t(){}return t.disable=function(){return{ngModule:t,providers:[{provide:li,useClass:$n}]}},t.withOptions=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.cookieName?{provide:ri,useValue:e.cookieName}:[],e.headerName?{provide:oi,useValue:e.headerName}:[]]}},t}(),ci=function(){},fi=function(){function t(){this.messages=[]}return t.prototype.add=function(t){this.messages.push(t)},t.prototype.clear=function(){this.messages=[]},t}();function pi(t){return function(e){var n=new di(t),i=e.lift(n);return n.caught=i}}n("GK6M"),n("fKB6"),n("VwZZ"),n("1Q68");var di=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new yi(t,this.selector,this.caught))},t}(),yi=function(t){function e(e,n,i){t.call(this,e),this.selector=n,this.caught=i}return Object(u.b)(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(Object(F.a)(this,n))}},e}(I.a),vi=n("N4j0"),gi=n("cQXm"),mi=n("etqZ"),bi=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=ki(e)}return Object(u.b)(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.iterator,i=t.subscriber;if(t.hasError)i.error(t.error);else{var r=n.next();r.done?i.complete():(i.next(r.value),t.index=e+1,i.closed?"function"==typeof n.return&&n.return():this.schedule(t))}},e.prototype._subscribe=function(t){var n=this.iterator,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{index:0,iterator:n,subscriber:t});for(;;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed){"function"==typeof n.return&&n.return();break}}},e}(E.a),xi=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[mi.a]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),wi=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=function(e){var n,i,r=+t.length;return isNaN(r)?0:0!==r&&"number"==typeof(n=r)&&z.a.isFinite(n)?(r=(0==(i=+r)?i:isNaN(i)?i:i<0?-1:1)*Math.floor(Math.abs(r)))<=0?0:r>Pi?Pi:r:r}()),this.arr=t,this.idx=e,this.len=n}return t.prototype[mi.a]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}();function ki(t){var e=t[mi.a];if(!e&&"string"==typeof t)return new xi(t);if(!e&&void 0!==t.length)return new wi(t);if(!e)throw new TypeError("object is not iterable");return t[mi.a]()}var Pi=Math.pow(2,53)-1,Si=n("TILf"),Ci=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Object(u.b)(e,t),e.create=function(t,n){var i=t.length;return 0===i?new D.a:1===i?new Si.a(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,i=t.subscriber;i.closed||(n>=t.length?i.complete():(i.next(e[n]),t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.arrayLike,i=this.scheduler,r=n.length;if(i)return i.schedule(e.dispatch,0,{arrayLike:n,index:0,length:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(E.a),Ti=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return E.a.of(this.value);case"E":return E.a.throw(this.error);case"C":return E.a.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!=typeof e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),Mi=function(t){function e(e,n,i){void 0===i&&(i=0),t.call(this,e),this.scheduler=n,this.delay=i}return Object(u.b)(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new Ni(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Ti.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Ti.createError(t))},e.prototype._complete=function(){this.scheduleMessage(Ti.createComplete())},e}(K.a),Ni=function(t,e){this.notification=t,this.destination=e},ji=n("+CnV"),Ai=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return Object(u.b)(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[ji.a])return t instanceof E.a&&!n?t:new e(t,n);if(Object(L.a)(t))return new Mn.a(t,n);if(Object(gi.a)(t))return new q(t,n);if("function"==typeof t[mi.a]||"string"==typeof t)return new bi(t,n);if(Object(vi.a)(t))return new Ci(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[ji.a]().subscribe(t):e[ji.a]().subscribe(new Mi(t,n,0))},e}(E.a).create,_i=n("8D5t"),Oi=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new Ei(t,this.defaultValue))},t}(),Ei=function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}return Object(u.b)(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(K.a),Di=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return Object(u.b)(e,t),e}(Error),Li=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new Fi(t,this.predicate,this.thisArg,this.source))},t}(),Fi=function(t){function e(e,n,i,r){t.call(this,e),this.predicate=n,this.thisArg=i,this.source=r,this.index=0,this.thisArg=i||this}return Object(u.b)(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(K.a),Ii=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return Object(u.b)(e,t),e}(Error),Ri=function(){function t(t,e,n,i){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=i}return t.prototype.call=function(t,e){return e.subscribe(new Vi(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),Vi=function(t){function e(e,n,i,r,o){t.call(this,e),this.predicate=n,this.resultSelector=i,this.defaultValue=r,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return Object(u.b)(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new Ii):(t.next(this.defaultValue),t.complete())},e}(K.a),Bi=n("g5jc");n("gIN1");var zi=function(){function t(t,e,n,i){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=i}return t.prototype.call=function(t,e){return e.subscribe(new qi(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),qi=function(t){function e(e,n,i,r,o){t.call(this,e),this.predicate=n,this.resultSelector=i,this.defaultValue=r,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof r&&(this.lastValue=r,this.hasValue=!0)}return Object(u.b)(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new Ii)},e}(K.a);function Gi(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Hi(t,e,n))}}var Hi=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new Ui(t,this.accumulator,this.seed,this.hasSeed))},t}(),Ui=function(t){function e(e,n,i,r){t.call(this,e),this.accumulator=n,this._seed=i,this.hasSeed=r,this.index=0}return Object(u.b)(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(K.a);function Ki(t){return function(e){return 0===t?new D.a:e.lift(new Ji(t))}}var Ji=function(){function t(t){if(this.total=t,this.total<0)throw new Di}return t.prototype.call=function(t,e){return e.subscribe(new Wi(t,this.total))},t}(),Wi=function(t){function e(e,n){t.call(this,e),this.total=n,this.ring=new Array,this.count=0}return Object(u.b)(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=e++%n;t.next(i[o])}t.complete()},e}(K.a),Yi=n("f9aG");function Zi(t,e){return arguments.length>=2?function(n){return Object(Yi.a)(Gi(t,e),Ki(1),(void 0===(i=e)&&(i=null),function(t){return t.lift(new Oi(i))}))(n);var i}:function(e){return Object(Yi.a)(Gi(function(e,n,i){return t(e,n,i+1)}),Ki(1))(e)}}n("/nXB"),n("Jwyl");var Xi=n("x6VL"),Qi=function(t){function e(e){t.call(this),this._value=e}return Object(u.b)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Xi.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(Bi.a);n("1Bqh"),n("0P3J"),n("3a3m"),n("lAP5"),Error,E.a.prototype.map=Y;var $i=function(){function t(){}return t.prototype.buildMap=function(t){return Object.keys(t).reduce(function(e,n){return e.set(n,t[n])},new Map)},t.prototype.getKeys=function(t){return Array.from(t.keys())},t}(),tr=function(){function t(t,e,n){this.utilityService=t,this.http=e,this.messageService=n}return t.prototype.log=function(t){this.messageService.add("FacultyService: "+t)},t.prototype.getFaculties=function(){return this.log("Got faculties list"),this.http.get("assets/json/faculties.json").pipe(pi(this.handleError("getFaculties",new Map)))},t.prototype.handleError=function(t,e){var n=this;return void 0===t&&(t="operation"),function(i){return console.error(i),n.log(t+" failed: "+i.message),Nn(e)}},t}(),er=function(){function t(t,e){this.facultyService=t,this.utilityService=e,this.faculty=new i.m}return t.prototype.onSelect=function(t){this.faculty.emit(t)},t.prototype.ngOnInit=function(){var t=this;this.facultyService.getFaculties().subscribe(function(e){return t.faculties=t.utilityService.buildMap(e)})},t}(),nr=i._1({encapsulation:0,styles:[[""]],data:{}});function ir(t){return i._20(0,[(t()(),i._3(0,0,null,null,3,"option",[],null,null,null,null,null)),i._2(1,147456,null,0,Ze,[i.k,i.B,[8,null]],{value:[0,"value"]},null),i._2(2,147456,null,0,$e,[i.k,i.B,[8,null]],{value:[0,"value"]},null),(t()(),i._19(3,null,["(",")\n      ","\n    "]))],function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)},function(t,e){t(e,3,0,e.context.$implicit,e.component.faculties.get(e.context.$implicit).name)})}function rr(t){return i._20(0,[(t()(),i._3(0,0,null,null,11,"div",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n  "])),(t()(),i._3(2,0,null,null,1,"label",[["for","facultySelect"]],null,null,null,null,null)),(t()(),i._19(-1,null,["Please choose faculty: "])),(t()(),i._19(-1,null,["\n  "])),(t()(),i._19(-1,null,["\n  "])),(t()(),i._3(6,0,null,null,4,"select",[["id","facultySelect"]],null,[[null,"change"]],function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onSelect(n.target.value)&&i),i},null,null)),(t()(),i._19(-1,null,["\n    "])),(t()(),i.Y(16777216,null,null,1,null,ir)),i._2(9,802816,null,0,M,[i.M,i.J,i.q],{ngForOf:[0,"ngForOf"]},null),(t()(),i._19(-1,null,["\n  "])),(t()(),i._19(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,9,0,n.utilityService.getKeys(n.faculties))},null)}function or(t){return i._20(0,[(t()(),i.Y(16777216,null,null,1,null,rr)),i._2(1,16384,null,0,j,[i.M,i.J],{ngIf:[0,"ngIf"]},null),(t()(),i._19(-1,null,["\n"]))],function(t,e){t(e,1,0,e.component.faculties)},null)}var sr=function(){function t(t,e){this.http=t,this.messageService=e}return t.prototype.log=function(t){this.messageService.add("TestService: "+t)},t.prototype.getTests=function(){return this.log("Got test list"),this.http.get("assets/json/tests.json").pipe(pi(this.handleError("getTests",{})))},t.prototype.handleError=function(t,e){var n=this;return void 0===t&&(t="operation"),function(i){return console.error(i),n.log(t+" failed: "+i.message),Nn(e)}},t}(),ar=function(){function t(t,e,n){this.testService=t,this.facultyService=e,this.utilityService=n,this.facultyTests={},this.faculties=new Map}return t.prototype.getTests=function(){var t=this;this.testService.getTests().subscribe(function(e){return t.facultyTests=e})},t.prototype.getFaculties=function(){var t=this;this.facultyService.getFaculties().subscribe(function(e){return t.faculties=t.utilityService.buildMap(e)})},t.prototype.ngOnInit=function(){this.getTests(),this.getFaculties()},t}(),lr=i._1({encapsulation:0,styles:[[".selected[_ngcontent-%COMP%]{background-color:#cfd8dc!important;color:#fff}.tests[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.tests[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.tests[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc!important;color:#fff}.tests[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.tests[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;top:-3px}.tests[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#607d8b;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}select[_ngcontent-%COMP%]{text-align-last:right;padding-right:10px;direction:rtl}"]],data:{}});function hr(t){return i._20(0,[(t()(),i._3(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n  Select faculty to display associated exams sorted by date. Not all faculties have exam dates.\n"]))],null,null)}function ur(t){return i._20(0,[(t()(),i._3(0,0,null,null,1,"td",[["align","center"]],null,null,null,null,null)),(t()(),i._19(1,null,["",""]))],null,function(t,e){t(e,1,0,e.context.$implicit)})}function cr(t){return i._20(0,[(t()(),i._3(0,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n      "])),(t()(),i.Y(16777216,null,null,1,null,ur)),i._2(3,802816,null,0,M,[i.M,i.J,i.q],{ngForOf:[0,"ngForOf"]},null),(t()(),i._19(-1,null,["\n  "]))],function(t,e){t(e,3,0,e.context.$implicit)},null)}function fr(t){return i._20(0,[(t()(),i._3(0,0,null,null,19,"div",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n  "])),(t()(),i._3(2,0,null,null,16,"table",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n    "])),(t()(),i._3(4,0,null,null,14,"tbody",[],null,null,null,null,null)),(t()(),i._3(5,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n      "])),(t()(),i._3(7,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),i._19(-1,null,["Course num."])),(t()(),i._19(-1,null,["\n      "])),(t()(),i._3(10,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),i._19(-1,null,["Name"])),(t()(),i._19(-1,null,["\n      "])),(t()(),i._3(13,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),i._19(-1,null,["Date"])),(t()(),i._19(-1,null,["\n    "])),(t()(),i._19(-1,null,["\n    "])),(t()(),i.Y(16777216,null,null,1,null,cr)),i._2(18,802816,null,0,M,[i.M,i.J,i.q],{ngForOf:[0,"ngForOf"]},null),(t()(),i._19(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,18,0,n.facultyTests[n.faculty])},null)}function pr(t){return i._20(0,[(t()(),i._3(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i._19(1,null,["\n  No test dates found for faculty "," - ","\n"]))],null,function(t,e){var n=e.component;t(e,1,0,n.faculty,n.faculties.get(n.faculty).name)})}function dr(t){return i._20(0,[(t()(),i._3(0,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),i._19(-1,null,["Test Lister"])),(t()(),i._19(-1,null,["\n"])),(t()(),i._3(3,0,null,null,1,"app-faculty-selector",[],null,[[null,"faculty"]],function(t,e,n){var i=!0;return"faculty"===e&&(i=!1!==(t.component.faculty=n)&&i),i},or,nr)),i._2(4,114688,null,0,er,[tr,$i],null,{faculty:"faculty"}),(t()(),i._19(-1,null,["\n\n"])),(t()(),i.Y(16777216,null,null,1,null,hr)),i._2(7,16384,null,0,j,[i.M,i.J],{ngIf:[0,"ngIf"]},null),(t()(),i._19(-1,null,["\n"])),(t()(),i.Y(16777216,null,null,1,null,fr)),i._2(10,16384,null,0,j,[i.M,i.J],{ngIf:[0,"ngIf"]},null),(t()(),i._19(-1,null,["\n\n"])),(t()(),i.Y(16777216,null,null,1,null,pr)),i._2(13,16384,null,0,j,[i.M,i.J],{ngIf:[0,"ngIf"]},null),(t()(),i._19(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,4,0),t(e,7,0,!n.faculty),t(e,10,0,n.faculty&&n.facultyTests[n.faculty]),t(e,13,0,n.faculty&&!n.facultyTests[n.faculty])},null)}var yr=i.Z("app-tests",ar,function(t){return i._20(0,[(t()(),i._3(0,0,null,null,1,"app-tests",[],null,null,null,dr,lr)),i._2(1,114688,null,0,ar,[sr,tr,$i],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),vr=function(){function t(t,e){this.http=t,this.messageService=e}return t.prototype.handleError=function(t,e){var n=this;return void 0===t&&(t="operation"),function(i){return console.error(i),n.log(t+" failed: "+i.message),Nn(e)}},t.prototype.log=function(t){this.messageService.add("CourseService: "+t)},t.prototype.getCourses=function(){return this.log("Got courses list"),this.http.get("assets/json/courses.json").pipe(pi(this.handleError("getFaculties",new Map)))},t}(),gr=function(){function t(t,e){this.courseService=t,this.utilityService=e,this.JSON=JSON}return t.prototype.getCourses=function(){var t=this;this.courseService.getCourses().subscribe(function(e){t.courses=t.utilityService.buildMap(e)})},t.prototype.getMatches=function(t){return this.utilityService.getKeys(this.courses).filter(function(e){return e.startsWith(t)})},t.prototype.ngOnChanges=function(t){var e=t.id;e.isFirstChange()&&this.getCourses(),this.id=e.currentValue,this.courses&&(this.course=this.courses.get(this.id))},t.prototype.ngOnInit=function(){},t}(),mr=i._1({encapsulation:0,styles:[[""]],data:{}});function br(t){return i._20(0,[(t()(),i._3(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function xr(t){return i._20(0,[(t()(),i._3(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i._19(1,null,["Course "," not found in database!"]))],null,function(t,e){t(e,1,0,e.component.id)})}function wr(t){return i._20(0,[(t()(),i._3(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i._19(1,null,["\n        "," - ","\n      "]))],null,function(t,e){t(e,1,0,e.context.$implicit,e.component.courses.get(e.context.$implicit).name)})}function kr(t){return i._20(0,[(t()(),i._3(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n      Suggestions:\n      "])),(t()(),i.Y(16777216,null,null,1,null,wr)),i._2(3,802816,null,0,M,[i.M,i.J,i.q],{ngForOf:[0,"ngForOf"]},null),(t()(),i._19(-1,null,["\n    "]))],function(t,e){var n=e.component;t(e,3,0,n.getMatches(n.id))},null)}function Pr(t){return i._20(0,[(t()(),i._19(-1,null,["\n    "])),(t()(),i.Y(16777216,null,null,1,null,xr)),i._2(2,16384,null,0,j,[i.M,i.J],{ngIf:[0,"ngIf"]},null),(t()(),i._19(-1,null,["\n    "])),(t()(),i.Y(16777216,null,null,1,null,kr)),i._2(5,16384,null,0,j,[i.M,i.J],{ngIf:[0,"ngIf"]},null),(t()(),i._19(-1,null,["\n  "]))],function(t,e){var n=e.component;t(e,2,0,6==n.id.length),t(e,5,0,n.id.length<6&&n.getMatches(n.id).length<70)},null)}function Sr(t){return i._20(0,[(t()(),i._3(0,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n        "])),(t()(),i._3(2,0,null,null,0,"th",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n        "])),(t()(),i._3(4,0,null,null,1,"th",[["align","center"]],null,null,null,null,null)),(t()(),i._19(-1,null,["Followups"])),(t()(),i._19(-1,null,["\n      "]))],null,null)}function Cr(t){return i._20(0,[(t()(),i._3(0,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n        "])),(t()(),i._3(2,0,null,null,1,"td",[["align","center"]],null,null,null,null,null)),(t()(),i._19(3,null,["",""])),(t()(),i._19(-1,null,["\n        "])),(t()(),i._3(5,0,null,null,1,"td",[["align","center"]],null,null,null,null,null)),(t()(),i._19(6,null,["",""])),(t()(),i._19(-1,null,["\n        "])),(t()(),i._3(8,0,null,null,1,"td",[["align","center"]],null,null,null,null,null)),(t()(),i._19(-1,null,["To be added"])),(t()(),i._19(-1,null,["\n      "]))],null,function(t,e){var n=e.component;t(e,3,0,n.courses.get(e.context.$implicit).courseId),t(e,6,0,n.courses.get(e.context.$implicit).name)})}function Tr(t){return i._20(0,[(t()(),i._3(0,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n        "])),(t()(),i._3(2,0,null,null,0,"th",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n        "])),(t()(),i._3(4,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),i._19(-1,null,["Reverse-Zamuds"])),(t()(),i._19(-1,null,["\n      "]))],null,null)}function Mr(t){return i._20(0,[(t()(),i._3(0,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n        "])),(t()(),i._3(2,0,null,null,1,"td",[["align","center"]],null,null,null,null,null)),(t()(),i._19(3,null,["",""])),(t()(),i._19(-1,null,["\n        "])),(t()(),i._3(5,0,null,null,1,"td",[["align","center"]],null,null,null,null,null)),(t()(),i._19(6,null,["",""])),(t()(),i._19(-1,null,["\n        "])),(t()(),i._3(8,0,null,null,1,"td",[["align","center"]],null,null,null,null,null)),(t()(),i._19(-1,null,["To be added"])),(t()(),i._19(-1,null,["\n      "]))],null,function(t,e){var n=e.component;t(e,3,0,n.courses.get(e.context.$implicit).courseId),t(e,6,0,n.courses.get(e.context.$implicit).name)})}function Nr(t){return i._20(0,[(t()(),i._19(0,null,["\n    Followups for "," - ",":\n    "])),(t()(),i._3(1,0,null,null,26,"table",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n      "])),(t()(),i._3(3,0,null,null,24,"tbody",[],null,null,null,null,null)),(t()(),i._3(4,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n        "])),(t()(),i._3(6,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),i._19(-1,null,["Course Num."])),(t()(),i._19(-1,null,["\n        "])),(t()(),i._3(9,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),i._19(-1,null,["Name"])),(t()(),i._19(-1,null,["\n        "])),(t()(),i._3(12,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),i._19(-1,null,["Link"])),(t()(),i._19(-1,null,["\n      "])),(t()(),i._19(-1,null,["\n      "])),(t()(),i.Y(16777216,null,null,1,null,Sr)),i._2(17,16384,null,0,j,[i.M,i.J],{ngIf:[0,"ngIf"]},null),(t()(),i._19(-1,null,["\n      "])),(t()(),i.Y(16777216,null,null,1,null,Cr)),i._2(20,802816,null,0,M,[i.M,i.J,i.q],{ngForOf:[0,"ngForOf"]},null),(t()(),i._19(-1,null,["\n      "])),(t()(),i.Y(16777216,null,null,1,null,Tr)),i._2(23,16384,null,0,j,[i.M,i.J],{ngIf:[0,"ngIf"]},null),(t()(),i._19(-1,null,["\n      "])),(t()(),i.Y(16777216,null,null,1,null,Mr)),i._2(26,802816,null,0,M,[i.M,i.J,i.q],{ngForOf:[0,"ngForOf"]},null),(t()(),i._19(-1,null,["\n    "])),(t()(),i._19(-1,null,["\n  "]))],function(t,e){var n=e.component;t(e,17,0,n.course.followups.length>0),t(e,20,0,n.course.followups),t(e,23,0,n.course.reverseZamuds.length>0),t(e,26,0,n.course.reverseZamuds)},function(t,e){var n=e.component;t(e,0,0,n.id.toString(),n.course.name)})}function jr(t){return i._20(0,[(t()(),i._3(0,0,null,null,8,"div",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n  "])),(t()(),i.Y(16777216,null,null,1,null,br)),i._2(3,16384,null,0,j,[i.M,i.J],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(t()(),i._19(-1,null,["\n  "])),(t()(),i.Y(0,[["badCourse",2]],null,0,null,Pr)),(t()(),i._19(-1,null,["\n  "])),(t()(),i.Y(0,[["courseInfo",2]],null,0,null,Nr)),(t()(),i._19(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,3,0,!n.courses.has(n.id.toString()),i._14(e,5),i._14(e,7))},null)}function Ar(t){return i._20(0,[(t()(),i.Y(16777216,null,null,1,null,jr)),i._2(1,16384,null,0,j,[i.M,i.J],{ngIf:[0,"ngIf"]},null),(t()(),i._19(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,1,0,n.courses&&n.id)},null)}var _r=n("SrXe"),Or=function(){function t(t,e,n){this.testService=t,this.facultyService=e,this.utilityService=n,this.showGraph=!1}return t.prototype.getFaculties=function(){var t=this;this.facultyService.getFaculties().subscribe(function(e){t.faculties=t.utilityService.buildMap(e)},function(t){return console.log(t)})},t.prototype.drawGraph=function(){var t=_r.GraphObject.make,e=t(_r.Diagram,"myDiagramDiv",{initialContentAlignment:_r.Spot.Center,"undoManager.isEnabled":!0}),n=t(_r.Model);n.nodeDataArray=[{key:"Alpha"},{key:"Beta"},{key:"Gamma"}],e.model=n,e.nodeTemplate=t(_r.Node,"Vertical",{locationSpot:_r.Spot.Center},new _r.Binding("location","loc"),t(_r.Shape,"RoundedRectangle",{},new _r.Binding("figure","fig")),t(_r.TextBlock,"default text",{},new _r.Binding("text","key")))},t.prototype.getCourses=function(t){if(!this.faculties.has(t))return this.courses=[],void console.log(t+" error: invalid faculty code");this.courses=this.faculties.get(t).courses},t.prototype.getFacCourses=function(t){if(!this.faculties.has(t))return this.courses=[],void console.log(t+" error: invalid faculty code");this.courses=this.faculties.get(t).courses.filter(function(e){return e.startsWith(t)})},t.prototype.ngOnInit=function(){this.getFaculties()},t}(),Er=i._1({encapsulation:0,styles:[[""]],data:{}});function Dr(t){return i._20(0,[(t()(),i._3(0,0,null,null,0,"div",[["id","myDiagramDiv"],["style","width:400px; height:150px; background-color: #DAE4E4;"]],null,null,null,null,null))],null,null)}function Lr(t){return i._20(0,[(t()(),i._3(0,0,null,null,11,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),i._19(-1,null,["\n  "])),(t()(),i._3(2,0,null,null,1,"label",[["for","course"]],null,null,null,null,null)),(t()(),i._19(-1,null,["Enter Course Number: "])),(t()(),i._19(-1,null,["\n  "])),(t()(),i._3(5,0,null,null,5,"input",[["class","form-control"],["id","course"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==i._14(t,6)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==i._14(t,6).onTouched()&&r),"compositionstart"===e&&(r=!1!==i._14(t,6)._compositionStart()&&r),"compositionend"===e&&(r=!1!==i._14(t,6)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.id=n)&&r),r},null,null)),i._2(6,16384,null,0,Ve,[i.B,i.k,[2,Re]],null,null),i._16(1024,null,Fe,function(t){return[t]},[Ve]),i._2(8,671744,null,0,Sn,[[8,null],[8,null],[8,null],[2,Fe]],{model:[0,"model"]},{update:"ngModelChange"}),i._16(2048,null,He,null,[Sn]),i._2(10,16384,null,0,hn,[He],null,null),(t()(),i._19(-1,null,["\n"])),(t()(),i._19(-1,null,["\n\n"])),(t()(),i._3(13,0,null,null,1,"app-course-display",[],null,null,null,Ar,mr)),i._2(14,638976,null,0,gr,[vr,$i],{id:[0,"id"]},null),(t()(),i._19(-1,null,["\n\n"])),(t()(),i._19(-1,null,["\n"])),(t()(),i.Y(16777216,null,null,1,null,Dr)),i._2(18,16384,null,0,j,[i.M,i.J],{ngIf:[0,"ngIf"]},null),(t()(),i._19(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,8,0,n.id),t(e,14,0,n.id),t(e,18,0,n.showGraph)},function(t,e){t(e,5,0,i._14(e,10).ngClassUntouched,i._14(e,10).ngClassTouched,i._14(e,10).ngClassPristine,i._14(e,10).ngClassDirty,i._14(e,10).ngClassValid,i._14(e,10).ngClassInvalid,i._14(e,10).ngClassPending)})}var Fr=i.Z("app-course-info",Or,function(t){return i._20(0,[(t()(),i._3(0,0,null,null,1,"app-course-info",[],null,null,null,Lr,Er)),i._2(1,114688,null,0,Or,[sr,tr,$i],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]);function Ir(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),Object(jn.a)(t,e,n)(this)}function Rr(t){return pi(t)(this)}function Vr(){return Object(_i.a)(1)(this)}function Br(t,e,n){return function(t,e,n){return function(i){return i.lift(new Ri(t,e,n,i))}}(t,e,n)(this)}function zr(t,e){return function(t,e){return function(n){return n.lift(new Li(t,e,n))}}(t,e)(this)}function qr(t,e,n){return function(t,e,n){return function(i){return i.lift(new zi(t,e,n,i))}}(t,e,n)(this)}function Gr(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(_i.a)(t)(this)}var Hr=function(t,e){this.id=t,this.url=e},Ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(u.b)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(Hr),Kr=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.urlAfterRedirects=i,r}return Object(u.b)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(Hr),Jr=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.reason=i,r}return Object(u.b)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(Hr),Wr=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.error=i,r}return Object(u.b)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(Hr),Yr=function(t){function e(e,n,i,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=i,o.state=r,o}return Object(u.b)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Hr),Zr=function(t){function e(e,n,i,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=i,o.state=r,o}return Object(u.b)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Hr),Xr=function(t){function e(e,n,i,r,o){var s=t.call(this,e,n)||this;return s.urlAfterRedirects=i,s.state=r,s.shouldActivate=o,s}return Object(u.b)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(Hr),Qr=function(t){function e(e,n,i,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=i,o.state=r,o}return Object(u.b)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Hr),$r=function(t){function e(e,n,i,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=i,o.state=r,o}return Object(u.b)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Hr),to=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),eo=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),no=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),io=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),ro=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),oo=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),so="primary",ao=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function lo(t){return new ao(t)}function ho(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var r={},o=0;o<i.length;o++){var s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}var uo=function(t,e){this.routes=t,this.module=e};function co(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var i=t[n];fo(i,po(e,i))}}function fo(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==so)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&co(t.children,e)}function po(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function yo(t,e){var n,i=Object.keys(t),r=Object.keys(e);if(i.length!=r.length)return!1;for(var o=0;o<i.length;o++)if(t[n=i[o]]!==e[n])return!1;return!0}function vo(t){return Array.prototype.concat.apply([],t)}function go(t){return t.length>0?t[t.length-1]:null}function mo(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function bo(t){var e=Gr.call(t);return zr.call(e,function(t){return!0===t})}function xo(t){return Object(i._8)(t)?t:Object(i._9)(t)?U(Promise.resolve(t)):Nn(t)}function wo(t,e,n){return n?function(t,e){return yo(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Co(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!Co(s=n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!Co(n.segments,r))return!1;for(var o in i.children){if(!n.children[o])return!1;if(!t(n.children[o],i.children[o]))return!1}return!0}var s=r.slice(0,n.segments.length),a=r.slice(n.segments.length);return!!Co(n.segments,s)&&!!n.children[so]&&e(n.children[so],i,a)}(e,n,n.segments)}(t.root,e.root)}var ko=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=lo(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return jo.serialize(this)},t}(),Po=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,mo(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Ao(this)},t}(),So=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=lo(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Eo(this)},t}();function Co(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function To(t,e){var n=[];return mo(t.children,function(t,i){i===so&&(n=n.concat(e(t,i)))}),mo(t.children,function(t,i){i!==so&&(n=n.concat(e(t,i)))}),n}var Mo=function(){},No=function(){function t(){}return t.prototype.parse=function(t){var e=new Ro(t);return new ko(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return Ao(e);if(n){var i=e.children[so]?t(e.children[so],!1):"",r=[];return mo(e.children,function(e,n){n!==so&&r.push(n+":"+t(e,!1))}),r.length>0?i+"("+r.join("//")+")":i}var o=To(e,function(n,i){return i===so?[t(e.children[so],!1)]:[i+":"+t(n,!1)]});return Ao(e)+"/("+o.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return _o(t)+"="+_o(e)}).join("&"):_o(t)+"="+_o(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),jo=new No;function Ao(t){return t.segments.map(function(t){return Eo(t)}).join("/")}function _o(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function Oo(t){return decodeURIComponent(t)}function Eo(t){return""+_o(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+_o(t)+"="+_o(e[t])}).join(""));var e}var Do=/^[^\/()?;=&#]+/;function Lo(t){var e=t.match(Do);return e?e[0]:""}var Fo=/^[^=?&#]+/,Io=/^[^?&#]+/,Ro=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Po([],{}):new Po([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURI(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[so]=new Po(t,e)),n},t.prototype.parseSegment=function(){var t=Lo(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new So(Oo(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Lo(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=Lo(this.remaining);i&&this.capture(n=i)}t[Oo(e)]=Oo(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(Fo))?e[0]:"";if(n){this.capture(n);var i="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Io);return e?e[0]:""}(this.remaining);r&&this.capture(i=r)}var o=Oo(n),s=Oo(i);if(t.hasOwnProperty(o)){var a=t[o];Array.isArray(a)||(t[o]=a=[a]),a.push(s)}else t[o]=s}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Lo(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '"+this.url+"'");var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=so);var o=this.parseChildren();e[r]=1===Object.keys(o).length?o[so]:new Po([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),Vo=function(t){this.segmentGroup=t||null},Bo=function(t){this.urlTree=t};function zo(t){return new E.a(function(e){return e.error(new Vo(t))})}function qo(t){return new E.a(function(e){return e.error(new Bo(t))})}function Go(t){return new E.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var Ho=function(){function t(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.v)}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,so),n=Y.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return Rr.call(n,function(e){if(e instanceof Bo)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Vo)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.ngModule,this.config,t.root,so),i=Y.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return Rr.call(i,function(t){if(t instanceof Vo)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var i,r=t.segments.length>0?new Po([],((i={})[so]=t,i)):t;return new ko(r,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?Y.call(this.expandChildren(t,e,n),function(t){return new Po([],t)}):this.expandSegment(t,n,e,n.segments,i,!0)},t.prototype.expandChildren=function(t,e,n){var i=this;return function(n,r){if(0===Object.keys(n).length)return Nn({});var o=[],s=[],a={};mo(n,function(n,r){var l=Y.call(i.expandSegmentGroup(t,e,n,r),function(t){return a[r]=t});r===so?o.push(l):s.push(l)});var l=Vr.call(Nn.apply(void 0,o.concat(s))),h=qr.call(l);return Y.call(h,function(){return a})}(n.children)},t.prototype.expandSegment=function(t,e,n,i,r,o){var s=this,a=Nn.apply(void 0,n),l=Y.call(a,function(a){var l=s.expandSegmentAgainstRoute(t,e,n,a,i,r,o);return Rr.call(l,function(t){if(t instanceof Vo)return Nn(null);throw t})}),h=Vr.call(l),u=Br.call(h,function(t){return!!t});return Rr.call(u,function(t,n){if(t instanceof Ii||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,i,r))return Nn(new Po([],{}));throw new Vo(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,i,r,o,s){return Wo(i)!==o?zo(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):zo(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?qo(o):Ir.call(this.lineralizeSegments(n,o),function(n){var o=new Po(n,{});return r.expandSegment(t,o,e,n,i,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,i,r,o){var s=this,a=Uo(e,i,r),l=a.consumedSegments,h=a.lastChild,u=a.positionalParamSegments;if(!a.matched)return zo(e);var c=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?qo(c):Ir.call(this.lineralizeSegments(i,c),function(i){return s.expandSegment(t,e,n,i.concat(r.slice(h)),o,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,n,i){var r=this;if("**"===n.path)return n.loadChildren?Y.call(this.configLoader.load(t.injector,n),function(t){return n._loadedConfig=t,new Po(i,{})}):Nn(new Po(i,{}));var o=Uo(e,n,i),s=o.consumedSegments,a=o.lastChild;if(!o.matched)return zo(e);var l=i.slice(a),h=this.getChildConfig(t,n);return Ir.call(h,function(t){var n=t.module,i=t.routes,o=function(t,e,n,i){return n.length>0&&function(t,e,n){return i.some(function(n){return Jo(t,e,n)&&Wo(n)!==so})}(t,n)?{segmentGroup:Ko(new Po(e,function(t,e){var n={};n[so]=e;for(var i=0,r=t;i<r.length;i++){var o=r[i];""===o.path&&Wo(o)!==so&&(n[Wo(o)]=new Po([],{}))}return n}(i,new Po(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return i.some(function(n){return Jo(t,e,n)})}(t,n)?{segmentGroup:Ko(new Po(t.segments,function(t,e,n,r){for(var o={},s=0,a=i;s<a.length;s++){var l=a[s];Jo(t,e,l)&&!r[Wo(l)]&&(o[Wo(l)]=new Po([],{}))}return Object(u.a)({},r,o)}(t,n,0,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,l,i),a=o.segmentGroup,h=o.slicedSegments;if(0===h.length&&a.hasChildren()){var c=r.expandChildren(n,i,a);return Y.call(c,function(t){return new Po(s,t)})}if(0===i.length&&0===h.length)return Nn(new Po(s,{}));var f=r.expandSegment(n,a,i,h,so,!0);return Y.call(f,function(t){return new Po(s.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?Nn(new uo(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Nn(e._loadedConfig):Ir.call(function(t,e){var n=e.canLoad;return n&&0!==n.length?bo(Y.call(Ai(n),function(n){var i=t.get(n);return xo(i.canLoad?i.canLoad(e):i(e))})):Nn(!0)}(t.injector,e),function(i){return i?Y.call(n.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):function(t){return new E.a(function(e){return e.error(((n=Error("NavigationCancelingError: Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false")).ngNavigationCancelingError=!0,n));var n})}(e)}):Nn(new uo([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Nn(n);if(i.numberOfChildren>1||!i.children[so])return Go(t.redirectTo);i=i.children[so]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,i){var r=this.createSegmentGroup(t,e.root,n,i);return new ko(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return mo(t,function(t,i){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);n[i]=e[r]}else n[i]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,i){var r=this,o=this.createSegments(t,e.segments,n,i),s={};return mo(e.children,function(e,o){s[o]=r.createSegmentGroup(t,e,n,i)}),new Po(o,s)},t.prototype.createSegments=function(t,e,n,i){var r=this;return e.map(function(e){return e.path.startsWith(":")?r.findPosParam(t,e,i):r.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return i},t.prototype.findOrReturn=function(t,e){for(var n=0,i=0,r=e;i<r.length;i++){var o=r[i];if(o.path===t.path)return e.splice(n),o;n++}return t},t}();function Uo(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(e.matcher||ho)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ko(t){if(1===t.numberOfChildren&&t.children[so]){var e=t.children[so];return new Po(t.segments.concat(e.segments),e.children)}return t}function Jo(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Wo(t){return t.outlet||so}var Yo=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=Zo(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=Zo(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=Xo(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return Xo(t,this._root).map(function(t){return t.value})},t}();function Zo(t,e){if(t===e.value)return e;for(var n=0,i=e.children;n<i.length;n++){var r=Zo(t,i[n]);if(r)return r}return null}function Xo(t,e){if(t===e.value)return[e];for(var n=0,i=e.children;n<i.length;n++){var r=Xo(t,i[n]);if(r.length)return r.unshift(e),r}return[]}var Qo=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function $o(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var ts=function(t){function e(e,n){var i=t.call(this,e)||this;return i.snapshot=n,ss(i,e),i}return Object(u.b)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(Yo);function es(t,e){var n=function(t,e){var n=new rs([],{},{},"",{},so,e,null,t.root,-1,{});return new os("",new Qo(n,[]))}(t,e),i=new Qi([new So("",{})]),r=new Qi({}),o=new Qi({}),s=new Qi({}),a=new Qi(""),l=new ns(i,r,s,a,o,so,e,n.root);return l.snapshot=n.root,new ts(new Qo(l,[]),n)}var ns=function(){function t(t,e,n,i,r,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Y.call(this.params,function(t){return lo(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Y.call(this.queryParams,function(t){return lo(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function is(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(t){return t.reduce(function(t,e){return{params:Object(u.a)({},t.params,e.params),data:Object(u.a)({},t.data,e.data),resolve:Object(u.a)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var rs=function(){function t(t,e,n,i,r,o,s,a,l,h,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=h,this._resolve=u}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=lo(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=lo(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),os=function(t){function e(e,n){var i=t.call(this,n)||this;return i.url=e,ss(i,n),i}return Object(u.b)(e,t),e.prototype.toString=function(){return as(this._root)},e}(Yo);function ss(t,e){e.value._routerState=t,e.children.forEach(function(e){return ss(t,e)})}function as(t){var e=t.children.length>0?" { "+t.children.map(as).join(", ")+" } ":"";return""+t.value+e}function ls(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yo(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yo(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!yo(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yo(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function hs(t,e){var n,i;return yo(t.params,e.params)&&Co(n=t.url,i=e.url)&&n.every(function(t,e){return yo(t.parameters,i[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||hs(t.parent,e.parent))}function us(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function cs(t,e,n,i,r){var o={};return i&&mo(i,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new ko(n.root===t?e:function t(e,n,i){var r={};return mo(e.children,function(e,o){r[o]=e===n?i:t(e,n,i)}),new Po(e.segments,r)}(n.root,t,e),o,r)}var fs=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&us(n[0]))throw new Error("Root segment cannot have matrix parameters");var i=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(i&&i!==go(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),ps=function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n};function ds(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[so]:""+t}function ys(t,e,n){if(t||(t=new Po([],{})),0===t.segments.length&&t.hasChildren())return vs(t,e,n);var i=function(t,e,n){for(var i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(i>=n.length)return o;var s=t.segments[r],a=ds(n[i]),l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!xs(a,l,s))return o;i+=2}else{if(!xs(a,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var o=new Po(t.segments.slice(0,i.pathIndex),{});return o.children[so]=new Po(t.segments.slice(i.pathIndex),t.children),vs(o,0,r)}return i.match&&0===r.length?new Po(t.segments,{}):i.match&&!t.hasChildren()?gs(t,e,n):i.match?vs(t,0,r):gs(t,e,n)}function vs(t,e,n){if(0===n.length)return new Po(t.segments,{});var i=function(t){return"object"!=typeof t[0]?((e={})[so]=t,e):void 0===t[0].outlets?((n={})[so]=t,n):t[0].outlets;var e,n}(n),r={};return mo(i,function(n,i){null!==n&&(r[i]=ys(t.children[i],e,n))}),mo(t.children,function(t,e){void 0===i[e]&&(r[e]=t)}),new Po(t.segments,r)}function gs(t,e,n){for(var i=t.segments.slice(0,e),r=0;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){var o=ms(n[r].outlets);return new Po(i,o)}if(0===r&&us(n[0]))i.push(new So(t.segments[e].path,n[0])),r++;else{var s=ds(n[r]),a=r<n.length-1?n[r+1]:null;s&&a&&us(a)?(i.push(new So(s,bs(a))),r+=2):(i.push(new So(s,{})),r++)}}return new Po(i,{})}function ms(t){var e={};return mo(t,function(t,n){null!==t&&(e[n]=gs(new Po([],{}),0,t))}),e}function bs(t){var e={};return mo(t,function(t,n){return e[n]=""+t}),e}function xs(t,e,n){return t==n.path&&yo(e,n.parameters)}var ws=function(t){this.path=t,this.route=this.path[this.path.length-1]},ks=function(t,e){this.component=t,this.route=e},Ps=function(){function t(t,e,n,i){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=i,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.initialize=function(t){var e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(!this.isDeactivating()&&!this.isActivating())return Nn(!0);var e=this.runCanDeactivateChecks();return Ir.call(e,function(e){return e?t.runCanActivateChecks():Nn(!1)})},t.prototype.resolveData=function(t){var e=this;if(!this.isActivating())return Nn(null);var n=Ai(this.canActivateChecks),i=An.call(n,function(n){return e.runResolve(n.route,t)});return(function(t,e){return arguments.length>=2?Zi(t,e)(this):Zi(t)(this)}).call(i,function(t,e){return t})},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.setupChildRouteGuards=function(t,e,n,i){var r=this,o=$o(e);t.children.forEach(function(t){r.setupRouteGuards(t,o[t.value.outlet],n,i.concat([t.value])),delete o[t.value.outlet]}),mo(o,function(t,e){return r.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.setupRouteGuards=function(t,e,n,i){var r=t.value,o=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){var a=this.shouldRunGuardsAndResolvers(o,r,r.routeConfig.runGuardsAndResolvers);a?this.canActivateChecks.push(new ws(i)):(r.data=o.data,r._resolvedData=o._resolvedData),this.setupChildRouteGuards(t,e,r.component?s?s.children:null:n,i),a&&this.canDeactivateChecks.push(new ks(s.outlet.component,o))}else o&&this.deactivateRouteAndItsChildren(e,s),this.canActivateChecks.push(new ws(i)),this.setupChildRouteGuards(t,null,r.component?s?s.children:null:n,i)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!hs(t,e)||!yo(t.queryParams,e.queryParams);case"paramsChange":default:return!hs(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,i=$o(t),r=t.value;mo(i,function(t,i){n.deactivateRouteAndItsChildren(t,r.component?e?e.children.getContext(i):null:e)}),this.canDeactivateChecks.push(new ks(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))},t.prototype.runCanDeactivateChecks=function(){var t=this,e=Ai(this.canDeactivateChecks),n=Ir.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return zr.call(n,function(t){return!0===t})},t.prototype.runCanActivateChecks=function(){var t=this,e=Ai(this.canActivateChecks),n=An.call(e,function(e){return bo(Ai([t.fireChildActivationStart(e.route.parent),t.fireActivationStart(e.route),t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return zr.call(n,function(t){return!0===t})},t.prototype.fireActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new ro(t)),Nn(!0)},t.prototype.fireChildActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new no(t)),Nn(!0)},t.prototype.runCanActivate=function(t){var e=this,n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?bo(Y.call(Ai(n),function(n){var i,r=e.getToken(n,t);return i=xo(r.canActivate?r.canActivate(t,e.future):r(t,e.future)),Br.call(i)})):Nn(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return bo(Y.call(Ai(i),function(t){return bo(Y.call(Ai(t.guards),function(i){var r,o=e.getToken(i,t.node);return r=xo(o.canActivateChild?o.canActivateChild(n,e.future):o(n,e.future)),Br.call(r)}))}))},t.prototype.extractCanActivateChild=function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||0===i.length)return Nn(!0);var r=Ir.call(Ai(i),function(i){var r,o=n.getToken(i,e);return r=xo(o.canDeactivate?o.canDeactivate(t,e,n.curr,n.future):o(t,e,n.curr,n.future)),Br.call(r)});return zr.call(r,function(t){return!0===t})},t.prototype.runResolve=function(t,e){return Y.call(this.resolveNode(t._resolve,t),function(n){return t._resolvedData=n,t.data=Object(u.a)({},t.data,is(t,e).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this,i=Object.keys(t);if(0===i.length)return Nn({});if(1===i.length){var r=i[0];return Y.call(this.getResolver(t[r],e),function(t){return(e={})[r]=t,e;var e})}var o={},s=Ir.call(Ai(i),function(i){return Y.call(n.getResolver(t[i],e),function(t){return o[i]=t,t})});return Y.call(qr.call(s),function(){return o})},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return xo(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),Ss=function(){},Cs=function(){function t(t,e,n,i,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r}return t.prototype.recognize=function(){try{var t=Ns(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,so),n=new rs([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},so,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Qo(n,e),r=new os(this.url,i);return this.inheritParamsAndData(r._root),Nn(r)}catch(t){return new E.a(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,i=is(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,i=this,r=To(e,function(e,n){return i.processSegmentGroup(t,e,n)});return n={},r.forEach(function(t){var e=n[t.value.outlet];if(e){var i=e.url.map(function(t){return t.toString()}).join("/"),r=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+i+"' and '"+r+"'.")}n[t.value.outlet]=t.value}),r.sort(function(t,e){return t.value.outlet===so?-1:e.value.outlet===so?1:t.value.outlet.localeCompare(e.value.outlet)}),r},t.prototype.processSegment=function(t,e,n,i){for(var r=0,o=t;r<o.length;r++){var s=o[r];try{return this.processSegmentAgainstRoute(s,e,n,i)}catch(t){if(!(t instanceof Ss))throw t}}if(this.noLeftoversInUrl(e,n,i))return[];throw new Ss},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,i){if(t.redirectTo)throw new Ss;if((t.outlet||so)!==i)throw new Ss;var r,o=[],s=[];if("**"===t.path){var a=n.length>0?go(n).parameters:{};r=new rs(n,a,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,_s(t),i,t.component,t,Ts(e),Ms(e)+n.length,Os(t))}else{var l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Ss;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(e.matcher||ho)(n,t,e);if(!i)throw new Ss;var r={};mo(i.posParams,function(t,e){r[e]=t.path});var o=i.consumed.length>0?Object(u.a)({},r,i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(e,t,n);o=l.consumedSegments,s=n.slice(l.lastChild),r=new rs(o,l.parameters,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,_s(t),i,t.component,t,Ts(e),Ms(e)+o.length,Os(t))}var h=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),c=Ns(e,o,s,h),f=c.segmentGroup,p=c.slicedSegments;if(0===p.length&&f.hasChildren()){var d=this.processChildren(h,f);return[new Qo(r,d)]}if(0===h.length&&0===p.length)return[new Qo(r,[])];var y=this.processSegment(h,f,p,so);return[new Qo(r,y)]},t}();function Ts(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Ms(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ns(t,e,n,i){if(n.length>0&&function(t,e,n){return i.some(function(n){return js(t,e,n)&&As(n)!==so})}(t,n)){var r=new Po(e,function(t,e,n,i){var r={};r[so]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(var o=0,s=n;o<s.length;o++){var a=s[o];if(""===a.path&&As(a)!==so){var l=new Po([],{});l._sourceSegment=t,l._segmentIndexShift=e.length,r[As(a)]=l}}return r}(t,e,i,new Po(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return i.some(function(n){return js(t,e,n)})}(t,n)){var o=new Po(t.segments,function(t,e,n,r){for(var o={},s=0,a=i;s<a.length;s++){var l=a[s];if(js(t,e,l)&&!r[As(l)]){var h=new Po([],{});h._sourceSegment=t,h._segmentIndexShift=t.segments.length,o[As(l)]=h}}return Object(u.a)({},r,o)}(t,n,0,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var s=new Po(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function js(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function As(t){return t.outlet||so}function _s(t){return t.data||{}}function Os(t){return t.resolve||{}}var Es=function(){},Ds=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),Ls=new i.o("ROUTES"),Fs=function(){function t(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}return t.prototype.load=function(t,e){var n=this;this.onLoadStartListener&&this.onLoadStartListener(e);var i=this.loadModuleFactory(e.loadChildren);return Y.call(i,function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var r=i.create(t);return new uo(vo(r.injector.get(Ls)),r)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?U(this.loader.load(t)):Ir.call(xo(t()),function(t){return t instanceof i.t?Nn(t):U(e.compiler.compileModuleAsync(t))})},t}(),Is=function(){},Rs=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function Vs(t){throw t}function Bs(t){return Nn(null)}var zs=function(){function t(t,e,n,r,o,s,a,l){var h=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=l,this.navigations=new Qi(null),this.navigationId=0,this.events=new Bi.a,this.errorHandler=Vs,this.navigated=!1,this.hooks={beforePreactivation:Bs,afterPreactivation:Bs},this.urlHandlingStrategy=new Rs,this.routeReuseStrategy=new Ds,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.ngModule=o.get(i.v),this.resetConfig(l),this.currentUrlTree=new ko(new Po([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new Fs(s,a,function(t){return h.triggerEvent(new to(t))},function(t){return h.triggerEvent(new eo(t))}),this.routerState=es(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.urlSerializer.parse(e.url),i="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,i,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){co(t),this.config=t,this.navigated=!1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,r=e.queryParams,o=e.fragment,s=e.preserveQueryParams,a=e.queryParamsHandling,l=e.preserveFragment;Object(i.T)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var h=n||this.routerState.root,c=l?this.currentUrlTree.fragment:o,f=null;if(a)switch(a){case"merge":f=Object(u.a)({},this.currentUrlTree.queryParams,r);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=r||null}else f=s?this.currentUrlTree.queryParams:r||null;return null!==f&&(f=this.removeEmptyProps(f)),function(t,e,n,i,r){if(0===n.length)return cs(e.root,e.root,e,i,r);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new fs(!0,0,t);var e=0,n=!1,i=t.reduce(function(t,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var o={};return mo(i.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:o}])}if(i.segmentPath)return t.concat([i.segmentPath])}return"string"!=typeof i?t.concat([i]):0===r?(i.split("/").forEach(function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):t.concat([i])},[]);return new fs(n,e,i)}(n);if(o.toRoot())return cs(e.root,new Po([],{}),e,i,r);var s=function(t,n,i){if(t.isAbsolute)return new ps(e.root,!0,0);if(-1===i.snapshot._lastPathIndex)return new ps(i.snapshot._urlSegment,!0,0);var r=us(t.commands[0])?0:1;return function(e,n,o){for(var s=i.snapshot._urlSegment,a=i.snapshot._lastPathIndex+r,l=t.numberOfDoubleDots;l>a;){if(l-=a,!(s=s.parent))throw new Error("Invalid number of '../'");a=s.segments.length}return new ps(s,!1,a-l)}()}(o,0,t),a=s.processChildren?vs(s.segmentGroup,s.index,o.commands):ys(s.segmentGroup,s.index,o.commands);return cs(s.segmentGroup,a,e,i,r)}(h,this.currentUrlTree,t,f,c)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof ko?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof ko)return wo(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return wo(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var i=t[n];return null!==i&&void 0!==i&&(e[n]=i),e},{})},t.prototype.processNavigations=function(){var t=this;An.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):Nn(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var i=this.navigations.value;if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var r=null,o=null,s=new Promise(function(t,e){r=t,o=e}),a=++this.navigationId;return this.navigations.next({id:a,source:e,rawUrl:t,extras:n,resolve:r,reject:o,promise:s}),s.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,i=t.rawUrl,r=t.extras,o=t.resolve,s=t.reject,a=this.urlHandlingStrategy.extract(i),l=!this.navigated||a.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(i)?(this.events.next(new Ur(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,i,!!r.skipLocationChange,!!r.replaceUrl,n,null)}).then(o,s)):l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new Ur(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,i,!1,!1,n,es(a,e.rootComponentType).snapshot)}).then(o,s)):(this.rawUrlTree=i,o(null))},t.prototype.runNavigate=function(t,e,n,i,r,o){var s=this;return r!==this.navigationId?(this.events.next(new Jr(r,this.serializeUrl(t),"Navigation ID "+r+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(a,l){var h;if(o)h=Nn({appliedUrl:t,snapshot:o});else{var u=new Ho(s.ngModule.injector,s.configLoader,s.urlSerializer,t,s.config).apply();h=Ir.call(u,function(e){return Y.call(function(t,e,n,i,r){return void 0===r&&(r="emptyOnly"),new Cs(t,e,n,i,r).recognize()}(s.rootComponentType,s.config,e,s.serializeUrl(e),s.paramsInheritanceStrategy),function(n){return s.events.next(new Yr(r,s.serializeUrl(t),s.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var c,f=Ir.call(h,function(t){return Y.call(s.hooks.beforePreactivation(t.snapshot),function(){return t})}),p=Y.call(f,function(t){var e=t.appliedUrl,n=t.snapshot;return(c=new Ps(n,s.routerState.snapshot,s.ngModule.injector,function(t){return s.triggerEvent(t)})).initialize(s.rootContexts),{appliedUrl:e,snapshot:n}}),d=Ir.call(p,function(e){var n=e.appliedUrl,i=e.snapshot;return s.navigationId!==r?Nn(!1):(s.triggerEvent(new Zr(r,s.serializeUrl(t),n,i)),Y.call(c.checkGuards(),function(e){return s.triggerEvent(new Xr(r,s.serializeUrl(t),n,i,e)),{appliedUrl:n,snapshot:i,shouldActivate:e}}))}),y=Ir.call(d,function(e){return s.navigationId!==r?Nn(!1):e.shouldActivate&&c.isActivating()?(s.triggerEvent(new Qr(r,s.serializeUrl(t),e.appliedUrl,e.snapshot)),Y.call(c.resolveData(s.paramsInheritanceStrategy),function(){return s.triggerEvent(new $r(r,s.serializeUrl(t),e.appliedUrl,e.snapshot)),e})):Nn(e)}),v=Ir.call(y,function(t){return Y.call(s.hooks.afterPreactivation(t.snapshot),function(){return t})}),g=Y.call(v,function(t){var e,n,i,r=t.appliedUrl,o=t.shouldActivate;return o?{appliedUrl:r,state:(i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){(a=i.value)._futureSnapshot=n.value;var r=function(e,n,i){return n.children.map(function(n){for(var r=0,o=i.children;r<o.length;r++){var s=o[r];if(e.shouldReuseRoute(s.value.snapshot,n.value))return t(e,n,s)}return t(e,n)})}(e,n,i);return new Qo(a,r)}if(e.retrieve(n.value)){var o=e.retrieve(n.value).route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,o),o}var s,a=new ns(new Qi((s=n.value).url),new Qi(s.params),new Qi(s.queryParams),new Qi(s.fragment),new Qi(s.data),s.outlet,s.component,s);return r=n.children.map(function(n){return t(e,n)}),new Qo(a,r)}(s.routeReuseStrategy,(e=t.snapshot)._root,(n=s.routerState)?n._root:void 0),new ts(i,e)),shouldActivate:o}:{appliedUrl:r,state:null,shouldActivate:o}});s.activateRoutes(g,s.routerState,s.currentUrlTree,r,t,e,n,i,a,l)})},t.prototype.activateRoutes=function(t,e,n,i,r,o,s,a,l,h){var u,c=this;t.forEach(function(t){var n=t.state;if(t.shouldActivate&&i===c.navigationId){if(c.currentUrlTree=t.appliedUrl,c.rawUrlTree=c.urlHandlingStrategy.merge(c.currentUrlTree,o),c.routerState=n,!s){var r=c.urlSerializer.serialize(c.rawUrlTree);c.location.isCurrentPathEqualTo(r)||a?c.location.replaceState(r):c.location.go(r)}new qs(c.routeReuseStrategy,n,e,function(t){return c.triggerEvent(t)}).activate(c.rootContexts),u=!0}else u=!1}).then(function(){u?(c.navigated=!0,c.events.next(new Kr(i,c.serializeUrl(r),c.serializeUrl(c.currentUrlTree))),l(!0)):(c.resetUrlToCurrentUrlTree(),c.events.next(new Jr(i,c.serializeUrl(r),"")),l(!1))},function(t){if((s=t)&&s.ngNavigationCancelingError)c.navigated=!0,c.resetStateAndUrl(e,n,o),c.events.next(new Jr(i,c.serializeUrl(r),t.message)),l(!1);else{c.resetStateAndUrl(e,n,o),c.events.next(new Wr(i,c.serializeUrl(r),t));try{l(c.errorHandler(t))}catch(t){h(t)}}var s})},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree))},t}(),qs=function(){function t(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ls(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var i=this,r=$o(e);t.children.forEach(function(t){var e=t.value.outlet;i.deactivateRoutes(t,r[e],n),delete r[e]}),mo(r,function(t,e){i.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var i=t.value,r=e?e.value:null;if(i===r)if(i.component){var o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:r})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,i=e.getContext(t.value.outlet);if(i){var r=$o(t),o=t.value.component?i.children:e;mo(r,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var i=this,r=$o(e);t.children.forEach(function(t){i.activateRoutes(t,r[t.value.outlet],n),i.forwardEvent(new oo(t.value.snapshot))}),t.children.length&&this.forwardEvent(new io(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var i=t.value,r=e?e.value:null;if(ls(i),i===r)if(i.component){var o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component)if(o=n.getOrCreateContext(i.outlet),this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),Gs(s.route)}else{var a=function(t){for(var e=i.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),l=a?a.module.componentFactoryResolver:null;o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function Gs(t){ls(t.value),t.children.forEach(Gs)}var Hs=function(){function t(t,e,n){var i=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Kr&&i.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(i.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,i){if(0!==t||e||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var r={skipLocationChange:Us(this.skipLocationChange),replaceUrl:Us(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,r),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Us(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Us(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();function Us(t){return""===t||!!t}var Ks=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Js,this.attachRef=null}}(),Js=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Ks,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),Ws=function(){function t(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.m,this.deactivateEvents=new i.m,this.name=r||so,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Ys(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),Ys=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===ns?this.route:t===Js?this.childContexts:this.parent.get(t,e)},t}(),Zs=function(){},Xs=function(){function t(){}return t.prototype.preload=function(t,e){return Rr.call(e(),function(){return Nn(null)})},t}(),Qs=function(){function t(){}return t.prototype.preload=function(t,e){return Nn(null)},t}(),$s=function(){function t(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new Fs(e,n,function(e){return t.triggerEvent(new to(e))},function(e){return t.triggerEvent(new eo(e))})}return t.prototype.setUpPreloading=function(){var t=this,e=En.call(this.router.events,function(t){return t instanceof Kr});this.subscription=An.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(i.v);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i];if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;n.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?n.push(this.preloadConfig(t,o)):o.children&&n.push(this.processRoutes(t,o.children))}return Gr.call(Ai(n))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var i=n.loader.load(t.injector,e);return Ir.call(i,function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})})},t}(),ta=new i.o("ROUTER_CONFIGURATION"),ea=new i.o("ROUTER_FORROOT_GUARD"),na=[y,{provide:Mo,useClass:No},{provide:zs,useFactory:la,deps:[i.g,Mo,Js,y,i.p,i.u,i.i,Ls,ta,[Is,new i.y],[Es,new i.y]]},Js,{provide:ns,useFactory:ha,deps:[zs]},{provide:i.u,useClass:i.H},$s,Qs,Xs,{provide:ta,useValue:{enableTracing:!1}}];function ia(){return new i.w("Router",zs)}var ra=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[na,aa(e),{provide:ea,useFactory:sa,deps:[[zs,new i.y,new i.G]]},{provide:ta,useValue:n||{}},{provide:p,useFactory:oa,deps:[c,[new i.n(d),new i.y],ta]},{provide:Zs,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Qs},{provide:i.w,multi:!0,useFactory:ia},[ua,{provide:i.d,multi:!0,useFactory:ca,deps:[ua]},{provide:pa,useFactory:fa,deps:[ua]},{provide:i.b,multi:!0,useExisting:pa}]]}},t.forChild=function(e){return{ngModule:t,providers:[aa(e)]}},t}();function oa(t,e,n){return void 0===n&&(n={}),n.useHash?new g(t,e):new m(t,e)}function sa(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function aa(t){return[{provide:i.a,multi:!0,useValue:t},{provide:Ls,multi:!0,useValue:t}]}function la(t,e,n,i,r,o,s,a,l,h,u){void 0===l&&(l={});var c=new zs(null,e,n,i,r,o,s,vo(a));if(h&&(c.urlHandlingStrategy=h),u&&(c.routeReuseStrategy=u),l.errorHandler&&(c.errorHandler=l.errorHandler),l.enableTracing){var f=X();c.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return l.onSameUrlNavigation&&(c.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=l.paramsInheritanceStrategy),c}function ha(t){return t.routerState.root}var ua=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Bi.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(f,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),i=t.injector.get(zs),r=t.injector.get(ta);if(t.isLegacyDisabled(r)||t.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '"+r.initialNavigation+"'");i.hooks.afterPreactivation=function(){return t.initNavigation?Nn(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(ta),n=this.injector.get($s),r=this.injector.get(zs),o=this.injector.get(i.g);t===o.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function ca(t){return t.appInitializer.bind(t)}function fa(t){return t.bootstrapListener.bind(t)}var pa=new i.o("Router Initializer"),da=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),ya=i._1({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{color:#999}*[_ngcontent-%COMP%]{padding:0;margin:0}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}#container[_ngcontent-%COMP%]{height:100%;border-collapse:collapse}"]],data:{}});function va(t){return i._20(0,[(t()(),i._3(0,0,null,null,14,"table",[["align","bottom"],["id","component"]],null,null,null,null,null)),(t()(),i._19(-1,null,["\n  "])),(t()(),i._3(2,0,null,null,12,"tbody",[],null,null,null,null,null)),(t()(),i._3(3,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n    "])),(t()(),i._3(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n      version: 0.1\n    "])),(t()(),i._19(-1,null,["\n    "])),(t()(),i._3(8,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n      Project Kdam by Ran Lottem\n    "])),(t()(),i._19(-1,null,["\n    "])),(t()(),i._3(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n      2018-03-18\n    "])),(t()(),i._19(-1,null,["\n  "])),(t()(),i._19(-1,null,["\n"])),(t()(),i._19(-1,null,["\n\n"]))],null,null)}var ga=i._1({encapsulation:0,styles:[[""]],data:{}});function ma(t){return i._20(0,[(t()(),i._3(0,0,null,null,9,"nav",[],null,null,null,null,null)),(t()(),i._19(-1,null,["\n  "])),(t()(),i._3(2,0,null,null,2,"a",[["routerLink","/tests"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==i._14(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),i._2(3,671744,null,0,Hs,[zs,ns,p],{routerLink:[0,"routerLink"]},null),(t()(),i._19(-1,null,["Tests"])),(t()(),i._19(-1,null,["\n  "])),(t()(),i._3(6,0,null,null,2,"a",[["routerLink","/course-info"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==i._14(t,7).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),i._2(7,671744,null,0,Hs,[zs,ns,p],{routerLink:[0,"routerLink"]},null),(t()(),i._19(-1,null,["Course Info"])),(t()(),i._19(-1,null,["\n"])),(t()(),i._19(-1,null,["\n"])),(t()(),i._3(11,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),i._2(12,212992,null,0,Ws,[Js,i.M,i.j,[8,null],i.h],null,null),(t()(),i._19(-1,null,["\n"])),(t()(),i._3(14,0,null,null,1,"app-bottom-bar",[["align","bottom"]],null,null,null,va,ya)),i._2(15,114688,null,0,da,[],null,null),(t()(),i._19(-1,null,["\n\n"]))],function(t,e){t(e,3,0,"/tests"),t(e,7,0,"/course-info"),t(e,12,0),t(e,15,0)},function(t,e){t(e,2,0,i._14(e,3).target,i._14(e,3).href),t(e,6,0,i._14(e,7).target,i._14(e,7).href)})}var ba=i.Z("app-root",o,function(t){return i._20(0,[(t()(),i._3(0,0,null,null,1,"app-root",[],null,null,null,ma,ga)),i._2(1,49152,null,0,o,[],null,null)],null,null)},{},{},[]),xa=function(){},wa=i._0(r,[o],function(t){return i._11([i._12(512,i.j,i.W,[[8,[h,yr,Fr,ba]],[3,i.j],i.v]),i._12(5120,i.s,i._17,[[3,i.s]]),i._12(4608,P,S,[i.s,[2,k]]),i._12(5120,i.c,i._5,[]),i._12(5120,i.q,i._13,[]),i._12(5120,i.r,i._15,[]),i._12(4608,ve,ge,[O]),i._12(6144,i.E,null,[ve]),i._12(4608,Gt,Ht,[]),i._12(5120,vt,function(t,e,n,i,r){return[new zt(t,e),new Wt(n),new Ut(i,r)]},[O,i.x,O,O,Gt]),i._12(4608,gt,gt,[vt,i.x]),i._12(135680,xt,xt,[O]),i._12(4608,Mt,Mt,[gt,xt]),i._12(6144,i.C,null,[Mt]),i._12(6144,bt,null,[xt]),i._12(4608,i.K,i.K,[i.x]),i._12(4608,lt,lt,[O]),i._12(4608,ft,ft,[O]),i._12(4608,Ue,Ue,[]),i._12(5120,ns,ha,[zs]),i._12(4608,Qs,Qs,[]),i._12(6144,Zs,null,[Qs]),i._12(135680,$s,$s,[zs,i.u,i.i,i.p,Zs]),i._12(4608,Xs,Xs,[]),i._12(5120,pa,fa,[ua]),i._12(5120,i.b,function(t){return[t]},[pa]),i._12(4608,si,ai,[O,i.z,ri]),i._12(4608,li,li,[si,oi]),i._12(5120,Qn,function(t){return[t]},[li]),i._12(4608,ni,ni,[]),i._12(6144,ei,null,[ni]),i._12(4608,ii,ii,[ei]),i._12(6144,Ln,null,[ii]),i._12(4608,Dn,hi,[Ln,i.p]),i._12(4608,Zn,Zn,[Dn]),i._12(4608,fi,fi,[]),i._12(4608,sr,sr,[Zn,fi]),i._12(4608,$i,$i,[]),i._12(4608,tr,tr,[$i,Zn,fi]),i._12(4608,vr,vr,[Zn,fi]),i._12(512,_,_,[]),i._12(1024,i.l,Te,[]),i._12(1024,i.w,function(){return[ia()]},[]),i._12(512,ua,ua,[i.p]),i._12(1024,i.d,function(t,e){return[(n=t,pt("probe",yt),pt("coreTokens",Object(u.a)({},dt,(n||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return yt}),ca(e)];var n},[[2,i.w],ua]),i._12(512,i.e,i.e,[[2,i.d]]),i._12(131584,i.g,i.g,[i.x,i.X,i.p,i.l,i.j,i.e]),i._12(512,i.f,i.f,[i.g]),i._12(512,Me,Me,[[3,Me]]),i._12(512,Cn,Cn,[]),i._12(512,Tn,Tn,[]),i._12(1024,ea,sa,[[3,zs]]),i._12(512,Mo,No,[]),i._12(512,Js,Js,[]),i._12(256,ta,{},[]),i._12(1024,p,oa,[c,[2,d],ta]),i._12(512,y,y,[p]),i._12(512,i.i,i.i,[]),i._12(512,i.u,i.H,[i.i,[2,i.I]]),i._12(1024,Ls,function(){return[[{path:"",redirectTo:"/init",pathMatch:"full"},{path:"init",component:s},{path:"tests",component:ar},{path:"course-info",component:Or}]]},[]),i._12(1024,zs,la,[i.g,Mo,Js,y,i.p,i.u,i.i,Ls,ta,[2,Is],[2,Es]]),i._12(512,ra,ra,[[2,ea],[2,zs]]),i._12(512,xa,xa,[]),i._12(512,ui,ui,[]),i._12(512,ci,ci,[]),i._12(512,r,r,[]),i._12(256,ri,"XSRF-TOKEN",[]),i._12(256,oi,"X-XSRF-TOKEN",[])])});Object(i.Q)(),Ce().bootstrapModuleFactory(wa).catch(function(t){return console.log(t)})},x6VL:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("TToO"),r=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return Object(i.b)(e,t),e}(Error)}},[0]);